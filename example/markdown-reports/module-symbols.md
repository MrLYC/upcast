# module-symbols 扫描报告

## 元数据
- **scanner_name**: module_symbols

## 概要信息
- **总数量**: 7679
- **已扫描文件数**: 2368
- **扫描耗时**: 13425 毫秒

- **Total Modules**: 2368
- **Total Imports**: 17215
- **Total Symbols**: 7679

## 结果详情

### 模块: apiserver/paasng/manage.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | setdefault, environ | module |
| sys | argv | module |
| django | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| execute_from_command_line | django.core.management.execute_from_command_line | 不适用 | module |





---


### 模块: apiserver/paasng/paas_wl/__init__.py







---


### 模块: apiserver/paasng/paas_wl/apis/__init__.py







---


### 模块: apiserver/paasng/paas_wl/apis/admin/__init__.py







---


### 模块: apiserver/paasng/paas_wl/apis/admin/constants.py




#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| BKPAAS_APP_OPERATOR_INSTALL_NAMESPACE | bkpaas-app-operator-system | `BKPAAS_APP_OPERATOR_INSTALL_NAMESPACE = 'bkpaas-app-operator-system'` | module |
| HELM_RELEASE_SECRET_TYPE | helm.sh/release.v1 | `HELM_RELEASE_SECRET_TYPE = 'helm.sh/release.v1'` | module |



---


### 模块: apiserver/paasng/paas_wl/apis/admin/helpers/__init__.py







---


### 模块: apiserver/paasng/paas_wl/apis/admin/helpers/helm.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64decode | module |
| gzip | decompress | module |
| json | loads | module |
| arrow | get | module |
| yaml | safe_load_all | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| HELM_RELEASE_SECRET_TYPE | paas_wl.apis.admin.constants.HELM_RELEASE_SECRET_TYPE | 不适用 | module |
| EnhancedApiClient | paas_wl.infras.resources.base.base.EnhancedApiClient | 不适用 | module |
| KDaemonSet | paas_wl.infras.resources.base.kres.KDaemonSet | kind | module |
| KDeployment | paas_wl.infras.resources.base.kres.KDeployment | kind | module |
| KStatefulSet | paas_wl.infras.resources.base.kres.KStatefulSet | kind | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| convert_secrets_to_releases | `def convert_secrets_to_releases(secrets: List[ResourceInstance]) -> List[HelmRelease]:` | 无 | 将 Secret（type=helm.sh/release.v1） 转换为 Helm Release |
| filter_latest_releases | `def filter_latest_releases(releases: List[HelmRelease]) -> List[HelmRelease]:` | 无 | 过滤出最新的 Helm Release |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployResult | 无 | 无 | 无 | dataclass | 不适用 |
| HelmChart | 无 | 无 | 无 | dataclass | 不适用 |
| HelmRelease | 无 | 无 | 无 | dataclass | 不适用 |
| HelmReleaseParser | 无 | __init__, parse | 无 | 无 | 不适用 |
| WorkloadsDetector | 无 | __init__, get_statuses, _get_status, _gen_deploy_status, _gen_sts_status, _gen_ds_status | 无 | 无 | 组件状态探测器 |

---


### 模块: apiserver/paasng/paas_wl/apis/admin/helpers/operator.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| ApiException | kubernetes.client.ApiException | 不适用 | module |
| BKPAAS_APP_OPERATOR_INSTALL_NAMESPACE | paas_wl.apis.admin.constants.BKPAAS_APP_OPERATOR_INSTALL_NAMESPACE | 不适用 | module |
| ApiVersion | paas_wl.bk_app.cnative.specs.constants.ApiVersion | V1ALPHA1 | module |
| EnhancedApiClient | paas_wl.infras.resources.base.base.EnhancedApiClient | 不适用 | module |
| BkApp | paas_wl.infras.resources.base.crd.BkApp | kind | module |
| DomainGroupMapping | paas_wl.infras.resources.base.crd.DomainGroupMapping | kind | module |
| ResourceMissing | paas_wl.infras.resources.base.exceptions.ResourceMissing | 不适用 | module |
| KCustomResourceDefinition | paas_wl.infras.resources.base.kres.KCustomResourceDefinition | 不适用 | module |
| KDeployment | paas_wl.infras.resources.base.kres.KDeployment | 不适用 | module |
| KNamespace | paas_wl.infras.resources.base.kres.KNamespace | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| detect_operator_status | `def detect_operator_status(client: EnhancedApiClient) -> Dict:` | 无 | 获取指定集群中 Operator 的部署情况 |
| fetch_paas_cobj_info | `def fetch_paas_cobj_info(client: EnhancedApiClient, crd_exists: Dict[str, bool]) -> Dict:` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paas_wl/apis/admin/mixins.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| LimitOffsetPagination | rest_framework.pagination.LimitOffsetPagination | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PaginationMixin | 无 | get_pagination_context | 无 | 无 | 获取分页上下文的mixin |

---


### 模块: apiserver/paasng/paas_wl/apis/admin/serializers/__init__.py







---


### 模块: apiserver/paasng/paas_wl/apis/admin/serializers/clusters.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64decode | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| serializers | rest_framework.serializers | ValidationError, Serializer, CharField, ModelSerializer, JSONField, SerializerMethodField, BooleanField, ChoiceField, ListField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| ClusterTokenType | paas_wl.infras.cluster.constants.ClusterTokenType | get_django_choices | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | values_list, objects | module |
| IngressConfigSLZ | paas_wl.infras.cluster.serializers.IngressConfigSLZ | 不适用 | module |
| RegionClusterState | paas_wl.workloads.networking.egress.models.RegionClusterState | filter, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| ensure_base64_encoded | `def ensure_base64_encoded(content):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| APIServerSLZ | rest_framework.serializers.Serializer | 无 | uuid, host, overridden_hostname | 无 | 不适用 |
| ReadonlyClusterSLZ | rest_framework.serializers.ModelSerializer | get_nodes | ingress_config, annotations, api_servers, default_node_selector, default_tolerations, feature_flags, nodes | 无 | Serializer for Cluster object |
| ClusterRegisterRequestSLZ | rest_framework.serializers.Serializer | 无 | name, region, type, is_default, description, ingress_config, annotations, ca_data, cert_data, key_data, token_type, token_value, default_node_selector, default_tolerations, feature_flags | 无 | Serializer for registering Cluster |
| GenRegionClusterStateSLZ | rest_framework.serializers.Serializer | validate | region, ignore_labels, include_masters | 无 | 生成 RegionClusterState 用序列化器 |
| GetClusterComponentStatusSLZ | rest_framework.serializers.Serializer | 无 | namespace, secret_name | 无 | 获取集群组件状态用序列化器 |

---


### 模块: apiserver/paasng/paas_wl/apis/admin/serializers/logs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, CharField, BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ModuleEnvLogsConfigSLZ | rest_framework.serializers.Serializer | 无 | module_name, environment, mount_log_to_host | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/apis/admin/serializers/processes.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, CharField, SerializerMethodField, ModelSerializer, JSONField, DictField | module |
| get_metadata | paas_wl.bk_app.applications.managers.get_metadata | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | get, objects | module |
| ProcessSpecPlan | paas_wl.bk_app.processes.models.ProcessSpecPlan | 不适用 | module |
| HumanizeDateTimeField | paas_wl.bk_app.processes.serializers.HumanizeDateTimeField | 不适用 | module |
| InstanceForDisplaySLZ | paas_wl.bk_app.processes.serializers.InstanceForDisplaySLZ | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessSpecBoundInfoSLZ | rest_framework.serializers.Serializer | get_app_code | id, app_code, target_replicas, target_status | 无 | 不适用 |
| ProcessSpecPlanSLZ | rest_framework.serializers.ModelSerializer | get_instance_cnt | created_humanized, updated_humanized, limits, requests, instance_cnt | 无 | 不适用 |
| InstanceSerializer | paas_wl.bk_app.processes.serializers.InstanceForDisplaySLZ | 无 | envs | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/apis/admin/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| path | django.urls.path | 不适用 | module |
| certs | paas_wl.apis.admin.views.certs | as_view, AppDomainSharedCertsViewSet | module |
| clusters | paas_wl.apis.admin.views.clusters | as_view, ClusterViewSet, ClusterComponentViewSet | module |
| domain | paas_wl.apis.admin.views.domain | as_view, AppDomainsViewSet | module |
| logs | paas_wl.apis.admin.views.logs | as_view, AppLogConfigViewSet | module |
| processes | paas_wl.apis.admin.views.processes | as_view, ProcessSpecPlanManageViewSet, ProcessSpecManageViewSet, ProcessInstanceViewSet | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [path('wl_api/platform/process_spec_plan/manage/', processes.ProcessSpecPlanManageViewSet.as_view({'get': 'get_context_data'})), path('wl_api/platform/process_spec_plan/', processes.ProcessSpecPlanManageViewSet.as_view(dict(post='create', get='list')), name='wl_api.process_spec_plan'), path('wl_api/platform/process_spec_plan/id/<int:id>/', processes.ProcessSpecPlanManageViewSet.as_view(dict(put='edit', get='list_binding_app')), name='wl_api.process_spec_plan_by_id'), path('wl_api/regions/<str:region>/apps/<str:name>/processes/<str:process_type>/plan', processes.ProcessSpecManageViewSet.as_view({'put': 'switch_process_plan'}), name='wl_api.application.process_plan'), path('wl_api/regions/<str:region>/apps/<str:name>/processes/<str:process_type>/scale', processes.ProcessSpecManageViewSet.as_view({'put': 'scale'}), name='wl_api.application.process_scale'), path('wl_api/regions/<str:region>/apps/<str:name>/processes/<str:process_type>/instances/<str:instance_name>/', processes.ProcessInstanceViewSet.as_view({'get': 'retrieve'}), name='wl_api.application.process_instance'), path('wl_api/applications/<str:code>/domains/', domain.AppDomainsViewSet.as_view({'get': 'list', 'post': 'create'}), name='wl_api.application.domains'), path('wl_api/applications/<str:code>/domains/<int:id>/', domain.AppDomainsViewSet.as_view({'put': 'update', 'delete': 'destroy'}), name='wl_api.application.domain_by_id'), path('wl_api/platform/app_certs/shared/', certs.AppDomainSharedCertsViewSet.as_view({'post': 'create', 'get': 'list'}), name='wl_api.shared_app_certs'), path('wl_api/platform/app_certs/shared/<str:name>', certs.AppDomainSharedCertsViewSet.as_view({'get': 'retrieve', 'put': 'update', 'delete': 'destroy'}), name='wl_api.shared_app_cert_by_name'), path('wl_api/applications/<str:code>/log_config/', logs.AppLogConfigViewSet.as_view({'get': 'list', 'post': 'toggle'}), name='wl_api.application.log_config'), path('wl_api/platform/clusters/', clusters.ClusterViewSet.as_view({'post': 'update_or_create', 'get': 'list'}), name='wl_api.clusters'), path('wl_api/platform/clusters/<str:cluster_name>/node_state/', clusters.ClusterViewSet.as_view({'post': 'gen_node_state'}), name='wl_api.cluster.node_state'), path('wl_api/platform/clusters/<str:cluster_name>/operator_info/', clusters.ClusterComponentViewSet.as_view({'get': 'get_operator_info'}), name='wl_api.cluster.operator_info'), path('wl_api/platform/clusters/<str:cluster_name>/components/', clusters.ClusterComponentViewSet.as_view({'get': 'list_components'}), name='wl_api.cluster.components'), path('wl_api/platform/clusters/<str:cluster_name>/components/<str:component_name>/', clusters.ClusterComponentViewSet.as_view({'get': 'get_component_status'}), name='wl_api.cluster.component_by_name'), path('wl_api/platform/clusters/<str:pk>/', clusters.ClusterViewSet.as_view({'get': 'retrieve', 'put': 'update_or_create', 'delete': 'destroy'}), name='wl_api.cluster_by_id'), path('wl_api/platform/clusters/<str:pk>/api_servers', clusters.ClusterViewSet.as_view({'post': 'bind_api_server'}), name='wl_api.cluster.api_servers'), path('wl_api/platform/clusters/<str:pk>/set_default/', clusters.ClusterViewSet.as_view({'post': 'set_as_default'}), name='wl_api.cluster.set_default'), path('wl_api/platform/clusters/<str:pk>/api_servers/<str:api_server_id>', clusters.ClusterViewSet.as_view({'delete': 'unbind_api_server'}), name='wl_api.cluster.api_server_by_id')]` | module |



---


### 模块: apiserver/paasng/paas_wl/apis/admin/views/__init__.py







---


### 模块: apiserver/paasng/paas_wl/apis/admin/views/certs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| transaction | django.db.transaction | atomic | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| status | rest_framework.status | HTTP_204_NO_CONTENT | module |
| Response | rest_framework.response.Response | 不适用 | module |
| ModelViewSet | rest_framework.viewsets.ModelViewSet | 不适用 | module |
| AppDomainSharedCert | paas_wl.workloads.networking.ingress.models.AppDomainSharedCert | all, objects | module |
| AppDomainSharedCertSLZ | paas_wl.workloads.networking.ingress.serializers.AppDomainSharedCertSLZ | 不适用 | module |
| UpdateAppDomainSharedCertSLZ | paas_wl.workloads.networking.ingress.serializers.UpdateAppDomainSharedCertSLZ | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.global_site.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | MODIFY, CREATE, DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | SHARED_CERT | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_admin_audit_record | paasng.misc.audit.service.add_admin_audit_record | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppDomainSharedCertsViewSet | rest_framework.viewsets.ModelViewSet | update, create, destroy | lookup_field, model, serializer_class, pagination_class, permission_classes, queryset | 无 | A viewSet for managing app certificates |

---


### 模块: apiserver/paasng/paas_wl/apis/admin/views/clusters.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| asdict | dataclasses.asdict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | BKPAAS_K8S_CLUSTER_COMPONENTS | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_204_NO_CONTENT, HTTP_404_NOT_FOUND | module |
| OrderingFilter | rest_framework.filters.OrderingFilter | 不适用 | module |
| SearchFilter | rest_framework.filters.SearchFilter | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| ReadOnlyModelViewSet | rest_framework.viewsets.ReadOnlyModelViewSet | 不适用 | module |
| ViewSet | rest_framework.viewsets.ViewSet | 不适用 | module |
| mixins | rest_framework.viewsets.mixins | DestroyModelMixin | module |
| HelmReleaseParser | paas_wl.apis.admin.helpers.helm.HelmReleaseParser | 不适用 | module |
| WorkloadsDetector | paas_wl.apis.admin.helpers.helm.WorkloadsDetector | 不适用 | module |
| convert_secrets_to_releases | paas_wl.apis.admin.helpers.helm.convert_secrets_to_releases | 不适用 | module |
| filter_latest_releases | paas_wl.apis.admin.helpers.helm.filter_latest_releases | 不适用 | module |
| detect_operator_status | paas_wl.apis.admin.helpers.operator.detect_operator_status | 不适用 | module |
| fetch_paas_cobj_info | paas_wl.apis.admin.helpers.operator.fetch_paas_cobj_info | 不适用 | module |
| APIServerSLZ | paas_wl.apis.admin.serializers.clusters.APIServerSLZ | 不适用 | module |
| ClusterRegisterRequestSLZ | paas_wl.apis.admin.serializers.clusters.ClusterRegisterRequestSLZ | 不适用 | module |
| GenRegionClusterStateSLZ | paas_wl.apis.admin.serializers.clusters.GenRegionClusterStateSLZ | 不适用 | module |
| GetClusterComponentStatusSLZ | paas_wl.apis.admin.serializers.clusters.GetClusterComponentStatusSLZ | 不适用 | module |
| ReadonlyClusterSLZ | paas_wl.apis.admin.serializers.clusters.ReadonlyClusterSLZ | 不适用 | module |
| SwitchDefaultClusterError | paas_wl.infras.cluster.exceptions.SwitchDefaultClusterError | 不适用 | module |
| APIServer | paas_wl.infras.cluster.models.APIServer | update_or_create, objects, filter | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | all, objects, get, register_cluster, switch_default_cluster, filter | module |
| get_client_by_cluster_name | paas_wl.infras.resources.base.base.get_client_by_cluster_name | 不适用 | module |
| ResourceMissing | paas_wl.infras.resources.base.exceptions.ResourceMissing | 不适用 | module |
| KSecret | paas_wl.infras.resources.base.kres.KSecret | 不适用 | module |
| error_codes | paas_wl.utils.error_codes.error_codes | f, SWITCH_DEFAULT_CLUSTER_FAILED, CLUSTER_COMPONENT_NOT_EXIST | module |
| generate_state | paas_wl.workloads.networking.egress.cluster_state.generate_state | 不适用 | module |
| sync_state_to_nodes | paas_wl.workloads.networking.egress.cluster_state.sync_state_to_nodes | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.global_site.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE, MODIFY, SWITCH_DEFAULT_CLUSTER, DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | CLUSTER | module |
| ResultCode | paasng.misc.audit.constants.ResultCode | FAILURE, SUCCESS | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_admin_audit_record | paasng.misc.audit.service.add_admin_audit_record | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ClusterViewSet | rest_framework.viewsets.mixins.DestroyModelMixin, rest_framework.viewsets.ReadOnlyModelViewSet | update_or_create, set_as_default, bind_api_server, unbind_api_server, gen_node_state, destroy | queryset, serializer_class, permission_classes, pagination_class, filter_backends, search_fields, ordering, ordering_fields | 无 | 不适用 |
| ClusterComponentViewSet | rest_framework.viewsets.ViewSet | get_operator_info, list_components, get_component_status | permission_classes | 无 | 集群组件信息相关 |

---


### 模块: apiserver/paasng/paas_wl/apis/admin/views/domain.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_204_NO_CONTENT | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| DomainForUpdateSLZ | paas_wl.workloads.networking.entrance.serializers.DomainForUpdateSLZ | 不适用 | module |
| DomainSLZ | paas_wl.workloads.networking.entrance.serializers.DomainSLZ | 不适用 | module |
| validate_domain_payload | paas_wl.workloads.networking.entrance.serializers.validate_domain_payload | 不适用 | module |
| get_custom_domain_mgr | paas_wl.workloads.networking.ingress.domains.manager.get_custom_domain_mgr | 不适用 | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | filter, objects | module |
| SiteAction | paasng.infras.accounts.permissions.global_site.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE, MODIFY, DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | APP_DOMAIN | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_admin_audit_record | paasng.misc.audit.service.add_admin_audit_record | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| openapi_empty_response | paasng.utils.api_docs.openapi_empty_response | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppDomainsViewSet | rest_framework.viewsets.GenericViewSet | get_queryset, list, create, update, destroy | permission_classes | 无 | 管理应用独立域名的 ViewSet |

---


### 模块: apiserver/paasng/paas_wl/apis/admin/views/logs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_204_NO_CONTENT | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| ViewSet | rest_framework.viewsets.ViewSet | 不适用 | module |
| ModuleEnvLogsConfigSLZ | paas_wl.apis.admin.serializers.logs.ModuleEnvLogsConfigSLZ | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.global_site.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | MODIFY_LOG_CONFIG | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | APP | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_admin_audit_record | paasng.misc.audit.service.add_admin_audit_record | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppLogConfigViewSet | rest_framework.viewsets.ViewSet | list, toggle | permission_classes | 无 | 管理应用日志采集配置的 ViewSet |

---


### 模块: apiserver/paasng/paas_wl/apis/admin/views/processes.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Http404 | django.http.Http404 | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_200_OK, HTTP_204_NO_CONTENT | module |
| SearchFilter | rest_framework.filters.SearchFilter | 不适用 | module |
| ListModelMixin | rest_framework.mixins.ListModelMixin | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| PaginationMixin | paas_wl.apis.admin.mixins.PaginationMixin | 不适用 | module |
| InstanceSerializer | paas_wl.apis.admin.serializers.processes.InstanceSerializer | 不适用 | module |
| ProcessSpecBoundInfoSLZ | paas_wl.apis.admin.serializers.processes.ProcessSpecBoundInfoSLZ | 不适用 | module |
| ProcessSpecPlanSLZ | paas_wl.apis.admin.serializers.processes.ProcessSpecPlanSLZ | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| ProcessTargetStatus | paas_wl.bk_app.processes.constants.ProcessTargetStatus | START | module |
| get_proc_ctl | paas_wl.bk_app.processes.controllers.get_proc_ctl | 不适用 | module |
| ProcessSpec | paas_wl.bk_app.processes.models.ProcessSpec | get_or_create, objects | module |
| ProcessSpecPlan | paas_wl.bk_app.processes.models.ProcessSpecPlan | all, objects, get_by_name, DoesNotExist | module |
| instance_kmodel | paas_wl.bk_app.processes.readers.instance_kmodel | get | module |
| SiteAction | paasng.infras.accounts.permissions.global_site.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE, MODIFY, MODIFY_PLAN, SCALE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | PROCESS_SPEC_PLAN, PROCESS | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_admin_audit_record | paasng.misc.audit.service.add_admin_audit_record | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | get, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_env_by_wl_app | `def get_env_by_wl_app(wl_app: WlApp) -> ModuleEnvironment:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessSpecPlanManageViewSet | paas_wl.apis.admin.mixins.PaginationMixin, rest_framework.mixins.ListModelMixin, rest_framework.viewsets.GenericViewSet | _list_data, get_context_data, create, edit, list_binding_app | exclude_from_schema, serializer_class, permission_classes, filter_backends, search_fields, queryset | 无 | ProcessSpecPlan 管理API |
| ProcessSpecManageViewSet | rest_framework.viewsets.GenericViewSet | get_app, switch_process_plan, scale | permission_classes | 无 | ProcessSpec 管理API |
| ProcessInstanceViewSet | rest_framework.viewsets.GenericViewSet | get_app, retrieve | exclude_from_schema, permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/api.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| NamedTuple | typing.NamedTuple | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| UUID | uuid.UUID | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | 不适用 | module |
| WlAppMetadata | paas_wl.bk_app.applications.managers.WlAppMetadata | 不适用 | module |
| get_metadata | paas_wl.bk_app.applications.managers.get_metadata | 不适用 | module |
| update_metadata | paas_wl.bk_app.applications.managers.update_metadata | 不适用 | module |
| Build | paas_wl.bk_app.applications.models.Build | filter, objects, DoesNotExist | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | update_or_create, objects, get | module |
| ApiVersion | paas_wl.bk_app.cnative.specs.constants.ApiVersion | V1ALPHA2 | module |
| ProcessSpec | paas_wl.bk_app.processes.models.ProcessSpec | filter, objects | module |
| generate_bkapp_name | paas_wl.core.resource.generate_bkapp_name | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| delete_env_resources | paas_wl.bk_app.deploy.actions.delete.delete_env_resources | 不适用 | module |
| AppModelResource | paas_wl.bk_app.cnative.specs.models.AppModelResource | create_from_resource, objects | module |
| create_app_resource | paas_wl.bk_app.cnative.specs.models.create_app_resource | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_app_ignore_duplicated | `def create_app_ignore_duplicated(region: str, name: str, type_: WlAppType) -> CreatedAppInfo:` | 无 | Create an WlApp object, if the object already exis... |
| get_metadata_by_env | `def get_metadata_by_env(env: ModuleEnvironment) -> WlAppMetadata:` | 无 | Get an environment's metadata |
| update_metadata_by_env | `def update_metadata_by_env(env: ModuleEnvironment, metadata_part: Dict[str, Union[str, bool]]):` | 无 | Update an environment's metadata, works like pytho... |
| delete_wl_resources | `def delete_wl_resources(env: ModuleEnvironment):` | 无 | Delete all resources of the given environment in w... |
| create_cnative_app_model_resource | `def create_cnative_app_model_resource(module: Module, image: str, api_version: Optional[str] = ApiVersion.V1ALPHA2, command: Optional[List[str]] = None, args: Optional[List[str]] = None, target_port: Optional[int] = None) -> Dict:` | 无 | Create a cloud-native AppModelResource object

   ... |
| get_latest_build | `def get_latest_build(env: ModuleEnvironment) -> Optional[Build]:` | 无 | Get the latest build in the given environment

   ... |
| get_latest_build_id | `def get_latest_build_id(env: ModuleEnvironment) -> Optional[UUID]:` | 无 | Get UUID of the latest build in the given environm... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CreatedAppInfo | typing.NamedTuple | 无 | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationsAppConfig | django.apps.AppConfig | ready | name, label | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| WlAppType | blue_krill.data_types.enum.StrStructuredEnum | 无 | DEFAULT, CLOUD_NATIVE | 无 | type of workloads app |
| ArtifactType | blue_krill.data_types.enum.StrStructuredEnum | 无 | SLUG, IMAGE, NONE | 无 | type of build artifact |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/handlers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| post_save | django.db.models.signals.post_save | 不适用 | module |
| receiver | django.dispatch.receiver | 不适用 | module |
| Config | paas_wl.bk_app.applications.models.Config | DoesNotExist, create, objects | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| on_app_created | `@receiver(post_save, sender=WlApp):` | receiver | Do extra things when an app was created |
| create_initial_config | `def create_initial_config(app: WlApp):` | 无 | Make sure the initial Config was created |


---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/managers/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mark_as_latest_artifact | apiserver.paasng.paas_wl.bk_app.applications.managers.app_build.mark_as_latest_artifact | 不适用 | module |
| WlAppMetadata | apiserver.paasng.paas_wl.bk_app.applications.managers.app_metadata.WlAppMetadata | 不适用 | module |
| get_metadata | apiserver.paasng.paas_wl.bk_app.applications.managers.app_metadata.get_metadata | 不适用 | module |
| update_metadata | apiserver.paasng.paas_wl.bk_app.applications.managers.app_metadata.update_metadata | 不适用 | module |





---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/managers/app_build.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ArtifactType | paas_wl.bk_app.applications.constants.ArtifactType | IMAGE | module |
| Build | paas_wl.bk_app.applications.models.Build | filter, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| mark_as_latest_artifact | `def mark_as_latest_artifact(build: 'Build'):` | 无 | mark the given build as latest artifact |


---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/managers/app_metadata.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| cattr | structure, unstructure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| define | attrs.define | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_metadata | `def get_metadata(wl_app: 'WlApp') -> WlAppMetadata:` | 无 | Get metadata object |
| update_metadata | `def update_metadata(wl_app: 'WlApp', **kwargs) -> None:` | 无 | Update wl_app's metadata by key, only valid keys(s... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| WlAppMetadata | 无 | get_paas_app_code | 无 | define | An engine app's metadata object, contains essentia... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paas_wl.bk_app.applications.models.build | validate_app_name, validators, models, applications, bk_app, validate_app_structure, validate_procfile, utils | module |
| django.db.models.deletion | CASCADE, deletion, models, db, SET_NULL | module |
| jsonfield.fields | JSONField, fields, JSONCharField | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | UUIDField, DateTimeField, CharField, SlugField, TextField, ForeignKey, AutoField, SmallIntegerField, OneToOneField, PositiveIntegerField, BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/0002_auto_20210508_1554.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | DateTimeField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/0003_auto_20210804_1853.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| jsonfield.fields | JSONField, fields | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/0004_auto_20211022_1555.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | BooleanField, TextField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/0005_auto_20211214_1057.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| jsonfield.fields | JSONField, fields | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/0006_auto_20211215_1653.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paas_wl.utils.models | validate_procfile, models, utils | module |
| jsonfield.fields | JSONField, fields | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/0007_config_runtime.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paas_wl.bk_app.applications.models.config | RuntimeConfigField, config, models, applications, bk_app, RuntimeConfig | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/0008_app_type.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/0009_config_mount_app_log_to_host.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/0010_auto_20230527_1208.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | TextField, BooleanField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/0011_build_image_id.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paas_wl.bk_app.applications.constants | ArtifactType, constants, applications, bk_app | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/0012_auto_20230620_1302.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paas_wl.bk_app.applications.constants | ArtifactType, constants, applications, bk_app | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | IntegerField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/0013_auto_20230629_1229.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | DateTimeField, PositiveBigIntegerField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/0014_auto_20230629_1459.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |
| Count | django.db.models.Count | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| initial_bp_generation | `def initial_bp_generation(apps, schema_editor):` | 无 | 补全 BuildProcess.generation 字段 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, atomic, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/0015_auto_20230704_2121.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | UUIDField, JSONField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/0016_auto_20230717_1958.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | JSONField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/0017_delete_oneoffcommand.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, DeleteModel | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/migrations/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/models/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AuditedModel | paas_wl.utils.models.AuditedModel | 不适用 | module |
| UuidAuditedModel | paas_wl.utils.models.UuidAuditedModel | 不适用 | module |
| WlApp | apiserver.paasng.paas_wl.bk_app.applications.models.app.WlApp | 不适用 | module |
| DEFAULT_SLUG_RUNNER_ENTRYPOINT | apiserver.paasng.paas_wl.bk_app.applications.models.build.DEFAULT_SLUG_RUNNER_ENTRYPOINT | 不适用 | module |
| Build | apiserver.paasng.paas_wl.bk_app.applications.models.build.Build | 不适用 | module |
| BuildProcess | apiserver.paasng.paas_wl.bk_app.applications.models.build.BuildProcess | 不适用 | module |
| Config | apiserver.paasng.paas_wl.bk_app.applications.models.config.Config | 不适用 | module |
| OutputStream | apiserver.paasng.paas_wl.bk_app.applications.models.misc.OutputStream | 不适用 | module |
| OutputStreamLine | apiserver.paasng.paas_wl.bk_app.applications.models.misc.OutputStreamLine | 不适用 | module |
| Release | apiserver.paasng.paas_wl.bk_app.applications.models.release.Release | 不适用 | module |





---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/models/app.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| models | django.db.models | CharField, SlugField | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | value, DEFAULT, CLOUD_NATIVE | module |
| UuidAuditedModel | paas_wl.bk_app.applications.models.UuidAuditedModel | 不适用 | module |
| validate_app_name | paas_wl.bk_app.applications.models.validators.validate_app_name | 不适用 | module |
| validate_app_structure | paas_wl.bk_app.applications.models.validators.validate_app_structure | 不适用 | module |
| EngineApp | paasng.platform.engine.models.EngineApp | get, objects | module |
| DEFAULT_ENGINE_APP_PREFIX | paasng.platform.modules.constants.DEFAULT_ENGINE_APP_PREFIX | 不适用 | module |
| get_metadata | paas_wl.bk_app.applications.managers.get_metadata | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| WlApp | 不适用 | `WlApp = App` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| App | paas_wl.bk_app.applications.models.UuidAuditedModel | scheduler_safe_name, scheduler_safe_name_with_region, namespace, module_name, latest_config, use_dev_sandbox, __str__ | owner, region, name, structure, type | 无 | App Model |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/models/build.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | join, path | module |
| shlex | split | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| SignatureType | blue_krill.storages.blobstore.base.SignatureType | DOWNLOAD | module |
| settings | django.conf.settings | APP_DOCKER_REGISTRY_HOST, APP_DOCKER_REGISTRY_USERNAME, APP_DOCKER_REGISTRY_PASSWORD, BLOBSTORE_BUCKET_APP_SOURCE | module |
| models | django.db.models | UUIDField, CharField, ForeignKey, CASCADE, TextField, IntegerField, JSONField, BooleanField, Manager, PositiveBigIntegerField, DateTimeField, OneToOneField | module |
| timezone | django.utils.timezone | now | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| JSONCharField | jsonfield.JSONCharField | 不适用 | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| APIEndpoint | moby_distribution.registry.client.APIEndpoint | 不适用 | module |
| DockerRegistryV2Client | moby_distribution.registry.client.DockerRegistryV2Client | from_api_endpoint | module |
| ManifestRef | moby_distribution.registry.resources.manifests.ManifestRef | 不适用 | module |
| ManifestSchema2 | moby_distribution.registry.resources.manifests.ManifestSchema2 | 不适用 | module |
| parse_image | moby_distribution.registry.utils.parse_image | 不适用 | module |
| ArtifactType | paas_wl.bk_app.applications.constants.ArtifactType | SLUG, IMAGE | module |
| OutputStream | paas_wl.bk_app.applications.models.misc.OutputStream | create, objects | module |
| make_blob_store | paas_wl.utils.blobstore.make_blob_store | 不适用 | module |
| BuildStatus | paas_wl.utils.constants.BuildStatus | value, PENDING, get_finished_states, FAILED, SUCCESSFUL, INTERRUPTED | module |
| make_enum_choices | paas_wl.utils.constants.make_enum_choices | 不适用 | module |
| UuidAuditedModel | paas_wl.utils.models.UuidAuditedModel | 不适用 | module |
| validate_procfile | paas_wl.utils.models.validate_procfile | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| DEFAULT_SLUG_RUNNER_ENTRYPOINT | ['bash', '/runner/init'] | `DEFAULT_SLUG_RUNNER_ENTRYPOINT = ['bash', '/runner/init']` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_app_docker_registry_client | `def get_app_docker_registry_client() -> DockerRegistryV2Client:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Build | paas_wl.utils.models.UuidAuditedModel | get_image, get_universal_entrypoint, get_entrypoint_for_proc, get_command_for_proc, is_build_from_cnb, image_repository, image_tag, get_env_variables, get_artifact_detail, artifact_invoke_message, version, __str__ | application_id, module_id, owner, app, slug_path, image, source_type, branch, revision, procfile, env_variables, bkapp_revision_id, artifact_type, artifact_detail, artifact_deleted, artifact_metadata | 无 | 不适用 |
| BuildProcessManager | django.db.models.Manager | new | 无 | 无 | 不适用 |
| BuildProcess | paas_wl.utils.models.UuidAuditedModel | __str__, set_int_requested_at, check_interruption_allowed, set_logs_was_ready, update_status, buildpacks_as_build_env | application_id, module_id, owner, app, image, buildpacks, generation, invoke_message, source_tar_path, branch, revision, logs_was_ready_at, int_requested_at, completed_at, status, output_stream, build, objects | 无 | This Build Process was invoked via a source tarbal... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/models/config.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| define | attrs.define | 不适用 | module |
| field | attrs.field | 不适用 | module |
| settings | django.conf.settings | DEFAULT_SLUGRUNNER_IMAGE | module |
| models | django.db.models | CharField, ForeignKey, CASCADE, BooleanField | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| UuidAuditedModel | paas_wl.bk_app.applications.models.UuidAuditedModel | 不适用 | module |
| make_json_field | paas_wl.utils.models.make_json_field | 不适用 | module |
| ImagePullPolicy | paas_wl.workloads.release_controller.constants.ImagePullPolicy | IF_NOT_PRESENT | module |
| RuntimeType | paas_wl.workloads.release_controller.constants.RuntimeType | BUILDPACK | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| RuntimeConfigField | 不适用 | `RuntimeConfigField = make_json_field('RuntimeConfigField', py_model=RuntimeConfig)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RuntimeConfig | 无 | get_image_pull_policy | 无 | define | App Runtime Configs, includes the image, type, ENT... |
| Config | paas_wl.bk_app.applications.models.UuidAuditedModel | get_image, envs | owner, app, values, resource_requirements, node_selector, domain, tolerations, cluster, image, metadata, mount_log_to_host | 无 | App configs, includes env variables and resource l... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/models/misc.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| models | django.db.models | Model, ForeignKey, CASCADE, CharField, TextField, DateTimeField | module |
| UuidAuditedModel | paas_wl.bk_app.applications.models.UuidAuditedModel | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| OutputStream | paas_wl.bk_app.applications.models.UuidAuditedModel | write | 无 | 无 | 不适用 |
| OutputStreamLine | django.db.models.Model | __str__ | output_stream, stream, line, created, updated | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/models/release.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| models | django.db.models | Manager, CharField, ForeignKey, CASCADE, PositiveIntegerField, TextField, BooleanField | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| UuidAuditedModel | paas_wl.bk_app.applications.models.UuidAuditedModel | 不适用 | module |
| validate_procfile | paas_wl.utils.models.validate_procfile | 不适用 | module |
| Build | paas_wl.bk_app.applications.models.Build | 不适用 | module |
| Config | paas_wl.bk_app.applications.models.Config | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ReleaseManager | django.db.models.Manager | new, any_successful, get_latest, get_by_version | 无 | 无 | 不适用 |
| Release | paas_wl.bk_app.applications.models.UuidAuditedModel | __str__, region, fail, get_procfile, get_envs, get_previous | owner, app, version, summary, failed, procfile, config, build, objects | 无 | 
    Software release deployed by the application ... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/models/validators.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| re | match | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | STR_APP_NAME | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| validate_app_name | `def validate_app_name(value: str):` | 无 | 
    Check that the value follows the kubernetes n... |
| validate_app_structure | `def validate_app_structure(value: Dict):` | 无 | deprecated function. 被 migrations/0001_initial.py ... |


---


### 模块: apiserver/paasng/paas_wl/bk_app/applications/relationship.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| overload | typing.overload | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | get, objects | module |
| Module | paasng.platform.modules.models.Module | get, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ModuleAttrFromID | 无 | __get__, __get__, __get__ | key_field | 无 | A descriptor which make `{owner}.module` available... |
| ModuleEnvAttrFromID | 无 | __get__, __get__, __get__ | key_field | 无 | A descriptor which make `{owner}.environment` avai... |
| ModuleEnvAttrFromName | 无 | __get__, __get__, __get__ | key_field, module_key_field | 无 | A descriptor which make `{owner}.environment` avai... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/addresses.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Set | typing.Set | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| DomainGroupSource | paas_wl.bk_app.cnative.specs.constants.DomainGroupSource | SUBDOMAIN, SUBPATH, CUSTOM | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | 不适用 | module |
| DomainGroup | paas_wl.bk_app.cnative.specs.crd.domain_group_mapping.DomainGroup | 不适用 | module |
| DomainGroupMapping | paas_wl.bk_app.cnative.specs.crd.domain_group_mapping.DomainGroupMapping | 不适用 | module |
| DomainGroupMappingSpec | paas_wl.bk_app.cnative.specs.crd.domain_group_mapping.DomainGroupMappingSpec | 不适用 | module |
| MappingRef | paas_wl.bk_app.cnative.specs.crd.domain_group_mapping.MappingRef | 不适用 | module |
| ObjectMetadata | paas_wl.bk_app.cnative.specs.crd.domain_group_mapping.ObjectMetadata | 不适用 | module |
| generate_bkapp_name | paas_wl.core.resource.generate_bkapp_name | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| DomainWithCert | paas_wl.workloads.networking.ingress.certs.DomainWithCert | from_app_domain | module |
| pick_shared_cert | paas_wl.workloads.networking.ingress.certs.pick_shared_cert | 不适用 | module |
| update_or_create_secret_by_cert | paas_wl.workloads.networking.ingress.certs.update_or_create_secret_by_cert | 不适用 | module |
| AppDomainSource | paas_wl.workloads.networking.ingress.constants.AppDomainSource | AUTO_GEN | module |
| AutoGenDomain | paas_wl.workloads.networking.ingress.entities.AutoGenDomain | 不适用 | module |
| save_subdomains | paas_wl.workloads.networking.ingress.managers.domain.save_subdomains | 不适用 | module |
| save_subpaths | paas_wl.workloads.networking.ingress.managers.subpath.save_subpaths | 不适用 | module |
| AppDomain | paas_wl.workloads.networking.ingress.models.AppDomain | filter, objects | module |
| AppSubpath | paas_wl.workloads.networking.ingress.models.AppSubpath | filter, objects | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| AppDefaultDomains | paasng.platform.engine.configurations.ingress.AppDefaultDomains | 不适用 | module |
| AppDefaultSubpaths | paasng.platform.engine.configurations.ingress.AppDefaultSubpaths | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| save_addresses | `def save_addresses(env: ModuleEnvironment) -> Set[WlApp]:` | 无 | Save an environment's pre-allocated addresses to d... |
| to_domain | `def to_domain(d: AppDomain) -> Domain:` | 无 | Turn a AppDomain object into Domain, a secret reso... |
| to_shared_tls_domain | `def to_shared_tls_domain(d: Domain, app: WlApp) -> Domain:` | 无 | Modify a domain object to make it support TLS, thi... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AddrResourceManager | 无 | __init__, build_mapping, _get_subdomain_domains, _get_subpath_domains, _get_custom_domains | 无 | 无 | Manage kubernetes resources which was related with... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SpecsConfig | django.apps.AppConfig | ready | default_auto_field, name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/configurations.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| BkAppResource | paas_wl.bk_app.cnative.specs.crd.bk_app.BkAppResource | 不适用 | module |
| ENVIRONMENT_ID_FOR_GLOBAL | paasng.platform.engine.models.config_var.ENVIRONMENT_ID_FOR_GLOBAL | 不适用 | module |
| ConfigVar | paasng.platform.engine.models.config_var.ConfigVar | 不适用 | module |
| Module | paasng.platform.modules.models.module.Module | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EnvVarsReader | 无 | __init__, read_all | 无 | 无 | Read "configurations.env" from app model resource ... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| DEFAULT_PROC_CPU | 4000m | `DEFAULT_PROC_CPU = '4000m'` | module |
| DEFAULT_PROC_MEM | 1024Mi | `DEFAULT_PROC_MEM = '1024Mi'` | module |
| DEFAULT_PROC_CPU_REQUEST | 200m | `DEFAULT_PROC_CPU_REQUEST = '200m'` | module |
| DEFAULT_PROC_MEM_REQUEST | 256Mi | `DEFAULT_PROC_MEM_REQUEST = '256Mi'` | module |
| DEFAULT_PROCESS_NAME | web | `DEFAULT_PROCESS_NAME = 'web'` | module |
| ACCESS_CONTROL_ANNO_KEY | bkapp.paas.bk.tencent.com/access-control | `ACCESS_CONTROL_ANNO_KEY = 'bkapp.paas.bk.tencent.com/access-control'` | module |
| BKPAAS_DEPLOY_ID_ANNO_KEY | bkapp.paas.bk.tencent.com/bkpaas-deploy-id | `BKPAAS_DEPLOY_ID_ANNO_KEY = 'bkapp.paas.bk.tencent.com/bkpaas-deploy-id'` | module |
| BKPAAS_ADDONS_ANNO_KEY | bkapp.paas.bk.tencent.com/addons | `BKPAAS_ADDONS_ANNO_KEY = 'bkapp.paas.bk.tencent.com/addons'` | module |
| BKAPP_REGION_ANNO_KEY | bkapp.paas.bk.tencent.com/region | `BKAPP_REGION_ANNO_KEY = 'bkapp.paas.bk.tencent.com/region'` | module |
| BKAPP_NAME_ANNO_KEY | bkapp.paas.bk.tencent.com/name | `BKAPP_NAME_ANNO_KEY = 'bkapp.paas.bk.tencent.com/name'` | module |
| BKAPP_CODE_ANNO_KEY | bkapp.paas.bk.tencent.com/code | `BKAPP_CODE_ANNO_KEY = 'bkapp.paas.bk.tencent.com/code'` | module |
| MODULE_NAME_ANNO_KEY | bkapp.paas.bk.tencent.com/module-name | `MODULE_NAME_ANNO_KEY = 'bkapp.paas.bk.tencent.com/module-name'` | module |
| ENVIRONMENT_ANNO_KEY | bkapp.paas.bk.tencent.com/environment | `ENVIRONMENT_ANNO_KEY = 'bkapp.paas.bk.tencent.com/environment'` | module |
| WLAPP_NAME_ANNO_KEY | bkapp.paas.bk.tencent.com/wl-app-name | `WLAPP_NAME_ANNO_KEY = 'bkapp.paas.bk.tencent.com/wl-app-name'` | module |
| IMAGE_CREDENTIALS_REF_ANNO_KEY | bkapp.paas.bk.tencent.com/image-credentials | `IMAGE_CREDENTIALS_REF_ANNO_KEY = 'bkapp.paas.bk.tencent.com/image-credentials'` | module |
| PA_SITE_ID_ANNO_KEY | bkapp.paas.bk.tencent.com/paas-analysis-site-id | `PA_SITE_ID_ANNO_KEY = 'bkapp.paas.bk.tencent.com/paas-analysis-site-id'` | module |
| RESOURCE_TYPE_KEY | bkapp.paas.bk.tencent.com/resource-type | `RESOURCE_TYPE_KEY = 'bkapp.paas.bk.tencent.com/resource-type'` | module |
| USE_CNB_ANNO_KEY | bkapp.paas.bk.tencent.com/use-cnb | `USE_CNB_ANNO_KEY = 'bkapp.paas.bk.tencent.com/use-cnb'` | module |
| LOG_COLLECTOR_TYPE_ANNO_KEY | bkapp.paas.bk.tencent.com/log-collector-type | `LOG_COLLECTOR_TYPE_ANNO_KEY = 'bkapp.paas.bk.tencent.com/log-collector-type'` | module |
| EGRESS_CLUSTER_STATE_NAME_ANNO_KEY | bkapp.paas.bk.tencent.com/egress-cluster-state-name | `EGRESS_CLUSTER_STATE_NAME_ANNO_KEY = 'bkapp.paas.bk.tencent.com/egress-cluster-state-name'` | module |
| CNATIVE_DEPLOY_STATUS_POLLING_FAILURE_LIMITS | 3 | `CNATIVE_DEPLOY_STATUS_POLLING_FAILURE_LIMITS = 3` | module |
| PROC_SERVICES_ENABLED_ANNOTATION_KEY | bkapp.paas.bk.tencent.com/proc-services-feature-enabled | `PROC_SERVICES_ENABLED_ANNOTATION_KEY = 'bkapp.paas.bk.tencent.com/proc-services-feature-enabled'` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApiVersion | blue_krill.data_types.enum.StrStructuredEnum | 无 | V1ALPHA1, V1ALPHA2 | 无 | Kubernetes CRD API versions |
| DeployStatus | blue_krill.data_types.enum.StrStructuredEnum | is_stable | PENDING, PROGRESSING, READY, ERROR, UNKNOWN | 无 | Cloud-native app's deployment statuses |
| DomainGroupSource | blue_krill.data_types.enum.StrStructuredEnum | 无 | SUBDOMAIN, SUBPATH, CUSTOM | 无 | The source types for DomainGroup data |
| MResConditionType | blue_krill.data_types.enum.StrStructuredEnum | 无 | APP_AVAILABLE, APP_PROGRESSING, ADDONS_PROVISIONED, HOOKS_FINISHED | 无 | 不适用 |
| ConditionStatus | blue_krill.data_types.enum.StrStructuredEnum | 无 | TRUE, FALSE, UNKNOWN | 无 | k8s metav1.ConditionStatus |
| MResPhaseType | blue_krill.data_types.enum.StrStructuredEnum | 无 | AppPending, AppRunning, AppFailed | 无 | a label for the condition of a BkApp at the curren... |
| ScalingPolicy | blue_krill.data_types.enum.StrStructuredEnum | 无 | DEFAULT | 无 | ScalingPolicy is used to specify which policy shou... |
| ResQuotaPlan | blue_krill.data_types.enum.StrStructuredEnum | 无 | P_DEFAULT, P_4C1G, P_4C2G, P_4C4G | 无 | ResQuotaPlan is used to specify process resource q... |
| MountEnvName | blue_krill.data_types.enum.StrStructuredEnum | 无 | STAG, PROD, GLOBAL | 无 | Environment name for managing mount volume |
| VolumeSourceType | blue_krill.data_types.enum.StrStructuredEnum | 无 | ConfigMap, PersistentStorage | 无 | 不适用 |
| PersistentStorageSize | blue_krill.data_types.enum.StrStructuredEnum | 无 | P_1G, P_2G, P_4G | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/crd/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ObjectMetadata | apiserver.paasng.paas_wl.bk_app.cnative.specs.crd.metadata.ObjectMetadata | 不适用 | module |





---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/crd/bk_app.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | datetime | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Literal | typing.Literal | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |
| validator | pydantic.validator | 不适用 | module |
| PROC_SERVICES_ENABLED_ANNOTATION_KEY | paas_wl.bk_app.cnative.specs.constants.PROC_SERVICES_ENABLED_ANNOTATION_KEY | 不适用 | module |
| ApiVersion | paas_wl.bk_app.cnative.specs.constants.ApiVersion | value, V1ALPHA2 | module |
| MResPhaseType | paas_wl.bk_app.cnative.specs.constants.MResPhaseType | value, AppPending | module |
| ResQuotaPlan | paas_wl.bk_app.cnative.specs.constants.ResQuotaPlan | 不适用 | module |
| ExposedTypeName | paas_wl.workloads.networking.constants.ExposedTypeName | BK_HTTP | module |
| ImagePullPolicy | paas_wl.workloads.release_controller.constants.ImagePullPolicy | value, IF_NOT_PRESENT | module |
| register | paasng.utils.structure.register | 不适用 | module |
| ObjectMetadata | apiserver.paasng.paas_wl.bk_app.cnative.specs.crd.metadata.ObjectMetadata | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MetaV1Condition | pydantic.BaseModel | 无 | 无 | 无 | Condition contains details for one aspect of the c... |
| AutoscalingSpec | pydantic.BaseModel | 无 | 无 | 无 | Autoscaling specification |
| ExecAction | pydantic.BaseModel | 无 | 无 | 无 | ExecAction describes a "run in container" action. |
| HTTPHeader | pydantic.BaseModel | 无 | 无 | 无 | HTTPHeader describes a custom header to be used in... |
| HTTPGetAction | pydantic.BaseModel | 无 | 无 | 无 | HTTPGetAction describes an action based on HTTP Ge... |
| TCPSocketAction | pydantic.BaseModel | 无 | 无 | 无 | TCPSocketAction describes an action based on openi... |
| Probe | pydantic.BaseModel | 无 | 无 | 无 | Resource: Probe

    :param exec:命令行探活检测机制
    :pa... |
| ProbeSet | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| ExposedType | pydantic.BaseModel | 无 | 无 | 无 | ExposedType is the exposed type of the ProcService... |
| ProcService | pydantic.BaseModel | 无 | 无 | 无 | ProcService is a process service which used to exp... |
| BkAppProcess | pydantic.BaseModel | 无 | 无 | 无 | Process resource |
| Hook | pydantic.BaseModel | 无 | 无 | 无 | A hook object |
| BkAppHooks | pydantic.BaseModel | 无 | 无 | 无 | Hook commands for BkApp |
| EnvVar | pydantic.BaseModel | 无 | 无 | 无 | Environment variable key-value pair |
| BkAppConfiguration | pydantic.BaseModel | 无 | 无 | 无 | Configuration for BkApp |
| ConfigMapSource | pydantic.BaseModel | 无 | 无 | register | 不适用 |
| SecretSource | pydantic.BaseModel | 无 | 无 | register | 不适用 |
| PersistentStorage | pydantic.BaseModel | 无 | 无 | register | 不适用 |
| VolumeSource | pydantic.BaseModel | 无 | 无 | register | 不适用 |
| Mount | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| MountOverlay | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| ReplicasOverlay | pydantic.BaseModel | 无 | 无 | 无 | Overwrite process's replicas by environment |
| ResQuotaOverlay | pydantic.BaseModel | 无 | 无 | 无 | Overwrite process's resQuota by environment |
| EnvVarOverlay | pydantic.BaseModel | 无 | 无 | 无 | Overwrite or add application's environment vars by... |
| AutoscalingOverlay | pydantic.BaseModel | 无 | 无 | 无 | Overwrite or add application's autoscaling by envi... |
| EnvOverlay | pydantic.BaseModel | append_item | 无 | 无 | Defines environment specified configs |
| BkAppBuildConfig | pydantic.BaseModel | 无 | 无 | 无 | BuildConfig for BkApp |
| BkAppAddonSpec | pydantic.BaseModel | 无 | 无 | 无 | AddonSpec for BkApp |
| BkAppAddon | pydantic.BaseModel | 无 | 无 | 无 | Addon for BkApp

    :param name: The name of the ... |
| HostAlias | pydantic.BaseModel | 无 | 无 | 无 | A host alias entry |
| DomainResolution | pydantic.BaseModel | 无 | 无 | 无 | Domain resolution config |
| SvcDiscEntryBkSaaS | pydantic.BaseModel | 无 | 无 | 无 | A service discovery entry that represents an appli... |
| SvcDiscConfig | pydantic.BaseModel | 无 | 无 | 无 | Service discovery config |
| Metric | pydantic.BaseModel | 无 | 无 | 无 | 
    Metric config.

    :param process: The name ... |
| Monitoring | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| Observability | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| BkAppSpec | pydantic.BaseModel | 无 | 无 | 无 | Spec of BkApp resource |
| BkAppStatus | pydantic.BaseModel | 无 | 无 | 无 | BkAppStatus defines the observed state of BkApp |
| BkAppResource | pydantic.BaseModel | validate_api_version, to_deployable, set_proc_services_annotation, get_proc_services_annotation | 无 | 无 | Blueking Application resource |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/crd/domain_group_mapping.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Literal | typing.Literal | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| validator | pydantic.validator | 不适用 | module |
| ApiVersion | paas_wl.bk_app.cnative.specs.constants.ApiVersion | value, V1ALPHA1 | module |
| ObjectMetadata | apiserver.paasng.paas_wl.bk_app.cnative.specs.crd.metadata.ObjectMetadata | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Domain | pydantic.BaseModel | 无 | 无 | 无 | Domain object |
| DomainGroup | pydantic.BaseModel | 无 | 无 | 无 | A group of domains

    :param source_type: From w... |
| MappingRef | pydantic.BaseModel | 无 | 无 | 无 | Reference subject for mapping object, currently on... |
| DomainGroupMappingSpec | pydantic.BaseModel | 无 | 无 | 无 | Spec of DomainGroupMapping resource |
| DomainGroupMapping | pydantic.BaseModel | validate_api_version, to_deployable | 无 | 无 | DomainGroupMapping resource, map a group of domain... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/crd/metadata.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |
| DNS_SAFE_PATTERN | paas_wl.utils.text.DNS_SAFE_PATTERN | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ObjectMetadata | pydantic.BaseModel | 无 | 无 | 无 | Kubernetes Metadata |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/credentials.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Iterator | typing.Iterator | 不适用 | module |
| List | typing.List | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| InvalidImageCredentials | paas_wl.bk_app.cnative.specs.exceptions.InvalidImageCredentials | 不适用 | module |
| kres | paas_wl.infras.resources.base.kres | BaseKresource | module |
| SecretType | paas_wl.workloads.configuration.secret.constants.SecretType | OPAQUE | module |
| Secret | paas_wl.workloads.configuration.secret.kres_entities.Secret | 不适用 | module |
| secret_kmodel | paas_wl.workloads.configuration.secret.kres_entities.secret_kmodel | upsert | module |
| ImageCredentialRef | paas_wl.workloads.images.entities.ImageCredentialRef | 不适用 | module |
| ImageCredentialsManager | paas_wl.workloads.images.kres_entities.ImageCredentialsManager | 不适用 | module |
| AppUserCredential | paas_wl.workloads.images.models.AppUserCredential | list_all_name, objects | module |
| EngineAppInstanceRel | paasng.accessories.servicehub.services.EngineAppInstanceRel | 不适用 | module |
| list_provisioned_tls_enabled_rels | paasng.accessories.servicehub.tls.list_provisioned_tls_enabled_rels | 不适用 | module |
| PreCreatedInstance | paasng.accessories.services.models.PreCreatedInstance | get, objects | module |
| gen_addons_cert_secret_name | paasng.accessories.services.utils.gen_addons_cert_secret_name | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| split_image | `def split_image(repository: str) -> str:` | 无 | 不适用 |
| validate_references | `def validate_references(application: Application, references: List[ImageCredentialRef]):` | 无 | validate if the reference credentials is defined

... |
| get_tls_certs_from_addons_rel | `def get_tls_certs_from_addons_rel(rel: EngineAppInstanceRel) -> Dict[str, str] | None:` | 无 | 获取增强服务 TLS 证书内容 |
| deploy_addons_tls_certs | `def deploy_addons_tls_certs(env: ModuleEnvironment):` | 无 | 下发增强服务 TLS 证书（如果需要的话） |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ImageCredentialsManager | _ImageCredentialsManager | __init__, _kres | kres | 无 | An ImageCredentialsManager using given k8s client,... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/events.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | datetime | module |
| arrow | get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| define | attrs.define | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| deserialize | `def deserialize(kube_data: ResourceInstance) -> Event:` | 无 | deserialize a kube resource to Event object |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ObjectReference | 无 | 无 | 无 | define | 不适用 |
| Event | 无 | 无 | 无 | define | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| InvalidImageCredentials | Exception | 无 | 无 | 无 | 不合法的镜像凭证信息 |
| GetSourceConfigDataError | Exception | 无 | 无 | 无 | 获取挂载卷内容失败 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/handlers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| receiver | django.dispatch.receiver | 不适用 | module |
| deploy_networking | paas_wl.bk_app.cnative.specs.resource.deploy_networking | 不适用 | module |
| get_mres_from_cluster | paas_wl.bk_app.cnative.specs.resource.get_mres_from_cluster | 不适用 | module |
| sync_networking | paas_wl.bk_app.cnative.specs.resource.sync_networking | 不适用 | module |
| cnative_custom_domain_updated | paas_wl.workloads.networking.ingress.signals.cnative_custom_domain_updated | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| application_default_module_switch | paasng.platform.applications.signals.application_default_module_switch | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| on_custom_domain_updated | `@receiver(cnative_custom_domain_updated):` | receiver | Trigger a new networking deploy. |
| sync_default_entrances_for_cnative_module_switching | `@receiver(application_default_module_switch):` | receiver | sync module's default domains and subpaths after s... |


---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/image_parser.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| parse_image | moby_distribution.registry.utils.parse_image | 不适用 | module |
| ApiVersion | paas_wl.bk_app.cnative.specs.constants.ApiVersion | V1ALPHA2 | module |
| BkAppResource | paas_wl.bk_app.cnative.specs.crd.bk_app.BkAppResource | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ImageParser | 无 | __init__, get_tag, get_repository, get_image_field | 无 | 无 | A Helper for parsing image field in bkapp |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | BigAutoField, CharField, DateTimeField, UUIDField, TextField, JSONField, BooleanField, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/migrations/0002_auto_20220720_1636.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| paas_wl.utils.models | BkUserField, models, utils | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel, AddIndex, AddField, AlterUniqueTogether | module |
| models | django.db.models | BigAutoField, CharField, DateTimeField, UUIDField, TextField, Index, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/migrations/0003_appmodelrevision_deployed_value.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | JSONField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/migrations/0004_configmapsource_mount.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paas_wl.bk_app.cnative.specs.models.mount | SourceConfigField, mount, models, specs, cnative, bk_app | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | BigAutoField, CharField, DateTimeField, UUIDField, JSONField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/migrations/0005_alter_appmodeldeploy_name.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/migrations/0006_auto_20240228_1526.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField, CreateModel | module |
| models | django.db.models | UUIDField, CharField, BigAutoField, DateTimeField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/migrations/0007_rename_storage_persistentstoragesource_storage_size.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RenameField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/migrations/0008_auto_20240327_0941.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/migrations/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/models/__init__.py



#### 星号导入

| 模块路径 | 代码块 |
|---------|-------|
| apiserver.paasng.paas_wl.bk_app.cnative.specs.models.app_resource | module |
| apiserver.paasng.paas_wl.bk_app.cnative.specs.models.mount | module |




---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/models/app_resource.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| yaml | dump | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| models | django.db.models | Manager, UUIDField, OneToOneField, CASCADE, Index, CharField, TextField, JSONField, BooleanField, QuerySet, ForeignKey, DateTimeField | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| ModuleAttrFromID | paas_wl.bk_app.applications.relationship.ModuleAttrFromID | 不适用 | module |
| ModuleEnvAttrFromName | paas_wl.bk_app.applications.relationship.ModuleEnvAttrFromName | 不适用 | module |
| DEFAULT_PROCESS_NAME | paas_wl.bk_app.cnative.specs.constants.DEFAULT_PROCESS_NAME | 不适用 | module |
| ApiVersion | paas_wl.bk_app.cnative.specs.constants.ApiVersion | V1ALPHA2 | module |
| DeployStatus | paas_wl.bk_app.cnative.specs.constants.DeployStatus | READY, get_choices | module |
| BkAppBuildConfig | paas_wl.bk_app.cnative.specs.crd.bk_app.BkAppBuildConfig | 不适用 | module |
| BkAppProcess | paas_wl.bk_app.cnative.specs.crd.bk_app.BkAppProcess | 不适用 | module |
| BkAppResource | paas_wl.bk_app.cnative.specs.crd.bk_app.BkAppResource | 不适用 | module |
| BkAppSpec | paas_wl.bk_app.cnative.specs.crd.bk_app.BkAppSpec | 不适用 | module |
| ObjectMetadata | paas_wl.bk_app.cnative.specs.crd.bk_app.ObjectMetadata | 不适用 | module |
| EnvIsRunningHub | paas_wl.core.env.EnvIsRunningHub | register_func | module |
| generate_bkapp_name | paas_wl.core.resource.generate_bkapp_name | 不适用 | module |
| to_error_string | paas_wl.utils.basic.to_error_string | 不适用 | module |
| BkUserField | paas_wl.utils.models.BkUserField | 不适用 | module |
| TimestampedModel | paas_wl.utils.models.TimestampedModel | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | get_choices | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_app_resource | `def create_app_resource(name: str, image: str, api_version: Optional[str] = ApiVersion.V1ALPHA2, command: Optional[List[str]] = None, args: Optional[List[str]] = None, target_port: Optional[int] = None) -> BkAppResource:` | 无 | Create a new BkApp Resource with simple parameters... |
| update_app_resource | `def update_app_resource(app: Application, module: Module, payload: Dict):` | 无 | Update application's resource

    :param payload:... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppModelResourceManager | django.db.models.Manager | get_json, create_from_resource, get_or_create_by_module | 无 | 无 | A custom manager for `AppModelResource`, provides ... |
| AppModelResource | paas_wl.utils.models.TimestampedModel | use_resource | application_id, module_id, module, revision, objects | 无 | Cloud-native Application's Model Resource |
| AppModelRevision | paas_wl.utils.models.TimestampedModel | 无 | application_id, module_id, module, version, yaml_value, json_value, deployed_value, has_deployed, is_draft, is_deleted | 无 | Revisions of cloud-native Application's Model Reso... |
| AppModelDeployQuerySet | django.db.models.QuerySet | filter_by_env, filter_succeeded, latest_succeeded, any_successful | 无 | 无 | Custom QuerySet for AppModelDeploy |
| AppModelDeploy | paas_wl.utils.models.TimestampedModel | has_succeeded, bk_app_resource | application_id, module_id, module, environment_name, environment, name, revision, status, reason, message, last_transition_time, operator, objects | 无 | This model stores the cloud-native app's deploymen... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/models/mount.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| models | django.db.models | UUIDField, CharField, JSONField | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| ModuleAttrFromID | paas_wl.bk_app.applications.relationship.ModuleAttrFromID | 不适用 | module |
| MountEnvName | paas_wl.bk_app.cnative.specs.constants.MountEnvName | get_choices | module |
| VolumeSourceType | paas_wl.bk_app.cnative.specs.constants.VolumeSourceType | get_choices, ConfigMap, PersistentStorage | module |
| VolumeSource | paas_wl.bk_app.cnative.specs.crd.bk_app.VolumeSource | 不适用 | module |
| TimestampedModel | paas_wl.utils.models.TimestampedModel | 不适用 | module |
| make_json_field | paasng.utils.models.make_json_field | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| SourceConfigField | 不适用 | `SourceConfigField = make_json_field('SourceConfigField', VolumeSource)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ConfigMapSource | paas_wl.utils.models.TimestampedModel | get_display_name | application_id, module_id, environment_name, name, data, display_name | 无 | ConfigMap 类型的挂载资源 |
| PersistentStorageSource | paas_wl.utils.models.TimestampedModel | get_display_name | application_id, module_id, environment_name, name, storage_size, storage_class_name, display_name | 无 | 持久存储类型的挂载资源 |
| Mount | paas_wl.utils.models.TimestampedModel | get_source_name | module_id, module, environment_name, name, mount_path, source_type | 无 | 挂载配置 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/mounts.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| uuid | uuid4, UUID | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| settings | django.conf.settings | DEFAULT_PERSISTENT_STORAGE_CLASS_NAME | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| ValidationError | rest_framework.serializers.ValidationError | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| MountEnvName | paas_wl.bk_app.cnative.specs.constants.MountEnvName | value, GLOBAL | module |
| VolumeSourceType | paas_wl.bk_app.cnative.specs.constants.VolumeSourceType | ConfigMap, PersistentStorage | module |
| ConfigMapSource | paas_wl.bk_app.cnative.specs.models.ConfigMapSource | 不适用 | module |
| PersistentStorage | paas_wl.bk_app.cnative.specs.crd.bk_app.PersistentStorage | 不适用 | module |
| VolumeSource | paas_wl.bk_app.cnative.specs.crd.bk_app.VolumeSource | 不适用 | module |
| Mount | paas_wl.bk_app.cnative.specs.models.Mount | filter, objects, create | module |
| PersistentStorageSource | paas_wl.bk_app.cnative.specs.models.PersistentStorageSource | 不适用 | module |
| get_application_cluster | paas_wl.infras.cluster.shim.get_application_cluster | 不适用 | module |
| get_client_by_cluster_name | paas_wl.infras.resources.base.base.get_client_by_cluster_name | 不适用 | module |
| ResourceMissing | paas_wl.infras.resources.base.exceptions.ResourceMissing | 不适用 | module |
| KStorageClass | paas_wl.infras.resources.base.kres.KStorageClass | 不适用 | module |
| ConfigMap | paas_wl.workloads.configuration.configmap.kres_entities.ConfigMap | 不适用 | module |
| configmap_kmodel | paas_wl.workloads.configuration.configmap.kres_entities.configmap_kmodel | upsert, delete | module |
| PersistentVolumeClaim | paas_wl.workloads.volume.persistent_volume_claim.kres_entities.PersistentVolumeClaim | 不适用 | module |
| pvc_kmodel | paas_wl.workloads.volume.persistent_volume_claim.kres_entities.pvc_kmodel | upsert, delete | module |
| AppFeatureFlag | paasng.platform.applications.constants.AppFeatureFlag | ENABLE_PERSISTENT_STORAGE | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| ApplicationFeatureFlag | paasng.platform.applications.models.ApplicationFeatureFlag | has_feature, objects | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| Module | paasng.platform.modules.models.Module | get, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| init_volume_source_controller | `def init_volume_source_controller(volume_source_type: str) -> BaseVolumeSourceController:` | 无 | 不适用 |
| generate_source_config_name | `def generate_source_config_name(app_code: str) -> str:` | 无 | Generate name of the Mount source_config |
| deploy_volume_source | `def deploy_volume_source(env: ModuleEnvironment):` | 无 | 不适用 |
| check_storage_class_exists | `def check_storage_class_exists(application: Application, storage_class_name: str) -> bool:` | 无 | 检查给定的 StorageClass 是否存在于 Kubernetes 集群中。

    :par... |
| check_persistent_storage_enabled | `def check_persistent_storage_enabled(application: Application) -> bool:` | 无 | 判断应用是否支持持久存储特性 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseVolumeSourceController | 无 | __init_subclass__, get_source_class, build_volume_source, list_by_app, create_by_app, delete_by_app, get_by_env, delete_by_env, create_by_env, update_by_env, upsert_k8s_resource, delete_k8s_resource | 无 | 无 | 不适用 |
| ConfigMapSourceController | BaseVolumeSourceController | build_volume_source, list_by_app, create_by_app, delete_by_app, get_by_env, create_by_env, update_by_env, delete_by_env, upsert_k8s_resource, delete_k8s_resource | volume_source_type, model_class | 无 | 不适用 |
| PersistentStorageSourceController | BaseVolumeSourceController | build_volume_source, list_by_app, create_by_app, delete_by_app, get_by_env, create_by_env, update_by_env, delete_by_env, upsert_k8s_resource, delete_k8s_resource | volume_source_type, model_class | 无 | 不适用 |
| MountManager | 无 | new | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/procs/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/procs/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcNotDeployed | Exception | 无 | 无 | 无 | Try to operate processes of an not deployed applic... |
| ProcNotFoundInRes | Exception | 无 | 无 | 无 | Try to operate a process which did not exists in a... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/procs/quota.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| asdict | attrs.asdict | 不适用 | module |
| define | attrs.define | 不适用 | module |
| DEFAULT_PROC_CPU | paas_wl.bk_app.cnative.specs.constants.DEFAULT_PROC_CPU | 不适用 | module |
| DEFAULT_PROC_CPU_REQUEST | paas_wl.bk_app.cnative.specs.constants.DEFAULT_PROC_CPU_REQUEST | 不适用 | module |
| DEFAULT_PROC_MEM | paas_wl.bk_app.cnative.specs.constants.DEFAULT_PROC_MEM | 不适用 | module |
| DEFAULT_PROC_MEM_REQUEST | paas_wl.bk_app.cnative.specs.constants.DEFAULT_PROC_MEM_REQUEST | 不适用 | module |
| ResQuotaPlan | paas_wl.bk_app.cnative.specs.constants.ResQuotaPlan | P_DEFAULT, P_4C1G, P_4C2G, P_4C4G | module |
| BkAppResource | paas_wl.bk_app.cnative.specs.crd.bk_app.BkAppResource | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| PLAN_TO_LIMIT_QUOTA_MAP | 不适用 | `PLAN_TO_LIMIT_QUOTA_MAP = {ResQuotaPlan.P_DEFAULT: ResourceQuota(cpu=DEFAULT_PROC_CPU, memory=DEFAULT_PROC_MEM), ResQuotaPlan.P_4C1G: ResourceQuota(cpu='4000m', memory='1024Mi'), ResQuotaPlan.P_4C2G: ResourceQuota(cpu='4000m', memory='2048Mi'), ResQuotaPlan.P_4C4G: ResourceQuota(cpu='4000m', memory='4096Mi')}` | module |
| PLAN_TO_REQUEST_QUOTA_MAP | 不适用 | `PLAN_TO_REQUEST_QUOTA_MAP = {ResQuotaPlan.P_DEFAULT: ResourceQuota(cpu=DEFAULT_PROC_CPU_REQUEST, memory=DEFAULT_PROC_MEM_REQUEST), ResQuotaPlan.P_4C1G: ResourceQuota(cpu='200m', memory='256Mi'), ResQuotaPlan.P_4C2G: ResourceQuota(cpu='200m', memory='1024Mi'), ResQuotaPlan.P_4C4G: ResourceQuota(cpu='200m', memory='2048Mi')}` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ResourceQuota | 无 | 无 | 无 | define | 不适用 |
| ResQuotaReader | 无 | __init__, read_all | 无 | 无 | Read resQuotaPlan and resQuotas(envOverlay) from a... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/procs/replicas.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| copy | copy | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| ApiVersion | paas_wl.bk_app.cnative.specs.constants.ApiVersion | V1ALPHA2 | module |
| AutoscalingOverlay | paas_wl.bk_app.cnative.specs.crd.bk_app.AutoscalingOverlay | 不适用 | module |
| BkAppResource | paas_wl.bk_app.cnative.specs.crd.bk_app.BkAppResource | 不适用 | module |
| ReplicasOverlay | paas_wl.bk_app.cnative.specs.crd.bk_app.ReplicasOverlay | 不适用 | module |
| generate_bkapp_name | paas_wl.core.resource.generate_bkapp_name | 不适用 | module |
| crd | paas_wl.infras.resources.base.crd | BkApp | module |
| EnhancedApiClient | paas_wl.infras.resources.base.base.EnhancedApiClient | 不适用 | module |
| ResourceMissing | paas_wl.infras.resources.base.exceptions.ResourceMissing | 不适用 | module |
| PatchType | paas_wl.infras.resources.base.kres.PatchType | MERGE | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |
| AutoscalingConfig | paas_wl.workloads.autoscaling.entities.AutoscalingConfig | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | 不适用 | module |
| ProcNotDeployed | apiserver.paasng.paas_wl.bk_app.cnative.specs.procs.exceptions.ProcNotDeployed | 不适用 | module |
| ProcNotFoundInRes | apiserver.paasng.paas_wl.bk_app.cnative.specs.procs.exceptions.ProcNotFoundInRes | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkAppProcScaler | 无 | __init__, get_replicas, set_replicas, get_autoscaling, set_autoscaling, _get_bkapp_res, _validate_proc_type, _set_process, _set_autoscaling_overlay | 无 | 无 | Scale the bkapp's processes by updating the resour... |
| ReplicasReader | 无 | __init__, read_all | 无 | 无 | Read "replicas" from app model resource object

  ... |
| AutoscalingReader | 无 | __init__, read_all | 无 | 无 | Read "autoscaling" from an app model resource obje... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/resource.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| define | attrs.define | 不适用 | module |
| ApiException | kubernetes.client.exceptions.ApiException | 不适用 | module |
| ResourceNotFoundError | kubernetes.dynamic.exceptions.ResourceNotFoundError | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | get, objects | module |
| AddrResourceManager | paas_wl.bk_app.cnative.specs.addresses.AddrResourceManager | 不适用 | module |
| save_addresses | paas_wl.bk_app.cnative.specs.addresses.save_addresses | 不适用 | module |
| ApiVersion | paas_wl.bk_app.cnative.specs.constants.ApiVersion | V1ALPHA2, V1ALPHA1 | module |
| ConditionStatus | paas_wl.bk_app.cnative.specs.constants.ConditionStatus | TRUE, FALSE | module |
| DeployStatus | paas_wl.bk_app.cnative.specs.constants.DeployStatus | PENDING, READY, ERROR, PROGRESSING | module |
| MResConditionType | paas_wl.bk_app.cnative.specs.constants.MResConditionType | APP_AVAILABLE | module |
| MResPhaseType | paas_wl.bk_app.cnative.specs.constants.MResPhaseType | AppRunning, AppFailed | module |
| BkAppResource | paas_wl.bk_app.cnative.specs.crd.bk_app.BkAppResource | 不适用 | module |
| MetaV1Condition | paas_wl.bk_app.cnative.specs.crd.bk_app.MetaV1Condition | 不适用 | module |
| ImageCredentialsManager | paas_wl.bk_app.cnative.specs.credentials.ImageCredentialsManager | 不适用 | module |
| generate_bkapp_name | paas_wl.core.resource.generate_bkapp_name | 不适用 | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| base | paas_wl.infras.resources.base.base | EnhancedApiClient | module |
| crd | paas_wl.infras.resources.base.crd | BkApp, DomainGroupMapping | module |
| get_client_by_cluster_name | paas_wl.infras.resources.base.base.get_client_by_cluster_name | 不适用 | module |
| ResourceMissing | paas_wl.infras.resources.base.exceptions.ResourceMissing | 不适用 | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |
| ImageCredentials | paas_wl.workloads.images.kres_entities.ImageCredentials | load_from_app | module |
| ExposedTypeName | paas_wl.workloads.networking.constants.ExposedTypeName | BK_HTTP | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| RETRY_TIMES | 3 | `RETRY_TIMES = 3` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_mres_from_cluster | `def get_mres_from_cluster(env: ModuleEnvironment) -> Optional[BkAppResource]:` | 无 | Get the application's model resource in given envi... |
| create_or_update_bkapp_with_retries | `def create_or_update_bkapp_with_retries(client: base.EnhancedApiClient, env: ModuleEnvironment, manifest: Dict):` | 无 | 不适用 |
| deploy | `def deploy(env: ModuleEnvironment, manifest: Dict) -> Dict:` | 无 | 
    Create or update(replace) bkapp manifest in c... |
| sync_networking | `def sync_networking(env: ModuleEnvironment, res: BkAppResource) -> None:` | 无 | Sync the networking related resources for env, suc... |
| deploy_networking | `def deploy_networking(env: ModuleEnvironment) -> None:` | 无 | Deploy the networking related resources for env, s... |
| delete_bkapp | `def delete_bkapp(env: ModuleEnvironment):` | 无 | Delete bkapp in cluster

    :param env
     |
| delete_networking | `def delete_networking(env: ModuleEnvironment):` | 无 | Delete network group mapping in cluster |
| list_mres_by_env | `def list_mres_by_env(application: Application, environment: str) -> list[BkAppResource]:` | 无 | list the application's model resources by running ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ModelResState | 无 | 无 | 无 | define | State of deployed app model resource

    :param s... |
| MresConditionParser | 无 | __init__, detect_state, _find_condition | 无 | 无 | Parse "conditions" in BkApp resource's status fiel... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | ModelSerializer, Serializer, CharField, DictField, ValidationError, ChoiceField, RegexField, SerializerMethodField, UUIDField, JSONField | module |
| MountEnvName | paas_wl.bk_app.cnative.specs.constants.MountEnvName | get_choices, value, GLOBAL, STAG | module |
| PersistentStorageSize | paas_wl.bk_app.cnative.specs.constants.PersistentStorageSize | get_choices, value, P_1G | module |
| VolumeSourceType | paas_wl.bk_app.cnative.specs.constants.VolumeSourceType | get_choices, value, ConfigMap, PersistentStorage | module |
| GetSourceConfigDataError | paas_wl.bk_app.cnative.specs.exceptions.GetSourceConfigDataError | 不适用 | module |
| init_volume_source_controller | paas_wl.bk_app.cnative.specs.mounts.init_volume_source_controller | 不适用 | module |
| AppModelRevision | apiserver.paasng.paas_wl.bk_app.cnative.specs.models.AppModelRevision | 不适用 | module |
| ConfigMapSource | apiserver.paasng.paas_wl.bk_app.cnative.specs.models.ConfigMapSource | 不适用 | module |
| Mount | apiserver.paasng.paas_wl.bk_app.cnative.specs.models.Mount | filter, objects | module |
| PersistentStorageSource | apiserver.paasng.paas_wl.bk_app.cnative.specs.models.PersistentStorageSource | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppModelRevisionSerializer | rest_framework.serializers.ModelSerializer | 无 | 无 | 无 | Serializer for representing detailed AppModelRevis... |
| ResourceQuotaSLZ | rest_framework.serializers.Serializer | 无 | cpu, memory | 无 | 不适用 |
| ResQuotaPlanSLZ | rest_framework.serializers.Serializer | 无 | name, value, request, limit | 无 | Serializer for ResQuotaPlan option |
| ConfigMapSLZ | rest_framework.serializers.Serializer | validate_source_config_data | source_config_data | 无 | 不适用 |
| PersistentStorageSLZ | rest_framework.serializers.Serializer | 无 | storage_size | 无 | 不适用 |
| UpsertMountSLZ | rest_framework.serializers.Serializer | validate | environment_name, name, mount_path, source_type, source_name, configmap_source, persistent_storage_source | 无 | 不适用 |
| MountSLZ | rest_framework.serializers.ModelSerializer | get_configmap_source, get_persistent_storage_source | configmap_source, persistent_storage_source | 无 | 不适用 |
| QueryMountsSLZ | rest_framework.serializers.Serializer | 无 | environment_name, source_type | 无 | 不适用 |
| QueryMountSourcesSLZ | rest_framework.serializers.Serializer | 无 | environment_name, source_type | 无 | 不适用 |
| CreateMountSourceSLZ | rest_framework.serializers.Serializer | validate | environment_name, source_type, configmap_source, persistent_storage_source, display_name | 无 | 不适用 |
| DeleteMountSourcesSLZ | rest_framework.serializers.Serializer | 无 | source_name, source_type | 无 | 不适用 |
| UpdateMountSourceSLZ | rest_framework.serializers.Serializer | validate | source_name, source_type, display_name | 无 | 不适用 |
| MountSourceSLZ | rest_framework.serializers.Serializer | get_source_type, get_bound_modules, get_display_name | application_id, environment_name, name, source_type, bound_modules, data, storage_size, storage_class_name, display_name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/signals.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Signal | django.dispatch.Signal | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| post_cnative_env_deploy | 不适用 | `post_cnative_env_deploy = Signal()` | module |



---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/svc_disc.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64encode, b64decode | module |
| json | dumps, loads | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| force_bytes | django.utils.encoding.force_bytes | 不适用 | module |
| force_str | django.utils.encoding.force_str | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | get, objects | module |
| BkAppResource | paas_wl.bk_app.cnative.specs.crd.bk_app.BkAppResource | 不适用 | module |
| ResourceMissing | paas_wl.infras.resources.base.exceptions.ResourceMissing | 不适用 | module |
| KConfigMap | paas_wl.infras.resources.base.kres.KConfigMap | 不适用 | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| SvcDiscEntryBkSaaS | paasng.platform.bkapp_model.entities.SvcDiscEntryBkSaaS | 不适用 | module |
| BkSaaSAddrDiscoverer | paasng.platform.declarative.deployment.svc_disc.BkSaaSAddrDiscoverer | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| apply_configmap | `def apply_configmap(env: ModuleEnvironment, bk_app_res: BkAppResource):` | 无 | Apply the ConfigMap resource that contains the ser... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ConfigMapManager | 无 | __init__, read_data, write, remove, exists, resource_name, encode_data, decode_data | key_bk_saas | 无 | The manager for service discovery ConfigMap.

    ... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path(make_app_pattern('/mres/revisions/(?P<revision_id>[\\d]+)/$'), views.MresVersionViewSet.as_view({'get': 'retrieve'}), name='api.mres.revision.singular'), re_path(make_app_pattern('/mres/image_tags/$', include_envs=False), views.ImageRepositoryView.as_view({'get': 'list_tags'}), name='api.mres.image_tags.list'), re_path('api/mres/quota_plans/$', views.ResQuotaPlanOptionsView.as_view()), re_path(make_app_pattern('/mres/volume_mounts/$', include_envs=False), views.VolumeMountViewSet.as_view({'get': 'list', 'post': 'create'}), name='api.mres.volume_mount'), re_path(make_app_pattern('/mres/volume_mounts/(?P<mount_id>\\w+)/$', include_envs=False), views.VolumeMountViewSet.as_view({'put': 'update', 'delete': 'destroy'}), name='api.mres.volume_mount.detail'), re_path('api/bkapps/applications/(?P<code>[^/]+)/mres/mount_sources/$', views.MountSourceViewSet.as_view({'get': 'list', 'post': 'create', 'delete': 'destroy', 'put': 'update'}), name='api.mres.mount_source'), re_path('api/bkapps/applications/(?P<code>[^/]+)/mres/storage_class/$', views.StorageClassViewSet.as_view({'get': 'check'}), name='api.mres.storage_class')]` | module |



---


### 模块: apiserver/paasng/paas_wl/bk_app/cnative/specs/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| suppress | contextlib.suppress | 不适用 | module |
| quote | urllib.parse.quote | 不适用 | module |
| settings | django.conf.settings | DEFAULT_PERSISTENT_STORAGE_SIZE, DEFAULT_PERSISTENT_STORAGE_CLASS_NAME | module |
| IntegrityError | django.db.IntegrityError | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| parse_image | moby_distribution.registry.utils.parse_image | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_200_OK, HTTP_204_NO_CONTENT | module |
| LimitOffsetPagination | rest_framework.pagination.LimitOffsetPagination | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| APIView | rest_framework.views.APIView | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| ResQuotaPlan | paas_wl.bk_app.cnative.specs.constants.ResQuotaPlan | get_choice_label, get_values | module |
| GetSourceConfigDataError | paas_wl.bk_app.cnative.specs.exceptions.GetSourceConfigDataError | 不适用 | module |
| AppModelRevision | paas_wl.bk_app.cnative.specs.models.AppModelRevision | get, objects, DoesNotExist | module |
| Mount | paas_wl.bk_app.cnative.specs.models.Mount | filter, objects | module |
| MountManager | paas_wl.bk_app.cnative.specs.mounts.MountManager | new | module |
| check_persistent_storage_enabled | paas_wl.bk_app.cnative.specs.mounts.check_persistent_storage_enabled | 不适用 | module |
| check_storage_class_exists | paas_wl.bk_app.cnative.specs.mounts.check_storage_class_exists | 不适用 | module |
| init_volume_source_controller | paas_wl.bk_app.cnative.specs.mounts.init_volume_source_controller | 不适用 | module |
| PLAN_TO_LIMIT_QUOTA_MAP | paas_wl.bk_app.cnative.specs.procs.quota.PLAN_TO_LIMIT_QUOTA_MAP | 不适用 | module |
| PLAN_TO_REQUEST_QUOTA_MAP | paas_wl.bk_app.cnative.specs.procs.quota.PLAN_TO_REQUEST_QUOTA_MAP | 不适用 | module |
| AppModelRevisionSerializer | paas_wl.bk_app.cnative.specs.serializers.AppModelRevisionSerializer | 不适用 | module |
| CreateMountSourceSLZ | paas_wl.bk_app.cnative.specs.serializers.CreateMountSourceSLZ | 不适用 | module |
| DeleteMountSourcesSLZ | paas_wl.bk_app.cnative.specs.serializers.DeleteMountSourcesSLZ | 不适用 | module |
| MountSLZ | paas_wl.bk_app.cnative.specs.serializers.MountSLZ | 不适用 | module |
| MountSourceSLZ | paas_wl.bk_app.cnative.specs.serializers.MountSourceSLZ | 不适用 | module |
| QueryMountSourcesSLZ | paas_wl.bk_app.cnative.specs.serializers.QueryMountSourcesSLZ | 不适用 | module |
| QueryMountsSLZ | paas_wl.bk_app.cnative.specs.serializers.QueryMountsSLZ | 不适用 | module |
| ResQuotaPlanSLZ | paas_wl.bk_app.cnative.specs.serializers.ResQuotaPlanSLZ | 不适用 | module |
| UpdateMountSourceSLZ | paas_wl.bk_app.cnative.specs.serializers.UpdateMountSourceSLZ | 不适用 | module |
| UpsertMountSLZ | paas_wl.bk_app.cnative.specs.serializers.UpsertMountSLZ | 不适用 | module |
| error_codes | paas_wl.utils.error_codes.error_codes | f, GET_DEPLOYMENT_FAILED, INVALID_CREDENTIALS, LIST_TAGS_FAILED, set_data, LIST_VOLUME_MOUNTS_FAILED, CREATE_VOLUME_MOUNT_FAILED, UPDATE_VOLUME_MOUNT_FAILED, CREATE_VOLUME_SOURCE_FAILED | module |
| AppUserCredential | paas_wl.workloads.images.models.AppUserCredential | get, objects, DoesNotExist | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP, VIEW_BASIC_INFO | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE, MODIFY, DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | VOLUME_MOUNT | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| DockerRegistryController | paasng.platform.sourcectl.controllers.docker.DockerRegistryController | 不适用 | module |
| AlternativeVersionSLZ | paasng.platform.sourcectl.serializers.AlternativeVersionSLZ | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ResQuotaPlanOptionsView | rest_framework.views.APIView | get | 无 | 无 | 资源配额方案 选项视图 |
| MresVersionViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | retrieve | permission_classes | 无 | 应用资源版本相关视图 |
| ImageRepositoryView | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | _validate_registry_permission, list_tags | permission_classes | 无 | 不适用 |
| VolumeMountViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list, create, update, destroy | permission_classes, pagination_class | 无 | 不适用 |
| MountSourceViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list, create, update, destroy | permission_classes | 无 | 不适用 |
| StorageClassViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | check | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/deploy/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/deploy/actions/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| DeployAction | apiserver.paasng.paas_wl.bk_app.deploy.actions.deploy.DeployAction | 不适用 | module |





---


### 模块: apiserver/paasng/paas_wl/bk_app/deploy/actions/archive.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_bk_monitor_controller | paas_wl.bk_app.monitoring.app_monitor.shim.make_bk_monitor_controller | 不适用 | module |
| get_proc_ctl | paas_wl.bk_app.processes.controllers.get_proc_ctl | 不适用 | module |
| ScaleProcessError | paas_wl.bk_app.processes.exceptions.ScaleProcessError | 不适用 | module |
| ProcessManager | paas_wl.bk_app.processes.processes.ProcessManager | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ArchiveOperationController | 无 | __init__, start, stop_all_processes | 无 | 无 | Controller for offline operation |

---


### 模块: apiserver/paasng/paas_wl/bk_app/deploy/actions/delete.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| models | django.db.models | Model | module |
| transaction | django.db.transaction | atomic | module |
| BuildProcess | paas_wl.bk_app.applications.models.BuildProcess | filter, objects | module |
| Release | paas_wl.bk_app.applications.models.Release | filter, objects | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | get, objects, DoesNotExist | module |
| AppModelDeploy | paas_wl.bk_app.cnative.specs.models.AppModelDeploy | 不适用 | module |
| AppModelResource | paas_wl.bk_app.cnative.specs.models.AppModelResource | 不适用 | module |
| AppModelRevision | paas_wl.bk_app.cnative.specs.models.AppModelRevision | 不适用 | module |
| NamespacesHandler | paas_wl.bk_app.deploy.app_res.controllers.NamespacesHandler | new_by_app | module |
| ProcessSpec | paas_wl.bk_app.processes.models.ProcessSpec | filter, objects | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| delete_env_resources | `def delete_env_resources(env: 'ModuleEnvironment'):` | 无 | Delete app's resources in cluster |
| delete_module_related_res | `def delete_module_related_res(module: 'Module'):` | 无 | Delete module's related resources |


---


### 模块: apiserver/paasng/paas_wl/bk_app/deploy/actions/deploy.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| ResourceNotFoundError | kubernetes.dynamic.exceptions.ResourceNotFoundError | 不适用 | module |
| BuildMissingError | paas_wl.bk_app.deploy.actions.exceptions.BuildMissingError | 不适用 | module |
| NamespacesHandler | paas_wl.bk_app.deploy.app_res.controllers.NamespacesHandler | new_by_app | module |
| ProcessesHandler | paas_wl.bk_app.deploy.app_res.controllers.ProcessesHandler | new_by_app | module |
| ensure_image_credentials_secret | paas_wl.bk_app.deploy.app_res.controllers.ensure_image_credentials_secret | 不适用 | module |
| make_bk_monitor_controller | paas_wl.bk_app.monitoring.app_monitor.shim.make_bk_monitor_controller | 不适用 | module |
| make_bk_log_controller | paas_wl.bk_app.monitoring.bklog.shim.make_bk_log_controller | 不适用 | module |
| ProcessTargetStatus | paas_wl.bk_app.processes.constants.ProcessTargetStatus | value, START | module |
| AppProcessManager | paas_wl.bk_app.processes.managers.AppProcessManager | 不适用 | module |
| KubeException | paas_wl.infras.resources.base.exceptions.KubeException | 不适用 | module |
| MapperProcConfig | paas_wl.infras.resources.generation.mapper.MapperProcConfig | 不适用 | module |
| get_mapper_proc_config | paas_wl.infras.resources.generation.mapper.get_mapper_proc_config | 不适用 | module |
| AppResVerManager | paas_wl.infras.resources.generation.version.AppResVerManager | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| Release | paas_wl.bk_app.applications.models.Release | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployAction | 无 | __init__, perform, recycle_resource, ensure_bk_monitor_if_need, ensure_bk_log_if_need | 无 | 无 | 不适用 |
| ObsoleteProcessesCleaner | 无 | __init__, clean_up, find_all, get_deployment_name | 无 | 无 | 清理已经过期的进程资源（主要指 Deployment 与 Service）。

    目前，共有两... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/deploy/actions/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BuildMissingError | Exception | 无 | 无 | 无 | build missing |
| CommandRerunError | Exception | 无 | 无 | 无 | Command 重复执行异常 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/deploy/actions/exec.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| define | attr.define | 不适用 | module |
| field | attr.field | 不适用 | module |
| ensure_text | six.ensure_text | 不适用 | module |
| BuildMissingError | paas_wl.bk_app.deploy.actions.exceptions.BuildMissingError | 不适用 | module |
| CommandRerunError | paas_wl.bk_app.deploy.actions.exceptions.CommandRerunError | 不适用 | module |
| CommandHandler | paas_wl.bk_app.deploy.app_res.controllers.CommandHandler | new_by_app | module |
| PodNotSucceededError | paas_wl.infras.resources.base.exceptions.PodNotSucceededError | 不适用 | module |
| ReadTargetStatusTimeout | paas_wl.infras.resources.base.exceptions.ReadTargetStatusTimeout | 不适用 | module |
| ResourceDuplicate | paas_wl.infras.resources.base.exceptions.ResourceDuplicate | 不适用 | module |
| CommandStatus | paas_wl.utils.constants.CommandStatus | value, PENDING, SCHEDULED, FAILED, INTERRUPTED, SUCCESSFUL | module |
| CommandType | paas_wl.utils.constants.CommandType | 不适用 | module |
| check_pod_health_status | paas_wl.utils.kubestatus.check_pod_health_status | 不适用 | module |
| Command | paas_wl.workloads.release_controller.hooks.models.Command | 不适用 | module |
| DeployStream | paasng.platform.engine.utils.output.DeployStream | 不适用 | module |
| Style | paasng.platform.engine.utils.output.Style | Warning, Error | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppCommandExecutor | 无 | __attrs_post_init__, perform, wait_for_succeeded | 无 | define | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/deploy/app_res/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/deploy/app_res/controllers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | now, datetime, timedelta | module |
| logging | getLogger | module |
| os | EX_OK | module |
| time | sleep, time | module |
| arrow | get, Arrow, now | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| settings | django.conf.settings | K8S_DEFAULT_CONNECT_TIMEOUT, K8S_DEFAULT_READ_TIMEOUT, MAX_SLUG_SECONDS | module |
| localtime | django.utils.timezone.localtime | 不适用 | module |
| ApiException | kubernetes.client.rest.ApiException | 不适用 | module |
| build_monitor_port | paas_wl.bk_app.monitoring.app_monitor.utils.build_monitor_port | 不适用 | module |
| Process | paas_wl.bk_app.processes.kres_entities.Process | 不适用 | module |
| CreateServiceAccountTimeout | paas_wl.infras.resources.base.exceptions.CreateServiceAccountTimeout | 不适用 | module |
| PodAbsentError | paas_wl.infras.resources.base.exceptions.PodAbsentError | 不适用 | module |
| PodNotSucceededError | paas_wl.infras.resources.base.exceptions.PodNotSucceededError | 不适用 | module |
| PodTimeoutError | paas_wl.infras.resources.base.exceptions.PodTimeoutError | 不适用 | module |
| ResourceDeleteTimeout | paas_wl.infras.resources.base.exceptions.ResourceDeleteTimeout | 不适用 | module |
| ResourceDuplicate | paas_wl.infras.resources.base.exceptions.ResourceDuplicate | 不适用 | module |
| ResourceMissing | paas_wl.infras.resources.base.exceptions.ResourceMissing | 不适用 | module |
| KDeployment | paas_wl.infras.resources.base.kres.KDeployment | 不适用 | module |
| KNamespace | paas_wl.infras.resources.base.kres.KNamespace | 不适用 | module |
| KPod | paas_wl.infras.resources.base.kres.KPod | 不适用 | module |
| KReplicaSet | paas_wl.infras.resources.base.kres.KReplicaSet | 不适用 | module |
| set_default_options | paas_wl.infras.resources.base.kres.set_default_options | 不适用 | module |
| MapperProcConfig | paas_wl.infras.resources.generation.mapper.MapperProcConfig | 不适用 | module |
| ResourceIdentifiers | paas_wl.infras.resources.generation.mapper.ResourceIdentifiers | 不适用 | module |
| AppResVerManager | paas_wl.infras.resources.generation.version.AppResVerManager | 不适用 | module |
| AppEntityManager | paas_wl.infras.resources.kube_res.base.AppEntityManager | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |
| PodPhase | paas_wl.utils.constants.PodPhase | RUNNING, SUCCEEDED, FAILED | module |
| HealthStatus | paas_wl.utils.kubestatus.HealthStatus | 不适用 | module |
| HealthStatusType | paas_wl.utils.kubestatus.HealthStatusType | UNHEALTHY, HEALTHY, PROGRESSING | module |
| check_pod_health_status | paas_wl.utils.kubestatus.check_pod_health_status | 不适用 | module |
| extract_exit_code | paas_wl.utils.kubestatus.extract_exit_code | 不适用 | module |
| parse_pod | paas_wl.utils.kubestatus.parse_pod | 不适用 | module |
| ProcAutoscaling | paas_wl.workloads.autoscaling.kres_entities.ProcAutoscaling | 不适用 | module |
| ImageCredentials | paas_wl.workloads.images.kres_entities.ImageCredentials | load_from_app | module |
| credentials_kmodel | paas_wl.workloads.images.kres_entities.credentials_kmodel | upsert | module |
| ProcDefaultServices | paas_wl.workloads.networking.ingress.managers.service.ProcDefaultServices | 不适用 | module |
| Command | paas_wl.workloads.release_controller.hooks.kres_entities.Command | 不适用 | module |
| command_kmodel | paas_wl.workloads.release_controller.hooks.kres_entities.command_kmodel | get, save, delete | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| EnhancedApiClient | paas_wl.infras.resources.base.base.EnhancedApiClient | 不适用 | module |
| SlugBuilderTemplate | paasng.platform.engine.configurations.building.SlugBuilderTemplate | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| ensure_image_credentials_secret | `def ensure_image_credentials_secret(app: 'WlApp'):` | 无 | 确保应用镜像的访问凭证存在。 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ResourceHandlerBase | 无 | __init__, new_by_app | 无 | 无 | The base class for handling resources. |
| ProcessesHandler | ResourceHandlerBase | __init__, deploy, shutdown, scale, delete, delete_gracefully, res_identifiers, get_default_services | 无 | 无 | Process handler. |
| NamespacesHandler | ResourceHandlerBase | ensure_namespace, delete, create, check_service_account_secret | 无 | 无 | Handler for namespace resources |
| WaitPodDelete | 无 | __init__, wait | _check_interval | 无 | 不适用 |
| PodScheduleHandler | ResourceHandlerBase | _get_pod_status, _delete_finished_pod, _delete_pod, _wait_pod_succeeded, _get_pod_logs, check_pod_timeout, get_pod_timeout | 无 | 无 | PodScheduleHandler 提供了操作 Pod 的公共方法. |
| BuildHandler | PodScheduleHandler | build_slug, delete_builder, interrupt_builder, wait_for_succeeded, wait_for_logs_readiness, get_build_log, normalize_builder_name | 无 | 无 | Handler for slugbuilder pod. |
| CommandHandler | PodScheduleHandler | run, run_command, delete_command, interrupt_command, wait_for_succeeded, wait_for_logs_readiness, get_command_logs, check_pod_timeout, get_pod_timeout | 无 | 无 | Handler for running command |
| ProcAutoscalingHandler | ResourceHandlerBase | __init__, deploy, delete | 无 | 无 | 不适用 |
| BkAppHookHandler | 无 | __init__, wait_for_logs_readiness, fetch_logs, wait_hook_finished | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/deploy/app_res/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Schedule | paas_wl.infras.resources.kube_res.base.Schedule | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.resources.utils.basic.get_cluster_by_app | 不适用 | module |
| get_full_node_selector | paas_wl.infras.resources.utils.basic.get_full_node_selector | 不适用 | module |
| get_full_tolerations | paas_wl.infras.resources.utils.basic.get_full_tolerations | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_schedule_config | `def get_schedule_config(app: 'WlApp') -> 'Schedule':` | 无 | Get the schedule config of an app. |


---


### 模块: apiserver/paasng/paas_wl/bk_app/deploy/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployAppConfig | django.apps.AppConfig | ready | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/deploy/management/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/deploy/management/commands/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/deploy/management/commands/clean_timeout_pod.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| arrow | get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| timezone | django.utils.timezone | now | module |
| get_all_cluster_names | paas_wl.infras.resources.base.base.get_all_cluster_names | 不适用 | module |
| get_client_by_cluster_name | paas_wl.infras.resources.base.base.get_client_by_cluster_name | 不适用 | module |
| KPod | paas_wl.infras.resources.base.kres.KPod | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/deploy/management/commands/delete_slug.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| re | compile | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Pattern | typing.Pattern | 不适用 | module |
| Set | typing.Set | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| settings | django.conf.settings | BLOBSTORE_BUCKET_APP_SOURCE | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| Build | paas_wl.bk_app.applications.models.build.Build | exclude, objects | module |
| BKGenericRepo | paas_wl.utils.blobstore.BKGenericRepo | 不适用 | module |
| S3Store | paas_wl.utils.blobstore.S3Store | 不适用 | module |
| make_blob_store | paas_wl.utils.blobstore.make_blob_store | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| delete_from_blob_store | `def delete_from_blob_store(build: Build, dry_run: bool = True, pattern: Optional[Pattern] = None) -> Tuple[int, int]:` | 无 | 从 blob_store 删除构建产物 |
| get_store | `def get_store():` | 无 | 不适用 |
| parse_file_size | `def parse_file_size(metadata: Dict) -> int:` | 无 | 从 metadata 解析出文件大小 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppBucket | 无 | append | 无 | dataclass | 不适用 |
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/deploy/processes.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| ProcNotFoundInRes | paas_wl.bk_app.cnative.specs.procs.exceptions.ProcNotFoundInRes | 不适用 | module |
| BkAppProcScaler | paas_wl.bk_app.cnative.specs.procs.replicas.BkAppProcScaler | 不适用 | module |
| ProcAutoscalingHandler | paas_wl.bk_app.deploy.app_res.controllers.ProcAutoscalingHandler | new_by_app | module |
| ProcessesHandler | paas_wl.bk_app.deploy.app_res.controllers.ProcessesHandler | new_by_app | module |
| DEFAULT_CNATIVE_MAX_REPLICAS | paas_wl.bk_app.processes.constants.DEFAULT_CNATIVE_MAX_REPLICAS | 不适用 | module |
| ProcessTargetStatus | paas_wl.bk_app.processes.constants.ProcessTargetStatus | value, START, STOP | module |
| ProcControllerHub | paas_wl.bk_app.processes.controllers.ProcControllerHub | register_controller | module |
| ProcessNotFound | paas_wl.bk_app.processes.exceptions.ProcessNotFound | 不适用 | module |
| ScaleProcessError | paas_wl.bk_app.processes.exceptions.ScaleProcessError | 不适用 | module |
| ProcessSpec | paas_wl.bk_app.processes.models.ProcessSpec | get, objects, DoesNotExist | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | ENABLE_AUTOSCALING | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| get_client_by_cluster_name | paas_wl.infras.resources.base.base.get_client_by_cluster_name | 不适用 | module |
| KDeployment | paas_wl.infras.resources.base.kres.KDeployment | 不适用 | module |
| get_mapper_proc_config_latest | paas_wl.infras.resources.generation.mapper.get_mapper_proc_config_latest | 不适用 | module |
| get_proc_deployment_name | paas_wl.infras.resources.generation.version.get_proc_deployment_name | 不适用 | module |
| AutoscalingConfig | paas_wl.workloads.autoscaling.entities.AutoscalingConfig | 不适用 | module |
| ScalingObjectRef | paas_wl.workloads.autoscaling.entities.ScalingObjectRef | 不适用 | module |
| AutoscalingUnsupported | paas_wl.workloads.autoscaling.exceptions.AutoscalingUnsupported | 不适用 | module |
| ProcAutoscaling | paas_wl.workloads.autoscaling.kres_entities.ProcAutoscaling | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | DEFAULT, ENGINELESS_APP, CLOUD_NATIVE | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| ModuleProcessSpecManager | paasng.platform.bkapp_model.manager.ModuleProcessSpecManager | 不适用 | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | get, objects, DoesNotExist | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppProcessesController | 无 | __init__, start, stop, scale, _scale, _deploy_autoscaling, _disable_autoscaling, _get_spec, _build_proc_autoscaling | 无 | 无 | Controls app's processes, includes common operatio... |
| CNativeProcController | 无 | __init__, start, stop, scale, scale_static, disable_autoscaling_if_enabled, scale_auto, _get_module_process_spec | 无 | 无 | Process controller for cloud-native applications |
| ProcSpecUpdater | 无 | __init__, set_start, set_stop, change_replicas, set_autoscaling, spec_object | 无 | 无 | It update the ProcessSpec object for the given env... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/dev_sandbox/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/dev_sandbox/conf.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | DEV_SANDBOX_DEVSERVER_PORT, CONTAINER_PORT, CODE_EDITOR_PORT | module |
| IngressPathBackend | apiserver.paasng.paas_wl.bk_app.dev_sandbox.entities.IngressPathBackend | 不适用 | module |
| ServicePortPair | apiserver.paasng.paas_wl.bk_app.dev_sandbox.entities.ServicePortPair | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_ingress_path_backends | `def get_ingress_path_backends(service_name: str, service_confs: List[Dict], dev_sandbox_code: str = '') -> List[IngressPathBackend]:` | 无 | get ingress path backends from service_confs with ... |
| get_dev_sandbox_ingress_path_backends | `def get_dev_sandbox_ingress_path_backends(service_name: str, dev_sandbox_code: str = '') -> List[IngressPathBackend]:` | 无 | 不适用 |
| get_code_editor_ingress_path_backends | `def get_code_editor_ingress_path_backends(service_name: str, dev_sandbox_code: str = '') -> List[IngressPathBackend]:` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paas_wl/bk_app/dev_sandbox/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SourceCodeFetchMethod | blue_krill.data_types.enum.StrStructuredEnum | 无 | HTTP, GIT, BK_REPO | 无 | 不适用 |
| DevSandboxStatus | blue_krill.data_types.enum.StrStructuredEnum | 无 | ACTIVE, ERROR | 无 | 沙箱状态 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/dev_sandbox/controller.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | DEV_SANDBOX_IMAGE, DEFAULT_PERSISTENT_STORAGE_CLASS_NAME, DEV_SANDBOX_WORKSPACE, CODE_EDITOR_START_DIR, CODE_EDITOR_IMAGE | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| NamespacesHandler | paas_wl.bk_app.deploy.app_res.controllers.NamespacesHandler | new_by_app | module |
| SourceCodeFetchMethod | paas_wl.bk_app.dev_sandbox.constants.SourceCodeFetchMethod | BK_REPO | module |
| CodeEditorConfig | paas_wl.bk_app.dev_sandbox.entities.CodeEditorConfig | 不适用 | module |
| DevSandboxDetail | paas_wl.bk_app.dev_sandbox.entities.DevSandboxDetail | 不适用 | module |
| DevSandboxWithCodeEditorDetail | paas_wl.bk_app.dev_sandbox.entities.DevSandboxWithCodeEditorDetail | 不适用 | module |
| DevSandboxWithCodeEditorUrls | paas_wl.bk_app.dev_sandbox.entities.DevSandboxWithCodeEditorUrls | 不适用 | module |
| HealthPhase | paas_wl.bk_app.dev_sandbox.entities.HealthPhase | UNKNOWN | module |
| Resources | paas_wl.bk_app.dev_sandbox.entities.Resources | 不适用 | module |
| ResourceSpec | paas_wl.bk_app.dev_sandbox.entities.ResourceSpec | 不适用 | module |
| Runtime | paas_wl.bk_app.dev_sandbox.entities.Runtime | 不适用 | module |
| SourceCodeConfig | paas_wl.bk_app.dev_sandbox.entities.SourceCodeConfig | 不适用 | module |
| CodeEditor | paas_wl.bk_app.dev_sandbox.kres_entities.CodeEditor | create | module |
| CodeEditorService | paas_wl.bk_app.dev_sandbox.kres_entities.CodeEditorService | create | module |
| DevSandbox | paas_wl.bk_app.dev_sandbox.kres_entities.DevSandbox | create | module |
| DevSandboxIngress | paas_wl.bk_app.dev_sandbox.kres_entities.DevSandboxIngress | create | module |
| DevSandboxService | paas_wl.bk_app.dev_sandbox.kres_entities.DevSandboxService | create | module |
| get_code_editor_name | paas_wl.bk_app.dev_sandbox.kres_entities.get_code_editor_name | 不适用 | module |
| get_dev_sandbox_name | paas_wl.bk_app.dev_sandbox.kres_entities.get_dev_sandbox_name | 不适用 | module |
| get_ingress_name | paas_wl.bk_app.dev_sandbox.kres_entities.get_ingress_name | 不适用 | module |
| AppEntityManager | paas_wl.infras.resources.kube_res.base.AppEntityManager | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| PersistentVolumeClaim | paas_wl.workloads.volume.persistent_volume_claim.kres_entities.PersistentVolumeClaim | 不适用 | module |
| pvc_kmodel | paas_wl.workloads.volume.persistent_volume_claim.kres_entities.pvc_kmodel | upsert | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| upload_source_code | paasng.platform.engine.utils.source.upload_source_code | 不适用 | module |
| DEFAULT_ENGINE_APP_PREFIX | paasng.platform.modules.constants.DEFAULT_ENGINE_APP_PREFIX | 不适用 | module |
| ModuleName | paasng.platform.modules.constants.ModuleName | value, DEFAULT | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| DevSandboxAlreadyExists | apiserver.paasng.paas_wl.bk_app.dev_sandbox.exceptions.DevSandboxAlreadyExists | 不适用 | module |
| DevSandboxResourceNotFound | apiserver.paasng.paas_wl.bk_app.dev_sandbox.exceptions.DevSandboxResourceNotFound | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_pvc_name | `def get_pvc_name(dev_wl_app: WlApp) -> str:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DevSandboxController | 无 | __init__, deploy, delete, get_sandbox_detail, _deploy | 无 | 无 | DevSandbox Controller

    :param app: Application... |
| DevSandboxWithCodeEditorController | 无 | __init__, deploy, _deploy, _create_dev_sandbox, _create_code_editor, delete, _get_url, get_detail | 无 | 无 | DevSandboxWithCodeEditor Controller,

    区别于 DevS... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/dev_sandbox/entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| settings | django.conf.settings | CODE_EDITOR_START_DIR | module |
| SourceCodeFetchMethod | paas_wl.bk_app.dev_sandbox.constants.SourceCodeFetchMethod | HTTP | module |
| ImagePullPolicy | paas_wl.workloads.release_controller.constants.ImagePullPolicy | ALWAYS | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| HealthPhase | blue_krill.data_types.enum.StrStructuredEnum | 无 | HEALTHY, PROGRESSING, UNHEALTHY, UNKNOWN | 无 | 不适用 |
| Runtime | 无 | 无 | 无 | dataclass | 容器运行相关配置 |
| ResourceSpec | 无 | to_dict | 无 | dataclass | 不适用 |
| Resources | 无 | to_dict | 无 | dataclass | 计算资源定义 |
| Status | 无 | to_health_phase | 无 | dataclass | 不适用 |
| ServicePortPair | 无 | 无 | 无 | dataclass | Service port pair |
| IngressPathBackend | 无 | 无 | 无 | dataclass | Ingress Path Backend object |
| IngressDomain | 无 | 无 | 无 | dataclass | Ingress Domain object |
| DevSandboxDetail | 无 | 无 | 无 | dataclass | 不适用 |
| DevSandboxWithCodeEditorUrls | 无 | __init__ | 无 | 无 | 不适用 |
| DevSandboxWithCodeEditorDetail | 无 | 无 | 无 | dataclass | 不适用 |
| SourceCodeConfig | 无 | 无 | 无 | dataclass | 源码持久化相关配置 |
| CodeEditorConfig | 无 | 无 | 无 | dataclass | 代码编辑器相关配置 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/dev_sandbox/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DevSandboxAlreadyExists | Exception | 无 | 无 | 无 | dev sandbox already exists exception |
| DevSandboxResourceNotFound | Exception | 无 | 无 | 无 | resource of dev sandbox not found exception |

---


### 模块: apiserver/paasng/paas_wl/bk_app/dev_sandbox/kres_entities/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| CodeEditor | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_entities.code_editor.CodeEditor | 不适用 | module |
| get_code_editor_name | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_entities.code_editor.get_code_editor_name | 不适用 | module |
| DevSandboxIngress | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_entities.ingress.DevSandboxIngress | 不适用 | module |
| get_ingress_name | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_entities.ingress.get_ingress_name | 不适用 | module |
| get_sub_domain_host | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_entities.ingress.get_sub_domain_host | 不适用 | module |
| DevSandbox | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_entities.sandbox.DevSandbox | 不适用 | module |
| get_dev_sandbox_name | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_entities.sandbox.get_dev_sandbox_name | 不适用 | module |
| CodeEditorService | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_entities.service.CodeEditorService | 不适用 | module |
| DevSandboxService | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_entities.service.DevSandboxService | 不适用 | module |
| get_code_editor_service_name | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_entities.service.get_code_editor_service_name | 不适用 | module |
| get_dev_sandbox_service_name | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_entities.service.get_dev_sandbox_service_name | 不适用 | module |





---


### 模块: apiserver/paasng/paas_wl/bk_app/dev_sandbox/kres_entities/code_editor.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| CodeEditorConfig | paas_wl.bk_app.dev_sandbox.entities.CodeEditorConfig | 不适用 | module |
| Resources | paas_wl.bk_app.dev_sandbox.entities.Resources | 不适用 | module |
| Runtime | paas_wl.bk_app.dev_sandbox.entities.Runtime | 不适用 | module |
| Status | paas_wl.bk_app.dev_sandbox.entities.Status | 不适用 | module |
| CodeEditorDeserializer | paas_wl.bk_app.dev_sandbox.kres_slzs.CodeEditorDeserializer | 不适用 | module |
| CodeEditorSerializer | paas_wl.bk_app.dev_sandbox.kres_slzs.CodeEditorSerializer | 不适用 | module |
| kres | paas_wl.infras.resources.base.kres | KDeployment | module |
| AppEntity | paas_wl.infras.resources.kube_res.base.AppEntity | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_code_editor_name | `def get_code_editor_name(dev_wl_app: WlApp) -> str:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CodeEditor | paas_wl.infras.resources.kube_res.base.AppEntity | create, construct_envs | 无 | dataclass | CodeEditor entity |

---


### 模块: apiserver/paasng/paas_wl/bk_app/dev_sandbox/kres_entities/ingress.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| List | typing.List | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| get_code_editor_ingress_path_backends | paas_wl.bk_app.dev_sandbox.conf.get_code_editor_ingress_path_backends | 不适用 | module |
| get_dev_sandbox_ingress_path_backends | paas_wl.bk_app.dev_sandbox.conf.get_dev_sandbox_ingress_path_backends | 不适用 | module |
| IngressDomain | paas_wl.bk_app.dev_sandbox.entities.IngressDomain | 不适用 | module |
| DevSandboxIngressDeserializer | paas_wl.bk_app.dev_sandbox.kres_slzs.DevSandboxIngressDeserializer | 不适用 | module |
| DevSandboxIngressSerializer | paas_wl.bk_app.dev_sandbox.kres_slzs.DevSandboxIngressSerializer | 不适用 | module |
| get_dev_sandbox_cluster | paas_wl.infras.cluster.utils.get_dev_sandbox_cluster | 不适用 | module |
| kres | paas_wl.infras.resources.base.kres | KIngress | module |
| AppEntity | paas_wl.infras.resources.kube_res.base.AppEntity | 不适用 | module |
| to_dns_safe | paas_wl.workloads.networking.entrance.utils.to_dns_safe | 不适用 | module |
| get_code_editor_service_name | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_entities.service.get_code_editor_service_name | 不适用 | module |
| get_dev_sandbox_service_name | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_entities.service.get_dev_sandbox_service_name | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_ingress_name | `def get_ingress_name(dev_wl_app: WlApp) -> str:` | 无 | 不适用 |
| get_sub_domain_host | `def get_sub_domain_host(app_code: str, wl_app: WlApp, module_name: str) -> str:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DevSandboxIngress | paas_wl.infras.resources.kube_res.base.AppEntity | __post_init__, create | 无 | dataclass | Ingress entity to expose DevContainerService |

---


### 模块: apiserver/paasng/paas_wl/bk_app/dev_sandbox/kres_entities/sandbox.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| Resources | paas_wl.bk_app.dev_sandbox.entities.Resources | 不适用 | module |
| Runtime | paas_wl.bk_app.dev_sandbox.entities.Runtime | 不适用 | module |
| SourceCodeConfig | paas_wl.bk_app.dev_sandbox.entities.SourceCodeConfig | 不适用 | module |
| Status | paas_wl.bk_app.dev_sandbox.entities.Status | 不适用 | module |
| DevSandboxDeserializer | paas_wl.bk_app.dev_sandbox.kres_slzs.DevSandboxDeserializer | 不适用 | module |
| DevSandboxSerializer | paas_wl.bk_app.dev_sandbox.kres_slzs.DevSandboxSerializer | 不适用 | module |
| kres | paas_wl.infras.resources.base.kres | KDeployment | module |
| AppEntity | paas_wl.infras.resources.kube_res.base.AppEntity | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_dev_sandbox_name | `def get_dev_sandbox_name(dev_wl_app: WlApp) -> str:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DevSandbox | paas_wl.infras.resources.kube_res.base.AppEntity | create, construct_envs | 无 | dataclass | DevSandbox entity |

---


### 模块: apiserver/paasng/paas_wl/bk_app/dev_sandbox/kres_entities/service.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| List | typing.List | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| CODE_EDITOR_SVC_PORT_PAIRS | paas_wl.bk_app.dev_sandbox.conf.CODE_EDITOR_SVC_PORT_PAIRS | 不适用 | module |
| DEV_SANDBOX_SVC_PORT_PAIRS | paas_wl.bk_app.dev_sandbox.conf.DEV_SANDBOX_SVC_PORT_PAIRS | 不适用 | module |
| ServicePortPair | paas_wl.bk_app.dev_sandbox.entities.ServicePortPair | 不适用 | module |
| CodeEditorServiceDeserializer | paas_wl.bk_app.dev_sandbox.kres_slzs.CodeEditorServiceDeserializer | 不适用 | module |
| CodeEditorServiceSerializer | paas_wl.bk_app.dev_sandbox.kres_slzs.CodeEditorServiceSerializer | 不适用 | module |
| DevSandboxServiceDeserializer | paas_wl.bk_app.dev_sandbox.kres_slzs.DevSandboxServiceDeserializer | 不适用 | module |
| DevSandboxServiceSerializer | paas_wl.bk_app.dev_sandbox.kres_slzs.DevSandboxServiceSerializer | 不适用 | module |
| kres | paas_wl.infras.resources.base.kres | KService | module |
| AppEntity | paas_wl.infras.resources.kube_res.base.AppEntity | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_dev_sandbox_service_name | `def get_dev_sandbox_service_name(dev_wl_app: WlApp) -> str:` | 无 | 不适用 |
| get_code_editor_service_name | `def get_code_editor_service_name(dev_wl_app: WlApp) -> str:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DevSandboxService | paas_wl.infras.resources.kube_res.base.AppEntity | __post_init__, create | 无 | dataclass | service entity to expose dev sandbox network |
| CodeEditorService | paas_wl.infras.resources.kube_res.base.AppEntity | __post_init__, create | 无 | dataclass | service entity to expose code editor network |

---


### 模块: apiserver/paasng/paas_wl/bk_app/dev_sandbox/kres_slzs/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| CodeEditorDeserializer | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_slzs.code_editor.CodeEditorDeserializer | 不适用 | module |
| CodeEditorSerializer | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_slzs.code_editor.CodeEditorSerializer | 不适用 | module |
| DevSandboxIngressDeserializer | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_slzs.ingress.DevSandboxIngressDeserializer | 不适用 | module |
| DevSandboxIngressSerializer | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_slzs.ingress.DevSandboxIngressSerializer | 不适用 | module |
| DevSandboxDeserializer | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_slzs.sandbox.DevSandboxDeserializer | 不适用 | module |
| DevSandboxSerializer | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_slzs.sandbox.DevSandboxSerializer | 不适用 | module |
| get_code_editor_labels | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_slzs.sandbox.get_code_editor_labels | 不适用 | module |
| get_dev_sandbox_labels | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_slzs.sandbox.get_dev_sandbox_labels | 不适用 | module |
| CodeEditorServiceDeserializer | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_slzs.service.CodeEditorServiceDeserializer | 不适用 | module |
| CodeEditorServiceSerializer | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_slzs.service.CodeEditorServiceSerializer | 不适用 | module |
| DevSandboxServiceDeserializer | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_slzs.service.DevSandboxServiceDeserializer | 不适用 | module |
| DevSandboxServiceSerializer | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_slzs.service.DevSandboxServiceSerializer | 不适用 | module |





---


### 模块: apiserver/paasng/paas_wl/bk_app/dev_sandbox/kres_slzs/code_editor.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | MAX_RS_RETAIN, CODE_EDITOR_PORT | module |
| ResourceField | kubernetes.dynamic.ResourceField | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| CODE_EDITOR_SVC_PORT_PAIRS | paas_wl.bk_app.dev_sandbox.conf.CODE_EDITOR_SVC_PORT_PAIRS | 不适用 | module |
| CodeEditorConfig | paas_wl.bk_app.dev_sandbox.entities.CodeEditorConfig | 不适用 | module |
| Resources | paas_wl.bk_app.dev_sandbox.entities.Resources | 不适用 | module |
| Runtime | paas_wl.bk_app.dev_sandbox.entities.Runtime | 不适用 | module |
| Status | paas_wl.bk_app.dev_sandbox.entities.Status | 不适用 | module |
| get_code_editor_labels | paas_wl.bk_app.dev_sandbox.kres_slzs.sandbox.get_code_editor_labels | 不适用 | module |
| AppEntityDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | 不适用 | module |
| AppEntitySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | 不适用 | module |
| ImagePullPolicy | paas_wl.workloads.release_controller.constants.ImagePullPolicy | IF_NOT_PRESENT | module |
| get_items | paasng.utils.dictx.get_items | 不适用 | module |
| CodeEditor | paas_wl.bk_app.dev_sandbox.kres_entities.CodeEditor | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CodeEditorSerializer | AppEntitySerializer['CodeEditor'] | serialize, _construct_pod_spec, _set_volume_mounts | 无 | 无 | 不适用 |
| CodeEditorDeserializer | AppEntityDeserializer['CodeEditor'] | deserialize, _get_main_container, _get_main_container_dict, _construct_config | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/dev_sandbox/kres_slzs/ingress.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | APP_INGRESS_CLASS | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| IngressDomain | paas_wl.bk_app.dev_sandbox.entities.IngressDomain | 不适用 | module |
| IngressPathBackend | paas_wl.bk_app.dev_sandbox.entities.IngressPathBackend | 不适用 | module |
| AppEntityDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | 不适用 | module |
| AppEntitySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | 不适用 | module |
| ANNOT_CONFIGURATION_SNIPPET | paas_wl.workloads.networking.ingress.constants.ANNOT_CONFIGURATION_SNIPPET | 不适用 | module |
| ANNOT_REWRITE_TARGET | paas_wl.workloads.networking.ingress.constants.ANNOT_REWRITE_TARGET | 不适用 | module |
| ANNOT_SKIP_FILTER_CLB | paas_wl.workloads.networking.ingress.constants.ANNOT_SKIP_FILTER_CLB | 不适用 | module |
| ANNOT_SSL_REDIRECT | paas_wl.workloads.networking.ingress.constants.ANNOT_SSL_REDIRECT | 不适用 | module |
| NginxRegexRewrittenProvider | paas_wl.workloads.networking.ingress.kres_slzs.utils.NginxRegexRewrittenProvider | 不适用 | module |
| DevSandboxIngress | paas_wl.bk_app.dev_sandbox.kres_entities.DevSandboxIngress | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DevSandboxIngressSerializer | AppEntitySerializer['DevSandboxIngress'] | get_api_version_from_gvk, serialize | 无 | 无 | Serializer for DevContainerIngress in ApiVersion n... |
| DevSandboxIngressDeserializer | AppEntityDeserializer['DevSandboxIngress'] | deserialize, _parse_ingress_domains, _parse_backends | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/dev_sandbox/kres_slzs/sandbox.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | MAX_RS_RETAIN, DEV_SANDBOX_DEVSERVER_PORT | module |
| ResourceField | kubernetes.dynamic.ResourceField | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| DEV_SANDBOX_SVC_PORT_PAIRS | paas_wl.bk_app.dev_sandbox.conf.DEV_SANDBOX_SVC_PORT_PAIRS | 不适用 | module |
| SourceCodeFetchMethod | paas_wl.bk_app.dev_sandbox.constants.SourceCodeFetchMethod | value, HTTP | module |
| Resources | paas_wl.bk_app.dev_sandbox.entities.Resources | 不适用 | module |
| Runtime | paas_wl.bk_app.dev_sandbox.entities.Runtime | 不适用 | module |
| SourceCodeConfig | paas_wl.bk_app.dev_sandbox.entities.SourceCodeConfig | 不适用 | module |
| Status | paas_wl.bk_app.dev_sandbox.entities.Status | 不适用 | module |
| AppEntityDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | 不适用 | module |
| AppEntitySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | 不适用 | module |
| ImagePullPolicy | paas_wl.workloads.release_controller.constants.ImagePullPolicy | IF_NOT_PRESENT | module |
| get_items | paasng.utils.dictx.get_items | 不适用 | module |
| DevSandbox | paas_wl.bk_app.dev_sandbox.kres_entities.DevSandbox | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_dev_sandbox_labels | `def get_dev_sandbox_labels(app: WlApp) -> Dict[str, str]:` | 无 | get deployment labels for dev_sandbox by WlApp |
| get_code_editor_labels | `def get_code_editor_labels(app: WlApp) -> Dict[str, str]:` | 无 | get deployment labels for code_editor by WlApp |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DevSandboxSerializer | AppEntitySerializer['DevSandbox'] | serialize, _construct_pod_spec, _set_volume_mounts | 无 | 无 | 不适用 |
| DevSandboxDeserializer | AppEntityDeserializer['DevSandbox'] | deserialize, _get_main_container, _get_main_container_dict, _construct_source_code_config | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/dev_sandbox/kres_slzs/service.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| AppEntityDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | 不适用 | module |
| AppEntitySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | 不适用 | module |
| get_code_editor_labels | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_slzs.sandbox.get_code_editor_labels | 不适用 | module |
| get_dev_sandbox_labels | apiserver.paasng.paas_wl.bk_app.dev_sandbox.kres_slzs.sandbox.get_dev_sandbox_labels | 不适用 | module |
| CodeEditorService | paas_wl.bk_app.dev_sandbox.kres_entities.CodeEditorService | 不适用 | module |
| DevSandboxService | paas_wl.bk_app.dev_sandbox.kres_entities.DevSandboxService | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DevSandboxServiceSerializer | AppEntitySerializer['DevSandboxService'] | serialize | 无 | 无 | 不适用 |
| DevSandboxServiceDeserializer | AppEntityDeserializer['DevSandboxService'] | deserialize | 无 | 无 | 不适用 |
| CodeEditorServiceSerializer | AppEntitySerializer['CodeEditorService'] | serialize | 无 | 无 | 不适用 |
| CodeEditorServiceDeserializer | AppEntityDeserializer['CodeEditorService'] | deserialize | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/mgrlegacy/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/mgrlegacy/processes.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| ProcessesInfo | paas_wl.bk_app.processes.controllers.ProcessesInfo | 不适用 | module |
| Process | paas_wl.bk_app.processes.kres_entities.Process | 不适用 | module |
| instance_kmodel | paas_wl.bk_app.processes.readers.instance_kmodel | list_by_app_with_meta | module |
| process_kmodel | paas_wl.bk_app.processes.readers.process_kmodel | list_by_app_with_meta | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_processes_info | `def get_processes_info(wl_app: WlApp) -> ProcessesInfo:` | 无 | get processes info by wl_app |


---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/app_monitor/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/app_monitor/apps.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppMonitorConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/app_monitor/constants.py




#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| METRICS_PATH | /metrics | `METRICS_PATH = '/metrics'` | module |
| METRICS_PORT_NAME | metrics | `METRICS_PORT_NAME = 'metrics'` | module |
| METRICS_PORT_PROTOCOL | TCP | `METRICS_PORT_PROTOCOL = 'TCP'` | module |
| METRICS_INTERVAL | 60s | `METRICS_INTERVAL = '60s'` | module |



---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/app_monitor/entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Endpoint | 无 | 无 | 无 | dataclass | 
    Metric Endpoint

    :param interval: 蓝鲸监控采集 ... |
| ServiceSelector | 无 | 无 | 无 | dataclass | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/app_monitor/kres_entities.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| List | typing.List | 不适用 | module |
| KServiceMonitor | paas_wl.infras.resources.base.crd.KServiceMonitor | 不适用 | module |
| AppEntity | paas_wl.infras.resources.kube_res.base.AppEntity | 不适用 | module |
| AppEntityManager | paas_wl.infras.resources.kube_res.base.AppEntityManager | 不适用 | module |
| Endpoint | apiserver.paasng.paas_wl.bk_app.monitoring.app_monitor.entities.Endpoint | 不适用 | module |
| ServiceSelector | apiserver.paasng.paas_wl.bk_app.monitoring.app_monitor.entities.ServiceSelector | 不适用 | module |
| ServiceMonitorDeserializer | apiserver.paasng.paas_wl.bk_app.monitoring.app_monitor.kres_slzs.ServiceMonitorDeserializer | 不适用 | module |
| ServiceMonitorSerializer | apiserver.paasng.paas_wl.bk_app.monitoring.app_monitor.kres_slzs.ServiceMonitorSerializer | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ServiceMonitor | paas_wl.infras.resources.kube_res.base.AppEntity | 无 | 无 | dataclass | ServiceMonitor 通过 selector 过滤需要监控的 Service, 并通过访问 ... |

---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/app_monitor/kres_slzs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| AppEntityDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | 不适用 | module |
| AppEntitySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | 不适用 | module |
| Endpoint | apiserver.paasng.paas_wl.bk_app.monitoring.app_monitor.entities.Endpoint | 不适用 | module |
| ServiceSelector | apiserver.paasng.paas_wl.bk_app.monitoring.app_monitor.entities.ServiceSelector | 不适用 | module |
| ServiceMonitor | paas_wl.bk_app.monitoring.app_monitor.kres_entities.ServiceMonitor | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ServiceMonitorDeserializer | AppEntityDeserializer['ServiceMonitor'] | deserialize | api_version | 无 | 不适用 |
| ServiceMonitorSerializer | AppEntitySerializer['ServiceMonitor'] | serialize, _construct_endpoints_spec | api_version | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/app_monitor/managers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | BKMONITOR_METRIC_RELABELINGS | module |
| get_metadata | paas_wl.bk_app.applications.managers.get_metadata | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| constants | paas_wl.bk_app.monitoring.app_monitor.constants | METRICS_INTERVAL, METRICS_PATH, METRICS_PORT_NAME | module |
| Endpoint | paas_wl.bk_app.monitoring.app_monitor.kres_entities.Endpoint | 不适用 | module |
| ServiceMonitor | paas_wl.bk_app.monitoring.app_monitor.kres_entities.ServiceMonitor | 不适用 | module |
| ServiceSelector | paas_wl.bk_app.monitoring.app_monitor.kres_entities.ServiceSelector | 不适用 | module |
| service_monitor_kmodel | paas_wl.bk_app.monitoring.app_monitor.kres_entities.service_monitor_kmodel | get, save, update, delete_by_name | module |
| AppMetricsMonitor | paas_wl.bk_app.monitoring.app_monitor.models.AppMetricsMonitor | get, objects, DoesNotExist | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| build_service_monitor_name | `def build_service_monitor_name(app: WlApp) -> str:` | 无 | Generate the ServiceMonitor name |
| build_service_monitor | `def build_service_monitor(monitor: AppMetricsMonitor) -> ServiceMonitor:` | 无 | Generate the desired ServiceMonitor object

    :r... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppMonitorController | 无 | __init__, create_or_patch, remove | 无 | 无 | 不适用 |
| NullController | 无 | create_or_patch, remove | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/app_monitor/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, IntegerField, BooleanField, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/app_monitor/migrations/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/app_monitor/models.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| models | django.db.models | OneToOneField, CASCADE, BooleanField, IntegerField | module |
| AuditedModel | paas_wl.bk_app.applications.models.AuditedModel | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppMetricsMonitor | paas_wl.bk_app.applications.models.AuditedModel | disable | app, is_enabled, port, target_port | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/app_monitor/shim.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | ENABLE_BK_MONITOR | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| AppMonitorController | paas_wl.bk_app.monitoring.app_monitor.managers.AppMonitorController | 不适用 | module |
| NullController | paas_wl.bk_app.monitoring.app_monitor.managers.NullController | 不适用 | module |
| AppMetricsMonitor | paas_wl.bk_app.monitoring.app_monitor.models.AppMetricsMonitor | update_or_create, objects | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_bk_monitor_controller | `def make_bk_monitor_controller(app: WlApp):` | 无 | 不适用 |
| upsert_app_monitor | `def upsert_app_monitor(env: ModuleEnvironment, port: int, target_port: int):` | 无 | 更新或创建蓝鲸监控相关资源(ServiceMonitor)的配置

    - AppMetrics... |


---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/app_monitor/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| constants | paas_wl.bk_app.monitoring.app_monitor.constants | METRICS_PORT_NAME, METRICS_PORT_PROTOCOL | module |
| AppMetricsMonitor | paas_wl.bk_app.monitoring.app_monitor.models.AppMetricsMonitor | get, objects, DoesNotExist | module |
| PServicePortPair | paas_wl.workloads.networking.ingress.entities.PServicePortPair | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| build_monitor_port | `def build_monitor_port(app: WlApp) -> Optional[PServicePortPair]:` | 无 | Generate the build-in metrics port objects |


---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/bklog/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/bklog/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| BKAPP_NAME_ANNO_KEY | bkapp.paas.bk.tencent.com/name | `BKAPP_NAME_ANNO_KEY = 'bkapp.paas.bk.tencent.com/name'` | module |
| BKAPP_CODE_ANNO_KEY | bkapp.paas.bk.tencent.com/code | `BKAPP_CODE_ANNO_KEY = 'bkapp.paas.bk.tencent.com/code'` | module |
| MODULE_NAME_ANNO_KEY | bkapp.paas.bk.tencent.com/module-name | `MODULE_NAME_ANNO_KEY = 'bkapp.paas.bk.tencent.com/module-name'` | module |
| ENVIRONMENT_ANNO_KEY | bkapp.paas.bk.tencent.com/environment | `ENVIRONMENT_ANNO_KEY = 'bkapp.paas.bk.tencent.com/environment'` | module |
| WLAPP_NAME_ANNO_KEY | bkapp.paas.bk.tencent.com/wl-app-name | `WLAPP_NAME_ANNO_KEY = 'bkapp.paas.bk.tencent.com/wl-app-name'` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkLogConfigType | blue_krill.data_types.enum.StrStructuredEnum | 无 | STD_LOG, CONTAINER_LOG, NODE_LOG | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/bklog/entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Literal | typing.Literal | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MatchExpression | 无 | 无 | 无 | dataclass | 不适用 |
| LabelSelector | 无 | 无 | 无 | dataclass | K8S LabelSelector is a label query over a set of r... |
| LogFilterCondition | 无 | 无 | 无 | dataclass | Condition is bkunifylogbeat filter rule |

---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/bklog/kres_entities.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Literal | typing.Literal | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BkLogConfigType | paas_wl.bk_app.monitoring.bklog.constants.BkLogConfigType | CONTAINER_LOG | module |
| LabelSelector | paas_wl.bk_app.monitoring.bklog.entities.LabelSelector | 不适用 | module |
| LogFilterCondition | paas_wl.bk_app.monitoring.bklog.entities.LogFilterCondition | 不适用 | module |
| BKLogConfigDeserializer | paas_wl.bk_app.monitoring.bklog.kres_slzs.BKLogConfigDeserializer | 不适用 | module |
| BKLogConfigSerializer | paas_wl.bk_app.monitoring.bklog.kres_slzs.BKLogConfigSerializer | 不适用 | module |
| crd | paas_wl.infras.resources.base.crd | BKLogConfig | module |
| AppEntity | paas_wl.infras.resources.kube_res.base.AppEntity | 不适用 | module |
| AppEntityManager | paas_wl.infras.resources.kube_res.base.AppEntityManager | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| bklog_config_kmodel | 不适用 | `bklog_config_kmodel = BkAppLogConfigManager()` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkAppLogConfig | paas_wl.infras.resources.kube_res.base.AppEntity | 无 | 无 | dataclass | BkAppLogConfig 蓝鲸日志采集项配置

    :param data_id: 采集项I... |
| BkAppLogConfigManager | AppEntityManager[BkAppLogConfig] | __init__, delete | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/bklog/kres_slzs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattrs | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| asdict | dataclasses.asdict | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| get_metadata | paas_wl.bk_app.applications.managers.get_metadata | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| constants | paas_wl.bk_app.monitoring.bklog.constants | BKAPP_CODE_ANNO_KEY, MODULE_NAME_ANNO_KEY, ENVIRONMENT_ANNO_KEY, WLAPP_NAME_ANNO_KEY | module |
| LabelSelector | paas_wl.bk_app.monitoring.bklog.entities.LabelSelector | 不适用 | module |
| LogFilterCondition | paas_wl.bk_app.monitoring.bklog.entities.LogFilterCondition | 不适用 | module |
| AppEntityDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | 不适用 | module |
| AppEntitySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | 不适用 | module |
| BkAppLogConfig | paas_wl.bk_app.monitoring.bklog.kres_entities.BkAppLogConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKLogConfigSerializer | AppEntitySerializer['BkAppLogConfig'] | serialize | api_version | 无 | 不适用 |
| BKLogConfigDeserializer | AppEntityDeserializer['BkAppLogConfig'] | deserialize | api_version | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/bklog/managers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_metadata | paas_wl.bk_app.applications.managers.get_metadata | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| MODULE_NAME_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.MODULE_NAME_ANNO_KEY | 不适用 | module |
| BkLogConfigType | paas_wl.bk_app.monitoring.bklog.constants.BkLogConfigType | CONTAINER_LOG, STD_LOG | module |
| BkAppLogConfig | paas_wl.bk_app.monitoring.bklog.kres_entities.BkAppLogConfig | 不适用 | module |
| LabelSelector | paas_wl.bk_app.monitoring.bklog.kres_entities.LabelSelector | 不适用 | module |
| bklog_config_kmodel | paas_wl.bk_app.monitoring.bklog.kres_entities.bklog_config_kmodel | get, save, update, delete | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| CustomCollectorConfig | paasng.accessories.log.models.CustomCollectorConfig | filter, objects | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| build_bklog_config_crd | `def build_bklog_config_crd(wl_app: WlApp, custom_collector_config: CustomCollectorConfig) -> BkAppLogConfig:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppLogConfigController | 无 | __init__, create_or_patch, remove | 无 | 无 | 不适用 |
| NullController | 无 | create_or_patch, remove | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/monitoring/bklog/shim.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppLogConfigController | paas_wl.bk_app.monitoring.bklog.managers.AppLogConfigController | 不适用 | module |
| NullController | paas_wl.bk_app.monitoring.bklog.managers.NullController | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | ENABLE_BK_LOG_COLLECTOR | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_bk_log_controller | `def make_bk_log_controller(env: ModuleEnvironment):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/apps.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |
| initialize_default_proc_spec_plans | paas_wl.bk_app.processes.models.initialize_default_proc_spec_plans | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessesConfig | django.apps.AppConfig | ready | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| PROCESS_NAME_KEY | bkapp.paas.bk.tencent.com/process-name | `PROCESS_NAME_KEY = 'bkapp.paas.bk.tencent.com/process-name'` | module |
| PROCESS_MAPPER_VERSION_KEY | bkapp.paas.bk.tencent.com/process-mapper-version | `PROCESS_MAPPER_VERSION_KEY = 'bkapp.paas.bk.tencent.com/process-mapper-version'` | module |
| DEFAULT_CNATIVE_MAX_REPLICAS | 10 | `DEFAULT_CNATIVE_MAX_REPLICAS = 10` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessUpdateType | blue_krill.data_types.enum.StrStructuredEnum | 无 | START, STOP, SCALE | 无 | Type of updating processes |
| ProcessTargetStatus | blue_krill.data_types.enum.StrStructuredEnum | 无 | START, STOP | 无 | Choices of process status |
| ProbeType | blue_krill.data_types.enum.StrStructuredEnum | 无 | READINESS, LIVENESS, STARTUP | 无 | Choices of probe type |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/controllers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | timedelta | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| NamedTuple | typing.NamedTuple | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Protocol | typing.Protocol | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| timezone | django.utils.timezone | now | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | CLOUD_NATIVE | module |
| Release | paas_wl.bk_app.applications.models.Release | get_latest, objects, DoesNotExist | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| ProcessOperationTooOften | paas_wl.bk_app.processes.exceptions.ProcessOperationTooOften | 不适用 | module |
| Process | paas_wl.bk_app.processes.kres_entities.Process | 不适用 | module |
| ProcessSpec | paas_wl.bk_app.processes.models.ProcessSpec | get, objects, DoesNotExist | module |
| instance_kmodel | paas_wl.bk_app.processes.readers.instance_kmodel | list_by_app_with_meta | module |
| ns_instance_kmodel | paas_wl.bk_app.processes.readers.ns_instance_kmodel | list_by_ns_with_mdata | module |
| ns_process_kmodel | paas_wl.bk_app.processes.readers.ns_process_kmodel | list_by_ns_with_mdata | module |
| process_kmodel | paas_wl.bk_app.processes.readers.process_kmodel | list_by_app_with_meta | module |
| AutoscalingConfig | paas_wl.workloads.autoscaling.entities.AutoscalingConfig | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| judge_operation_frequent | `def judge_operation_frequent(app: WlApp, proc_type: str, operation_interval: datetime.timedelta):` | 无 | 检查 process 操作是否频繁

    - Only normal app which own... |
| list_ns_processes | `def list_ns_processes(cluster_name: str, namespace: str) -> ProcessesInfo:` | 无 | list the real-time processes in given namespace |
| list_processes | `def list_processes(env: ModuleEnvironment) -> ProcessesInfo:` | 无 | list the real-time processes of given env


    1.... |
| get_proc_ctl | `def get_proc_ctl(env: ModuleEnvironment) -> ProcController:` | 无 | Get a process controller by env |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessesInfo | typing.NamedTuple | 无 | 无 | 无 | real-time processes info |
| ProcController | typing.Protocol | __init__, start, stop, scale | 无 | 无 | Control app's processes |
| ProcControllerHub | 无 | register_controller, get | 无 | 无 | Get proc controller by different application type. |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ImagePullPolicy | paas_wl.workloads.release_controller.constants.ImagePullPolicy | IF_NOT_PRESENT | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Resources | 无 | 无 | 无 | dataclass | 计算资源定义 |
| Runtime | 无 | 无 | 无 | dataclass | 运行相关 |
| Probe | 无 | 无 | 无 | dataclass | 不适用 |
| Status | 无 | to_dict | 无 | dataclass | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/exceptions.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| re | search | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| force_str | django.utils.encoding.force_str | 不适用 | module |
| NotFoundError | kubernetes.dynamic.exceptions.NotFoundError | 不适用 | module |
| AppEntityDeserializeError | paas_wl.infras.resources.kube_res.exceptions.AppEntityDeserializeError | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessOperationTooOften | Exception | 无 | 无 | 无 | 进程操作过于频繁 |
| ProcessNotFound | Exception | 无 | 无 | 无 | Unable to find the process |
| ScaleProcessError | Exception | __init__, caused_by_not_found | 无 | 无 | Unable to scale process due to internal errors.

 ... |
| UnknownProcessTypeError | paas_wl.infras.resources.kube_res.exceptions.AppEntityDeserializeError | 无 | 无 | 无 | Unable to detect process type from Deployment/Pod |
| PreviousInstanceNotFound | Exception | 无 | 无 | 无 | Unable to find the previous instance |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/kres_entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| ResourceField | kubernetes.dynamic.ResourceField | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | DEFAULT | module |
| Release | paas_wl.bk_app.applications.models.Release | 不适用 | module |
| Probe | paas_wl.bk_app.processes.entities.Probe | 不适用 | module |
| Resources | paas_wl.bk_app.processes.entities.Resources | 不适用 | module |
| Runtime | paas_wl.bk_app.processes.entities.Runtime | 不适用 | module |
| Status | paas_wl.bk_app.processes.entities.Status | 不适用 | module |
| InstanceDeserializer | paas_wl.bk_app.processes.kres_slzs.InstanceDeserializer | 不适用 | module |
| ProcessDeserializer | paas_wl.bk_app.processes.kres_slzs.ProcessDeserializer | 不适用 | module |
| ProcessSerializer | paas_wl.bk_app.processes.kres_slzs.ProcessSerializer | 不适用 | module |
| get_structure | paas_wl.core.app_structure.get_structure | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| kres | paas_wl.infras.resources.base.kres | KPod, KDeployment | module |
| AppResVerManager | paas_wl.infras.resources.generation.version.AppResVerManager | 不适用 | module |
| AppEntity | paas_wl.infras.resources.kube_res.base.AppEntity | 不适用 | module |
| Schedule | paas_wl.infras.resources.kube_res.base.Schedule | 不适用 | module |
| get_full_node_selector | paas_wl.infras.resources.utils.basic.get_full_node_selector | 不适用 | module |
| get_full_tolerations | paas_wl.infras.resources.utils.basic.get_full_tolerations | 不适用 | module |
| VarsRenderContext | paas_wl.utils.env_vars.VarsRenderContext | 不适用 | module |
| render_vars_dict | paas_wl.utils.env_vars.render_vars_dict | 不适用 | module |
| make_image_pull_secret_name | paas_wl.workloads.images.utils.make_image_pull_secret_name | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Instance | paas_wl.infras.resources.kube_res.base.AppEntity | shorter_name, get_shorter_instance_name | 无 | dataclass | 副本实例定义

    肩负着内部程序流转和 K8S 交互的重任

    :param proce... |
| Process | paas_wl.infras.resources.kube_res.base.AppEntity | from_release, main_container_name, available_instance_count, fulfill_runtime | 无 | dataclass | 进程定义

    肩负着内部程序流转和 K8S 交互的重任
     |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/kres_slzs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure, unstructure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| settings | django.conf.settings | MAX_RS_RETAIN, CONTAINER_PORT | module |
| ResourceField | kubernetes.dynamic.ResourceField | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | DEFAULT | module |
| Release | paas_wl.bk_app.applications.models.Release | get_by_version, objects, DoesNotExist | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| BKPAAS_DEPLOY_ID_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.BKPAAS_DEPLOY_ID_ANNO_KEY | 不适用 | module |
| PROCESS_MAPPER_VERSION_KEY | paas_wl.bk_app.processes.constants.PROCESS_MAPPER_VERSION_KEY | 不适用 | module |
| PROCESS_NAME_KEY | paas_wl.bk_app.processes.constants.PROCESS_NAME_KEY | 不适用 | module |
| Resources | paas_wl.bk_app.processes.entities.Resources | 不适用 | module |
| Runtime | paas_wl.bk_app.processes.entities.Runtime | 不适用 | module |
| UnknownProcessTypeError | paas_wl.bk_app.processes.exceptions.UnknownProcessTypeError | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| get_app_logging_volume | paas_wl.infras.resource_templates.logging.get_app_logging_volume | 不适用 | module |
| get_app_logging_volume_mounts | paas_wl.infras.resource_templates.logging.get_app_logging_volume_mounts | 不适用 | module |
| AddonManager | paas_wl.infras.resource_templates.managers.AddonManager | 不适用 | module |
| ProcessProbeManager | paas_wl.infras.resource_templates.managers.ProcessProbeManager | 不适用 | module |
| AppEntityDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | 不适用 | module |
| AppEntitySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | 不适用 | module |
| HealthStatus | paas_wl.utils.kubestatus.HealthStatus | 不适用 | module |
| HealthStatusType | paas_wl.utils.kubestatus.HealthStatusType | HEALTHY, UNHEALTHY, PROGRESSING | module |
| check_pod_health_status | paas_wl.utils.kubestatus.check_pod_health_status | 不适用 | module |
| parse_pod | paas_wl.utils.kubestatus.parse_pod | 不适用 | module |
| ImagePullPolicy | paas_wl.workloads.release_controller.constants.ImagePullPolicy | IF_NOT_PRESENT | module |
| get_items | paasng.utils.dictx.get_items | 不适用 | module |
| Instance | paas_wl.bk_app.processes.kres_entities.Instance | 不适用 | module |
| Process | paas_wl.bk_app.processes.kres_entities.Process | 不适用 | module |
| MapperPack | paas_wl.infras.resources.generation.mapper.MapperPack | 不适用 | module |
| Schedule | paas_wl.bk_app.processes.kres_entities.Schedule | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| extract_type_from_name | `def extract_type_from_name(name: str, namespace: str) -> Optional[str]:` | 无 | Extract process type from Pod/Deployment name. Thi... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessDeserializer | AppEntityDeserializer['Process'] | deserialize, _deserialize_for_default_app, _deserialize_for_cnative_app, _get_process_type, _get_main_container | 无 | 无 | Deserializer for Process |
| InstanceDeserializer | AppEntityDeserializer['Instance'] | deserialize, _get_main_container, get_process_type, extract_rich_status, parse_instance_state | 无 | 无 | Deserializer for Instance |
| ProcessSerializer | AppEntitySerializer['Process'] | serialize, _construct_pod_body_specs | 无 | 无 | Serializer for process |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/managers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Release | paas_wl.bk_app.applications.models.Release | get_latest, objects | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| Process | paas_wl.bk_app.processes.kres_entities.Process | from_release | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppProcessManager | 无 | assemble_process, assemble_processes | 无 | dataclass | 从 WlApp 维度操作 Process |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | DO_NOTHING, deletion, models, db, CASCADE | module |
| jsonfield.fields | JSONField, fields | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, CharField, IntegerField, BooleanField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/migrations/0002_auto_20220830_1129.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField, AlterUniqueTogether, RemoveField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/migrations/0003_auto_20230328_1719.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| jsonfield.fields | JSONField, fields | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/migrations/0004_processprobe.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| paas_wl.bk_app.processes.models | ProbeHandlerField, models, processes, bk_app | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, IntegerField, PositiveIntegerField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/migrations/0005_auto_20231013_1115.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paas_wl.workloads.release_controller.constants | ImagePullPolicy, constants, release_controller, workloads | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | JSONField, CharField, IntegerField, TextField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/migrations/0006_alter_processspec_scaling_config.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paas_wl.bk_app.processes.models | AutoscalingConfigField, models, processes, bk_app | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/migrations/0007_auto_20231127_1756.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| json | loads, JSONDecodeError | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |
| AutoscalingConfig | paas_wl.workloads.autoscaling.entities.AutoscalingConfig | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| fix_invalid_scaling_config_data | `def fix_invalid_scaling_config_data(apps, schema_editor):` | 无 | 修复 PorcessSpec.scaling_config 为空时, 由历史代码写入数据库的不规范数... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/migrations/0008_auto_20240407_1349.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RemoveField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/migrations/__init__.py







---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| unstructure | cattr.unstructure | 不适用 | module |
| settings | django.conf.settings | DEFAULT_PROC_SPEC_PLAN, get, ENGINE_PROC_REPLICAS_BY_TYPE, DEFAULT_PROC_SPEC_PLANS | module |
| models | django.db.models | Manager, Model, CharField, IntegerField, BooleanField, DateTimeField, ForeignKey, DO_NOTHING, TextField, JSONField, CASCADE, PositiveIntegerField | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | CLOUD_NATIVE | module |
| get_metadata | paas_wl.bk_app.applications.managers.get_metadata | 不适用 | module |
| ResQuotaPlan | paas_wl.bk_app.cnative.specs.constants.ResQuotaPlan | P_DEFAULT, get_values | module |
| PLAN_TO_LIMIT_QUOTA_MAP | paas_wl.bk_app.cnative.specs.procs.quota.PLAN_TO_LIMIT_QUOTA_MAP | 不适用 | module |
| PLAN_TO_REQUEST_QUOTA_MAP | paas_wl.bk_app.cnative.specs.procs.quota.PLAN_TO_REQUEST_QUOTA_MAP | 不适用 | module |
| DEFAULT_CNATIVE_MAX_REPLICAS | paas_wl.bk_app.processes.constants.DEFAULT_CNATIVE_MAX_REPLICAS | 不适用 | module |
| ProbeType | paas_wl.bk_app.processes.constants.ProbeType | get_django_choices, READINESS, LIVENESS, STARTUP | module |
| ProcessTargetStatus | paas_wl.bk_app.processes.constants.ProcessTargetStatus | STOP, value, START | module |
| set_global_get_structure | paas_wl.core.app_structure.set_global_get_structure | 不适用 | module |
| TimestampedModel | paas_wl.utils.models.TimestampedModel | 不适用 | module |
| AutoscalingConfig | paas_wl.workloads.autoscaling.entities.AutoscalingConfig | 不适用 | module |
| ProbeHandler | paasng.platform.bkapp_model.entities.ProbeHandler | 不适用 | module |
| ProcessTmpl | paasng.platform.engine.models.deployment.ProcessTmpl | 不适用 | module |
| make_json_field | paasng.utils.models.make_json_field | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| PROC_DEFAULT_REPLICAS | 1 | `PROC_DEFAULT_REPLICAS = 1` | module |
| AutoscalingConfigField | 不适用 | `AutoscalingConfigField = make_json_field('AutoscalingConfigField', AutoscalingConfig)` | module |
| ProbeHandlerField | 不适用 | `ProbeHandlerField = make_json_field('ProbeHandlerField', ProbeHandler)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| initialize_default_proc_spec_plans | `def initialize_default_proc_spec_plans():` | 无 | Initialize default process spec plan objects which... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessSpecPlanManager | django.db.models.Manager | get_by_name | 无 | 无 | 不适用 |
| ProcessSpecPlan | django.db.models.Model | get_resource_summary, __str__ | name, max_replicas, limits, requests, is_active, created, updated, objects | 无 | 不适用 |
| ProcessSpec | paas_wl.utils.models.TimestampedModel | save, __str__, computed_replicas | name, type, engine_app, proc_command, port, target_replicas, target_status, plan, autoscaling | 无 | 不适用 |
| AttrSetter | 无 | __init__, setattr | 无 | 无 | 不适用 |
| ProcessSpecManager | 无 | __init__, sync, bulk_create_procs, bulk_update_procs, get_default_replicas, get_plan | 无 | 无 | 不适用 |
| ProcessProbe | django.db.models.Model | 无 | app, process_type, probe_type, probe_handler, initial_delay_seconds, timeout_seconds, period_seconds, success_threshold, failure_threshold | 无 | 不适用 |
| ProcessProbeManager | 无 | __init__, sync | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/processes.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| asdict | attrs.asdict | 不适用 | module |
| define | attrs.define | 不适用 | module |
| field | attrs.field | 不适用 | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| ApiException | kubernetes.client.exceptions.ApiException | 不适用 | module |
| parse_quantity | kubernetes.utils.quantity.parse_quantity | 不适用 | module |
| ensure_text | six.ensure_text | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | CLOUD_NATIVE | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| MODULE_NAME_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.MODULE_NAME_ANNO_KEY | 不适用 | module |
| BkAppResource | paas_wl.bk_app.cnative.specs.crd.bk_app.BkAppResource | 不适用 | module |
| ResQuotaReader | paas_wl.bk_app.cnative.specs.procs.quota.ResQuotaReader | 不适用 | module |
| AutoscalingReader | paas_wl.bk_app.cnative.specs.procs.replicas.AutoscalingReader | 不适用 | module |
| ReplicasReader | paas_wl.bk_app.cnative.specs.procs.replicas.ReplicasReader | 不适用 | module |
| get_mres_from_cluster | paas_wl.bk_app.cnative.specs.resource.get_mres_from_cluster | 不适用 | module |
| list_mres_by_env | paas_wl.bk_app.cnative.specs.resource.list_mres_by_env | 不适用 | module |
| DEFAULT_CNATIVE_MAX_REPLICAS | paas_wl.bk_app.processes.constants.DEFAULT_CNATIVE_MAX_REPLICAS | 不适用 | module |
| ProcessTargetStatus | paas_wl.bk_app.processes.constants.ProcessTargetStatus | STOP, START | module |
| list_processes | paas_wl.bk_app.processes.controllers.list_processes | 不适用 | module |
| Status | paas_wl.bk_app.processes.entities.Status | 不适用 | module |
| PreviousInstanceNotFound | paas_wl.bk_app.processes.exceptions.PreviousInstanceNotFound | 不适用 | module |
| Process | paas_wl.bk_app.processes.kres_entities.Process | 不适用 | module |
| ProcessProbeManager | paas_wl.bk_app.processes.models.ProcessProbeManager | 不适用 | module |
| ProcessSpecManager | paas_wl.bk_app.processes.models.ProcessSpecManager | 不适用 | module |
| process_kmodel | paas_wl.bk_app.processes.readers.process_kmodel | get_by_type | module |
| ProcessSpecSLZ | paas_wl.bk_app.processes.serializers.ProcessSpecSLZ | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| bcs_client_cls | paas_wl.infras.resources.base.bcs.client.bcs_client_cls | 不适用 | module |
| KPod | paas_wl.infras.resources.base.kres.KPod | 不适用 | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | 不适用 | module |
| ProcessTmpl | paasng.platform.engine.models.deployment.ProcessTmpl | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| condense_processes | `def condense_processes(processes: 'List[Process]') -> 'List[PlainProcess]':` | 无 | Condense processes by removing unrelated fields to... |
| list_cnative_module_processes_specs | `def list_cnative_module_processes_specs(app: Application, environment: str) -> dict[str, list[dict]]:` | 无 | 根据云原生应用的运行环境, 查询其线上所有模块的进程 specs

    :param app: ... |
| gen_cnative_process_specs | `def gen_cnative_process_specs(res: BkAppResource, environment: str) -> list[CNativeProcessSpec]:` | 无 | 由线上 BkAppResource 模型, 生成云原生应用的进程 spec 列表

    :par... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PlainInstance | 无 | shorter_name, is_ready_for | 无 | define | 不适用 |
| PlainProcess | 无 | is_all_ready | 无 | define | 不适用 |
| CNativeProcessSpec | 无 | __attrs_post_init__ | 无 | define | 云原生应用的进程 spec. 其属性与 paas_wl.bk_app.processes.seria... |
| ProcessManager | 无 | __init__, wl_app, sync_processes_specs, sync_processes_probes, list_processes_specs, list_processes, list_plain_processes, get_running_image, create_webconsole, get_previous_logs, _list_default_specs, _list_cnative_specs | 无 | 无 | Manager for engine processes |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/readers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| cast | typing.cast | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | CLOUD_NATIVE, DEFAULT | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | get, objects | module |
| BKAPP_CODE_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.BKAPP_CODE_ANNO_KEY | 不适用 | module |
| ENVIRONMENT_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.ENVIRONMENT_ANNO_KEY | 不适用 | module |
| MODULE_NAME_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.MODULE_NAME_ANNO_KEY | 不适用 | module |
| RESOURCE_TYPE_KEY | paas_wl.bk_app.cnative.specs.constants.RESOURCE_TYPE_KEY | 不适用 | module |
| WLAPP_NAME_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.WLAPP_NAME_ANNO_KEY | 不适用 | module |
| Instance | paas_wl.bk_app.processes.kres_entities.Instance | 不适用 | module |
| Process | paas_wl.bk_app.processes.kres_entities.Process | 不适用 | module |
| get_process_selector | paas_wl.core.resource.get_process_selector | 不适用 | module |
| NotAppScopedResource | paas_wl.infras.resources.base.exceptions.NotAppScopedResource | 不适用 | module |
| KPod | paas_wl.infras.resources.base.kres.KPod | 不适用 | module |
| AppEntityReader | paas_wl.infras.resources.kube_res.base.AppEntityReader | 不适用 | module |
| NamespaceScopedReader | paas_wl.infras.resources.kube_res.base.NamespaceScopedReader | 不适用 | module |
| ResourceList | paas_wl.infras.resources.kube_res.base.ResourceList | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | get, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| process_kmodel | 不适用 | `process_kmodel = ProcessReader(Process)` | module |
| instance_kmodel | 不适用 | `instance_kmodel = InstanceReader(Instance)` | module |
| ns_process_kmodel | 不适用 | `ns_process_kmodel = ProcessNamespaceScopedReader()` | module |
| ns_instance_kmodel | 不适用 | `ns_instance_kmodel = InstanceNamespaceScopeReader()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| retrieve_associated_wl_app | `def retrieve_associated_wl_app(labels: Dict[str, str]) -> WlApp:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessAPIAdapter | 无 | app_selector, type_selector | 无 | 无 | Data adapter for Process |
| ProcessReader | AppEntityReader[Process] | list_by_app_with_meta, get_by_type | 无 | 无 | Manager for ProcSpecs |
| InstanceReader | AppEntityReader[Instance] | list_by_process_type, list_by_app_with_meta, get_logs | 无 | 无 | Customized reader for ProcInstance |
| ProcessNamespaceScopedReader | NamespaceScopedReader[Process] | list_by_ns_with_mdata, retrieve_associated_wl_app | entity_type | 无 | 不适用 |
| InstanceNamespaceScopeReader | NamespaceScopedReader[Instance] | list_by_ns_with_mdata, retrieve_associated_wl_app | entity_type | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| copy | deepcopy | module |
| arrow | get | module |
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Generic | typing.Generic | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| TypeVar | typing.TypeVar | 不适用 | module |
| UUID | uuid.UUID | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| parse_quantity | kubernetes.utils.quantity.parse_quantity | 不适用 | module |
| serializers | rest_framework.serializers | DateTimeField, Serializer, CharField, IntegerField, SerializerMethodField, BooleanField, DictField, ListField, ChoiceField, JSONField, UUIDField | module |
| ValidationError | rest_framework.serializers.ValidationError | 不适用 | module |
| Release | paas_wl.bk_app.applications.models.Release | DoesNotExist | module |
| ProcessUpdateType | paas_wl.bk_app.processes.constants.ProcessUpdateType | get_django_choices, SCALE | module |
| Instance | paas_wl.bk_app.processes.kres_entities.Instance | 不适用 | module |
| Process | paas_wl.bk_app.processes.kres_entities.Process | 不适用 | module |
| ProcessSpec | paas_wl.bk_app.processes.models.ProcessSpec | 不适用 | module |
| WatchEvent | paas_wl.infras.resources.kube_res.base.WatchEvent | 不适用 | module |
| ScalingMetric | paas_wl.workloads.autoscaling.constants.ScalingMetric | get_choices | module |
| ScalingMetricSourceType | paas_wl.workloads.autoscaling.constants.ScalingMetricSourceType | RESOURCE, get_choices | module |
| AutoscalingConfig | paas_wl.workloads.autoscaling.entities.AutoscalingConfig | 不适用 | module |
| get_service_dns_name | paas_wl.workloads.networking.ingress.utils.get_service_dns_name | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | get_choices | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | 不适用 | module |
| OfflineOperation | paasng.platform.engine.models.OfflineOperation | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| OP | 不适用 | `OP = TypeVar('OP')` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_operation_group_slz | `def make_operation_group_slz(child: serializers.Serializer):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| HumanizeDateTimeField | rest_framework.serializers.DateTimeField | to_representation | 无 | 无 | 不适用 |
| ProcessForDisplaySLZ | rest_framework.serializers.Serializer | get_cluster_link | module_name, name, type, command, replicas, success, failed, version, cluster_link | 无 | Common serializer for representing Process object |
| InstanceForDisplaySLZ | rest_framework.serializers.Serializer | get_state | module_name, name, process_type, display_name, image, start_time, state, state_message, rich_status, ready, restart_count, terminated_info, version | 无 | Common serializer for representing Instance object... |
| ProcessExtraInfoSLZ | rest_framework.serializers.Serializer | 无 | type, command, cluster_link | 无 | part of SLZ for ProcessInstanceListWatcher.list |
| ListRespMetaDataSLZ | rest_framework.serializers.Serializer | 无 | resource_version | 无 | part of SLZ for ProcessInstanceListWatcher.list |
| ProcessListSLZ | rest_framework.serializers.Serializer | 无 | items, extra_infos, metadata | 无 | part of SLZ for ProcessInstanceListWatcher.list |
| InstanceListSLZ | rest_framework.serializers.Serializer | 无 | items, metadata | 无 | part of SLZ for ProcessInstanceListWatcher.list |
| EventSerializer | rest_framework.serializers.Serializer | 无 | reason, count, type, message, first_timestamp, last_timestamp | 无 | 不适用 |
| ListWatcherRespSLZ | rest_framework.serializers.Serializer | 无 | processes, instances, cnative_proc_specs, process_packages | 无 | SLZ for ProcessInstanceListWatcher.list |
| VersionInfoSLZ | rest_framework.serializers.Serializer | 无 | revision, version_name, version_type | 无 | 已部署的代码/镜像版本信息 |
| DeploymentOperationSLZ | rest_framework.serializers.Serializer | get_advanced_options | id, status, created, version_info, err_detail, has_requested_int, advanced_options | 无 | 部署操作对象 |
| OfflineOperationSLZ | rest_framework.serializers.Serializer | 无 | id, status, created | 无 | 下架操作对象 |
| ModuleStateSLZ | rest_framework.serializers.Serializer | 无 | deployment, offline | 无 | 和模块相关的部署/下架对象 |
| NamespaceScopedListWatchRespPartSLZ | rest_framework.serializers.Serializer | 无 | module_name, state, exposed_url, repo_url, build_method, version_info, processes, instances, proc_specs, total_available_instance_count, total_desired_replicas, total_failed | 无 | 不适用 |
| OperationGroup | Generic[OP] | 无 | 无 | dataclass | 不适用 |
| ModuleState | 无 | 无 | 无 | dataclass | 不适用 |
| ModuleScopedData | 无 | total_available_instance_count, total_desired_replicas, total_failed | 无 | dataclass | 不适用 |
| NamespaceScopedListWatchRespSLZ | rest_framework.serializers.Serializer | 无 | data, rv_proc, rv_inst | 无 | 不适用 |
| ErrorEventSLZ | rest_framework.serializers.Serializer | 无 | type, error_message | 无 | SLZ for WatchEvent which type == 'ERROR' |
| WatchEventSLZ | rest_framework.serializers.Serializer | to_representation | type, object_type, object, resource_version | 无 | SLZ for ProcessInstanceListWatcher.watch |
| ScalingObjectRefSLZ | rest_framework.serializers.Serializer | 无 | api_version, kind, name | 无 | 资源引用 |
| MetricSpecSLZ | rest_framework.serializers.Serializer | 无 | type, metric, value, described_object | 无 | 扩缩容指标 |
| ScalingConfigSLZ | rest_framework.serializers.Serializer | 无 | min_replicas, max_replicas, policy, metrics | 无 | 扩缩容配置 |
| ProcessSpecSLZ | rest_framework.serializers.Serializer | get_resource_limit_quota | name, target_replicas, target_status, max_replicas, resource_limit, resource_requests, plan_name, resource_limit_quota, autoscaling, scaling_config | 无 | Serializer for representing process packages

    ... |
| UpdateProcessSLZ | rest_framework.serializers.Serializer | validate, validate_scaling_config | process_type, operate_type, target_replicas, autoscaling, scaling_config | 无 | Serializer for updating processes |
| ListProcessesQuerySLZ | rest_framework.serializers.Serializer | validate_release_id | release_id | 无 | Serializer for query params of list API |
| WatchProcessesQuerySLZ | rest_framework.serializers.Serializer | 无 | timeout_seconds, rv_proc, rv_inst | 无 | Serializer for query params of watch API |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path(make_app_pattern('/processes/$'), views.ProcessesViewSet.as_view({'post': 'update'}), name='api.processes.update'), re_path('api/bkapps/applications/(?P<code>[^/]+)/envs/(?P<environment>stag|prod)/processes/list/$', views.CNativeListAndWatchProcsViewSet.as_view({'get': 'list'}), name='api.list_processes.namespace_scoped'), re_path('api/bkapps/applications/(?P<code>[^/]+)/envs/(?P<environment>stag|prod)/processes/watch/$', views.CNativeListAndWatchProcsViewSet.as_view({'get': 'watch'}), name='api.watch_processes.namespace_scoped'), re_path(make_app_pattern('/processes/list/$'), views.ListAndWatchProcsViewSet.as_view({'get': 'list'}), name='api.list_processes'), re_path(make_app_pattern('/processes/watch/$'), views.ListAndWatchProcsViewSet.as_view({'get': 'watch'}), name='api.watch_processes'), re_path(make_app_pattern('/instance_events/(?P<instance_name>.+)/$'), views.InstanceEventsViewSet.as_view({'get': 'list'}), name='api.list_instance_events'), re_path(make_app_pattern('/processes/(?P<process_type>[\\w-]+)/instances/(?P<process_instance_name>[.\\w-]+)/previous_logs/$'), views.InstanceManageViewSet.as_view({'get': 'retrieve_previous_logs'}), name='api.instances.previous_logs'), re_path(make_app_pattern('/processes/(?P<process_type>[\\w-]+)/instances/(?P<process_instance_name>[.\\w-]+)/previous_logs/download/$'), views.InstanceManageViewSet.as_view({'get': 'download_previous_logs'}), name='api.instances.previous_logs_download'), re_path(make_app_pattern('/instances/(?P<process_instance_name>[.\\w-]+)/restart/$'), views.InstanceManageViewSet.as_view({'put': 'restart'}), name='api.instances.restart'), re_path(make_app_pattern('/processes/(?P<process_name>[\\w-]+)/restart/$'), views.ProcessesViewSet.as_view({'put': 'restart'}), name='api.process.restart')]` | module |



---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| CoreDynamicClient | paas_wl.infras.resources.base.kube_client.CoreDynamicClient | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| find_deployment_condition | `def find_deployment_condition(conditions: List, cond_type: str):` | 无 | finds the conditionType in conditions. |
| list_unavailable_deployment | `def list_unavailable_deployment(client: CoreDynamicClient) -> List:` | 无 | 查询整个命名空间下的deployments，并通过replica，获取不处于 Available 的... |


---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | timedelta | module |
| json | dumps | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| attrgetter | operator.attrgetter | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| HttpResponse | django.http.HttpResponse | 不适用 | module |
| StreamingHttpResponse | django.http.StreamingHttpResponse | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_200_OK, HTTP_404_NOT_FOUND | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | DEFAULT | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| ProcessUpdateType | paas_wl.bk_app.processes.constants.ProcessUpdateType | SCALE, STOP, START | module |
| get_proc_ctl | paas_wl.bk_app.processes.controllers.get_proc_ctl | 不适用 | module |
| judge_operation_frequent | paas_wl.bk_app.processes.controllers.judge_operation_frequent | 不适用 | module |
| PreviousInstanceNotFound | paas_wl.bk_app.processes.exceptions.PreviousInstanceNotFound | 不适用 | module |
| ProcessNotFound | paas_wl.bk_app.processes.exceptions.ProcessNotFound | 不适用 | module |
| ProcessOperationTooOften | paas_wl.bk_app.processes.exceptions.ProcessOperationTooOften | 不适用 | module |
| ScaleProcessError | paas_wl.bk_app.processes.exceptions.ScaleProcessError | 不适用 | module |
| ProcessSpec | paas_wl.bk_app.processes.models.ProcessSpec | get, objects, DoesNotExist | module |
| ProcessManager | paas_wl.bk_app.processes.processes.ProcessManager | 不适用 | module |
| list_cnative_module_processes_specs | paas_wl.bk_app.processes.processes.list_cnative_module_processes_specs | 不适用 | module |
| EventSerializer | paas_wl.bk_app.processes.serializers.EventSerializer | 不适用 | module |
| ListProcessesQuerySLZ | paas_wl.bk_app.processes.serializers.ListProcessesQuerySLZ | 不适用 | module |
| ListWatcherRespSLZ | paas_wl.bk_app.processes.serializers.ListWatcherRespSLZ | 不适用 | module |
| ModuleScopedData | paas_wl.bk_app.processes.serializers.ModuleScopedData | 不适用 | module |
| ModuleState | paas_wl.bk_app.processes.serializers.ModuleState | 不适用 | module |
| NamespaceScopedListWatchRespSLZ | paas_wl.bk_app.processes.serializers.NamespaceScopedListWatchRespSLZ | 不适用 | module |
| OperationGroup | paas_wl.bk_app.processes.serializers.OperationGroup | 不适用 | module |
| UpdateProcessSLZ | paas_wl.bk_app.processes.serializers.UpdateProcessSLZ | 不适用 | module |
| WatchEventSLZ | paas_wl.bk_app.processes.serializers.WatchEventSLZ | 不适用 | module |
| WatchProcessesQuerySLZ | paas_wl.bk_app.processes.serializers.WatchProcessesQuerySLZ | 不适用 | module |
| ProcInstByEnvListWatcher | paas_wl.bk_app.processes.watch.ProcInstByEnvListWatcher | 不适用 | module |
| ProcInstByModuleEnvListWatcher | paas_wl.bk_app.processes.watch.ProcInstByModuleEnvListWatcher | 不适用 | module |
| WatchEvent | paas_wl.bk_app.processes.watch.WatchEvent | 不适用 | module |
| KDeployment | paas_wl.infras.resources.base.kres.KDeployment | 不适用 | module |
| KPod | paas_wl.infras.resources.base.kres.KPod | 不适用 | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |
| error_codes | paas_wl.utils.error_codes.error_codes | f, CANNOT_OPERATE_PROCESS, PROCESS_OPERATION_TOO_OFTEN, PROCESS_OPERATE_FAILED | module |
| IgnoreClientContentNegotiation | paas_wl.utils.views.IgnoreClientContentNegotiation | 不适用 | module |
| AutoscalingConfig | paas_wl.workloads.autoscaling.entities.AutoscalingConfig | 不适用 | module |
| AutoscalingUnsupported | paas_wl.workloads.autoscaling.exceptions.AutoscalingUnsupported | 不适用 | module |
| event_kmodel | paas_wl.workloads.event.reader.event_kmodel | list_by_app_instance_name | module |
| get_builtin_addr_preferred | paas_wl.workloads.networking.entrance.shim.get_builtin_addr_preferred | 不适用 | module |
| get_service_dns_name | paas_wl.workloads.networking.ingress.utils.get_service_dns_name | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | PROCESS | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| fieldmgr | paasng.platform.bkapp_model.fieldmgr | MultiFieldsManager, f_overlay_replicas, f_overlay_autoscaling, WEB_FORM, FieldMgrName | module |
| get_image_info | paasng.platform.bkapp_model.utils.get_image_info | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | CUSTOM_IMAGE | module |
| get_env_deployed_version_info | paasng.platform.engine.deploy.version.get_env_deployed_version_info | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| DeploymentGetter | paasng.platform.engine.utils.query.DeploymentGetter | 不适用 | module |
| OfflineOperationGetter | paasng.platform.engine.utils.query.OfflineOperationGetter | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| UserAction | paasng.utils.rate_limit.constants.UserAction | WATCH_PROCESS | module |
| rate_limits_by_user | paasng.utils.rate_limit.fixed_window.rate_limits_by_user | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessesViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | update, _perform_update, restart | permission_classes | 无 | 适用于所有类型应用，应用进程操作相关视图。 |
| CNativeListAndWatchProcsViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list, watch, process_event, get_repo_url | permission_classes, content_negotiation_class | 无 | 适用于云原生应用，按环境查看应用进程实例相关信息。支持一次查看多个模块。 |
| ListAndWatchProcsViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list, watch, process_event | permission_classes, content_negotiation_class | 无 | 适用于普通应用，查看应用进程实例相关信息，支持按模块与环境查看。 |
| InstanceEventsViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list | permission_classes | 无 | 适用于所有类型应用，应用进程事件相关视图。 |
| InstanceManageViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | retrieve_previous_logs, download_previous_logs, restart | permission_classes | 无 | 适用于所有类型应用，应用进程操作相关视图 |

---


### 模块: apiserver/paasng/paas_wl/bk_app/processes/watch.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| queue | Queue, Empty | module |
| threading | Thread | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| connection | django.db.connection | close | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| ProcessesInfo | paas_wl.bk_app.processes.controllers.ProcessesInfo | 不适用 | module |
| list_ns_processes | paas_wl.bk_app.processes.controllers.list_ns_processes | 不适用 | module |
| list_processes | paas_wl.bk_app.processes.controllers.list_processes | 不适用 | module |
| Instance | paas_wl.bk_app.processes.kres_entities.Instance | 不适用 | module |
| Process | paas_wl.bk_app.processes.kres_entities.Process | 不适用 | module |
| ProcessAPIAdapter | paas_wl.bk_app.processes.readers.ProcessAPIAdapter | app_selector | module |
| instance_kmodel | paas_wl.bk_app.processes.readers.instance_kmodel | watch_by_app | module |
| ns_instance_kmodel | paas_wl.bk_app.processes.readers.ns_instance_kmodel | watch_by_ns | module |
| ns_process_kmodel | paas_wl.bk_app.processes.readers.ns_process_kmodel | watch_by_ns | module |
| process_kmodel | paas_wl.bk_app.processes.readers.process_kmodel | watch_by_app | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| WatchEvent | paas_wl.infras.resources.kube_res.base.WatchEvent | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcInstByEnvListWatcher | 无 | __init__, cluster_name, namespace, list, watch | 无 | 无 | ListWatcher for Process(Deployment) & Instance(Pod... |
| ProcInstByModuleEnvListWatcher | 无 | __init__, wl_app, list, watch | 无 | 无 | ListWatcher for Process(Deployment) & Instance(Pod... |
| ParallelChainedGenerator | 无 | __init__, start, _consume_gen, iter_results, close | 无 | 无 | Consumes multiple generators in parallel |

---


### 模块: apiserver/paasng/paas_wl/core/__init__.py







---


### 模块: apiserver/paasng/paas_wl/core/app_structure.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Callable | typing.Callable | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| set_global_get_structure | `def set_global_get_structure(func: Callable[[WlApp], Dict]):` | 无 | Set the structure function, to be called by other ... |
| get_structure | `def get_structure(app: WlApp) -> Dict:` | 无 | This function provide compatibility with the field... |
| has_proc_type | `def has_proc_type(app: WlApp, proc_type: str) -> bool:` | 无 | Check if current app has a process type, e.g. "web... |


---


### 模块: apiserver/paasng/paas_wl/core/env.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Callable | typing.Callable | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Release | paas_wl.bk_app.applications.models.release.Release | any_successful, objects | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | DEFAULT, ENGINELESS_APP | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| EnvIsRunningFunc | 不适用 | `EnvIsRunningFunc = Callable[[ModuleEnvironment], bool]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| env_is_running | `def env_is_running(env: ModuleEnvironment) -> bool:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EnvIsRunningHub | 无 | register_func, get | 无 | 无 | Get "is_running" property of env by different appl... |

---


### 模块: apiserver/paasng/paas_wl/core/resource.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | CLOUD_NATIVE | module |
| get_metadata | paas_wl.bk_app.applications.managers.get_metadata | 不适用 | module |
| Release | paas_wl.bk_app.applications.models.Release | get_latest, objects | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| MODULE_NAME_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.MODULE_NAME_ANNO_KEY | 不适用 | module |
| PROCESS_NAME_KEY | paas_wl.bk_app.processes.constants.PROCESS_NAME_KEY | 不适用 | module |
| MapperProcConfig | paas_wl.infras.resources.generation.mapper.MapperProcConfig | 不适用 | module |
| AppResVerManager | paas_wl.infras.resources.generation.version.AppResVerManager | 不适用 | module |
| get_command_name | paas_wl.utils.command.get_command_name | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| ModuleName | paasng.platform.modules.constants.ModuleName | value, DEFAULT | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| generate_bkapp_name | 不适用 | `generate_bkapp_name = CNativeBkAppNameGenerator.generate` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_process_selector | `def get_process_selector(app: 'WlApp', process_type: str) -> Dict[str, str]:` | 无 | Return labels selector dict by process type, usefu... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CNativeBkAppNameGenerator | 无 | generate, make_name | 无 | 无 | Resource name generator for cnative applications |

---


### 模块: apiserver/paasng/paas_wl/infras/__init__.py







---


### 模块: apiserver/paasng/paas_wl/infras/cluster/__init__.py







---


### 模块: apiserver/paasng/paas_wl/infras/cluster/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| KubeClusterConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| FeatureFlag | blue_krill.data_types.enum.FeatureFlag | 不适用 | module |
| FeatureFlagField | blue_krill.data_types.enum.FeatureFlagField | 不适用 | module |
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| settings | django.conf.settings | LOG_COLLECTOR_TYPE | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| LOG_COLLECTOR_TYPE_BK_LOG | BK_LOG | `LOG_COLLECTOR_TYPE_BK_LOG = 'BK_LOG'` | module |
| BK_LOG_DEFAULT_ENABLED | 不适用 | `BK_LOG_DEFAULT_ENABLED = settings.LOG_COLLECTOR_TYPE == LOG_COLLECTOR_TYPE_BK_LOG` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ClusterTokenType | blue_krill.data_types.enum.IntStructuredEnum | 无 | SERVICE_ACCOUNT | 无 | 不适用 |
| ClusterType | blue_krill.data_types.enum.StrStructuredEnum | 无 | NORMAL, VIRTUAL | 无 | 集群类别 |
| ClusterFeatureFlag | blue_krill.data_types.enum.FeatureFlag | get_default_flags_by_cluster_type | ENABLE_EGRESS_IP, ENABLE_MOUNT_LOG_TO_HOST, INGRESS_USE_REGEX, ENABLE_BK_MONITOR, ENABLE_BK_LOG_COLLECTOR, ENABLE_AUTOSCALING, ENABLE_BCS_EGRESS | 无 | 集群特性标志 |
| ClusterAnnotationKey | blue_krill.data_types.enum.StrStructuredEnum | 无 | BCS_PROJECT_ID, BCS_CLUSTER_ID, BK_BIZ_ID, SKIP_INJECT_BUILTIN_IMAGE_CREDENTIAL, INGRESS_CLASS_NAME, SLUGBUILDER_RESOURCE_QUOTA | 无 | 集群注解键 |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| NoDefaultClusterError | Exception | 无 | 无 | 无 | 未设置默认集群错误 |
| DuplicatedDefaultClusterError | Exception | 无 | 无 | 无 | 重复的默认集群错误 |
| SwitchDefaultClusterError | Exception | 无 | 无 | 无 | 切换默认集群出现异常 |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/loaders.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | abspath, path, dirname | module |
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| FileOrData | kubernetes.config.kube_config.FileOrData | 不适用 | module |
| KubeConfigLoader | kubernetes.config.kube_config.KubeConfigLoader | 不适用 | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | all, objects | module |
| EnhancedConfiguration | paas_wl.infras.cluster.models.EnhancedConfiguration | create | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DBConfigLoader | 无 | __init__, _load, get_all_cluster_names, list_configurations_by_name | 无 | 无 | Enhanced ConfigLoader, which is loaded from **db**... |
| LegacyKubeConfigLoader | kubernetes.config.kube_config.KubeConfigLoader | from_file, _get_tag_from_context, get_all_tags, list_configurations_by_tag, _load_cluster_info, _set_config | 无 | 无 | Legacy ConfigLoader, which is loaded from **file**... |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/management/__init__.py







---


### 模块: apiserver/paasng/paas_wl/infras/cluster/management/commands/__init__.py







---


### 模块: apiserver/paasng/paas_wl/infras/cluster/management/commands/encryption_migration_cluster.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ReEncryptCommand | paasng.utils.encrypt_cmd.ReEncryptCommand | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | paasng.utils.encrypt_cmd.ReEncryptCommand | 无 | help, app_label | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/management/commands/initial_default_cluster.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| os | get, environ | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| asdict | dataclasses.asdict | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| Env | environ.Env | 不适用 | module |
| ClusterTokenType | paas_wl.infras.cluster.constants.ClusterTokenType | 不适用 | module |
| APIServer | paas_wl.infras.cluster.models.APIServer | get_or_create, objects, exclude | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | filter, objects, register_cluster | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| env | 不适用 | `env = Env()` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ClusterData | 无 | 无 | 无 | dataclass | 不适用 |
| InitialClusterData | 无 | 无 | 无 | dataclass | 不适用 |
| Command | django.core.management.base.BaseCommand | add_arguments, render_data, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/management/commands/update_cluster_feature_flags.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | ENABLE_EGRESS_IP, ENABLE_MOUNT_LOG_TO_HOST | module |
| ClusterType | paas_wl.infras.cluster.constants.ClusterType | NORMAL, VIRTUAL | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | all, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| jsonfield.fields | JSONField, fields | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | UUIDField, DateTimeField, CharField, TextField, NullBooleanField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/migrations/0002_auto_20210524_1916.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paas_wl.infras.cluster.models | IngressConfigField, models, cluster, infras | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | IntegerField, TextField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/migrations/0003_auto_20210623_1727.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | TextField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/migrations/0004_auto_20211214_1023.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| jsonfield.fields | JSONField, fields | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/migrations/0005_alter_cluster_ca_data.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | TextField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/migrations/0006_cluster_type.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paas_wl.infras.cluster.constants | ClusterType, constants, cluster, infras | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/migrations/0007_cluster_feature_flags.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| jsonfield.fields | JSONField, fields | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/migrations/0008_auto_20230807_1730.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| blue_krill.models.fields | EncryptField, fields, models | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/migrations/0009_encrypt_cluster_in_db.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| encrypt_cluster_in_db | `def encrypt_cluster_in_db(apps, schema_editor):` | 无 | encrypt Cluster model in database  |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/migrations/0010_alter_cluster_is_default.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/migrations/__init__.py







---


### 模块: apiserver/paasng/paas_wl/infras/cluster/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| contextlib | contextmanager | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| attrgetter | operator.attrgetter | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| parse | urllib.parse | urlparse | module |
| Factory | attrs.Factory | 不适用 | module |
| asdict | attrs.asdict | 不适用 | module |
| define | attrs.define | 不适用 | module |
| EncryptField | blue_krill.models.fields.EncryptField | 不适用 | module |
| register_structure_hook | cattr.register_structure_hook | 不适用 | module |
| structure_attrs_fromdict | cattr.structure_attrs_fromdict | 不适用 | module |
| ValidationError | django.core.exceptions.ValidationError | 不适用 | module |
| validate_ipv46_address | django.core.validators.validate_ipv46_address | 不适用 | module |
| models | django.db.models | Manager, CharField, TextField, BooleanField, IntegerField, ForeignKey, CASCADE | module |
| transaction | django.db.transaction | atomic | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| Configuration | kubernetes.client.Configuration | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | get_default_flags_by_cluster_type | module |
| ClusterTokenType | paas_wl.infras.cluster.constants.ClusterTokenType | SERVICE_ACCOUNT | module |
| ClusterType | paas_wl.infras.cluster.constants.ClusterType | NORMAL | module |
| DuplicatedDefaultClusterError | paas_wl.infras.cluster.exceptions.DuplicatedDefaultClusterError | 不适用 | module |
| NoDefaultClusterError | paas_wl.infras.cluster.exceptions.NoDefaultClusterError | 不适用 | module |
| SwitchDefaultClusterError | paas_wl.infras.cluster.exceptions.SwitchDefaultClusterError | 不适用 | module |
| validate_ingress_config | paas_wl.infras.cluster.validators.validate_ingress_config | 不适用 | module |
| custom_resolver | paas_wl.utils.dns.custom_resolver | 不适用 | module |
| UuidAuditedModel | paas_wl.utils.models.UuidAuditedModel | 不适用 | module |
| make_json_field | paas_wl.utils.models.make_json_field | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| IngressConfigField | 不适用 | `IngressConfigField = make_json_field(cls_name='IngressConfigField', py_model=IngressConfig)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PortMap | 无 | get_port_num | 无 | define | PortMap is used to declare the port of http/https ... |
| Domain | 无 | structure | 无 | define | 不适用 |
| IngressConfig | 无 | __attrs_post_init__, find_app_root_domain, find_subdomain_domain, find_subpath_domain, default_root_domain, default_sub_path_domain | 无 | define | 不适用 |
| ClusterManager | django.db.models.Manager | register_cluster, switch_default_cluster | 无 | 无 | 不适用 |
| Cluster | paas_wl.utils.models.UuidAuditedModel | __str__, bcs_cluster_id, bcs_project_id, bk_biz_id, has_feature_flag | region, name, type, description, is_default, annotations, ca_data, cert_data, key_data, token_type, token_value, default_node_selector, default_tolerations, feature_flags, objects | 无 | 应用集群 |
| APIServer | paas_wl.utils.models.UuidAuditedModel | 无 | cluster, host, overridden_hostname | 无 | 不适用 |
| EnhancedConfiguration | kubernetes.client.Configuration | create, _initialize_host, _initialize_auth, activate_resolver, extract_ip, __repr__ | 无 | 无 | Enhanced Configuration, which is loaded from db an... |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/pools.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| UserDict | collections.UserDict | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| HAEndpointPool | blue_krill.connections.ha_endpoint_pool.HAEndpointPool | 不适用 | module |
| settings | django.conf.settings | KUBE_CONFIG_FILE | module |
| DBConfigLoader | paas_wl.infras.cluster.loaders.DBConfigLoader | 不适用 | module |
| LegacyKubeConfigLoader | paas_wl.infras.cluster.loaders.LegacyKubeConfigLoader | from_file | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ContextConfigurationPoolMap | collections.UserDict | from_db, from_file | 无 | 无 | K8S High Performance Configuration Pool Map With C... |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| exceptions | rest_framework.exceptions | ValidationError | module |
| serializers | rest_framework.serializers | Serializer, IntegerField, CharField, BooleanField, ListField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PortMapSLZ | rest_framework.serializers.Serializer | 无 | http, https | 无 | 不适用 |
| DomainSLZ | rest_framework.serializers.Serializer | 无 | name, reserved, https_enabled | 无 | 不适用 |
| IngressConfigSLZ | rest_framework.serializers.Serializer | to_internal_value | sub_path_domains, app_root_domains, frontend_ingress_ip, default_ingress_domain_tmpl, port_map | 无 | Serializer for IngressConfig object |
| ClusterFeatureFlagsSLZ | rest_framework.serializers.Serializer | 无 | ENABLE_EGRESS_IP, ENABLE_MOUNT_LOG_TO_HOST, INGRESS_USE_REGEX, ENABLE_BK_MONITOR, ENABLE_BK_LOG_COLLECTOR, ENABLE_AUTOSCALING, ENABLE_BCS_EGRESS | 无 | Serializer for Cluster feature flags |
| ClusterSLZ | rest_framework.serializers.Serializer | 无 | name, type, is_default, bcs_cluster_id, support_bcs_metrics, ingress_config, feature_flags | 无 | Serializer for Cluster object |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/shim.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | ENABLE_MOUNT_LOG_TO_HOST | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | filter, objects, DoesNotExist, get | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_application_cluster | `def get_application_cluster(application: 'Application') -> Cluster:` | 无 | Return the cluster name of app's default module |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RegionClusterService | 无 | __init__, list_clusters, get_default_cluster, get_cluster_by_name, has_cluster | 无 | 无 | RegionClusterService provide interface for queryin... |
| EnvClusterService | 无 | __init__, get_cluster, get_cluster_name, bind_cluster | 无 | 无 | EnvClusterService provide interface for managing t... |

---


### 模块: apiserver/paasng/paas_wl/infras/cluster/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | get, objects, DoesNotExist | module |
| RegionClusterService | apiserver.paasng.paas_wl.infras.cluster.shim.RegionClusterService | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_default_cluster_by_region | `def get_default_cluster_by_region(region: str) -> Cluster:` | 无 | Get default cluster name by region |
| get_cluster_by_app | `def get_cluster_by_app(app: WlApp) -> Cluster:` | 无 | Get kubernetes cluster by given app

    :param ap... |
| get_dev_sandbox_cluster | `def get_dev_sandbox_cluster(app: WlApp) -> Cluster:` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paas_wl/infras/cluster/validators.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| IngressConfigSLZ | paas_wl.infras.cluster.serializers.IngressConfigSLZ | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| validate_ingress_config | `def validate_ingress_config(ingress_config: Optional[Dict]):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paas_wl/infras/resource_templates/__init__.py







---


### 模块: apiserver/paasng/paas_wl/infras/resource_templates/components/__init__.py







---


### 模块: apiserver/paasng/paas_wl/infras/resource_templates/components/base.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| define | attr.define | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ExecAction | 无 | 无 | 无 | define | 不适用 |
| HTTPHeader | 无 | 无 | 无 | define | 不适用 |
| HTTPGetAction | 无 | 无 | 无 | define | 不适用 |
| TCPSocketAction | 无 | 无 | 无 | define | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/resource_templates/components/probe.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| define | attrs.define | 不适用 | module |
| settings | django.conf.settings | CONTAINER_PORT | module |
| ExecAction | paas_wl.infras.resource_templates.components.base.ExecAction | 不适用 | module |
| HTTPGetAction | paas_wl.infras.resource_templates.components.base.HTTPGetAction | 不适用 | module |
| TCPSocketAction | paas_wl.infras.resource_templates.components.base.TCPSocketAction | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_default_readiness_probe | `def get_default_readiness_probe():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Probe | 无 | 无 | 无 | define | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/resource_templates/components/sidecar.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| define | attrs.define | 不适用 | module |
| ExecAction | paas_wl.infras.resource_templates.components.base.ExecAction | 不适用 | module |
| HTTPGetAction | paas_wl.infras.resource_templates.components.base.HTTPGetAction | 不适用 | module |
| TCPSocketAction | paas_wl.infras.resource_templates.components.base.TCPSocketAction | 不适用 | module |
| Probe | paas_wl.infras.resource_templates.components.probe.Probe | 不适用 | module |
| VolumeMount | paas_wl.infras.resource_templates.components.volume.VolumeMount | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ConfigMapEnvSource | 无 | 无 | 无 | define | 不适用 |
| SecretEnvSource | 无 | 无 | 无 | define | 不适用 |
| EnvFromSource | 无 | 无 | 无 | define | 不适用 |
| EnvVar | 无 | 无 | 无 | define | 不适用 |
| ContainerPort | 无 | 无 | 无 | define | 不适用 |
| LifecycleHandler | 无 | 无 | 无 | define | 不适用 |
| Lifecycle | 无 | 无 | 无 | define | 不适用 |
| VolumeDevice | 无 | 无 | 无 | define | 不适用 |
| ResourceRequirements | 无 | 无 | 无 | define | 不适用 |
| SecurityContext | 无 | 无 | 无 | define | 不适用 |
| Container | 无 | 无 | 无 | define | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/resource_templates/components/volume.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| define | attrs.define | 不适用 | module |
| field | attrs.field | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| VolumeMount | 无 | 无 | 无 | define | 不适用 |
| KeyToPath | 无 | 无 | 无 | define | 不适用 |
| EmptyDirVolumeSource | 无 | 无 | 无 | define | 不适用 |
| HostPathVolumeSource | 无 | 无 | 无 | define | 不适用 |
| SecretVolumeSource | 无 | 无 | 无 | define | 不适用 |
| Volume | 无 | 无 | 无 | define | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/resource_templates/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppAddOnType | blue_krill.data_types.enum.IntStructuredEnum | 无 | SIMPLE_SIDECAR, READINESS_PROBE, VOLUME_MOUNT, VOLUME | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/resource_templates/logging.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | VOLUME_NAME_APP_LOGGING, VOLUME_HOST_PATH_APP_LOGGING_DIR, MUL_MODULE_VOLUME_NAME_APP_LOGGING, MUL_MODULE_VOLUME_HOST_PATH_APP_LOGGING_DIR, VOLUME_MOUNT_APP_LOGGING_DIR, MUL_MODULE_VOLUME_MOUNT_APP_LOGGING_DIR | module |
| get_metadata | paas_wl.bk_app.applications.managers.get_metadata | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| Volume | paas_wl.infras.resource_templates.components.volume.Volume | 不适用 | module |
| VolumeMount | paas_wl.infras.resource_templates.components.volume.VolumeMount | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_app_logging_volume | `def get_app_logging_volume(app: WlApp) -> List[Volume]:` | 无 | 获取应用(挂载到宿主机的)日志卷配置, 如果应用不支持挂载日志到宿主机, 返回空列表 |
| get_app_logging_volume_mounts | `def get_app_logging_volume_mounts(app: WlApp) -> List[VolumeMount]:` | 无 | 获取应用(挂载到宿主机的)日志卷挂载到容器的挂载点配置, 如果应用不支持挂载日志到宿主机, 返回空列... |


---


### 模块: apiserver/paasng/paas_wl/infras/resource_templates/managers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps, loads | module |
| cattr | unstructure, structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | CONTAINER_PORT | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| ProbeType | paas_wl.bk_app.processes.constants.ProbeType | READINESS, LIVENESS, STARTUP | module |
| ProcessProbe | paas_wl.bk_app.processes.models.ProcessProbe | get, objects, DoesNotExist | module |
| Probe | paas_wl.infras.resource_templates.components.probe.Probe | 不适用 | module |
| get_default_readiness_probe | paas_wl.infras.resource_templates.components.probe.get_default_readiness_probe | 不适用 | module |
| Volume | paas_wl.infras.resource_templates.components.volume.Volume | 不适用 | module |
| VolumeMount | paas_wl.infras.resource_templates.components.volume.VolumeMount | 不适用 | module |
| AppAddOnType | paas_wl.infras.resource_templates.constants.AppAddOnType | READINESS_PROBE, SIMPLE_SIDECAR, VOLUME, VOLUME_MOUNT | module |
| AppAddOn | paas_wl.infras.resource_templates.models.AppAddOn | get, objects, DoesNotExist, filter | module |
| convert_key_to_camel | paas_wl.utils.basic.convert_key_to_camel | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessProbeManager | 无 | __init__, get_probe, get_readiness_probe, get_liveness_probe, get_startup_probe | 无 | 无 | 不适用 |
| AddonManager | 无 | __init__, get_readiness_probe, get_sidecars, get_volumes, get_volume_mounts | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/resource_templates/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | UUIDField, DateTimeField, CharField, TextField, BooleanField, IntegerField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/resource_templates/migrations/__init__.py







---


### 模块: apiserver/paasng/paas_wl/infras/resource_templates/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| hashlib | sha256 | module |
| json | loads | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| models | django.db.models | CharField, TextField, BooleanField, IntegerField, Manager, ForeignKey, CASCADE | module |
| UuidAuditedModel | paas_wl.bk_app.applications.models.UuidAuditedModel | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| AppAddOnType | paas_wl.infras.resource_templates.constants.AppAddOnType | value, SIMPLE_SIDECAR | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppAddOnTemplate | paas_wl.bk_app.applications.models.UuidAuditedModel | digest, link_to_app | region, name, spec, enabled, type | 无 | 应用挂件模版 |
| AppAddOnManager | django.db.models.Manager | get_queryset | 无 | 无 | 不适用 |
| AppAddOn | paas_wl.bk_app.applications.models.UuidAuditedModel | render_spec, sync_with_template, digest | app, template, enabled, spec, objects, default_objects | 无 | 应用挂件关联实例 |

---


### 模块: apiserver/paasng/paas_wl/infras/resources/__init__.py







---


### 模块: apiserver/paasng/paas_wl/infras/resources/base/__init__.py







---


### 模块: apiserver/paasng/paas_wl/infras/resources/base/base.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| lru_cache | functools.lru_cache | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| HAEndpointPool | blue_krill.connections.ha_endpoint_pool.HAEndpointPool | 不适用 | module |
| ApiClient | kubernetes.client.ApiClient | 不适用 | module |
| RESTClientObject | kubernetes.client.rest.RESTClientObject | 不适用 | module |
| HTTPError | urllib3.exceptions.HTTPError | 不适用 | module |
| EnhancedConfiguration | paas_wl.infras.cluster.models.EnhancedConfiguration | 不适用 | module |
| ContextConfigurationPoolMap | paas_wl.infras.cluster.pools.ContextConfigurationPoolMap | from_db | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_global_configuration_pool | `@lru_cache:` | lru_cache | Get the global config pool object.

    NOTE: This... |
| make_rest_client | `@lru_cache(maxsize=128):` | lru_cache | Use LRU cache to avoid re-creating HTTP connection... |
| get_all_cluster_names | `def get_all_cluster_names() -> List[str]:` | 无 | 不适用 |
| get_client_by_cluster_name | `def get_client_by_cluster_name(cluster_name: str) -> EnhancedApiClient:` | 无 | Initialize an kubernetes api client object by give... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EnhancedApiClient | BaseApiClient | __init__, call_api, rest_client, rest_client | 无 | 无 | Enhanced Kubernetes ApiClient, with some extra fea... |

---


### 模块: apiserver/paasng/paas_wl/infras/resources/base/bcs/__init__.py







---


### 模块: apiserver/paasng/paas_wl/infras/resources/base/bcs/apigw.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| APIGatewayClient | bkapi_client_core.apigateway.APIGatewayClient | 不适用 | module |
| Operation | bkapi_client_core.apigateway.Operation | 不适用 | module |
| OperationGroup | bkapi_client_core.apigateway.OperationGroup | 不适用 | module |
| bind_property | bkapi_client_core.apigateway.bind_property | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Group | bkapi_client_core.apigateway.OperationGroup | 无 | create_web_console_sessions | 无 | 不适用 |
| Client | bkapi_client_core.apigateway.APIGatewayClient | 无 | _api_name, api | 无 | bcs-services 提供的网关 client |

---


### 模块: apiserver/paasng/paas_wl/infras/resources/base/bcs/client.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | APIGW_ENVIRONMENT, BK_API_URL_TMPL, BK_APP_CODE, BK_APP_SECRET, ENABLE_BCS | module |
| Client | paas_wl.infras.resources.base.bcs.apigw.Client | 不适用 | module |
| Group | paas_wl.infras.resources.base.bcs.apigw.Group | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| bcs_client_cls | 不适用 | `bcs_client_cls = get_bcs_client()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_bcs_client | `def get_bcs_client():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DummyBcsClient | 无 | create_web_console_sessions | 无 | 无 | Dummy BCS Clientwhen BCS is disabled. |
| BcsClient | 无 | __init__, _prepare_headers, create_web_console_sessions | 无 | 无 | bcs 通过 APIGW 提供的 API |

---


### 模块: apiserver/paasng/paas_wl/infras/resources/base/constants.py




#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| BKAPP_CATEGORY | bkapp | `BKAPP_CATEGORY = 'bkapp'` | module |
| QUERY_LOG_DEFAULT_TIMEOUT | 300 | `QUERY_LOG_DEFAULT_TIMEOUT = 300` | module |
| KUBECTL_RESTART_RESOURCE_KEY | bkapp.kubernetes.io/restartedAt | `KUBECTL_RESTART_RESOURCE_KEY = 'bkapp.kubernetes.io/restartedAt'` | module |



---


### 模块: apiserver/paasng/paas_wl/infras/resources/base/crd.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseKresource | paas_wl.infras.resources.base.kres.BaseKresource | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| KServiceMonitor | paas_wl.infras.resources.base.kres.BaseKresource | 无 | kind | 无 | 不适用 |
| BkApp | paas_wl.infras.resources.base.kres.BaseKresource | 无 | kind | 无 | CRD: App model resource feature |
| DomainGroupMapping | paas_wl.infras.resources.base.kres.BaseKresource | 无 | kind | 无 | CRD: Mapping between BkApp and DomainGroups |
| GPA | paas_wl.infras.resources.base.kres.BaseKresource | 无 | kind | 无 | CRD: General pod autoscaler, powerful than hpa, pr... |
| Egress | paas_wl.infras.resources.base.kres.BaseKresource | 无 | kind | 无 | CRD: Egress, support fixed egress ip, provided by ... |
| BKLogConfig | paas_wl.infras.resources.base.kres.BaseKresource | 无 | kind | 无 | CRD: BkLogConfig is the Schema for the bklogconfig... |

---


### 模块: apiserver/paasng/paas_wl/infras/resources/base/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| KubeException | Exception | __init__ | 无 | 无 | 不适用 |
| ResourceDuplicate | KubeException | __init__ | 无 | 无 | 不适用 |
| ReadTargetStatusTimeout | KubeException | __init__ | 无 | 无 | 不适用 |
| PodNotSucceededError | KubeException | __init__ | 无 | 无 | pod not succeeded |
| PodAbsentError | PodNotSucceededError | 无 | 无 | 无 | pod not succeeded triggered by pod's absence |
| PodTimeoutError | PodNotSucceededError | 无 | 无 | 无 | pod not succeeded triggered by timeout |
| CreateServiceAccountTimeout | KubeException | __init__ | 无 | 无 | 不适用 |
| ResourceMissing | KubeException | __init__ | 无 | 无 | 不适用 |
| ResourceDeleteTimeout | KubeException | __init__ | 无 | 无 | 不适用 |
| MapperNotInVersionError | Exception | 无 | 无 | 无 | mapper is missing in this version |
| NotAppScopedResource | Exception | 无 | 无 | 无 | raise NotAppScopedResource If no WlApp object is f... |

---


### 模块: apiserver/paasng/paas_wl/infras/resources/base/kres.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| functools | partial | module |
| json | loads | module |
| logging | getLogger | module |
| time | time, sleep | module |
| cattr | unstructure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| datetime | datetime.datetime | now | module |
| ModuleType | types.ModuleType | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| Collection | typing.Collection | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Iterator | typing.Iterator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| overload | typing.overload | 不适用 | module |
| define | attrs.define | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| client | kubernetes.client | 不适用 | module |
| ApiClient | kubernetes.client.api_client.ApiClient | 不适用 | module |
| ApiException | kubernetes.client.exceptions.ApiException | 不适用 | module |
| ResourceNotFoundError | kubernetes.dynamic.exceptions.ResourceNotFoundError | 不适用 | module |
| Resource | kubernetes.dynamic.resource.Resource | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.resource.ResourceInstance | 不适用 | module |
| KUBECTL_RESTART_RESOURCE_KEY | paas_wl.infras.resources.base.constants.KUBECTL_RESTART_RESOURCE_KEY | 不适用 | module |
| QUERY_LOG_DEFAULT_TIMEOUT | paas_wl.infras.resources.base.constants.QUERY_LOG_DEFAULT_TIMEOUT | 不适用 | module |
| CreateServiceAccountTimeout | paas_wl.infras.resources.base.exceptions.CreateServiceAccountTimeout | 不适用 | module |
| ReadTargetStatusTimeout | paas_wl.infras.resources.base.exceptions.ReadTargetStatusTimeout | 不适用 | module |
| ResourceDeleteTimeout | paas_wl.infras.resources.base.exceptions.ResourceDeleteTimeout | 不适用 | module |
| ResourceMissing | paas_wl.infras.resources.base.exceptions.ResourceMissing | 不适用 | module |
| CoreDynamicClient | paas_wl.infras.resources.base.kube_client.CoreDynamicClient | 不适用 | module |
| parse_pod | paas_wl.utils.kubestatus.parse_pod | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| Namespace | 不适用 | `Namespace = Optional[str]` | module |
| Manifest | 不适用 | `Manifest = Union[Dict[str, Any], ResourceInstance]` | module |
| ClientOptionsDict | 不适用 | `ClientOptionsDict = Dict[str, Any]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_default_options | `def get_default_options():` | 无 | default_options is the default options for whole k... |
| set_default_options | `def set_default_options(options: ClientOptionsDict):` | 无 | 不适用 |
| wrap_missing_exc | `@contextmanager:` | contextmanager | A context manager which transform exc into Resourc... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PatchType | blue_krill.data_types.enum.StrStructuredEnum | to_content_type | JSON, MERGE, STRATEGIC | 无 | Different merge types when patching a kubernetes r... |
| KubeObjectList | 无 | __init__ | 无 | 无 | Handle List object returned by kubernetes client |
| NameBasedMethodProxy | 无 | __set_name__, __get__, __get__, __get__ | 无 | 无 | A descriptor which proxy method calls to `self.ops... |
| BaseKresource | 无 | __init__, clone_from | kind, get_preferred_version, get_available_versions, get, patch, replace_or_patch, create_or_update, get_or_create, create, delete, update_subres, patch_subres, update_status | 无 | Base class for kubernetes resource utils

    :par... |
| BaseOperations | 无 | __init__, get_preferred_version, get_available_versions, default_kwargs | 无 | 无 | Base operation class for kubernetes resources

   ... |
| NameBasedOperations | BaseOperations | get, patch, replace_or_patch, create_or_update, get_or_create, create, delete, update_subres, patch_subres, update_status, _add_resource_version | 无 | 无 | All operations in this class are based on resource... |
| BatchOperations | BaseOperations | list, delete_collection, delete_individual, create_watch_stream, make_labels_string, make_fields_string | 无 | 无 | All operations in this class are performed in batc... |
| KNode | BaseKresource | 无 | kind | 无 | 不适用 |
| KNamespace | BaseKresource | wait_for_default_sa, wait_until_removed, default_sa_exists | kind | 无 | 不适用 |
| KReplicaSet | BaseKresource | 无 | kind | 无 | 不适用 |
| KPod | BaseKresource | wait_for_status, get_log | kind | 无 | 不适用 |
| KDeployment | BaseKresource | restart | kind | 无 | 不适用 |
| KStatefulSet | BaseKresource | 无 | kind | 无 | 不适用 |
| KDaemonSet | BaseKresource | 无 | kind | 无 | 不适用 |
| KService | BaseKresource | 无 | kind | 无 | 不适用 |
| KIngress | BaseKresource | 无 | kind | 无 | 不适用 |
| KServiceAccount | BaseKresource | 无 | kind | 无 | 不适用 |
| KSecret | BaseKresource | 无 | kind | 无 | 不适用 |
| KEvent | BaseKresource | 无 | kind | 无 | 不适用 |
| KCustomResourceDefinition | BaseKresource | 无 | kind | 无 | 不适用 |
| KConfigMap | BaseKresource | 无 | kind | 无 | 不适用 |
| KPersistentVolumeClaim | BaseKresource | 无 | kind | 无 | 不适用 |
| KStorageClass | BaseKresource | 无 | kind | 无 | 不适用 |
| DeleteOptions | 无 | 无 | 无 | define | Options for performing deletion |

---


### 模块: apiserver/paasng/paas_wl/infras/resources/base/kube_client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| DynamicClient | kubernetes.dynamic.DynamicClient | 不适用 | module |
| Resource | kubernetes.dynamic.Resource | 不适用 | module |
| LazyDiscoverer | kubernetes.dynamic.discovery.LazyDiscoverer | 不适用 | module |
| ResourceGroup | kubernetes.dynamic.discovery.ResourceGroup | 不适用 | module |
| DynamicApiError | kubernetes.dynamic.exceptions.DynamicApiError | 不适用 | module |
| NotFoundError | kubernetes.dynamic.exceptions.NotFoundError | 不适用 | module |
| ResourceNotFoundError | kubernetes.dynamic.exceptions.ResourceNotFoundError | 不适用 | module |
| ResourceNotUniqueError | kubernetes.dynamic.exceptions.ResourceNotUniqueError | 不适用 | module |
| ResourceField | kubernetes.dynamic.resource.ResourceField | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| patch_resource_field_cls | `def patch_resource_field_cls():` | 无 | Path original ResourceField class, raise exception... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LazyDiscoverer | _LazyDiscoverer | __search | 无 | 无 | LazyDiscoverer fixed cache bug

    Note: You cann... |
| CoreDynamicClient | kubernetes.dynamic.DynamicClient | __init__, serialize_body, get_preferred_resource, delete_anyway, request | 无 | 无 | 为官方 SDK 里的 DynamicClient 追加新功能 |

---


### 模块: apiserver/paasng/paas_wl/infras/resources/generation/__init__.py







---


### 模块: apiserver/paasng/paas_wl/infras/resources/generation/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| GenerationConfig | django.apps.AppConfig | ready | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/resources/generation/handlers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| post_save | django.db.models.signals.post_save | 不适用 | module |
| receiver | django.dispatch.receiver | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| AppResVerManager | paas_wl.infras.resources.generation.version.AppResVerManager | 不适用 | module |
| get_latest_mapper_version | paas_wl.infras.resources.generation.version.get_latest_mapper_version | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| set_default_version | `@receiver(post_save, sender=WlApp):` | receiver | Set the default resource generation version for ne... |


---


### 模块: apiserver/paasng/paas_wl/infras/resources/generation/mapper.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Protocol | typing.Protocol | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| Release | paas_wl.bk_app.applications.models.Release | get_latest, objects, DoesNotExist | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| get_command_name | paas_wl.utils.command.get_command_name | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_mapper_proc_config | `def get_mapper_proc_config(release: 'Release', process_type: str) -> MapperProcConfig:` | 无 | Get the proc config object by release.

    :param... |
| get_mapper_proc_config_latest | `def get_mapper_proc_config_latest(app: 'WlApp', process_type: str, use_default: bool = True) -> MapperProcConfig:` | 无 | Get the proc config object, use the latest release... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Process | typing.Protocol | 无 | 无 | 无 | A protocol that represents a process object with n... |
| ResourceIdentifiers | 无 | __init__, pod_name, deployment_name, match_labels, pod_selector, labels | 无 | 无 | A class that stores the identifiers for kubernetes... |
| MapperPack | 无 | 无 | 无 | 无 | 不适用 |
| MapperProcConfig | 无 | 无 | 无 | dataclass | The config object for initializing a resource mapp... |

---


### 模块: apiserver/paasng/paas_wl/infras/resources/generation/v1.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_metadata | paas_wl.bk_app.applications.managers.get_metadata | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| BKAPP_CODE_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.BKAPP_CODE_ANNO_KEY | 不适用 | module |
| ENVIRONMENT_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.ENVIRONMENT_ANNO_KEY | 不适用 | module |
| MODULE_NAME_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.MODULE_NAME_ANNO_KEY | 不适用 | module |
| RESOURCE_TYPE_KEY | paas_wl.bk_app.cnative.specs.constants.RESOURCE_TYPE_KEY | 不适用 | module |
| WLAPP_NAME_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.WLAPP_NAME_ANNO_KEY | 不适用 | module |
| MapperPack | apiserver.paasng.paas_wl.infras.resources.generation.mapper.MapperPack | 不适用 | module |
| ResourceIdentifiers | apiserver.paasng.paas_wl.infras.resources.generation.mapper.ResourceIdentifiers | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| v1_scheduler_safe_name | `def v1_scheduler_safe_name(app: WlApp):` | 无 | the legacy app name in scheduler backend
    diff ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| V1ProcResIdentifiers | apiserver.paasng.paas_wl.infras.resources.generation.mapper.ResourceIdentifiers | deployment_name, pod_name, match_labels, pod_selector, labels | 无 | 无 | Resource identifiers for process, v1 |
| V1Mapper | apiserver.paasng.paas_wl.infras.resources.generation.mapper.MapperPack | 无 | version, proc_resources | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/resources/generation/v2.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_metadata | paas_wl.bk_app.applications.managers.get_metadata | 不适用 | module |
| BKAPP_CODE_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.BKAPP_CODE_ANNO_KEY | 不适用 | module |
| ENVIRONMENT_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.ENVIRONMENT_ANNO_KEY | 不适用 | module |
| MODULE_NAME_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.MODULE_NAME_ANNO_KEY | 不适用 | module |
| RESOURCE_TYPE_KEY | paas_wl.bk_app.cnative.specs.constants.RESOURCE_TYPE_KEY | 不适用 | module |
| WLAPP_NAME_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.WLAPP_NAME_ANNO_KEY | 不适用 | module |
| digest_if_length_exceeded | paas_wl.utils.basic.digest_if_length_exceeded | 不适用 | module |
| MapperPack | apiserver.paasng.paas_wl.infras.resources.generation.mapper.MapperPack | 不适用 | module |
| ResourceIdentifiers | apiserver.paasng.paas_wl.infras.resources.generation.mapper.ResourceIdentifiers | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| V2ProcResIdentifiers | apiserver.paasng.paas_wl.infras.resources.generation.mapper.ResourceIdentifiers | deployment_name, pod_name, match_labels, pod_selector, labels | 无 | 无 | Resource identifiers for process, v2 |
| V2Mapper | apiserver.paasng.paas_wl.infras.resources.generation.mapper.MapperPack | 无 | version, proc_resources | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/infras/resources/generation/version.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| OrderedDict | collections.OrderedDict | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| settings | django.conf.settings | LEGACY_MAPPER_VERSION | module |
| get_mapper_proc_config_latest | paas_wl.infras.resources.generation.mapper.get_mapper_proc_config_latest | 不适用 | module |
| V1Mapper | paas_wl.infras.resources.generation.v1.V1Mapper | 不适用 | module |
| V2Mapper | paas_wl.infras.resources.generation.v2.V2Mapper | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| MapperPack | paas_wl.infras.resources.generation.mapper.MapperPack | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_mapper_version | `def get_mapper_version(target: str):` | 无 | 不适用 |
| get_latest_mapper_version | `def get_latest_mapper_version(init_kwargs: Optional[dict] = None):` | 无 | 获取最新的 mapper version |
| get_proc_deployment_name | `def get_proc_deployment_name(app: 'WlApp', process_type: str) -> str:` | 无 | A shortcut function which gets the name of deploym... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppResVerManager | 无 | __init__, curr_version, update | 无 | 无 | 应用资源版本管理器 |

---


### 模块: apiserver/paasng/paas_wl/infras/resources/kube_res/__init__.py







---


### 模块: apiserver/paasng/paas_wl/infras/resources/kube_res/base.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | now, datetime, timedelta | module |
| logging | getLogger | module |
| time | sleep | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ABCMeta | abc.ABCMeta | 不适用 | module |
| abstractmethod | abc.abstractmethod | 不适用 | module |
| OrderedDict | collections.OrderedDict | 不适用 | module |
| contextmanager | contextlib.contextmanager | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| ContextManager | typing.ContextManager | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Generic | typing.Generic | 不适用 | module |
| Iterator | typing.Iterator | 不适用 | module |
| List | typing.List | 不适用 | module |
| NamedTuple | typing.NamedTuple | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| TypeVar | typing.TypeVar | 不适用 | module |
| ApiException | kubernetes.client.exceptions.ApiException | 不适用 | module |
| ResourceField | kubernetes.dynamic.ResourceField | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| kres | paas_wl.infras.resources.base.kres | BaseKresource | module |
| NotAppScopedResource | paas_wl.infras.resources.base.exceptions.NotAppScopedResource | 不适用 | module |
| ResourceDeleteTimeout | paas_wl.infras.resources.base.exceptions.ResourceDeleteTimeout | 不适用 | module |
| ResourceMissing | paas_wl.infras.resources.base.exceptions.ResourceMissing | 不适用 | module |
| APIServerVersionIncompatible | paas_wl.infras.resources.kube_res.exceptions.APIServerVersionIncompatible | 不适用 | module |
| AppEntityDeserializeError | paas_wl.infras.resources.kube_res.exceptions.AppEntityDeserializeError | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |
| get_client_by_cluster_name | paas_wl.infras.resources.utils.basic.get_client_by_cluster_name | 不适用 | module |
| MapperPack | paas_wl.infras.resources.generation.mapper.MapperPack | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| AET | 不适用 | `AET = TypeVar('AET', bound=AppEntity)` | module |
| T | 不适用 | `T = TypeVar('T', bound=BaseTransformer)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppEntity | 无 | __init_subclass__, is_applicable, is_concrete, get_resource_version | _kube_data | dataclass | Entity type related with WlApp |
| GVKConfig | typing.NamedTuple | 无 | 无 | 无 | Group/Version/Kind config for current AppEntity ty... |
| BaseTransformer | Generic[AET] | get_api_version_from_gvk, __init__, get_apiversion | api_version | 无 | Base class for Serializer and Deserializer

    :p... |
| AppEntityDeserializer | BaseTransformer, Generic[AET] | deserialize | 无 | 无 | Base class for deserializing kube resource |
| AppEntitySerializer | BaseTransformer, Generic[AET] | serialize | 无 | 无 | Base class for serializing AppEntities |
| EntityTransformerPicker | Generic[T] | __init__, get_transformer, _build_transformer_mappings, _iter_transformer_type | 无 | 无 | 
    A special type which holds multiple serialize... |
| EntityDeserializerPicker | EntityTransformerPicker[AppEntityDeserializer] | 无 | 无 | 无 | 不适用 |
| EntitySerializerPicker | EntityTransformerPicker[AppEntitySerializer] | 无 | 无 | 无 | 不适用 |
| ResourceList | Generic[AET] | get_resource_version | 无 | dataclass | List container for multiple AppKubeResources |
| WatchEvent | Generic[AET] | 无 | 无 | dataclass | 不适用 |
| NamespaceScopedReader | Generic[AET] | retrieve_associated_wl_app, list_by_ns, list_by_ns_with_mdata, watch_by_ns, _exc_is_expired_rv, _make_deserializer, _load_gvk_config, _kres | 无 | 无 | A reader for namespace-scoped resources. |
| AppEntityReader | Generic[AET] | __init__, get, list_by_app, list_by_app_with_meta, watch_by_app, _exc_is_expired_rv, _make_deserializer, _load_gvk_config, _kres, _get_namespace | 无 | 无 | Read app related kube resource, produces `AppEntit... |
| AppEntityManager | AppEntityReader, Generic[AET] | __init__, save, create, delete_by_name, upsert, update, delete, _make_serializer, guide_res_argument | 无 | 无 | Help managing app related kube resource, allows wr... |
| WaitDelete | Generic[AET] | __init__, wait | _check_interval | 无 | A helper to wait resource actually be deleted from... |
| Schedule | 无 | 无 | 无 | dataclass | A schedule restriction for a resource(App) |

---


### 模块: apiserver/paasng/paas_wl/infras/resources/kube_res/envs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| encode_envs | `def encode_envs(envs: Dict[str, Any]) -> List:` | 无 | Encode Dict-like envs to k8s env list |
| decode_envs | `def decode_envs(envs: List) -> Dict[str, Any]:` | 无 | Decode k8s env list to Dict-like envs |


---


### 模块: apiserver/paasng/paas_wl/infras/resources/kube_res/exceptions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ResourceInstance | kubernetes.dynamic.resource.ResourceInstance | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppEntityNotFound | Exception | 无 | 无 | 无 | Exception when required resource is not found in a... |
| APIServerVersionIncompatible | Exception | 无 | 无 | 无 | Raised when apiserver does not support requested a... |
| AppEntityDeserializeError | Exception | __init__ | 无 | 无 | Error in deserialize k8s resource |

---


### 模块: apiserver/paasng/paas_wl/infras/resources/utils/__init__.py







---


### 模块: apiserver/paasng/paas_wl/infras/resources/utils/basic.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| OrderedDict | collections.OrderedDict | 不适用 | module |
| Callable | collections.abc.Callable | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | SLUGBUILDER_RESOURCES_SPEC | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| ClusterAnnotationKey | paas_wl.infras.cluster.constants.ClusterAnnotationKey | SLUGBUILDER_RESOURCE_QUOTA | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| EnhancedApiClient | paas_wl.infras.resources.base.base.EnhancedApiClient | 不适用 | module |
| get_client_by_cluster_name | paas_wl.infras.resources.base.base.get_client_by_cluster_name | 不适用 | module |
| make_subdict | paas_wl.utils.basic.make_subdict | 不适用 | module |
| Config | paas_wl.bk_app.applications.models.config.Config | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| label_toleration_providers | 不适用 | `label_toleration_providers = LabelTolerationProviders()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_full_node_selector | `def get_full_node_selector(app: WlApp, config: Optional['Config'] = None) -> Dict:` | 无 | An app's node_selector was constituted by many par... |
| get_full_tolerations | `def get_full_tolerations(app: WlApp, config: Optional['Config'] = None) -> List:` | 无 | An app's tolerations was constituted by many parts... |
| get_slugbuilder_resources | `def get_slugbuilder_resources(app: WlApp) -> Dict[str, Dict[str, str]]:` | 无 | 获取 slugbuilder 资源配额（允许根据集群自定义）

    :return: {"req... |
| get_client_by_app | `def get_client_by_app(app: WlApp) -> EnhancedApiClient:` | 无 | Get kubernetes client by given app |
| standardize_tolerations | `def standardize_tolerations(data) -> List:` | 无 | standardize tolerations, will remove unrelated fie... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LabelTolerationProviders | 无 | __init__, register_labels, register_tolerations, get_labels, get_tolerations | 无 | 无 | Allow registering extra functions for labels/toler... |

---


### 模块: apiserver/paasng/paas_wl/utils/__init__.py







---


### 模块: apiserver/paasng/paas_wl/utils/basic.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | timedelta | module |
| hashlib | sha1 | module |
| cattr | register_unstructure_hook, register_structure_hook | module |
| requests | Session, HTTPAdapter, adapters | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| MutableMapping | collections.abc.MutableMapping | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Collection | typing.Collection | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| UUID | uuid.UUID | 不适用 | module |
| shortcuts | blue_krill.cubing_case.shortcuts | to_lower_camel_case | module |
| force_bytes | django.utils.encoding.force_bytes | 不适用 | module |
| ValidationError | pydantic.ValidationError | 不适用 | module |
| display_errors | pydantic.error_wrappers.display_errors | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_time_delta | `def get_time_delta(time_delta_string):` | 无 | 
    5m -> datetime.timedelta(minutes=5)
    5d ->... |
| digest_if_length_exceeded | `def digest_if_length_exceeded(raw_str: str, limit: int):` | 无 | 如果字符串长度超长则将字符串摘要 |
| make_subdict | `def make_subdict(d: Dict, allowed_keys: Collection):` | 无 | Make a sub dict which includes only given keys

  ... |
| get_requests_session | `def get_requests_session() -> requests.Session:` | 无 | Return the global requests session object which su... |
| convert_key_to_camel | `def convert_key_to_camel(data: Dict[str, Any]) -> Dict[str, Any]:` | 无 | 将字典中的所有下划线分隔的键转换为驼峰格式 |
| to_error_string | `def to_error_string(exc: PDValidationError) -> str:` | 无 | Transform a pydantic Exception object to a one-lin... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AttrDict | collections.abc.MutableMapping | __init__, __getitem__, __setitem__, __delitem__, __iter__, __len__ | 无 | 无 | Dict-like object that can be accessed by attribute... |

---


### 模块: apiserver/paasng/paas_wl/utils/blobstore.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| BlobStore | blue_krill.storages.blobstore.base.BlobStore | 不适用 | module |
| BKGenericRepo | blue_krill.storages.blobstore.bkrepo.BKGenericRepo | 不适用 | module |
| S3Store | blue_krill.storages.blobstore.s3.S3Store | 不适用 | module |
| settings | django.conf.settings | BLOBSTORE_TYPE, BLOBSTORE_BKREPO_CONFIG, BLOBSTORE_S3_ACCESS_KEY, BLOBSTORE_S3_SECRET_KEY, BLOBSTORE_S3_ENDPOINT, BLOBSTORE_S3_REGION_NAME, BLOBSTORE_S3_SIG_VERSION | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| detect_default_blob_store | `def detect_default_blob_store() -> StoreType:` | 无 | 如果没有指定 StoreType，且已有 BKRepo 配置，则优先使用 |
| make_blob_store | `def make_blob_store(bucket: str, store_type: Optional[StoreType] = None, **kwargs) -> BlobStore:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| StoreType | blue_krill.data_types.enum.StrStructuredEnum | 无 | S3, BKREPO | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/utils/command.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | basename, path | module |




#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_command_name | `def get_command_name(command: str) -> str:` | 无 | Get name from command |


---


### 模块: apiserver/paasng/paas_wl/utils/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | PENDING | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_enum_choices | `def make_enum_choices(obj):` | 无 | Make django field choices form enum |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BuildStatus | blue_krill.data_types.enum.StrStructuredEnum | get_finished_states | SUCCESSFUL, FAILED, PENDING, INTERRUPTED | 无 | 不适用 |
| CommandStatus | blue_krill.data_types.enum.StrStructuredEnum | get_finished_states, to_job_status | SCHEDULED, SUCCESSFUL, FAILED, PENDING, INTERRUPTED | 无 | 不适用 |
| CommandType | blue_krill.data_types.enum.StrStructuredEnum | get_step_name, _missing_ | PRE_RELEASE_HOOK | 无 | 不适用 |
| PodPhase | blue_krill.data_types.enum.StrStructuredEnum | 无 | SUCCEEDED, FAILED, RUNNING | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/utils/dns.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| contextlib | contextmanager | module |
| importlib | import_module | module |
| threading | local | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Callable | typing.Callable | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| connection | urllib3.util.connection | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_patch_create_connection_with_dns | `def get_patch_create_connection_with_dns(dns_resolver) -> Callable:` | 无 | simply get patched create_connection |
| custom_resolver | `@contextlib.contextmanager:` | contextlib.contextmanager | A context manager which updates DNS resolver recor... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CustomLocalDnsResolver | threading.local | __init__ | 无 | 无 | Custom Local Dns Resolver
    支持在线程级自定义 Dns 记录
   ... |

---


### 模块: apiserver/paasng/paas_wl/utils/env_vars.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| render_vars_dict | `def render_vars_dict(d: Dict[str, str], context: VarsRenderContext) -> Dict[str, str]:` | 无 | Render an environment variable dict, replace all s... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| VarsRenderContext | 无 | 无 | 无 | dataclass | The context for rendering environment variables.

... |

---


### 模块: apiserver/paasng/paas_wl/utils/error_codes.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ErrorCode | blue_krill.web.std_error.ErrorCode | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| error_codes | 不适用 | `error_codes = ErrorCodes()` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ErrorCodes | 无 | 无 | PROCESS_OPERATE_FAILED, ERROR_ACQUIRING_EGRESS_GATEWAY_INFO, ERROR_RECYCLING_EGRESS_GATEWAY_INFO, ERROR_UPDATING_PROC_SERVICE, ERROR_UPDATING_PROC_INGRESS, CANNOT_OPERATE_PROCESS, PROCESS_OPERATION_TOO_OFTEN, DELETE_CUSTOM_DOMAIN_FAILED, CREATE_CUSTOM_DOMAIN_FAILED, UPDATE_CUSTOM_DOMAIN_FAILED, EDITION_NOT_SUPPORT, BKAPP_NOT_SET, INVALID_MRES, GET_DEPLOYMENT_FAILED, LIST_TAGS_FAILED, CREATE_VOLUME_MOUNT_FAILED, LIST_VOLUME_MOUNTS_FAILED, UPDATE_VOLUME_MOUNT_FAILED, LIST_VOLUME_SOURCES_FAILED, CREATE_VOLUME_SOURCE_FAILED, CREATE_CREDENTIALS_FAILED, INVALID_CREDENTIALS, DELETE_CREDENTIALS_FAILED, SWITCH_DEFAULT_CLUSTER_FAILED, CLUSTER_COMPONENT_NOT_EXIST | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/utils/kubestatus.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| kubernetes.client.models | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| TypeVar | typing.TypeVar | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| define | attrs.define | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| remove_prefix | blue_krill.text.remove_prefix | 不适用 | module |
| ApiClient | kubernetes.client.ApiClient | 不适用 | module |
| ResourceField | kubernetes.dynamic.resource.ResourceField | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.resource.ResourceInstance | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| T | 不适用 | `T = TypeVar('T')` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| parse_dynamic_instance | `def parse_dynamic_instance(instance: Union[ResourceInstance, ResourceField], type_: Type[T]) -> T:` | 无 | parse a dynamic instance to T
    :raise: ValueErr... |
| parse_pod | `def parse_pod(instance: Union[ResourceInstance, ResourceField]) -> kmodels.V1Pod:` | 无 | parse a dynamic instance to V1Pod
    :raise: Valu... |
| parse_container_status | `def parse_container_status(instance: Union[ResourceInstance, ResourceField]) -> kmodels.V1ContainerStatus:` | 无 | parse a dynamic instance to V1Pod
    :raise: Valu... |
| check_pod_health_status | `def check_pod_health_status(pod: kmodels.V1Pod) -> HealthStatus:` | 无 | Check if the pod is healthy

    For a Pod, health... |
| get_any_container_fail_message | `def get_any_container_fail_message(pod: kmodels.V1Pod) -> Optional[str]:` | 无 | 获取 Pod 其中一个容器的失败信息 |
| get_container_fail_message | `def get_container_fail_message(ctr: kmodels.V1ContainerStatus) -> Optional[str]:` | 无 | 获取容器的失败信息 |
| get_container_failed_message_from_state | `def get_container_failed_message_from_state(state: kmodels.V1ContainerState) -> Optional[str]:` | 无 | 获取容器的失败信息(核心实现) |
| find_pod_status_condition | `def find_pod_status_condition(conditions: List[kmodels.V1PodCondition], cond_type: str) -> Optional[kmodels.V1PodCondition]:` | 无 | finds the conditionType in conditions. |
| extract_exit_code | `def extract_exit_code(health_status: HealthStatus) -> Optional[int]:` | 无 | A helper to extract exit code |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| HealthStatusType | blue_krill.data_types.enum.StrStructuredEnum | 无 | HEALTHY, UNHEALTHY, PROGRESSING, UNKNOWN | 无 | 不适用 |
| HealthStatus | 无 | with_message | 无 | define | the resource health status |
| FakeResponse | 无 | __init__, __serialize | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/utils/local.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | REQUEST_ID_META_KEY | module |
| Local | werkzeug.local.Local | 不适用 | module |
| release_local | werkzeug.local.release_local | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| local | 不适用 | `local = Local()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| new_request_id | `def new_request_id():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Singleton | 无 | __new__ | _instance | 无 | 不适用 |
| Local | Singleton | request, request, request_id, get_http_request_id, release | 无 | 无 | local 对象，配合中间件 RequestProvider 使用 |

---


### 模块: apiserver/paasng/paas_wl/utils/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| re | match | module |
| sys | _getframe | module |
| uuid | uuid4 | module |
| cattr | unstructure, structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Callable | typing.Callable | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| TypeVar | typing.TypeVar | 不适用 | module |
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| settings | django.conf.settings | PROC_TYPE_PATTERN | module |
| models | django.db.models | Model, DateTimeField, UUIDField, CharField | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| M | 不适用 | `M = TypeVar('M')` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_json_field | `def make_json_field(cls_name: str, py_model: Type[M], decoder: Callable[[M], Dict] = cattr.unstructure, module: Optional[str] = None) -> Type[JSONField]:` | 无 | 生成会自动进行类型转换为 `py_model` 的 JSONField

    :param cl... |
| validate_procfile | `def validate_procfile(value: Dict[str, str]) -> Dict[str, str]:` | 无 | Error if proc_type not match ^[a-z0-9]([-a-z0-9])*... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AuditedModel | django.db.models.Model | 无 | created, updated | 无 | Audited model with 'created' and 'updated' fields. |
| UuidAuditedModel | AuditedModel | 无 | uuid | 无 | Add a UUID primary key to an class`AuditedModel`. |
| TimestampedModel | django.db.models.Model | 无 | region, created, updated | 无 | Model with 'created' and 'updated' fields. |
| BkUserField | django.db.models.CharField | __init__, from_db_value | description | 无 | Field for storing blueking user pk |
| SimpleUserIDWrapper | str | username | 无 | 无 | A simple user wrapper for convenience |

---


### 模块: apiserver/paasng/paas_wl/utils/text.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64encode, b64decode | module |



#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| PVAR_REGION | (?P<region>[a-z0-9_-]{1,32}) | `PVAR_REGION = '(?P<region>[a-z0-9_-]{1,32})'` | module |
| PVAR_NAME | (?P<name>[a-z0-9_-]{1,64}) | `PVAR_NAME = '(?P<name>[a-z0-9_-]{1,64})'` | module |
| PVAR_CLUSTER_NAME | (?P<name>[a-z0-9_-]{1,64}) | `PVAR_CLUSTER_NAME = '(?P<name>[a-z0-9_-]{1,64})'` | module |
| DNS_SAFE_PATTERN | ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$ | `DNS_SAFE_PATTERN = '^[a-z0-9]([-a-z0-9]*[a-z0-9])?$'` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| b64encode | `def b64encode(text: str) -> str:` | 无 | 不适用 |
| b64decode | `def b64decode(text: str) -> str:` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paas_wl/utils/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| APIError | blue_krill.web.std_error.APIError | 不适用 | module |
| status | rest_framework.status | HTTP_401_UNAUTHORIZED | module |
| AuthenticationFailed | rest_framework.exceptions.AuthenticationFailed | 不适用 | module |
| NotAuthenticated | rest_framework.exceptions.NotAuthenticated | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| BaseContentNegotiation | rest_framework.negotiation.BaseContentNegotiation | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| exception_handler | rest_framework.views.exception_handler | 不适用 | module |
| set_rollback | rest_framework.views.set_rollback | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| one_line_error | `def one_line_error(detail):` | 无 | Extract one line error from error dict |
| custom_exception_handler | `def custom_exception_handler(exc, context):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| IgnoreClientContentNegotiation | rest_framework.negotiation.BaseContentNegotiation | select_parser, select_renderer | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/autoscaling/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/autoscaling/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| GPA_COMPUTE_BY_LIMITS_ANNO_KEY | compute-by-limits | `GPA_COMPUTE_BY_LIMITS_ANNO_KEY = 'compute-by-limits'` | module |
| DEFAULT_METRICS | [{'type': 'Resource', 'metric': 'cpuUtilization', 'value': '85'}] | `DEFAULT_METRICS = [{'type': 'Resource', 'metric': 'cpuUtilization', 'value': '85'}]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ScalingMetricName | blue_krill.data_types.enum.StrStructuredEnum | 无 | CPU, MEMORY | 无 | 扩缩容指标名称（用于组装 CPA 的指标） |
| ScalingMetricSourceType | blue_krill.data_types.enum.StrStructuredEnum | 无 | RESOURCE, PODS, OBJECT | 无 | 扩缩容指标类型 |
| ScalingMetricTargetType | blue_krill.data_types.enum.StrStructuredEnum | 无 | UTILIZATION, AVERAGE_VALUE | 无 | 扩缩容指标计量类型（用于组装 CPA 的指标类型） |
| ScalingEnvName | blue_krill.data_types.enum.StrStructuredEnum | 无 | STAG, PROD, GLOBAL | 无 | 扩缩容生效环境 |
| ScalingMetric | blue_krill.data_types.enum.StrStructuredEnum | 无 | CPU_UTILIZATION, MEMORY_UTILIZATION, CPU_AVERAGE_VALUE, MEMORY_AVERAGE_VALUE | 无 | 扩缩容指标（用户可选指标） |

---


### 模块: apiserver/paasng/paas_wl/workloads/autoscaling/entities.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ScalingPolicy | paas_wl.bk_app.cnative.specs.constants.ScalingPolicy | value, DEFAULT | module |
| DEFAULT_METRICS | paas_wl.workloads.autoscaling.constants.DEFAULT_METRICS | 不适用 | module |
| ScalingMetric | paas_wl.workloads.autoscaling.constants.ScalingMetric | 不适用 | module |
| ScalingMetricSourceType | paas_wl.workloads.autoscaling.constants.ScalingMetricSourceType | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ScalingObjectRef | 无 | 无 | 无 | dataclass | 自动扩缩容资源引用 |
| MetricSpec | 无 | 无 | 无 | dataclass | 扩缩容指标配置 |
| ProcAutoscalingSpec | 无 | 无 | 无 | dataclass | The specification for ProcAutoscaling kres entity. |
| AutoscalingConfig | 无 | to_autoscaling_spec | 无 | dataclass | 自动扩缩容配置 |

---


### 模块: apiserver/paasng/paas_wl/workloads/autoscaling/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AutoscalingUnsupported | Exception | 无 | 无 | 无 | Autoscaling Unsupported |

---


### 模块: apiserver/paasng/paas_wl/workloads/autoscaling/kres_entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| crd | paas_wl.infras.resources.base.crd | GPA | module |
| AppEntity | paas_wl.infras.resources.kube_res.base.AppEntity | 不适用 | module |
| ProcAutoscalingSpec | paas_wl.workloads.autoscaling.entities.ProcAutoscalingSpec | 不适用 | module |
| ScalingObjectRef | paas_wl.workloads.autoscaling.entities.ScalingObjectRef | 不适用 | module |
| ProcAutoscalingDeserializer | paas_wl.workloads.autoscaling.kres_slzs.ProcAutoscalingDeserializer | 不适用 | module |
| ProcAutoscalingSerializer | paas_wl.workloads.autoscaling.kres_slzs.ProcAutoscalingSerializer | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcAutoscaling | paas_wl.infras.resources.kube_res.base.AppEntity | 无 | 无 | dataclass | 自动伸缩实例定义 |

---


### 模块: apiserver/paasng/paas_wl/workloads/autoscaling/kres_slzs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | DEFAULT, CLOUD_NATIVE | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| PROCESS_NAME_KEY | paas_wl.bk_app.processes.constants.PROCESS_NAME_KEY | 不适用 | module |
| AppEntityDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | 不适用 | module |
| AppEntitySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | 不适用 | module |
| GPA_COMPUTE_BY_LIMITS_ANNO_KEY | paas_wl.workloads.autoscaling.constants.GPA_COMPUTE_BY_LIMITS_ANNO_KEY | 不适用 | module |
| ScalingMetric | paas_wl.workloads.autoscaling.constants.ScalingMetric | CPU_UTILIZATION, MEMORY_UTILIZATION, CPU_AVERAGE_VALUE, MEMORY_AVERAGE_VALUE | module |
| ScalingMetricName | paas_wl.workloads.autoscaling.constants.ScalingMetricName | CPU, MEMORY | module |
| ScalingMetricSourceType | paas_wl.workloads.autoscaling.constants.ScalingMetricSourceType | RESOURCE | module |
| ScalingMetricTargetType | paas_wl.workloads.autoscaling.constants.ScalingMetricTargetType | UTILIZATION, AVERAGE_VALUE | module |
| MetricSpec | paas_wl.workloads.autoscaling.entities.MetricSpec | 不适用 | module |
| ProcAutoscalingSpec | paas_wl.workloads.autoscaling.entities.ProcAutoscalingSpec | 不适用 | module |
| ScalingObjectRef | paas_wl.workloads.autoscaling.entities.ScalingObjectRef | 不适用 | module |
| ProcAutoscaling | paas_wl.workloads.autoscaling.kres_entities.ProcAutoscaling | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcAutoscalingDeserializer | AppEntityDeserializer['ProcAutoscaling'] | deserialize, _deserialize_for_default_app, _deserialize_for_cnative_app, _parse_metrics, _get_metric, _get_metric_value | 无 | 无 | Deserializer for ProcAutoscaling |
| ProcAutoscalingSerializer | AppEntitySerializer['ProcAutoscaling'] | serialize, _gen_resource_metric_source | api_version | 无 | Serializer for process auto scaling |

---


### 模块: apiserver/paasng/paas_wl/workloads/configuration/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/configuration/configmap/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/configuration/configmap/kres_entities.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| KConfigMap | paas_wl.infras.resources.base.kres.KConfigMap | 不适用 | module |
| AppEntity | paas_wl.infras.resources.kube_res.base.AppEntity | 不适用 | module |
| AppEntityManager | paas_wl.infras.resources.kube_res.base.AppEntityManager | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| ConfigMapDeserializer | apiserver.paasng.paas_wl.workloads.configuration.configmap.kres_slzs.ConfigMapDeserializer | 不适用 | module |
| ConfigMapSerializer | apiserver.paasng.paas_wl.workloads.configuration.configmap.kres_slzs.ConfigMapSerializer | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| configmap_kmodel | 不适用 | `configmap_kmodel = ConfigMapManager()` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ConfigMap | paas_wl.infras.resources.kube_res.base.AppEntity | 无 | 无 | dataclass | 不适用 |
| ConfigMapManager | AppEntityManager[ConfigMap] | __init__, delete | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/configuration/configmap/kres_slzs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| AppEntityDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | 不适用 | module |
| AppEntitySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | 不适用 | module |
| ConfigMap | paas_wl.workloads.configuration.configmap.kres_entities.ConfigMap | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ConfigMapSerializer | AppEntitySerializer['ConfigMap'] | serialize | api_version | 无 | 不适用 |
| ConfigMapDeserializer | AppEntityDeserializer['ConfigMap'] | deserialize | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/configuration/secret/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/configuration/secret/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SecretType | blue_krill.data_types.enum.StrStructuredEnum | 无 | OPAQUE, SERVICE_ACCOUNT_TOKEN, DOCKER_CFG, DOCKER_CONFIG_JSON, BASIC_AUTH, SSH_AUTH, TLS, BOOTSTRAP_TOKEN | 无 | 
    Secret 类型

    https://kubernetes.io/docs/con... |

---


### 模块: apiserver/paasng/paas_wl/workloads/configuration/secret/kres_entities.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| KSecret | paas_wl.infras.resources.base.kres.KSecret | 不适用 | module |
| AppEntity | paas_wl.infras.resources.kube_res.base.AppEntity | 不适用 | module |
| AppEntityManager | paas_wl.infras.resources.kube_res.base.AppEntityManager | 不适用 | module |
| SecretType | apiserver.paasng.paas_wl.workloads.configuration.secret.constants.SecretType | 不适用 | module |
| SecretDeserializer | apiserver.paasng.paas_wl.workloads.configuration.secret.kres_slzs.SecretDeserializer | 不适用 | module |
| SecretSerializer | apiserver.paasng.paas_wl.workloads.configuration.secret.kres_slzs.SecretSerializer | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Secret | paas_wl.infras.resources.kube_res.base.AppEntity | 无 | 无 | dataclass | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/configuration/secret/kres_slzs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| AppEntityDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | 不适用 | module |
| AppEntitySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | 不适用 | module |
| SecretType | paas_wl.workloads.configuration.secret.constants.SecretType | 不适用 | module |
| Secret | paas_wl.workloads.configuration.secret.kres_entities.Secret | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SecretSerializer | AppEntitySerializer['Secret'] | serialize | api_version | 无 | 不适用 |
| SecretDeserializer | AppEntityDeserializer['Secret'] | deserialize | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/event/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/event/entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| InvolvedObject | 无 | 无 | 无 | dataclass | 不适用 |
| Source | 无 | 无 | 无 | dataclass | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/event/kres_entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| KEvent | paas_wl.infras.resources.base.kres.KEvent | 不适用 | module |
| AppEntity | paas_wl.infras.resources.kube_res.base.AppEntity | 不适用 | module |
| InvolvedObject | apiserver.paasng.paas_wl.workloads.event.entities.InvolvedObject | 不适用 | module |
| Source | apiserver.paasng.paas_wl.workloads.event.entities.Source | 不适用 | module |
| EventDeserializer | apiserver.paasng.paas_wl.workloads.event.kres_slzs.EventDeserializer | 不适用 | module |
| EventSerializer | apiserver.paasng.paas_wl.workloads.event.kres_slzs.EventSerializer | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Event | paas_wl.infras.resources.kube_res.base.AppEntity | 无 | 无 | dataclass | 应用事件

    :param reason: 事件产生的原因
    :param count:... |

---


### 模块: apiserver/paasng/paas_wl/workloads/event/kres_slzs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| AppEntityDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | 不适用 | module |
| AppEntitySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | 不适用 | module |
| get_items | paasng.utils.dictx.get_items | 不适用 | module |
| InvolvedObject | apiserver.paasng.paas_wl.workloads.event.entities.InvolvedObject | 不适用 | module |
| Source | apiserver.paasng.paas_wl.workloads.event.entities.Source | 不适用 | module |
| Event | paas_wl.workloads.event.kres_entities.Event | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EventDeserializer | AppEntityDeserializer['Event'] | deserialize | 无 | 无 | 不适用 |
| EventSerializer | AppEntitySerializer['Event'] | serialize | api_version | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/event/reader.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| AppEntityReader | paas_wl.infras.resources.kube_res.base.AppEntityReader | 不适用 | module |
| ResourceList | paas_wl.infras.resources.kube_res.base.ResourceList | 不适用 | module |
| Event | apiserver.paasng.paas_wl.workloads.event.kres_entities.Event | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| event_kmodel | 不适用 | `event_kmodel = EventReader(Event)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EventReader | AppEntityReader[Event] | list_by_app_instance_name | 无 | 无 | Reader for Event |

---


### 模块: apiserver/paasng/paas_wl/workloads/images/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/images/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ImagesConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/images/constants.py




#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| KUBE_SECRET_TYPE | kubernetes.io/dockerconfigjson | `KUBE_SECRET_TYPE = 'kubernetes.io/dockerconfigjson'` | module |
| KUBE_DATA_KEY | .dockerconfigjson | `KUBE_DATA_KEY = '.dockerconfigjson'` | module |



---


### 模块: apiserver/paasng/paas_wl/workloads/images/entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| define | attrs.define | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ImageCredential | 无 | 无 | 无 | dataclass | 不适用 |
| ImageCredentialRef | 无 | 无 | 无 | define | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/images/kres_entities.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | APP_DOCKER_REGISTRY_HOST, APP_DOCKER_REGISTRY_USERNAME, APP_DOCKER_REGISTRY_PASSWORD | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| kres | paas_wl.infras.resources.base.kres | KSecret | module |
| AppEntity | paas_wl.infras.resources.kube_res.base.AppEntity | 不适用 | module |
| AppEntityManager | paas_wl.infras.resources.kube_res.base.AppEntityManager | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| b64encode | paas_wl.utils.text.b64encode | 不适用 | module |
| ImageCredential | paas_wl.workloads.images.entities.ImageCredential | 不适用 | module |
| ImageCredentialsDeserializer | paas_wl.workloads.images.kres_slzs.ImageCredentialsDeserializer | 不适用 | module |
| ImageCredentialsSerializer | paas_wl.workloads.images.kres_slzs.ImageCredentialsSerializer | 不适用 | module |
| AppImageCredential | paas_wl.workloads.images.models.AppImageCredential | filter, objects | module |
| make_image_pull_secret_name | paas_wl.workloads.images.utils.make_image_pull_secret_name | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| credentials_kmodel | 不适用 | `credentials_kmodel = ImageCredentialsManager()` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ImageCredentials | paas_wl.infras.resources.kube_res.base.AppEntity | load_from_app, build_dockerconfig, build_app_registry_auth | 无 | dataclass | 不适用 |
| ImageCredentialsManager | AppEntityManager[ImageCredentials] | __init__, delete | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/images/kres_slzs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps, loads | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| AppEntityDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | 不适用 | module |
| AppEntitySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | 不适用 | module |
| b64decode | paas_wl.utils.text.b64decode | 不适用 | module |
| b64encode | paas_wl.utils.text.b64encode | 不适用 | module |
| constants | paas_wl.workloads.images.constants | KUBE_SECRET_TYPE, KUBE_DATA_KEY | module |
| ImageCredential | paas_wl.workloads.images.entities.ImageCredential | 不适用 | module |
| make_image_pull_secret_name | paas_wl.workloads.images.utils.make_image_pull_secret_name | 不适用 | module |
| ImageCredentials | paas_wl.workloads.images.kres_entities.ImageCredentials | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ImageCredentialsSerializer | AppEntitySerializer['ImageCredentials'] | serialize | api_version | 无 | 不适用 |
| ImageCredentialsDeserializer | AppEntityDeserializer['ImageCredentials'] | deserialize | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/images/management/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/images/management/commands/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/images/management/commands/encryption_migration_images.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ReEncryptCommand | paasng.utils.encrypt_cmd.ReEncryptCommand | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | paasng.utils.encrypt_cmd.ReEncryptCommand | 无 | help, app_label | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/images/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | UUIDField, DateTimeField, CharField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/images/migrations/0002_auto_20220906_1114.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField, CreateModel | module |
| models | django.db.models | CharField, UUIDField, DateTimeField, TextField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/images/migrations/0003_auto_20230313_1751.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| blue_krill.models.fields | EncryptField, fields, models | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EncryptHandler | blue_krill.encrypt.handler.EncryptHandler | 不适用 | module |
| get_default_secret_key | blue_krill.encrypt.utils.get_default_secret_key | 不适用 | module |
| migrations | django.db.migrations | Migration, RunPython, AlterField | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| encrypt_image_credentials_in_db | `def encrypt_image_credentials_in_db(apps, schema_editor):` | 无 | encrypt `password` in database before alert field ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/images/migrations/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/images/models.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| EncryptField | blue_krill.models.fields.EncryptField | 不适用 | module |
| models | django.db.models | Manager, ForeignKey, CASCADE, CharField, UUIDField, TextField | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| UuidAuditedModel | paas_wl.bk_app.applications.models.UuidAuditedModel | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ImageCredentialRef | apiserver.paasng.paas_wl.workloads.images.entities.ImageCredentialRef | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppImageCredentialManager | django.db.models.Manager | flush_from_refs | 无 | 无 | 不适用 |
| AppImageCredential | paas_wl.bk_app.applications.models.UuidAuditedModel | 无 | app, registry, username, password, objects | 无 | ImageCredential of applications, each object(entry... |
| AppUserCredentialManager | django.db.models.Manager | list_all_name | 无 | 无 | 不适用 |
| AppUserCredential | paas_wl.bk_app.applications.models.UuidAuditedModel | 无 | application_id, name, username, password, description, objects | 无 | App owned UserCredential, aka (Username + Password... |

---


### 模块: apiserver/paasng/paas_wl/workloads/images/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | ModelSerializer, UUIDField, DateTimeField, CharField | module |
| AppUserCredential | paas_wl.workloads.images.models.AppUserCredential | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| UsernamePasswordPairSLZ | rest_framework.serializers.ModelSerializer | 无 | application_id, created, updated, password, description | 无 | Serializer for username password pair |

---


### 模块: apiserver/paasng/paas_wl/workloads/images/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| path | django.urls.path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [path('api/bkapps/applications/<str:code>/image_credentials/', views.AppUserCredentialViewSet.as_view({'get': 'list', 'post': 'create'}), name='api.applications.image_credentials'), path('api/bkapps/applications/<str:code>/image_credentials/<str:name>', views.AppUserCredentialViewSet.as_view({'put': 'update', 'delete': 'destroy'}), name='api.applications.image_credentials.detail')]` | module |



---


### 模块: apiserver/paasng/paas_wl/workloads/images/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | CLOUD_NATIVE | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| generate_bkapp_name | paas_wl.core.resource.generate_bkapp_name | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_image_pull_secret_name | `def make_image_pull_secret_name(wl_app: WlApp) -> str:` | 无 | Return the secret name for image pull credentials |


---


### 模块: apiserver/paasng/paas_wl/workloads/images/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IntegrityError | django.db.IntegrityError | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_200_OK, HTTP_204_NO_CONTENT | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| error_codes | paas_wl.utils.error_codes.error_codes | f, CREATE_CREDENTIALS_FAILED, DELETE_CREDENTIALS_FAILED | module |
| AppUserCredential | paas_wl.workloads.images.models.AppUserCredential | filter, objects | module |
| UsernamePasswordPairSLZ | paas_wl.workloads.images.serializers.UsernamePasswordPairSLZ | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.build_cfg.BuildConfig | filter, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppUserCredentialViewSet | paasng.platform.applications.mixins.ApplicationCodeInPathMixin, rest_framework.viewsets.GenericViewSet | list, create, update, destroy | permission_classes | 无 | 应用凭证管理相关视图函数。 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/networking/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| NetworkProtocol | blue_krill.data_types.enum.StrStructuredEnum | 无 | TCP, UDP | 无 | 不适用 |
| ExposedTypeName | blue_krill.data_types.enum.StrStructuredEnum | 无 | BK_HTTP | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/egress/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/networking/egress/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EgressAppConfig | django.apps.AppConfig | 无 | name, label | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/egress/cluster_state.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| copy | deepcopy | module |
| hashlib | sha1 | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| force_bytes | django.utils.encoding.force_bytes | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.resource.ResourceInstance | 不适用 | module |
| KNode | paas_wl.infras.resources.base.kres.KNode | 不适用 | module |
| EnhancedApiClient | paas_wl.infras.resources.utils.basic.EnhancedApiClient | 不适用 | module |
| RegionClusterState | apiserver.paasng.paas_wl.workloads.networking.egress.models.RegionClusterState | filter, objects, get, DoesNotExist, create | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| generate_state | `def generate_state(region: str, cluster_name: str, client, ignore_labels: List) -> RegionClusterState:` | 无 | Generate region state for a single region |
| filter_nodes_with_labels | `def filter_nodes_with_labels(nodes: List[ResourceInstance], ignore_labels):` | 无 | 不适用 |
| get_digest_of_nodes_name | `def get_digest_of_nodes_name(nodes_name: List[str]) -> str:` | 无 | Get the digest of current node name list |
| compact_node_data | `def compact_node_data(node_data: dict):` | 无 | Compact node data by removing some big but not nec... |
| format_nodes_data | `def format_nodes_data(nodes: List[dict]) -> List[dict]:` | 无 | Format node data dict into smaller dict with {name... |
| get_nodes | `def get_nodes(client: EnhancedApiClient) -> List[ResourceInstance]:` | 无 | Return a list a all kubernetes nodes in current cl... |
| sync_state_to_nodes | `def sync_state_to_nodes(client: EnhancedApiClient, state):` | 无 | Sync a RegionClusterState object to current cluste... |


---


### 模块: apiserver/paasng/paas_wl/workloads/networking/egress/egress_ips.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| TypedDict | typing.TypedDict | 不适用 | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | 不适用 | module |
| get_client_by_cluster_name | paas_wl.infras.resources.utils.basic.get_client_by_cluster_name | 不适用 | module |
| format_nodes_data | apiserver.paasng.paas_wl.workloads.networking.egress.cluster_state.format_nodes_data | 不适用 | module |
| get_digest_of_nodes_name | apiserver.paasng.paas_wl.workloads.networking.egress.cluster_state.get_digest_of_nodes_name | 不适用 | module |
| get_nodes | apiserver.paasng.paas_wl.workloads.networking.egress.cluster_state.get_nodes | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_cluster_egress_ips | `def get_cluster_egress_ips(cluster: Cluster) -> ClusterEgressIps:` | 无 | Return cluster's egress IP addresses. by default, ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ClusterEgressIps | typing.TypedDict | 无 | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/egress/management/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/networking/egress/management/commands/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/networking/egress/management/commands/create_rc_state_binding.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| IntegrityError | django.db.utils.IntegrityError | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| RCStateAppBinding | paas_wl.workloads.networking.egress.models.RCStateAppBinding | create, objects | module |
| RegionClusterState | paas_wl.workloads.networking.egress.models.RegionClusterState | filter, objects, DoesNotExist | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/egress/management/commands/region_gen_state.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| sys | exit | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | values_list, objects, filter | module |
| get_client_by_cluster_name | paas_wl.infras.resources.utils.basic.get_client_by_cluster_name | 不适用 | module |
| generate_state | paas_wl.workloads.networking.egress.cluster_state.generate_state | 不适用 | module |
| sync_state_to_nodes | paas_wl.workloads.networking.egress.cluster_state.sync_state_to_nodes | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger('commands')` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | This command stores current cluster status in data... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/egress/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| jsonfield.fields | JSONField, fields | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, CharField, IntegerField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/egress/migrations/0002_auto_20201216_1213.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField, AlterUniqueTogether | module |
| models | django.db.models | OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/egress/migrations/0003_egressrule_egressspec.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, IntegerField, CharField, OneToOneField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/egress/migrations/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/networking/egress/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | BCS_EGRESS_GATE_IMAGE, BCS_EGRESS_POD_IP_IMAGE, BCS_EGRESS_POD_CIDRS | module |
| models | django.db.models | CharField, IntegerField, OneToOneField, CASCADE, ForeignKey | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| AuditedModel | paas_wl.bk_app.applications.models.AuditedModel | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| label_toleration_providers | paas_wl.infras.resources.utils.basic.label_toleration_providers | register_labels | module |
| NetworkProtocol | paas_wl.workloads.networking.constants.NetworkProtocol | get_django_choices | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RegionClusterState | paas_wl.bk_app.applications.models.AuditedModel | to_labels | region, cluster_name, name, nodes_digest, nodes_cnt, nodes_name, nodes_data | 无 | A RegionClusterState is a state which describes wh... |
| RCStateAppBinding | paas_wl.bk_app.applications.models.AuditedModel | 无 | app, state | 无 | If an app was bind with one RegionClusterState ins... |
| EgressSpec | paas_wl.bk_app.applications.models.AuditedModel | build_manifest | wl_app, replicas, cpu_limit, memory_limit | 无 | 不适用 |
| EgressRule | paas_wl.bk_app.applications.models.AuditedModel | 无 | spec, dst_port, host, protocol, src_port, service | 无 | BCS Egress.spec.rules |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/egress/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | ModelSerializer | module |
| RCStateAppBinding | paas_wl.workloads.networking.egress.models.RCStateAppBinding | 不适用 | module |
| RegionClusterState | paas_wl.workloads.networking.egress.models.RegionClusterState | 不适用 | module |
| format_nodes_data | apiserver.paasng.paas_wl.workloads.networking.egress.cluster_state.format_nodes_data | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RegionClusterStateSLZ | rest_framework.serializers.ModelSerializer | to_representation | 无 | 无 | 不适用 |
| RCStateAppBindingSLZ | rest_framework.serializers.ModelSerializer | 无 | state | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/egress/shim.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Cluster | paas_wl.infras.cluster.models.Cluster | get, objects | module |
| ClusterEgressIps | paas_wl.workloads.networking.egress.egress_ips.ClusterEgressIps | 不适用 | module |
| get_cluster_egress_ips | paas_wl.workloads.networking.egress.egress_ips.get_cluster_egress_ips | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_cluster_egress_info | `def get_cluster_egress_info(cluster_name: str) -> ClusterEgressIps:` | 无 | Get cluster's egress info |


---


### 模块: apiserver/paasng/paas_wl/workloads/networking/egress/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path(make_app_pattern('/egress_gateway_infos/$'), views.EgressGatewayInfosViewSet.as_view({'post': 'create'}), name='api.egress_gateway_infos'), re_path(make_app_pattern('/egress_gateway_infos/default/$'), views.EgressGatewayInfosViewSet.as_view({'get': 'retrieve', 'delete': 'destroy'}), name='api.egress_gateway_infos.default')]` | module |



---


### 模块: apiserver/paasng/paas_wl/workloads/networking/egress/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IntegrityError | django.db.utils.IntegrityError | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_204_NO_CONTENT | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| error_codes | paas_wl.utils.error_codes.error_codes | f, EDITION_NOT_SUPPORT, ERROR_ACQUIRING_EGRESS_GATEWAY_INFO, ERROR_RECYCLING_EGRESS_GATEWAY_INFO | module |
| RCStateAppBinding | paas_wl.workloads.networking.egress.models.RCStateAppBinding | create, objects, get, DoesNotExist | module |
| RegionClusterState | paas_wl.workloads.networking.egress.models.RegionClusterState | filter, objects, DoesNotExist | module |
| RCStateAppBindingSLZ | paas_wl.workloads.networking.egress.serializers.RCStateAppBindingSLZ | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE, DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | EXIT_IP | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| AppFeatureFlag | paasng.platform.applications.constants.AppFeatureFlag | TOGGLE_EGRESS_BINDING | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EgressGatewayInfosViewSet | paasng.platform.applications.mixins.ApplicationCodeInPathMixin, rest_framework.viewsets.GenericViewSet | retrieve, create, destroy | permission_classes | 无 | 应用出口 IP 管理相关 API |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/entrance/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/networking/entrance/addrs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| NamedTuple | typing.NamedTuple | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| urlparse | urllib.parse.urlparse | 不适用 | module |
| define | attrs.define | 不适用 | module |
| PortMap | paas_wl.infras.cluster.models.PortMap | 不适用 | module |
| AddressType | paas_wl.workloads.networking.entrance.constants.AddressType | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| default_port_map | 不适用 | `default_port_map = PortMap()` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| URL | 无 | as_address, from_address, compare_with | 无 | define | 不适用 |
| EnvExposedURL | typing.NamedTuple | address | 无 | 无 | 不适用 |
| Address | 无 | hostname_endswith, to_exposed_url | 无 | define | Represents an exposed endpoint of application's de... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/entrance/allocator/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/networking/entrance/allocator/domains.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| attrgetter | operator.attrgetter | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |
| Domain | paas_wl.infras.cluster.models.Domain | 不适用 | module |
| IngressConfig | paas_wl.infras.cluster.models.IngressConfig | 不适用 | module |
| PortMap | paas_wl.infras.cluster.models.PortMap | 不适用 | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| URL | paas_wl.workloads.networking.entrance.addrs.URL | 不适用 | module |
| to_dns_safe | paas_wl.workloads.networking.entrance.utils.to_dns_safe | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | value, PROD | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DomainPriorityType | blue_krill.data_types.enum.IntStructuredEnum | 无 | STABLE, WITHOUT_MODULE, ONLY_CODE | 无 | 不适用 |
| Domain | 无 | as_url, as_dict, sort_by_len, sort_by_type | 无 | dataclass | A domain object |
| ModuleEnvDomains | 无 | __init__, get_ingress_config, all, get_highest_priority | 无 | 无 | managing domains for module environment |
| SubDomainAllocator | 无 | __init__, list_available, get_highest_priority, for_universal, for_default_module, for_default_module_prod_env, _make_host | DOT_SEP | 无 | Allocate domain objects

    :param port_map: The ... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/entrance/allocator/subpaths.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| attrgetter | operator.attrgetter | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |
| settings | django.conf.settings | USE_LEGACY_SUB_PATH_PATTERN | module |
| Domain | paas_wl.infras.cluster.models.Domain | 不适用 | module |
| IngressConfig | paas_wl.infras.cluster.models.IngressConfig | 不适用 | module |
| PortMap | paas_wl.infras.cluster.models.PortMap | 不适用 | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| URL | paas_wl.workloads.networking.entrance.addrs.URL | 不适用 | module |
| to_dns_safe | paas_wl.workloads.networking.entrance.utils.to_dns_safe | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | value, PROD | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_legacy_compatible_path | `def get_legacy_compatible_path(env: ModuleEnvironment) -> str:` | 无 | Get the subpath for environment which is compatibl... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SubpathPriorityType | blue_krill.data_types.enum.IntStructuredEnum | 无 | STABLE, WITHOUT_MODULE, ONLY_CODE | 无 | 不适用 |
| Subpath | 无 | as_url, as_dict, sort_by_len, sort_by_type | 无 | dataclass | A subpath object |
| ModuleEnvSubpaths | 无 | __init__, get_ingress_config, get_shortest, all, get_highest_priority | 无 | 无 | managing subpaths for module environment |
| SubPathAllocator | 无 | __init__, list_available, get_highest_priority, for_universal, for_default_module, for_default_module_prod_env, make_stable_obj, _make_subpath | sep | 无 | Allocate subpath objects

    :param port_map: The... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/entrance/apps.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EntranceConfig | django.apps.AppConfig | ready | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/entrance/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppDomainSource | blue_krill.data_types.enum.IntStructuredEnum | 无 | BUILT_IN, AUTO_GEN, INDEPENDENT | 无 | 不适用 |
| AppSubpathSource | blue_krill.data_types.enum.IntStructuredEnum | 无 | DEFAULT | 无 | 不适用 |
| AddressType | blue_krill.data_types.enum.StrStructuredEnum | 无 | SUBDOMAIN, SUBPATH, CUSTOM, LEGACY | 无 | Address types, different value means different sou... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/entrance/entrance.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| LiveEnvAddresses | paas_wl.workloads.networking.entrance.shim.LiveEnvAddresses | 不适用 | module |
| get_builtin_addr_preferred | paas_wl.workloads.networking.entrance.shim.get_builtin_addr_preferred | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_entrances | `def get_entrances(app: 'Application') -> List[Dict]:` | 无 | 查询应用所有模块的访问入口 |


---


### 模块: apiserver/paasng/paas_wl/workloads/networking/entrance/handlers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| receiver | django.dispatch.receiver | 不适用 | module |
| env_is_running | paas_wl.core.env.env_is_running | 不适用 | module |
| sync_subdomains | paas_wl.workloads.networking.ingress.shim.sync_subdomains | 不适用 | module |
| sync_subpaths | paas_wl.workloads.networking.ingress.shim.sync_subpaths | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| application_default_module_switch | paasng.platform.applications.signals.application_default_module_switch | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sync_default_entrances_for_module_switching | `@receiver(application_default_module_switch):` | receiver | sync module's default domains and subpaths after s... |
| refresh_module_domains | `def refresh_module_domains(module: Module):` | 无 | Refresh a module's domains, you should call the fu... |
| refresh_module_subpaths | `def refresh_module_subpaths(module: Module) -> None:` | 无 | Refresh a module's subpaths, you should call the f... |


---


### 模块: apiserver/paasng/paas_wl/workloads/networking/entrance/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| re | compile | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, RegexField, BooleanField, IntegerField, CharField, ChoiceField, ListField, URLField, DictField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| UniqueTogetherValidator | rest_framework.serializers.UniqueTogetherValidator | 不适用 | module |
| AddressType | paas_wl.workloads.networking.entrance.constants.AddressType | get_choices | module |
| get_custom_domain_config | paas_wl.workloads.networking.ingress.config.get_custom_domain_config | 不适用 | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | all, objects | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| validate_domain_payload | `def validate_domain_payload(data: Dict, application: Application, serializer_cls: Type[serializers.Serializer], instance: Optional[Domain] = None):` | 无 | Validate a domain data, which was read form user i... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DomainEditableMixin | rest_framework.serializers.Serializer | validate_path_prefix, validate_domain_name | path_prefix, domain_name, https_enabled | 无 | A collection of editable fields for Domain

    Co... |
| DomainSLZ | DomainEditableMixin | 无 | id, module_name, environment_name | 无 | For creation and representation |
| DomainForUpdateSLZ | DomainEditableMixin | 无 | 无 | 无 | For updating Domain |
| ModuleCustomDomainSLZ | rest_framework.serializers.Serializer | 无 | enabled, valid_domain_suffixes, allow_user_modifications | 无 | Serializer for application custom domain |
| AvailableEntranceSLZ | rest_framework.serializers.Serializer | 无 | id, url, type | 无 | 不适用 |
| ModuleEnvAddressSLZ | rest_framework.serializers.Serializer | 无 | module, env, address, is_running | 无 | 模块环境访问地址 |
| ModuleEntrancesSLZ | rest_framework.serializers.Serializer | 无 | name, is_default, envs | 无 | 不适用 |
| CustomDomainsConfigSLZ | rest_framework.serializers.Serializer | 无 | module, environment, frontend_ingress_ip | 无 | 不适用 |
| SwitchMarketEntranceSLZ | rest_framework.serializers.Serializer | 无 | module, address | 无 | 切换市场访问地址 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/entrance/shim.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | get, objects | module |
| env_is_running | paas_wl.core.env.env_is_running | 不适用 | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| URL | paas_wl.workloads.networking.entrance.addrs.URL | 不适用 | module |
| Address | paas_wl.workloads.networking.entrance.addrs.Address | 不适用 | module |
| ModuleEnvDomains | paas_wl.workloads.networking.entrance.allocator.domains.ModuleEnvDomains | 不适用 | module |
| ModuleEnvSubpaths | paas_wl.workloads.networking.entrance.allocator.subpaths.ModuleEnvSubpaths | 不适用 | module |
| AddressType | paas_wl.workloads.networking.entrance.constants.AddressType | LEGACY, CUSTOM, SUBDOMAIN, SUBPATH | module |
| AppDomainSource | paas_wl.workloads.networking.ingress.constants.AppDomainSource | AUTO_GEN | module |
| AppDomain | paas_wl.workloads.networking.ingress.models.AppDomain | filter, objects | module |
| AppSubpath | paas_wl.workloads.networking.ingress.models.AppSubpath | filter, objects | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | filter, objects | module |
| get_region | paasng.core.region.models.get_region | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| ExposedURLType | paasng.platform.modules.constants.ExposedURLType | SUBPATH, SUBDOMAIN | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_legacy_url | `def get_legacy_url(env: ModuleEnvironment) -> Optional[str]:` | 无 | Deprecated: Get legacy URL address which is a hard... |
| get_builtin_addr_preferred | `def get_builtin_addr_preferred(env: ModuleEnvironment) -> Tuple[bool, Optional[Address]]:` | 无 | Get the highest priority builtin address of given ... |
| get_builtin_addrs | `def get_builtin_addrs(env: ModuleEnvironment) -> Tuple[bool, List[Address]]:` | 无 | Get all builtin addresses of given environment

  ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseEnvAddresses | 无 | __init__, wl_app, ingress_cfg, list, list_subdomain, list_subpath, list_legacy, list_custom, has_custom_url, _make_url, _sort | 无 | 无 | Get all addresses for given environment |
| LiveEnvAddresses | BaseEnvAddresses | list, list_subdomain, list_subpath | 无 | 无 | Get all live addresses for given environment

    ... |
| PreAllocatedEnvAddresses | BaseEnvAddresses | list, list_subdomain, list_subpath | 无 | 无 | Get all pre-allocated addresses for given environm... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/entrance/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('api/bkapps/applications/(?P<code>[^/]+)/domains/$', views.AppDomainsViewSet.as_view({'get': 'list', 'post': 'create'}), name='api.app_domains'), re_path('api/bkapps/applications/(?P<code>[^/]+)/domains/(?P<id>\\d+)/$', views.AppDomainsViewSet.as_view({'put': 'update', 'delete': 'destroy'}), name='api.app_domains.singular'), re_path('api/bkapps/applications/(?P<code>[^/]+)/domains/configs/$', views.AppDomainsViewSet.as_view({'get': 'list_configs'}), name='api.app_domains.configs'), re_path('api/bkapps/applications/(?P<code>[^/]+)/entrances/$', views.AppEntranceViewSet.as_view({'get': 'list_all_entrances'}), name='api.applications.entrances.all_entrances')]` | module |



---


### 模块: apiserver/paasng/paas_wl/workloads/networking/entrance/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| get_region | paasng.core.region.models.get_region | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| to_dns_safe | `def to_dns_safe(s: str) -> str:` | 无 | Transform some string to dns safe |
| get_legacy_url | `def get_legacy_url(env: ModuleEnvironment) -> Optional[str]:` | 无 | Deprecated: Get legacy URL address which is a hard... |


---


### 模块: apiserver/paasng/paas_wl/workloads/networking/entrance/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_204_NO_CONTENT | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| ViewSet | rest_framework.viewsets.ViewSet | 不适用 | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| serializers | paas_wl.workloads.networking.entrance.serializers | 不适用 | module |
| DomainForUpdateSLZ | paas_wl.workloads.networking.entrance.serializers.DomainForUpdateSLZ | 不适用 | module |
| DomainSLZ | paas_wl.workloads.networking.entrance.serializers.DomainSLZ | 不适用 | module |
| validate_domain_payload | paas_wl.workloads.networking.entrance.serializers.validate_domain_payload | 不适用 | module |
| get_custom_domain_config | paas_wl.workloads.networking.ingress.config.get_custom_domain_config | 不适用 | module |
| get_custom_domain_mgr | paas_wl.workloads.networking.ingress.domains.manager.get_custom_domain_mgr | 不适用 | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | filter, objects | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP, VIEW_BASIC_INFO | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE, MODIFY, DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | APP_DOMAIN | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| openapi_empty_response | paasng.utils.api_docs.openapi_empty_response | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | format, CREATE_CUSTOM_DOMAIN_FAILED, UPDATE_CUSTOM_DOMAIN_FAILED, DELETE_CUSTOM_DOMAIN_FAILED | module |
| get_entrances | apiserver.paasng.paas_wl.workloads.networking.entrance.entrance.get_entrances | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppDomainsViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get_queryset, list, create, update, destroy, list_configs, allow_modifications | permission_classes, lookup_url_kwarg, lookup_field | 无 | 管理应用独立域名的 ViewSet |
| AppEntranceViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list_all_entrances | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/apps.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |
| register | apiserver.paasng.paas_wl.workloads.networking.ingress.plugins.ingress.register | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| IngressConfig | django.apps.AppConfig | ready | name, label | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/certs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64encode | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| force_bytes | django.utils.encoding.force_bytes | 不适用 | module |
| force_str | django.utils.encoding.force_str | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| kres | paas_wl.infras.resources.base.kres | KSecret | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |
| AppDomain | paas_wl.workloads.networking.ingress.models.AppDomain | 不适用 | module |
| AppDomainSharedCert | paas_wl.workloads.networking.ingress.models.AppDomainSharedCert | filter, objects | module |
| BasicCert | paas_wl.workloads.networking.ingress.models.BasicCert | 不适用 | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| update_or_create_secret_by_cert | `def update_or_create_secret_by_cert(app: WlApp, cert: BasicCert) -> Tuple[str, bool]:` | 无 | Update or create the secret resource by cert objec... |
| pick_shared_cert | `def pick_shared_cert(region: str, host: str) -> Optional[AppDomainSharedCert]:` | 无 | Try to pick a shared cert for current app domain

... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DomainWithCert | 无 | __init__, from_app_domain, from_custom_domain | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/config.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| List | typing.List | 不适用 | module |
| get_region_aware | paasng.utils.configs.get_region_aware | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_custom_domain_config | `def get_custom_domain_config(region: str) -> CustomDomainConfig:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CustomDomainConfig | 无 | 无 | 无 | dataclass | Config object for application custom domain

    :... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| ANNOT_SERVER_SNIPPET | nginx.ingress.kubernetes.io/server-snippet | `ANNOT_SERVER_SNIPPET = 'nginx.ingress.kubernetes.io/server-snippet'` | module |
| ANNOT_CONFIGURATION_SNIPPET | nginx.ingress.kubernetes.io/configuration-snippet | `ANNOT_CONFIGURATION_SNIPPET = 'nginx.ingress.kubernetes.io/configuration-snippet'` | module |
| ANNOT_REWRITE_TARGET | nginx.ingress.kubernetes.io/rewrite-target | `ANNOT_REWRITE_TARGET = 'nginx.ingress.kubernetes.io/rewrite-target'` | module |
| ANNOT_SSL_REDIRECT | nginx.ingress.kubernetes.io/ssl-redirect | `ANNOT_SSL_REDIRECT = 'nginx.ingress.kubernetes.io/ssl-redirect'` | module |
| ANNOT_SKIP_FILTER_CLB | bkbcs.tencent.com/skip-filter-clb | `ANNOT_SKIP_FILTER_CLB = 'bkbcs.tencent.com/skip-filter-clb'` | module |
| reserved_annotations | 不适用 | `reserved_annotations = {ANNOT_SERVER_SNIPPET, ANNOT_CONFIGURATION_SNIPPET, ANNOT_REWRITE_TARGET, ANNOT_SSL_REDIRECT, ANNOT_SKIP_FILTER_CLB}` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppDomainSource | blue_krill.data_types.enum.IntStructuredEnum | 无 | BUILT_IN, AUTO_GEN, INDEPENDENT | 无 | 不适用 |
| AppSubpathSource | blue_krill.data_types.enum.IntStructuredEnum | 无 | DEFAULT | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/domains/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_service_name | apiserver.paasng.paas_wl.workloads.networking.ingress.domains.independent.get_service_name | 不适用 | module |





---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/domains/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ReplaceAppDomainFailed | Exception | 无 | 无 | 无 | raised when replacing an AppDomain failed |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/domains/independent.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| contextlib | contextmanager | module |
| copy | deepcopy | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IntegrityError | django.db.IntegrityError | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | get, objects | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| ReplaceAppDomainFailed | paas_wl.workloads.networking.ingress.domains.exceptions.ReplaceAppDomainFailed | 不适用 | module |
| PersistentAppDomainRequired | paas_wl.workloads.networking.ingress.exceptions.PersistentAppDomainRequired | 不适用 | module |
| ValidCertNotFound | paas_wl.workloads.networking.ingress.exceptions.ValidCertNotFound | 不适用 | module |
| CustomDomainIngressMgr | paas_wl.workloads.networking.ingress.managers.CustomDomainIngressMgr | 不适用 | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | get, objects, DoesNotExist | module |
| get_main_process_service_name | paas_wl.workloads.networking.ingress.utils.get_main_process_service_name | 不适用 | module |
| guess_default_service_name | paas_wl.workloads.networking.ingress.utils.guess_default_service_name | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| restore_ingress_on_error | `@contextlib.contextmanager:` | contextlib.contextmanager | A context manager which syncs a domain's ingress r... |
| get_service_name | `def get_service_name(app: WlApp) -> str:` | 无 | Get service name for creating new ingress resource... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ReplaceAppDomainService | 无 | __init__, _get_obj, replace_with | 无 | 无 | Service to perform AppDomain replacement

    :par... |
| DomainResourceDeleteService | 无 | __init__, do, _get_app_domain_for_deletion | 无 | 无 | Delete custom domain related resources |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/domains/manager.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Protocol | typing.Protocol | 不适用 | module |
| IntegrityError | django.db.IntegrityError | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| env_is_running | paas_wl.core.env.env_is_running | 不适用 | module |
| error_codes | paas_wl.utils.error_codes.error_codes | f, CREATE_CUSTOM_DOMAIN_FAILED, UPDATE_CUSTOM_DOMAIN_FAILED, DELETE_CUSTOM_DOMAIN_FAILED | module |
| URL | paas_wl.workloads.networking.entrance.addrs.URL | from_address | module |
| ReplaceAppDomainFailed | paas_wl.workloads.networking.ingress.domains.exceptions.ReplaceAppDomainFailed | 不适用 | module |
| DomainResourceDeleteService | paas_wl.workloads.networking.ingress.domains.independent.DomainResourceDeleteService | 不适用 | module |
| ReplaceAppDomainService | paas_wl.workloads.networking.ingress.domains.independent.ReplaceAppDomainService | 不适用 | module |
| get_service_name | paas_wl.workloads.networking.ingress.domains.independent.get_service_name | 不适用 | module |
| ValidCertNotFound | paas_wl.workloads.networking.ingress.exceptions.ValidCertNotFound | 不适用 | module |
| CustomDomainIngressMgr | paas_wl.workloads.networking.ingress.managers.CustomDomainIngressMgr | 不适用 | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | update_or_create, objects | module |
| cnative_custom_domain_updated | paas_wl.workloads.networking.ingress.signals.cnative_custom_domain_updated | send | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | get_or_create_by_app, objects | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | get, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| check_domain_used_by_market | `def check_domain_used_by_market(application: Application, instance: Domain) -> bool:` | 无 | Check if a domain was used as application's market... |
| get_custom_domain_mgr | `def get_custom_domain_mgr(application: Application) -> CustomDomainManager:` | 无 | Get a manager for managing custom domain |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CustomDomainManager | typing.Protocol | create, update, delete | 无 | 无 | Manage custom domains for different kinds of appli... |
| DftCustomDomainManager | 无 | __init__, create, update, delete | 无 | 无 | This manager was designed to be directly used by v... |
| CNativeCustomDomainManager | 无 | __init__, create, update, delete | 无 | 无 | Manage custom domains for cloud native application... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| List | typing.List | 不适用 | module |
| define | attrs.define | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AutoGenDomain | 无 | 无 | 无 | dataclass | Domain object for application's auto-generated cus... |
| PIngressDomain | 无 | primary_prefix_path | 无 | dataclass | Ingress Domain object

    :param path_prefix_list... |
| PServicePortPair | 无 | 无 | 无 | define | Service port pair |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EmptyAppIngressError | Exception | 无 | 无 | 无 | Exception raised when trying to sync an ingress wi... |
| ValidCertNotFound | Exception | 无 | 无 | 无 | When syncing a https domain, if we can not find a ... |
| DefaultServiceNameRequired | Exception | 无 | 无 | 无 | When trying to create a new ingress resource witho... |
| PersistentAppDomainRequired | Exception | 无 | 无 | 无 | When performing some actions, a presistent(stored ... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/kres_entities/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/kres_entities/ingress.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| lazy | django.utils.functional.lazy | 不适用 | module |
| kres | paas_wl.infras.resources.base.kres | KIngress | module |
| AppEntity | paas_wl.infras.resources.kube_res.base.AppEntity | 不适用 | module |
| AppEntityManager | paas_wl.infras.resources.kube_res.base.AppEntityManager | 不适用 | module |
| PIngressDomain | paas_wl.workloads.networking.ingress.entities.PIngressDomain | 不适用 | module |
| make_deserializers | paas_wl.workloads.networking.ingress.kres_slzs.ingress.make_deserializers | 不适用 | module |
| make_serializers | paas_wl.workloads.networking.ingress.kres_slzs.ingress.make_serializers | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessIngress | paas_wl.infras.resources.kube_res.base.AppEntity | 无 | 无 | dataclass | Ingress object for process, external service

    ... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/kres_entities/service.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| List | typing.List | 不适用 | module |
| kres | paas_wl.infras.resources.base.kres | KService | module |
| AppEntity | paas_wl.infras.resources.kube_res.base.AppEntity | 不适用 | module |
| AppEntityManager | paas_wl.infras.resources.kube_res.base.AppEntityManager | 不适用 | module |
| PServicePortPair | paas_wl.workloads.networking.ingress.entities.PServicePortPair | 不适用 | module |
| ProcessServiceDeserializer | paas_wl.workloads.networking.ingress.kres_slzs.service.ProcessServiceDeserializer | 不适用 | module |
| ProcessServiceSerializer | paas_wl.workloads.networking.ingress.kres_slzs.service.ProcessServiceSerializer | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessService | paas_wl.infras.resources.kube_res.base.AppEntity | has_port | 无 | dataclass | Service object for app process, internal service |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/kres_slzs/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/kres_slzs/ingress.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| settings | django.conf.settings | ENABLE_MODERN_INGRESS_SUPPORT | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| AppEntityDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | 不适用 | module |
| AppEntitySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | 不适用 | module |
| constants | paas_wl.workloads.networking.ingress.constants | ANNOT_SERVER_SNIPPET, ANNOT_CONFIGURATION_SNIPPET, ANNOT_SSL_REDIRECT, ANNOT_SKIP_FILTER_CLB, ANNOT_REWRITE_TARGET, reserved_annotations | module |
| PIngressDomain | paas_wl.workloads.networking.ingress.entities.PIngressDomain | 不适用 | module |
| ConfigurationSnippetPatcher | apiserver.paasng.paas_wl.workloads.networking.ingress.kres_slzs.utils.ConfigurationSnippetPatcher | 不适用 | module |
| IngressNginxAdaptor | apiserver.paasng.paas_wl.workloads.networking.ingress.kres_slzs.utils.IngressNginxAdaptor | 不适用 | module |
| NginxRegexRewrittenProvider | apiserver.paasng.paas_wl.workloads.networking.ingress.kres_slzs.utils.NginxRegexRewrittenProvider | 不适用 | module |
| ProcessIngress | paas_wl.workloads.networking.ingress.kres_entities.ingress.ProcessIngress | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_serializers | `def make_serializers():` | 无 | 不适用 |
| make_deserializers | `def make_deserializers():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| IngressV1Beta1Serializer | AppEntitySerializer['ProcessIngress'] | get_api_version_from_gvk, serialize | 无 | 无 | Serializer for ProcessIngress in ApiVersion networ... |
| IngressV1Beta1Deserializer | AppEntityDeserializer['ProcessIngress'] | get_api_version_from_gvk, deserialize, parse_domains, parse_service_info_from_rules | 无 | 无 | Deserializer for ProcessIngress in ApiVersion netw... |
| IngressV1Serializer | AppEntitySerializer['ProcessIngress'] | get_api_version_from_gvk, serialize | 无 | 无 | Serializer for ProcessIngress in ApiVersion networ... |
| IngressV1Deserializer | AppEntityDeserializer['ProcessIngress'] | get_api_version_from_gvk, deserialize, parse_domains, parse_service_info_from_rules | 无 | 无 | Deserializer for ProcessIngress in ApiVersion netw... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/kres_slzs/service.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| get_metadata | paas_wl.bk_app.applications.managers.get_metadata | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| PROCESS_NAME_KEY | paas_wl.bk_app.processes.constants.PROCESS_NAME_KEY | 不适用 | module |
| get_process_selector | paas_wl.core.resource.get_process_selector | 不适用 | module |
| AppEntityDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | 不适用 | module |
| AppEntitySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | 不适用 | module |
| PServicePortPair | paas_wl.workloads.networking.ingress.entities.PServicePortPair | 不适用 | module |
| ProcessService | paas_wl.workloads.networking.ingress.kres_entities.service.ProcessService | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessServiceSerializer | AppEntitySerializer['ProcessService'] | get_kube_annotations, get_kube_labels, serialize | 无 | 无 | Serializer for ProcessService |
| ProcessServiceDeserializer | AppEntityDeserializer['ProcessService'] | deserialize, extract_process_type_from_name | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/kres_slzs/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| re | findall, M, S, sub | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| dedent | textwrap.dedent | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| remove_prefix | blue_krill.text.remove_prefix | 不适用 | module |
| remove_suffix | blue_krill.text.remove_suffix | 不适用 | module |
| settings | django.conf.settings | APP_INGRESS_EXT_V1BETA1_PATH_TRAILING_SLASH, APP_INGRESS_V1_PATH_TRAILING_SLASH | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | INGRESS_USE_REGEX | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| IngressNginxAdaptor | 无 | __init__, make_configuration_snippet, build_http_path, build_rewrite_target, parse_http_path | 无 | 无 | An Adaptor shield different versions(0.20.0 ~ 0.51... |
| LegacyNginxRewrittenProvider | 无 | make_configuration_snippet, make_location_path, make_rewrite_target, parse_location_path | 无 | 无 | Maintains compatibility for ingress-nginx <= 0.21.... |
| NginxRegexRewrittenProvider | 无 | make_configuration_snippet, make_rewrite_target, make_location_path, parse_location_path | 无 | 无 | Maintains compatibility for ingress-nginx >= 0.22.... |
| ConfigurationSnippetPatcher | 无 | patch, unpatch, parse_service_info_from_rules | START_MARK, END_MARK, REGEX | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/management/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/management/commands/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/management/commands/encryption_migration_ingress.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ReEncryptCommand | paasng.utils.encrypt_cmd.ReEncryptCommand | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | paasng.utils.encrypt_cmd.ReEncryptCommand | 无 | help, app_label | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/management/commands/patch_legacy_ingresses.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| arrow | get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| fnmatch | fnmatch.fnmatch | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| Release | paas_wl.bk_app.applications.models.Release | filter, objects | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | all, objects | module |
| LegacyAppIngressMgr | paas_wl.workloads.networking.ingress.managers.LegacyAppIngressMgr | 不适用 | module |
| make_service_name | paas_wl.workloads.networking.ingress.utils.make_service_name | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger('commands')` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle, _patch_app_ingress | help | 无 | This command patchs legacy app ingresses:

    Upd... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/management/commands/patch_services.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | all, objects | module |
| get_structure | paas_wl.core.app_structure.get_structure | 不适用 | module |
| ResourceMissing | paas_wl.infras.resources.base.exceptions.ResourceMissing | 不适用 | module |
| KService | paas_wl.infras.resources.base.kres.KService | 不适用 | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | handle | help | 无 | This command patches existed kubernetes services:
... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/management/commands/refresh_cert.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| sys | exit | module |
| cryptography.x509 | load_pem_x509_certificate, x509 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| partial | functools.partial | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| List | typing.List | 不适用 | module |
| Sequence | typing.Sequence | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | filter, objects | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | all, objects | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| pick_shared_cert | paas_wl.workloads.networking.ingress.certs.pick_shared_cert | 不适用 | module |
| update_or_create_secret_by_cert | paas_wl.workloads.networking.ingress.certs.update_or_create_secret_by_cert | 不适用 | module |
| AppDomain | paas_wl.workloads.networking.ingress.models.AppDomain | filter, objects | module |
| AppDomainSharedCert | paas_wl.workloads.networking.ingress.models.AppDomainSharedCert | get, objects, DoesNotExist | module |
| AppSubpath | paas_wl.workloads.networking.ingress.models.AppSubpath | filter, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| find_uninitialized_domains | `def find_uninitialized_domains(cert: AppDomainSharedCert) -> Iterable[AppDomain]:` | 无 | Find all domains which matches the given certifica... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle, handle_refresh, scan_and_update, find_subdomain_apps, find_subpath_apps, update_secrets, display_cert, exit_with_error, print | help | 无 | This command refreshes all ingress resources relat... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/management/commands/shared_cert_tool.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| argparse | FileType | module |
| logging | getLogger | module |
| sys | exit | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| one_line_error | paas_wl.utils.views.one_line_error | 不适用 | module |
| AppDomainSharedCert | paas_wl.workloads.networking.ingress.models.AppDomainSharedCert | get, objects, DoesNotExist | module |
| AppDomainSharedCertSLZ | paas_wl.workloads.networking.ingress.serializers.AppDomainSharedCertSLZ | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger('commands')` | module |
| ACTION_CREATE | create | `ACTION_CREATE = 'create'` | module |
| ACTION_UPDATE | update | `ACTION_UPDATE = 'update'` | module |
| ENABLED_ACTIONS | ['create', 'update'] | `ENABLED_ACTIONS = [ACTION_CREATE, ACTION_UPDATE]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle, exit_with_error, handle_create, handle_update | help | 无 | This command can do below things:

    - create: C... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/managers/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppIngressMgr | apiserver.paasng.paas_wl.workloads.networking.ingress.managers.base.AppIngressMgr | 不适用 | module |
| CustomDomainIngressMgr | apiserver.paasng.paas_wl.workloads.networking.ingress.managers.domain.CustomDomainIngressMgr | 不适用 | module |
| assign_custom_hosts | apiserver.paasng.paas_wl.workloads.networking.ingress.managers.domain.assign_custom_hosts | 不适用 | module |
| AppDefaultIngresses | apiserver.paasng.paas_wl.workloads.networking.ingress.managers.misc.AppDefaultIngresses | 不适用 | module |
| LegacyAppIngressMgr | apiserver.paasng.paas_wl.workloads.networking.ingress.managers.misc.LegacyAppIngressMgr | 不适用 | module |
| assign_subpaths | apiserver.paasng.paas_wl.workloads.networking.ingress.managers.subpath.assign_subpaths | 不适用 | module |





---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/managers/base.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| abc | ABC, abstractmethod | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Sequence | typing.Sequence | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| settings | django.conf.settings | APP_INGRESS_CLASS | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| has_proc_type | paas_wl.core.app_structure.has_proc_type | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| PIngressDomain | paas_wl.workloads.networking.ingress.entities.PIngressDomain | 不适用 | module |
| DefaultServiceNameRequired | paas_wl.workloads.networking.ingress.exceptions.DefaultServiceNameRequired | 不适用 | module |
| EmptyAppIngressError | paas_wl.workloads.networking.ingress.exceptions.EmptyAppIngressError | 不适用 | module |
| ProcessIngress | paas_wl.workloads.networking.ingress.kres_entities.ingress.ProcessIngress | 不适用 | module |
| ingress_kmodel | paas_wl.workloads.networking.ingress.kres_entities.ingress.ingress_kmodel | get, delete_by_name, save | module |
| service_kmodel | paas_wl.workloads.networking.ingress.kres_entities.service.service_kmodel | list_by_app | module |
| get_default_plugins | paas_wl.workloads.networking.ingress.plugins.get_default_plugins | 不适用 | module |
| PluginNotConfigured | paas_wl.workloads.networking.ingress.plugins.exceptions.PluginNotConfigured | 不适用 | module |
| IngressPlugin | paas_wl.workloads.networking.ingress.plugins.ingress.IngressPlugin | 不适用 | module |
| parse_process_type | paas_wl.workloads.networking.ingress.utils.parse_process_type | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppIngressMgr | abc.ABC | __init__, get, delete, sync, update_target, make_ingress_name, list_desired_domains, construct_server_snippet, construct_configuration_snippet, _get_plugins_snippets, get_plugins, get_annotations | 无 | 无 | Simple class for managing app ingress |
| IngressUpdater | 无 | __init__, sync, update_target, _service_name_valid | DEFAULT_PORT_NAME | 无 | Helper class for updating ingress object |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/managers/domain.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Set | typing.Set | 不适用 | module |
| settings | django.conf.settings | CUSTOM_DOMAIN_INGRESS_CLASS | module |
| transaction | django.db.transaction | atomic | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| DomainWithCert | paas_wl.workloads.networking.ingress.certs.DomainWithCert | from_app_domain, from_custom_domain | module |
| update_or_create_secret_by_cert | paas_wl.workloads.networking.ingress.certs.update_or_create_secret_by_cert | 不适用 | module |
| AppDomainSource | paas_wl.workloads.networking.ingress.constants.AppDomainSource | AUTO_GEN | module |
| AutoGenDomain | paas_wl.workloads.networking.ingress.entities.AutoGenDomain | 不适用 | module |
| PIngressDomain | paas_wl.workloads.networking.ingress.entities.PIngressDomain | 不适用 | module |
| PersistentAppDomainRequired | paas_wl.workloads.networking.ingress.exceptions.PersistentAppDomainRequired | 不适用 | module |
| ValidCertNotFound | paas_wl.workloads.networking.ingress.exceptions.ValidCertNotFound | 不适用 | module |
| AppIngressMgr | paas_wl.workloads.networking.ingress.managers.base.AppIngressMgr | 不适用 | module |
| AppDomain | paas_wl.workloads.networking.ingress.models.AppDomain | filter, objects, update_or_create | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| assign_custom_hosts | `@transaction.atomic():` | transaction.atomic | Assign custom_domains to app, may update multiple ... |
| save_subdomains | `def save_subdomains(app: WlApp, domains: List[AutoGenDomain]) -> Set[WlApp]:` | 无 | Save subdomains to database, return apps affected ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SubdomainAppIngressMgr | paas_wl.workloads.networking.ingress.managers.base.AppIngressMgr | make_ingress_name, list_desired_domains | 无 | 无 | manage the ingress rule with individual subdomains |
| CustomDomainIngressMgr | paas_wl.workloads.networking.ingress.managers.base.AppIngressMgr | __init__, make_ingress_name, list_desired_domains, get_annotations | CUSTOM_DOMAIN_PREFIX | 无 | Manager for custom domain |
| IngressDomainFactory | 无 | __init__, create | 无 | 无 | A factory class creates `PIngressDomain` objects |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/managers/misc.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Iterable | typing.Iterable | 不适用 | module |
| List | typing.List | 不适用 | module |
| NamedTuple | typing.NamedTuple | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| PIngressDomain | paas_wl.workloads.networking.ingress.entities.PIngressDomain | 不适用 | module |
| EmptyAppIngressError | paas_wl.workloads.networking.ingress.exceptions.EmptyAppIngressError | 不适用 | module |
| AppIngressMgr | paas_wl.workloads.networking.ingress.managers.base.AppIngressMgr | 不适用 | module |
| CustomDomainIngressMgr | paas_wl.workloads.networking.ingress.managers.domain.CustomDomainIngressMgr | 不适用 | module |
| SubdomainAppIngressMgr | paas_wl.workloads.networking.ingress.managers.domain.SubdomainAppIngressMgr | 不适用 | module |
| SubPathAppIngressMgr | paas_wl.workloads.networking.ingress.managers.subpath.SubPathAppIngressMgr | 不适用 | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | filter, objects | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | get, objects, DoesNotExist | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| UpdateTargetResult | typing.NamedTuple | 无 | 无 | 无 | Result type for `AppDefaultIngresses.safe_update_t... |
| AppDefaultIngresses | 无 | __init__, list, sync_ignore_empty, safe_update_target, delete_if_service_matches | 无 | 无 | helps managing app's default ingress rules. |
| LegacyAppIngressMgr | paas_wl.workloads.networking.ingress.managers.base.AppIngressMgr | make_ingress_name, list_desired_domains | 无 | 无 | manage the default legacy default ingress resource |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/managers/service.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | CONTAINER_PORT | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| PServicePortPair | paas_wl.workloads.networking.ingress.entities.PServicePortPair | 不适用 | module |
| ProcessService | paas_wl.workloads.networking.ingress.kres_entities.service.ProcessService | 不适用 | module |
| service_kmodel | paas_wl.workloads.networking.ingress.kres_entities.service.service_kmodel | get, create, update, delete_by_name | module |
| AppDefaultIngresses | paas_wl.workloads.networking.ingress.managers.AppDefaultIngresses | 不适用 | module |
| make_service_name | paas_wl.workloads.networking.ingress.utils.make_service_name | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| build_process_service | `def build_process_service(app: WlApp, process_type: str) -> ProcessService:` | 无 | Generate the desired ProcessService object |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcDefaultServices | 无 | __init__, create_or_patch, remove, should_create_ingress | 无 | 无 | Maintains default service and ingress rules for ea... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/managers/subpath.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Set | typing.Set | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| pick_shared_cert | paas_wl.workloads.networking.ingress.certs.pick_shared_cert | 不适用 | module |
| update_or_create_secret_by_cert | paas_wl.workloads.networking.ingress.certs.update_or_create_secret_by_cert | 不适用 | module |
| AppSubpathSource | paas_wl.workloads.networking.ingress.constants.AppSubpathSource | DEFAULT | module |
| PIngressDomain | paas_wl.workloads.networking.ingress.entities.PIngressDomain | 不适用 | module |
| AppSubpath | paas_wl.workloads.networking.ingress.models.AppSubpath | filter, objects, update_or_create | module |
| AppIngressMgr | apiserver.paasng.paas_wl.workloads.networking.ingress.managers.base.AppIngressMgr | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| assign_subpaths | `def assign_subpaths(app: WlApp, subpaths: List[str], default_service_name: str):` | 无 | Assign subpaths to app, may update multiple apps's... |
| save_subpaths | `def save_subpaths(app: WlApp, subpaths: List[str]) -> Set[WlApp]:` | 无 | Save subpaths to database, return apps affected by... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SubPathAppIngressMgr | apiserver.paasng.paas_wl.workloads.networking.ingress.managers.base.AppIngressMgr | make_ingress_name, list_desired_domains, create_ingress_domain | 无 | 无 | manage ingress which providing access via subpath
... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.core.validators | RegexValidator, validators, core, CASCADE, deletion, models, db, SET_NULL | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, CharField, TextField, BooleanField, IntegerField, ForeignKey | module |
| skip_if_found_record | paasng.core.core.storages.dbrouter.skip_if_found_record | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | skip_if_found_record | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/migrations/0002_appsubpath.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, CharField, IntegerField, ForeignKey | module |
| skip_if_found_record | paasng.core.core.storages.dbrouter.skip_if_found_record | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | skip_if_found_record | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/migrations/0003_auto_20211020_1556.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterUniqueTogether | module |
| models | django.db.models | CharField | module |
| skip_if_found_record | paasng.core.core.storages.dbrouter.skip_if_found_record | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | skip_if_found_record | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/migrations/0004_auto_20220331_1058.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField, CreateModel | module |
| models | django.db.models | IntegerField, AutoField, CharField, DateTimeField, UUIDField, BigIntegerField, NullBooleanField | module |
| skip_if_found_record | paasng.core.core.storages.dbrouter.skip_if_found_record | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | skip_if_found_record | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/migrations/0005_auto_20221212_1810.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.core.validators | RegexValidator, validators, core | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RemoveField, AlterField | module |
| models | django.db.models | CharField | module |
| skip_if_found_record | paasng.core.core.storages.dbrouter.skip_if_found_record | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | skip_if_found_record | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/migrations/0006_auto_20230807_1730.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| blue_krill.models.fields | EncryptField, fields, models | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/migrations/0007_encrypt_appdominsharedcert_in_db.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |
| skip_if_found_record | paasng.core.core.storages.dbrouter.skip_if_found_record | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| encrypt_appdomainsharedcert_in_db | `def encrypt_appdomainsharedcert_in_db(apps, schema_editor):` | 无 | encrypt AppDomainSharedCert model in database  |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/migrations/0008_alter_domain_https_enabled.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/migrations/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| re | escape, match | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EncryptField | blue_krill.models.fields.EncryptField | 不适用 | module |
| RegexValidator | django.core.validators.RegexValidator | 不适用 | module |
| models | django.db.models | ForeignKey, CASCADE, CharField, BooleanField, SET_NULL, IntegerField, TextField, Manager, UUIDField, BigIntegerField | module |
| AuditedModel | paas_wl.bk_app.applications.models.AuditedModel | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| ModuleAttrFromID | paas_wl.bk_app.applications.relationship.ModuleAttrFromID | 不适用 | module |
| ModuleEnvAttrFromID | paas_wl.bk_app.applications.relationship.ModuleEnvAttrFromID | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| make_enum_choices | paas_wl.utils.constants.make_enum_choices | 不适用 | module |
| TimestampedModel | paas_wl.utils.models.TimestampedModel | 不适用 | module |
| DNS_SAFE_PATTERN | paas_wl.utils.text.DNS_SAFE_PATTERN | 不适用 | module |
| AppDomainSource | paas_wl.workloads.networking.ingress.constants.AppDomainSource | 不适用 | module |
| AppSubpathSource | paas_wl.workloads.networking.ingress.constants.AppSubpathSource | DEFAULT | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppDomain | paas_wl.bk_app.applications.models.AuditedModel | has_customized_path_prefix, __str__ | app, region, host, path_prefix, https_enabled, https_auto_redirection, cert, shared_cert, source | 无 | Domains of applications, each object(entry) repres... |
| BasicCert | paas_wl.bk_app.applications.models.AuditedModel | get_secret_name | region, name, cert_data, key_data | 无 | 不适用 |
| AppDomainCert | BasicCert | 无 | type | 无 | WlApp's TLS Certifications, usually managed by use... |
| AppDomainSharedCert | BasicCert | match_hostname | auto_match_cns, type | 无 | Shared TLS Certifications for AppDomain, every app... |
| AppSubpathManager | django.db.models.Manager | create_obj | 无 | 无 | 不适用 |
| AppSubpath | paas_wl.bk_app.applications.models.AuditedModel | __str__ | app, region, cluster_name, subpath, source, objects | 无 | stores application's subpaths |
| Domain | paas_wl.utils.models.TimestampedModel | protocol, has_customized_path_prefix, __str__ | name, path_prefix, module_id, environment_id, https_enabled, module, environment | 无 | custom domain for application |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/plugins/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Type | typing.Type | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| register_plugin | `def register_plugin(plugin_cls: Type):` | 无 | Register a new service plugin class |
| get_default_plugins | `def get_default_plugins() -> List[Type]:` | 无 | Return all default plugin types |
| override_plugins | `@contextmanager:` | contextmanager | An context manager to override service plugins |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginsContainer | 无 | 无 | 无 | 无 | Plugin container Type |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/plugins/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginNotConfigured | Exception | 无 | 无 | 无 | raised when a plugin is not configured |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/plugins/ingress.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ABC | abc.ABC | 不适用 | module |
| dedent | textwrap.dedent | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Sequence | typing.Sequence | 不适用 | module |
| settings | django.conf.settings | SERVICES_PLUGINS | module |
| get_metadata | paas_wl.bk_app.applications.managers.get_metadata | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| PluginNotConfigured | paas_wl.workloads.networking.ingress.plugins.exceptions.PluginNotConfigured | 不适用 | module |
| RegionAwareConfig | paasng.utils.configs.RegionAwareConfig | 不适用 | module |
| PIngressDomain | paas_wl.workloads.networking.ingress.entities.PIngressDomain | 不适用 | module |
| register_plugin | paas_wl.workloads.networking.ingress.plugins.register_plugin | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| register | `def register():` | 无 | Register default plugins |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| IngressPlugin | abc.ABC | __init__, make_server_snippet, make_configuration_snippet, _get_config | 无 | 无 | Ingress plugin type

    :param app: current WlApp... |
| AccessControlPlugin | IngressPlugin | __init__, make_configuration_snippet | config_key, TMPL | 无 | Access control module for ingress

    Config form... |
| PaasAnalysisPlugin | IngressPlugin | __init__, make_configuration_snippet | config_key, TMPL | 无 | Add paas analysis configs for ingress

    Config ... |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |
| cryptography.x509 | load_pem_x509_certificate, x509 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, RegexField, CharField, IntegerField, ModelSerializer | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| DNS_SAFE_PATTERN | paas_wl.utils.text.DNS_SAFE_PATTERN | 不适用 | module |
| PServicePortPair | paas_wl.workloads.networking.ingress.entities.PServicePortPair | 不适用 | module |
| service_kmodel | paas_wl.workloads.networking.ingress.kres_entities.service.service_kmodel | get | module |
| AppDomainSharedCert | paas_wl.workloads.networking.ingress.models.AppDomainSharedCert | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| validate_cert | `def validate_cert(d):` | 无 | Validate certificate content |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcServicePortSLZ | rest_framework.serializers.Serializer | to_internal_value | name, protocol, port, target_port | 无 | 不适用 |
| ProcServiceSLZ | rest_framework.serializers.Serializer | validate_ports | name, process_type, ports | 无 | 不适用 |
| ProcIngressSLZ | rest_framework.serializers.Serializer | _get_service, validate | service_name, service_port_name | 无 | 不适用 |
| AppDomainSharedCertSLZ | rest_framework.serializers.ModelSerializer | 无 | cert_data | 无 | 不适用 |
| UpdateAppDomainSharedCertSLZ | rest_framework.serializers.ModelSerializer | 无 | cert_data | 无 | Serializer for updating shared cert object |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/shim.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ModuleEnvDomains | paas_wl.workloads.networking.entrance.allocator.domains.ModuleEnvDomains | 不适用 | module |
| ModuleEnvSubpaths | paas_wl.workloads.networking.entrance.allocator.subpaths.ModuleEnvSubpaths | 不适用 | module |
| AutoGenDomain | paas_wl.workloads.networking.ingress.entities.AutoGenDomain | 不适用 | module |
| assign_custom_hosts | paas_wl.workloads.networking.ingress.managers.assign_custom_hosts | 不适用 | module |
| assign_subpaths | paas_wl.workloads.networking.ingress.managers.assign_subpaths | 不适用 | module |
| guess_default_service_name | paas_wl.workloads.networking.ingress.utils.guess_default_service_name | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sync_subpaths | `def sync_subpaths(env: ModuleEnvironment):` | 无 | 不适用 |
| sync_subdomains | `def sync_subdomains(env: ModuleEnvironment):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/signals.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Signal | django.dispatch.Signal | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| cnative_custom_domain_updated | 不适用 | `cnative_custom_domain_updated = Signal()` | module |



---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path(make_app_pattern('/process_services/$'), views.ProcessServicesViewSet.as_view({'get': 'list'}), name='api.process_services'), re_path(make_app_pattern('/process_services/(?P<service_name>[a-z0-9-]+)$'), views.ProcessServicesViewSet.as_view({'post': 'update'}), name='api.process_services.single'), re_path(make_app_pattern('/process_ingresses/default$'), views.ProcessIngressesViewSet.as_view({'post': 'update'}), name='api.process_ingresses.default')]` | module |



---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | CLOUD_NATIVE | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| get_structure | paas_wl.core.app_structure.get_structure | 不适用 | module |
| generate_bkapp_name | paas_wl.core.resource.generate_bkapp_name | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| ingress_kmodel | paas_wl.workloads.networking.ingress.kres_entities.ingress.ingress_kmodel | list_by_app | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_service_name | `def make_service_name(app: WlApp, process_type: str) -> str:` | 无 | Return the service name for each process |
| parse_process_type | `def parse_process_type(app: WlApp, service_name: str) -> str:` | 无 | Parse process type from service name

    :param a... |
| get_service_dns_name | `def get_service_dns_name(app: WlApp, process_type: str) -> str:` | 无 | Return process's DNS name, can be used for communi... |
| guess_default_service_name | `def guess_default_service_name(app: WlApp) -> str:` | 无 | Guess the default service name should be used when... |
| get_main_process_service_name | `def get_main_process_service_name(app: WlApp) -> str:` | 无 | 
    获取提供服务的主进程 Service Name

    直接从 K8S 数据查询
   ... |


---


### 模块: apiserver/paasng/paas_wl/workloads/networking/ingress/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | CLOUD_NATIVE | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | get, objects | module |
| MODULE_NAME_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.MODULE_NAME_ANNO_KEY | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| service_kmodel | paas_wl.workloads.networking.ingress.kres_entities.service.service_kmodel | list_by_app, get, update | module |
| AppDefaultIngresses | paas_wl.workloads.networking.ingress.managers.misc.AppDefaultIngresses | 不适用 | module |
| LegacyAppIngressMgr | paas_wl.workloads.networking.ingress.managers.misc.LegacyAppIngressMgr | 不适用 | module |
| ProcIngressSLZ | paas_wl.workloads.networking.ingress.serializers.ProcIngressSLZ | 不适用 | module |
| ProcServiceSLZ | paas_wl.workloads.networking.ingress.serializers.ProcServiceSLZ | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | f, ERROR_UPDATING_PROC_SERVICE, ERROR_UPDATING_PROC_INGRESS | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessServicesViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list, update | permission_classes | 无 | 管理应用内部服务相关 API |
| ProcessIngressesViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | update | permission_classes | 无 | 管理应用模块主入口相关 API |

---


### 模块: apiserver/paasng/paas_wl/workloads/networking/sync.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| env_is_running | paas_wl.core.env.env_is_running | 不适用 | module |
| DefaultServiceNameRequired | paas_wl.workloads.networking.ingress.exceptions.DefaultServiceNameRequired | 不适用 | module |
| EmptyAppIngressError | paas_wl.workloads.networking.ingress.exceptions.EmptyAppIngressError | 不适用 | module |
| AppDefaultIngresses | paas_wl.workloads.networking.ingress.managers.AppDefaultIngresses | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sync_proc_ingresses | `def sync_proc_ingresses(env: ModuleEnvironment):` | 无 | Sync ingresses configs of the given env |


---


### 模块: apiserver/paasng/paas_wl/workloads/release_controller/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/release_controller/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RuntimeType | blue_krill.data_types.enum.StrStructuredEnum | 无 | BUILDPACK, CUSTOM_IMAGE, BK_SMART, DOCKERFILE | 无 | 不适用 |
| ImagePullPolicy | blue_krill.data_types.enum.StrStructuredEnum | 无 | ALWAYS, IF_NOT_PRESENT, NEVER | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/release_controller/entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ImagePullPolicy | paas_wl.workloads.release_controller.constants.ImagePullPolicy | IF_NOT_PRESENT | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ContainerRuntimeSpec | 无 | 无 | 无 | dataclass | The runtime specification of a container which con... |

---


### 模块: apiserver/paasng/paas_wl/workloads/release_controller/hooks/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/release_controller/hooks/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| HooksConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/release_controller/hooks/entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| define | attrs.define | 不适用 | module |
| CommandType | paas_wl.utils.constants.CommandType | value, PRE_RELEASE_HOOK | module |
| Command | paas_wl.workloads.release_controller.hooks.models.Command | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CommandKubeAdaptor | 无 | get_pod_name | 无 | dataclass | 不适用 |
| CommandTemplate | 无 | 无 | 无 | define | This class declare command which can be used to ex... |

---


### 模块: apiserver/paasng/paas_wl/workloads/release_controller/hooks/kres_entities.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | datetime | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Literal | typing_extensions.Literal | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| kres | paas_wl.infras.resources.base.kres | KPod | module |
| AppEntity | paas_wl.infras.resources.kube_res.base.AppEntity | 不适用 | module |
| AppEntityManager | paas_wl.infras.resources.kube_res.base.AppEntityManager | 不适用 | module |
| Schedule | paas_wl.infras.resources.kube_res.base.Schedule | 不适用 | module |
| get_full_node_selector | paas_wl.infras.resources.utils.basic.get_full_node_selector | 不适用 | module |
| get_full_tolerations | paas_wl.infras.resources.utils.basic.get_full_tolerations | 不适用 | module |
| get_slugbuilder_resources | paas_wl.infras.resources.utils.basic.get_slugbuilder_resources | 不适用 | module |
| VarsRenderContext | paas_wl.utils.env_vars.VarsRenderContext | 不适用 | module |
| render_vars_dict | paas_wl.utils.env_vars.render_vars_dict | 不适用 | module |
| make_image_pull_secret_name | paas_wl.workloads.images.utils.make_image_pull_secret_name | 不适用 | module |
| ContainerRuntimeSpec | paas_wl.workloads.release_controller.entities.ContainerRuntimeSpec | 不适用 | module |
| CommandKubeAdaptor | paas_wl.workloads.release_controller.hooks.entities.CommandKubeAdaptor | 不适用 | module |
| CommandDeserializer | paas_wl.workloads.release_controller.hooks.kres_slzs.CommandDeserializer | 不适用 | module |
| CommandSerializer | paas_wl.workloads.release_controller.hooks.kres_slzs.CommandSerializer | 不适用 | module |
| Command | paas_wl.workloads.release_controller.hooks.models.Command | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | paas_wl.infras.resources.kube_res.base.AppEntity | from_db_obj | 无 | dataclass | 副本实例定义

    肩负着内部程序流转和 K8S 交互的重任

    :param runti... |

---


### 模块: apiserver/paasng/paas_wl/workloads/release_controller/hooks/kres_slzs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| arrow | get | module |
| cattr | unstructure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | 不适用 | module |
| ResourceField | kubernetes.dynamic.ResourceField | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| get_app_logging_volume | paas_wl.infras.resource_templates.logging.get_app_logging_volume | 不适用 | module |
| get_app_logging_volume_mounts | paas_wl.infras.resource_templates.logging.get_app_logging_volume_mounts | 不适用 | module |
| AddonManager | paas_wl.infras.resource_templates.managers.AddonManager | 不适用 | module |
| AppEntityDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | 不适用 | module |
| AppEntitySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | 不适用 | module |
| Schedule | paas_wl.infras.resources.kube_res.base.Schedule | 不适用 | module |
| decode_envs | paas_wl.infras.resources.kube_res.envs.decode_envs | 不适用 | module |
| encode_envs | paas_wl.infras.resources.kube_res.envs.encode_envs | 不适用 | module |
| check_pod_health_status | paas_wl.utils.kubestatus.check_pod_health_status | 不适用 | module |
| get_container_fail_message | paas_wl.utils.kubestatus.get_container_fail_message | 不适用 | module |
| parse_container_status | paas_wl.utils.kubestatus.parse_container_status | 不适用 | module |
| parse_pod | paas_wl.utils.kubestatus.parse_pod | 不适用 | module |
| ContainerRuntimeSpec | paas_wl.workloads.release_controller.entities.ContainerRuntimeSpec | 不适用 | module |
| Command | apiserver.paasng.paas_wl.workloads.release_controller.hooks.kres_entities.Command | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CommandDeserializer | AppEntityDeserializer['Command'] | deserialize, _get_main_container, _get_main_container_status | api_version | 无 | 不适用 |
| CommandSerializer | AppEntitySerializer['Command'] | serialize, _get_kube_labels, _get_kube_annotations | api_version | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/release_controller/hooks/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | UUIDField, DateTimeField, CharField, PositiveIntegerField, TextField, SmallIntegerField, ForeignKey, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/release_controller/hooks/migrations/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/release_controller/hooks/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| shlex | split | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| models | django.db.models | Manager, CharField, ForeignKey, CASCADE, PositiveIntegerField, TextField, SmallIntegerField, DateTimeField, OneToOneField | module |
| timezone | django.utils.timezone | now | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| OutputStream | paas_wl.bk_app.applications.models.misc.OutputStream | create, objects | module |
| CommandStatus | paas_wl.utils.constants.CommandStatus | get_choices, value, PENDING, get_finished_states | module |
| CommandType | paas_wl.utils.constants.CommandType | get_choices | module |
| UuidAuditedModel | paas_wl.utils.models.UuidAuditedModel | 不适用 | module |
| Build | paas_wl.bk_app.applications.models.build.Build | 不适用 | module |
| Config | paas_wl.bk_app.applications.models.config.Config | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CommandManager | django.db.models.Manager | new | 无 | 无 | 不适用 |
| Command | paas_wl.utils.models.UuidAuditedModel | region, lines, split_command, get_envs, update_status, set_logs_was_ready, set_int_requested_at, check_interruption_allowed | type, app, version, command, exit_code, status, logs_was_ready_at, int_requested_at, output_stream, build, config, operator, objects | 无 | The Command Model, which will be used to schedule ... |

---


### 模块: apiserver/paasng/paas_wl/workloads/tracing/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/tracing/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| worker_process_init | celery.signals.worker_process_init | connect | module |
| AppConfig | django.apps.AppConfig | 不适用 | module |
| setup_by_settings | apiserver.paasng.paas_wl.workloads.tracing.setup.setup_by_settings | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| worker_process_init_otel_trace_setup | `@worker_process_init.connect(weak=False):` | worker_process_init.connect | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TracingConfig | django.apps.AppConfig | ready | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/tracing/instrumentor.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pymysql | connect | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Collection | typing.Collection | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | REQUEST_ID_HEADER_KEY | module |
| dbapi | opentelemetry.instrumentation.dbapi | wrap_connect | module |
| CeleryInstrumentor | opentelemetry.instrumentation.celery.CeleryInstrumentor | 不适用 | module |
| DjangoInstrumentor | opentelemetry.instrumentation.django.DjangoInstrumentor | 不适用 | module |
| BaseInstrumentor | opentelemetry.instrumentation.instrumentor.BaseInstrumentor | 不适用 | module |
| LoggingInstrumentor | opentelemetry.instrumentation.logging.LoggingInstrumentor | 不适用 | module |
| RedisInstrumentor | opentelemetry.instrumentation.redis.RedisInstrumentor | 不适用 | module |
| RequestsInstrumentor | opentelemetry.instrumentation.requests.RequestsInstrumentor | 不适用 | module |
| Span | opentelemetry.trace.Span | 不适用 | module |
| Status | opentelemetry.trace.Status | 不适用 | module |
| StatusCode | opentelemetry.trace.StatusCode | OK, ERROR | module |
| Response | requests.models.Response | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| requests_callback | `def requests_callback(span: Span, response: Optional[Response]):` | 无 | 
    处理蓝鲸标准协议响应
     |
| django_response_hook | `def django_response_hook(span: Span, request, response):` | 无 | 
    处理 PaasWL Django 响应
     |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKAppInstrumentor | opentelemetry.instrumentation.instrumentor.BaseInstrumentor | instrumentation_dependencies, _instrument, _uninstrument | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/tracing/middlewares.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | REQUEST_ID_HEADER_KEY | module |
| local | paas_wl.utils.local.local | get_http_request_id, release | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RequestIDProvider | 无 | __init__, __call__ | 无 | 无 | 向 request，response 注入 request_id |

---


### 模块: apiserver/paasng/paas_wl/workloads/tracing/setup.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | OTEL_SERVICE_NAME, OTEL_BK_DATA_TOKEN, OTEL_SAMPLER, OTEL_GRPC_URL, ENABLE_OTEL_TRACE | module |
| trace | opentelemetry.trace | set_tracer_provider, get_tracer_provider | module |
| OTLPSpanExporter | opentelemetry.exporter.otlp.proto.grpc.trace_exporter.OTLPSpanExporter | 不适用 | module |
| Resource | opentelemetry.sdk.resources.Resource | create | module |
| TracerProvider | opentelemetry.sdk.trace.TracerProvider | 不适用 | module |
| BatchSpanProcessor | opentelemetry.sdk.trace.export.BatchSpanProcessor | 不适用 | module |
| _KNOWN_SAMPLERS | opentelemetry.sdk.trace.sampling._KNOWN_SAMPLERS | 不适用 | module |
| BKAppInstrumentor | apiserver.paasng.paas_wl.workloads.tracing.instrumentor.BKAppInstrumentor | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| setup_trace_config | `def setup_trace_config():` | 无 | 不适用 |
| setup_by_settings | `def setup_by_settings():` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paas_wl/workloads/volume/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/volume/persistent_volume_claim/__init__.py







---


### 模块: apiserver/paasng/paas_wl/workloads/volume/persistent_volume_claim/kres_entities.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| KPersistentVolumeClaim | paas_wl.infras.resources.base.kres.KPersistentVolumeClaim | 不适用 | module |
| AppEntity | paas_wl.infras.resources.kube_res.base.AppEntity | 不适用 | module |
| AppEntityManager | paas_wl.infras.resources.kube_res.base.AppEntityManager | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| PersistentVolumeClaimDeserializer | apiserver.paasng.paas_wl.workloads.volume.persistent_volume_claim.kres_slzs.PersistentVolumeClaimDeserializer | 不适用 | module |
| PersistentVolumeClaimSerializer | apiserver.paasng.paas_wl.workloads.volume.persistent_volume_claim.kres_slzs.PersistentVolumeClaimSerializer | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| pvc_kmodel | 不适用 | `pvc_kmodel = PersistentVolumeClaimManager()` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PersistentVolumeClaim | paas_wl.infras.resources.kube_res.base.AppEntity | 无 | 无 | dataclass | 不适用 |
| PersistentVolumeClaimManager | AppEntityManager[PersistentVolumeClaim] | __init__, delete, upsert | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paas_wl/workloads/volume/persistent_volume_claim/kres_slzs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| AppEntityDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | 不适用 | module |
| AppEntitySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | 不适用 | module |
| PersistentVolumeClaim | paas_wl.workloads.volume.persistent_volume_claim.kres_entities.PersistentVolumeClaim | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PersistentVolumeClaimSerializer | AppEntitySerializer['PersistentVolumeClaim'] | serialize | api_version | 无 | 不适用 |
| PersistentVolumeClaimDeserializer | AppEntityDeserializer['PersistentVolumeClaim'] | deserialize | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/__init__.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | setdefault, environ, get, mkdir | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| absolute_import | __future__.absolute_import | 不适用 | module |
| unicode_literals | __future__.unicode_literals | 不适用 | module |
| util | sqlalchemy.util | warn | module |
| app | apiserver.paasng.paasng.celery.app | 不适用 | module |
| fields | attrs.fields | 不适用 | module |
| has | attrs.has | 不适用 | module |
| global_converter | cattrs.global_converter | register_structure_hook_factory | module |
| override | cattrs.override | 不适用 | module |
| make_dict_structure_fn | cattrs.gen.make_dict_structure_fn | 不适用 | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| forms | jsonfield.forms | JSONField | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| path | 不适用 | `path = os.environ.get('prometheus_multiproc_dir')` | module, try |
| orig_warn | 不适用 | `orig_warn = util.warn` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| warn | `def warn(msg):` | 无 | Ignore all useless warning messages |
| formfield | `def formfield(self, **kwargs):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/accessories/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/app_secret/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/app_secret/constants.py




#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| MAX_SECRET_COUNT | 2 | `MAX_SECRET_COUNT = 2` | module |
| MIN_SECRET_COUNT | 1 | `MIN_SECRET_COUNT = 1` | module |



---


### 模块: apiserver/paasng/paasng/accessories/app_secret/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | ReadOnlyField, Serializer, IntegerField, CharField, BooleanField, DateTimeField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SecretField | rest_framework.serializers.ReadOnlyField | to_representation | 无 | 无 | 不适用 |
| AppSecretSLZ | rest_framework.serializers.Serializer | 无 | id, bk_app_code, bk_app_secret, enabled, created_at | 无 | 不适用 |
| AppSecretStatusSLZ | rest_framework.serializers.Serializer | 无 | enabled | 无 | 不适用 |
| AppSecretIdSLZ | rest_framework.serializers.Serializer | 无 | id | 无 | 不适用 |
| DeployedSecretSLZ | rest_framework.serializers.Serializer | 无 | module, environment, bk_app_secret, latest_deployed_at | 无 | 不适用 |
| AppSecretInEnvVarSLZ | rest_framework.serializers.Serializer | 无 | app_secret_in_config_var | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/app_secret/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| views | paasng.accessories.app_secret.views | as_view, BkAuthSecretViewSet, BkAppSecretInEnvVaViewSet | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/bkapps/applications/(?P<code>[^/]+)/secrets/$', views.BkAuthSecretViewSet.as_view({'get': 'list', 'post': 'create'}), name='api.app_secret.secrets'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/secrets/(?P<bk_app_secret_id>\\d+)/$', views.BkAuthSecretViewSet.as_view({'post': 'toggle', 'delete': 'delete'}), name='api.app_secret.secret'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/secret_verification/(?P<bk_app_secret_id>\\d+)/$', views.BkAuthSecretViewSet.as_view({'post': 'view_secret_detail'}), name='api.app_secret.secret_verification'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/default_secret/$', views.BkAppSecretInEnvVaViewSet.as_view({'get': 'get_default_secret', 'post': 'rotate_default_secret'}), name='api.app_secret.default_secret'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/deployed_secret/$', views.BkAppSecretInEnvVaViewSet.as_view({'get': 'get_deployed_secret'}), name='api.app_secret.deployed_secret')]` | module |



---


### 模块: apiserver/paasng/paasng/accessories/app_secret/utilts.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| typing | TYPE_CHECKING | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| datetime | datetime.datetime | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | CONFIGVAR_SYSTEM_PREFIX | module |
| ProcessManager | paas_wl.bk_app.processes.processes.ProcessManager | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | filter, objects | module |
| AppInfoBuiltinEnv | paasng.platform.engine.constants.AppInfoBuiltinEnv | APP_SECRET | module |
| DeploymentGetter | paasng.platform.engine.utils.query.DeploymentGetter | 不适用 | module |
| Instance | paas_wl.bk_app.processes.kres_entities.Instance | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_latest_deployed_at | `def get_latest_deployed_at(env: ModuleEnvironment) -> Optional[datetime]:` | 无 | 不适用 |
| get_app_secret_in_instance | `def get_app_secret_in_instance(ins_list: List['Instance']) -> Optional[str]:` | 无 | 获取进程实例中环境变量中的应用密钥(BKPAAS_APP_SECRET)的值 |
| get_deployed_secret_list | `def get_deployed_secret_list(application: Application) -> list:` | 无 | 查询应用各个模块、环境下内置环境变量 BKPAAS_APP_SECRET 的值 |


---


### 模块: apiserver/paasng/paasng/accessories/app_secret/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | ENABLE_VERIFICATION_CODE | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_204_NO_CONTENT | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| MAX_SECRET_COUNT | paasng.accessories.app_secret.constants.MAX_SECRET_COUNT | 不适用 | module |
| MIN_SECRET_COUNT | paasng.accessories.app_secret.constants.MIN_SECRET_COUNT | 不适用 | module |
| AppSecretIdSLZ | paasng.accessories.app_secret.serializers.AppSecretIdSLZ | 不适用 | module |
| AppSecretInEnvVarSLZ | paasng.accessories.app_secret.serializers.AppSecretInEnvVarSLZ | 不适用 | module |
| AppSecretSLZ | paasng.accessories.app_secret.serializers.AppSecretSLZ | 不适用 | module |
| AppSecretStatusSLZ | paasng.accessories.app_secret.serializers.AppSecretStatusSLZ | 不适用 | module |
| DeployedSecretSLZ | paasng.accessories.app_secret.serializers.DeployedSecretSLZ | 不适用 | module |
| get_deployed_secret_list | paasng.accessories.app_secret.utilts.get_deployed_secret_list | 不适用 | module |
| FunctionType | paasng.infras.accounts.constants.FunctionType | value, GET_APP_SECRET | module |
| make_verifier | paasng.infras.accounts.models.make_verifier | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| VerificationCodeSLZ | paasng.infras.accounts.serializers.VerificationCodeSLZ | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| BkOauthClient | paasng.infras.oauth2.api.BkOauthClient | 不适用 | module |
| BkAppSecretInEnvVar | paasng.infras.oauth2.models.BkAppSecretInEnvVar | update_or_create, objects | module |
| get_app_secret_in_env_var | paasng.infras.oauth2.utils.get_app_secret_in_env_var | 不适用 | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE, ENABLE, DISABLE, DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | SECRET | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | ENGINELESS_APP | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkAuthSecretViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | _is_default_secret_in_engine_app, list, create, toggle, delete, view_secret_detail | permission_classes | 无 | 不适用 |
| BkAppSecretInEnvVaViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get_default_secret, get_deployed_secret, rotate_default_secret | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/ci/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/ci/apps.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |
| contribute_to_app | apiserver.paasng.paasng.accessories.ci.apps_ext.contribute_to_app | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CIAppConfig | django.apps.AppConfig | ready | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/ci/base.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Protocol | typing_extensions.Protocol | 不适用 | module |
| CIBackend | paasng.accessories.ci.constants.CIBackend | 不适用 | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkUserOAuth | 无 | from_request, from_user_profile, from_simple_username, to_dict | 无 | dataclass | 不适用 |
| AtomData | 无 | 无 | 无 | dataclass | 不适用 |
| CIManager | typing_extensions.Protocol | 无 | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/ci/clients/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/ci/clients/apigw.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| APIGatewayClient | bkapi_client_core.apigateway.APIGatewayClient | 不适用 | module |
| Operation | bkapi_client_core.apigateway.Operation | 不适用 | module |
| OperationGroup | bkapi_client_core.apigateway.OperationGroup | 不适用 | module |
| bind_property | bkapi_client_core.apigateway.bind_property | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Group | bkapi_client_core.apigateway.OperationGroup | 无 | app_codecc_custom_pipeline_new, app_codecc_build_id_mapping, app_codecc_build_task_info, app_codecc_defect_statistic, app_codecc_defect_statistic_dimension, app_codecc_defect_statistic_summary, app_codecc_task_metrics, app_codecc_tool_defect_count | 无 | 不适用 |
| Client | bkapi_client_core.apigateway.APIGatewayClient | 无 | _api_name, api | 无 | Bkapi devops client |

---


### 模块: apiserver/paasng/paasng/accessories/ci/clients/bk_ci.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| APIGatewayResponseError | bkapi_client_core.exceptions.APIGatewayResponseError | 不适用 | module |
| settings | django.conf.settings | BK_API_URL_TMPL, BK_APP_CODE, BK_APP_SECRET | module |
| Client | paasng.accessories.ci.clients.apigw.Client | 不适用 | module |
| Group | paasng.accessories.ci.clients.apigw.Group | 不适用 | module |
| BkCIApiError | paasng.accessories.ci.clients.exceptions.BkCIApiError | 不适用 | module |
| BkCIGatewayServiceError | paasng.accessories.ci.clients.exceptions.BkCIGatewayServiceError | 不适用 | module |
| BkUserOAuth | paasng.accessories.ci.base.BkUserOAuth | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkCIClient | 无 | __init__, trigger_codecc_pipeline, get_codecc_defect_tool_counts, get_codecc_taskinfo_by_build_id | 无 | 无 | 蓝盾通过 APIGW 提供的应用态 API |

---


### 模块: apiserver/paasng/paasng/accessories/ci/clients/exceptions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkCIGatewayServiceError | Exception | __init__ | 无 | 无 | This error indicates that there's something wrong ... |
| BkCIApiError | BkCIGatewayServiceError | __init__ | 无 | 无 | When calling the bk-iam api, bk-iam returns an err... |

---


### 模块: apiserver/paasng/paasng/accessories/ci/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CIBackend | blue_krill.data_types.enum.StrStructuredEnum | 无 | CODECC | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/ci/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| NotSupportedCIBackend | Exception | 无 | 无 | 无 | 不支持的 CI 后端 |
| NotSupportedRepoType | Exception | __init__ | 无 | 无 | 不支持 CI 的仓库类型 |
| RepoNotFoundError | Exception | 无 | 无 | 无 | Unable to get a repository for running the CI job. |

---


### 模块: apiserver/paasng/paasng/accessories/ci/handlers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| receiver | django.dispatch.receiver | 不适用 | module |
| BkUserOAuth | paasng.accessories.ci.base.BkUserOAuth | from_user_profile | module |
| CIBackend | paasng.accessories.ci.constants.CIBackend | CODECC | module |
| NotSupportedRepoType | paasng.accessories.ci.exceptions.NotSupportedRepoType | 不适用 | module |
| RepoNotFoundError | paasng.accessories.ci.exceptions.RepoNotFoundError | 不适用 | module |
| get_ci_manager_cls_by_backend | paasng.accessories.ci.managers.get_ci_manager_cls_by_backend | 不适用 | module |
| CIAtomJob | paasng.accessories.ci.models.CIAtomJob | filter, objects | module |
| Oauth2TokenHolder | paasng.infras.accounts.models.Oauth2TokenHolder | DoesNotExist | module |
| ApplicationEnvironment | paasng.platform.applications.models.ApplicationEnvironment | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | value, SUCCESSFUL | module |
| post_appenv_deploy | paasng.platform.engine.signals.post_appenv_deploy | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| start_ci_job | `@receiver(post_appenv_deploy):` | receiver | 开始 CI 任务 |


---


### 模块: apiserver/paasng/paasng/accessories/ci/managers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| NotSupportedCIBackend | paasng.accessories.ci.exceptions.NotSupportedCIBackend | 不适用 | module |
| CIManager | paasng.accessories.ci.base.CIManager | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| register_ci_manager_cls | `def register_ci_manager_cls(manager: Type['CIManager']):` | 无 | 不适用 |
| get_ci_manager_cls_by_backend | `def get_ci_manager_cls_by_backend(backend: str):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/accessories/ci/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| jsonfield.fields | JSONField, fields | module |
| paasng.utils.models | BkUserField, models, utils | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, BooleanField, ForeignKey, UUIDField, TextField, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/ci/migrations/0002_auto_20230807_1727.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/ci/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/ci/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| models | django.db.models | ForeignKey, CASCADE, BooleanField, CharField, OneToOneField | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | get_choices, value, PENDING | module |
| OperationVersionBase | paasng.platform.engine.models.base.OperationVersionBase | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| TimestampedModel | paasng.utils.models.TimestampedModel | 不适用 | module |
| AtomData | apiserver.paasng.paasng.accessories.ci.base.AtomData | 不适用 | module |
| CIBackend | apiserver.paasng.paasng.accessories.ci.constants.CIBackend | get_django_choices | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CIResourceAppEnvRelation | paasng.utils.models.TimestampedModel | 无 | credentials, env, enabled, backend | 无 | CI 资源 |
| CIResourceAtom | paasng.utils.models.TimestampedModel | task_id, to_simple_data | id, name, env, enabled, resource, backend | 无 | CI 资源原子 |
| CIAtomJob | paasng.platform.engine.models.base.OperationVersionBase | finish, to_dict | status, backend, env, deployment, atom, build_id, output | 无 | CI 任务执行情况 |

---


### 模块: apiserver/paasng/paasng/accessories/ci/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, ChoiceField, CharField, DateTimeField, SerializerMethodField, IntegerField, FloatField, ListField | module |
| CIBackend | paasng.accessories.ci.constants.CIBackend | get_django_choices | module |
| NotSupportedCIBackend | paasng.accessories.ci.exceptions.NotSupportedCIBackend | 不适用 | module |
| get_ci_manager_cls_by_backend | paasng.accessories.ci.managers.get_ci_manager_cls_by_backend | 不适用 | module |
| CIAtomJob | paasng.accessories.ci.models.CIAtomJob | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | get_choices | module |
| DeploymentSLZ | paasng.platform.engine.serializers.DeploymentSLZ | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CIAtomJobListSerializer | rest_framework.serializers.Serializer | 无 | backend, status | 无 | 不适用 |
| CIAtomJobSerializer | rest_framework.serializers.Serializer | get_detail, get_repo_info | status, backend, deployment, created, build_id, output, repo_info, detail | 无 | 不适用 |
| CodeCCDetailSerializer | rest_framework.serializers.Serializer | 无 | lastAnalysisTime, rdIndicatorsScore, codeSecurityScore, codeStyleScore, codeMeasureScore, lastAnalysisResultList, detailUrl | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/ci/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path(make_app_pattern('/ci/info/$', include_envs=False), views.CIInfoViewSet.as_view({'get': 'query'}), name='api.ci.info'), re_path(make_app_pattern('/ci/detail/$', include_envs=False), views.CIInfoViewSet.as_view({'get': 'get_detail'}), name='api.ci.detail')]` | module |



---


### 模块: apiserver/paasng/paasng/accessories/ci/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | CODE_CHECK_CONFIGS | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_204_NO_CONTENT | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| LimitOffsetPagination | rest_framework.pagination.LimitOffsetPagination | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| serializers | paasng.accessories.ci.serializers | CIAtomJobListSerializer, CIAtomJobSerializer, CodeCCDetailSerializer | module |
| BkUserOAuth | paasng.accessories.ci.base.BkUserOAuth | from_request | module |
| BkCIClient | paasng.accessories.ci.clients.bk_ci.BkCIClient | 不适用 | module |
| CIBackend | paasng.accessories.ci.constants.CIBackend | CODECC | module |
| NotSupportedRepoType | paasng.accessories.ci.exceptions.NotSupportedRepoType | 不适用 | module |
| get_ci_manager_cls_by_backend | paasng.accessories.ci.managers.get_ci_manager_cls_by_backend | 不适用 | module |
| CIAtomJob | paasng.accessories.ci.models.CIAtomJob | filter, objects | module |
| CIResourceAtom | paasng.accessories.ci.models.CIResourceAtom | filter, objects | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CIJobViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | paginator, list | permission_classes | 无 | 获取 CI 任务
    TODO 前端修改完后删除，包括 url 和 serializers
  ... |
| CIInfoViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | query, get_detail | permission_classes | 无 | 获取 CI 信息 |

---


### 模块: apiserver/paasng/paasng/accessories/cloudapi/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/cloudapi/components/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/cloudapi/components/bk_apigateway_inner.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | get, BK_API_DEFAULT_STAGE_MAPPINGS, format, BK_API_URL_TMPL, BK_APP_CODE, BK_APP_SECRET | module |
| get_language | django.utils.translation.get_language | 不适用 | module |
| BaseComponent | apiserver.paasng.paasng.accessories.cloudapi.components.component.BaseComponent | 不适用 | module |
| http_get | apiserver.paasng.paasng.accessories.cloudapi.components.http.http_get | 不适用 | module |
| http_post | apiserver.paasng.paasng.accessories.cloudapi.components.http.http_post | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| BK_APIGATEWAY_INNER_GATEWAY_STAGE | 不适用 | `BK_APIGATEWAY_INNER_GATEWAY_STAGE = settings.BK_API_DEFAULT_STAGE_MAPPINGS.get('bk-apigateway-inner', 'prod')` | module |
| BK_APIGATEWAY_INNER_API_URL | Uninferable/Uninferable | `BK_APIGATEWAY_INNER_API_URL = f"{settings.BK_API_URL_TMPL.format(api_name='bk-apigateway-inner').rstrip('/')}/{BK_APIGATEWAY_INNER_GATEWAY_STAGE}"` | module |
| bk_apigateway_inner_component | 不适用 | `bk_apigateway_inner_component = BkApigatewayInnerComponent()` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkApigatewayInnerComponent | apiserver.paasng.paasng.accessories.cloudapi.components.component.BaseComponent | get, post, _prepare_headers | host, system_name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/cloudapi/components/component.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| ClassVar | typing.ClassVar | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | format, REMOTE_REQUEST_ERROR | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseComponent | 无 | _call_api, _urljoin | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/cloudapi/components/http.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| requests | request, RequestException, exceptions | module |
| paasng.utils.masked_curlify | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Tuple | typing.Tuple | 不适用 | module |
| Union | typing.Union | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| http_get | `def http_get(url: str, **kwargs) -> Tuple[bool, Union[None, dict, list]]:` | 无 | 不适用 |
| http_post | `def http_post(url: str, **kwargs) -> Tuple[bool, Union[None, dict, list]]:` | 无 | 不适用 |
| http_put | `def http_put(url: str, **kwargs) -> Tuple[bool, Union[None, dict, list]]:` | 无 | 不适用 |
| http_delete | `def http_delete(url: str, **kwargs) -> Tuple[bool, Union[None, dict, list]]:` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/accessories/cloudapi/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplyStatusEnum | blue_krill.data_types.enum.StrStructuredEnum | 无 | PARTIAL_APPROVED, APPROVED, REJECTED, PENDING | 无 | 不适用 |
| PermissionStatusEnum | blue_krill.data_types.enum.StrStructuredEnum | 无 | OWNED, REJECTED, EXPIRED, PENDING, NEED_APPLY | 无 | 不适用 |
| PermissionLevelEnum | blue_krill.data_types.enum.StrStructuredEnum | 无 | UNLIMITED, NORMAL, SENSITIVE, SPECIAL | 无 | 不适用 |
| PermissionActionEnum | blue_krill.data_types.enum.StrStructuredEnum | 无 | APPLY, RENEW | 无 | 不适用 |
| PermissionApplyExpireDaysEnum | blue_krill.data_types.enum.IntStructuredEnum | 无 | PERMANENT, SIX_MONTH, TWELVE_MONTH | 无 | 不适用 |
| GrantDimensionEnum | blue_krill.data_types.enum.StrStructuredEnum | 无 | API, RESOURCE | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/cloudapi/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, IntegerField, CharField, ListField, ChoiceField, BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| APIGWAPISLZ | rest_framework.serializers.Serializer | 无 | id, name, description, maintainers | 无 | 不适用 |
| APIGWPermissionSLZ | rest_framework.serializers.Serializer | 无 | id, name, description, expires_in, permission_level, permission_status, permission_action, doc_link | 无 | 不适用 |
| APIGWPermissionApplySLZ | rest_framework.serializers.Serializer | 无 | resource_ids, reason, expire_days, grant_dimension, gateway_name | 无 | 不适用 |
| GatewayResourceIDsSLZ | rest_framework.serializers.Serializer | 无 | gateway_id, resource_ids | 无 | 不适用 |
| APIGWPermissionBatchApplySLZ | rest_framework.serializers.Serializer | 无 | reason, expire_days, gateway_resource_ids | 无 | 批量申请网关/ API 权限 |
| APIGWPermissionRenewSLZ | rest_framework.serializers.Serializer | 无 | resource_ids, expire_days | 无 | 不适用 |
| APIGWAllowApplyByAPISLZ | rest_framework.serializers.Serializer | 无 | allow_apply_by_api, reason | 无 | 不适用 |
| APIGWPermissionApplyRecordQuerySLZ | rest_framework.serializers.Serializer | 无 | applied_by, applied_time_start, applied_time_end, apply_status, query | 无 | 不适用 |
| APIGWPermissionApplyRecordSLZ | rest_framework.serializers.Serializer | 无 | id, bk_app_code, applied_by, applied_time, handled_by, handled_time, apply_status, grant_dimension, comment, reason, expire_days, api_name | 无 | 不适用 |
| APIGWResourceApplyStatusSLZ | rest_framework.serializers.Serializer | 无 | name, apply_status | 无 | 不适用 |
| APIGWPermissionApplyRecordDetailSLZ | APIGWPermissionApplyRecordSLZ | 无 | resources | 无 | 不适用 |
| ESBSystemSLZ | rest_framework.serializers.Serializer | 无 | id, name, description, maintainers, tag | 无 | 不适用 |
| ESBPermissionApplySLZ | rest_framework.serializers.Serializer | 无 | component_ids, reason, expire_days, gateway_name | 无 | 不适用 |
| ESBPermissionRenewSLZ | rest_framework.serializers.Serializer | 无 | component_ids, expire_days | 无 | 不适用 |
| ESBPermissionApplyRecordSLZ | rest_framework.serializers.Serializer | 无 | id, bk_app_code, applied_by, applied_time, handled_by, handled_time, apply_status, comment, reason, expire_days, system_name | 无 | 不适用 |
| ESBComponentApplyStatusSLZ | rest_framework.serializers.Serializer | 无 | name, apply_status | 无 | 不适用 |
| ESBPermissionApplyRecordDetailSLZ | ESBPermissionApplyRecordSLZ | 无 | components | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/cloudapi/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| path | django.urls.path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [path('api/cloudapi/apps/<slug:app_code>/apis/', views.CloudAPIViewSet.as_view({'get': 'list_apis'}), name='api.cloudapi.v1.apis'), path('api/cloudapi/apps/<slug:app_code>/apis/<int:api_id>/permissions/resources/', views.CloudAPIViewSet.as_view({'get': 'list_resource_permissions'}), name='api.cloudapi.v1.resource_permissions'), path('api/cloudapi/apps/<slug:app_code>/apis/<int:api_id>/permissions/apply/', views.CloudAPIViewSet.as_view({'post': 'apply'}), name='api.cloudapi.v1.apply_resource_permissions'), path('api/cloudapi/apps/<slug:app_code>/apis/permissions/apply/', views.CloudAPIViewSet.as_view({'post': 'batch_apply'}), name='api.cloudapi.v1.batch_apply_resource_permissions'), path('api/cloudapi/apps/<slug:app_code>/apis/permissions/renew/', views.CloudAPIViewSet.as_view({'post': 'renew'}), name='api.cloudapi.v1.renew_resource_permissions'), path('api/cloudapi/apps/<slug:app_code>/apis/<int:api_id>/permissions/allow-apply-by-api/', views.CloudAPIViewSet.as_view({'get': 'allow_apply_by_api'}), name='api.cloudapi.v1.allow_apply_by_api'), path('api/cloudapi/apps/<slug:app_code>/apis/permissions/app-permissions/', views.CloudAPIViewSet.as_view({'get': 'list_app_resource_permissions'}), name='api.cloudapi.v1.list_app_resource_permissions'), path('api/cloudapi/apps/<slug:app_code>/apis/permissions/apply-records/', views.CloudAPIViewSet.as_view({'get': 'list_resource_permission_apply_records'}), name='api.cloudapi.v1.list_resource_permission_apply_records'), path('api/cloudapi/apps/<slug:app_code>/apis/permissions/apply-records/<int:record_id>/', views.CloudAPIViewSet.as_view({'get': 'retrieve_resource_permission_apply_record'}), name='api.cloudapi.v1.retrieve_resource_permission_apply_record'), path('api/cloudapi/apps/<slug:app_code>/esb/systems/', views.CloudAPIViewSet.as_view({'get': 'list_esb_systems'}), name='api.cloudapi.v1.systems'), path('api/cloudapi/apps/<slug:app_code>/esb/systems/<int:system_id>/permissions/components/', views.CloudAPIViewSet.as_view({'get': 'list_component_permissions'}), name='api.cloudapi.v1.component_permissions'), path('api/cloudapi/apps/<slug:app_code>/esb/systems/<int:system_id>/permissions/apply/', views.CloudAPIViewSet.as_view({'post': 'apply_component_permissions'}), name='api.cloudapi.v1.apply_component_permissions'), path('api/cloudapi/apps/<slug:app_code>/esb/systems/permissions/renew/', views.CloudAPIViewSet.as_view({'post': 'renew_component_permissions'}), name='api.cloudapi.v1.renew_component_permissions'), path('api/cloudapi/apps/<slug:app_code>/esb/systems/permissions/app-permissions/', views.CloudAPIViewSet.as_view({'get': 'list_app_component_permissions'}), name='api.cloudapi.v1.list_app_component_permissions'), path('api/cloudapi/apps/<slug:app_code>/esb/systems/permissions/apply-records/', views.CloudAPIViewSet.as_view({'get': 'list_component_permission_apply_records'}), name='api.cloudapi.v1.list_component_permission_apply_records'), path('api/cloudapi/apps/<slug:app_code>/esb/systems/permissions/apply-records/<int:record_id>/', views.CloudAPIViewSet.as_view({'get': 'retrieve_component_permission_apply_record'}), name='api.cloudapi.v1.retrieve_component_permission_apply_record')]` | module |



---


### 模块: apiserver/paasng/paasng/accessories/cloudapi/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | format, CLOUDAPI_REGION_NOT_FOUND | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_user_auth_type | `def get_user_auth_type(region: str) -> str:` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/accessories/cloudapi/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| copy | copy | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| serializers | paasng.accessories.cloudapi.serializers | APIGWAPISLZ, APIGWPermissionSLZ, APIGWPermissionApplySLZ, APIGWPermissionBatchApplySLZ, APIGWPermissionRenewSLZ, APIGWAllowApplyByAPISLZ, APIGWPermissionApplyRecordQuerySLZ, APIGWPermissionApplyRecordSLZ, APIGWPermissionApplyRecordDetailSLZ, ESBSystemSLZ, ESBPermissionApplySLZ, ESBPermissionRenewSLZ, ESBPermissionApplyRecordDetailSLZ | module |
| bk_apigateway_inner_component | paasng.accessories.cloudapi.components.bk_apigateway_inner.bk_apigateway_inner_component | get, post | module |
| get_user_auth_type | paasng.accessories.cloudapi.utils.get_user_auth_type | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | MANAGE_CLOUD_API | module |
| DataType | paasng.misc.audit.constants.DataType | ESB_API_RECORD, CLOUD_API_RECORD | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | APPLY, RENEW | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | CLOUD_API | module |
| ResultCode | paasng.misc.audit.constants.ResultCode | SUCCESS | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| get_items | paasng.utils.dictx.get_items | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | CLOUDAPI_PATH_ERROR | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CloudAPIViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list_apis, list_resource_permissions, apply, batch_apply, renew, allow_apply_by_api, list_app_resource_permissions, list_resource_permission_apply_records, retrieve_resource_permission_apply_record, list_esb_systems, list_component_permissions, apply_component_permissions, renew_component_permissions, list_app_component_permissions, list_component_permission_apply_records, retrieve_component_permission_apply_record, _get, _post, _trans_request_path_to_apigw_url | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/dev_sandbox/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/dev_sandbox/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DevSandboxConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/dev_sandbox/config_var.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | CONFIGVAR_SYSTEM_PREFIX, MUL_MODULE_VOLUME_MOUNT_APP_LOGGING_DIR, PYTHON_BUILDPACK_PIP_INDEX_URL, DEV_SANDBOX_CORS_ALLOW_ORIGINS, DEV_SANDBOX_DEVSERVER_PORT | module |
| get_random_string | django.utils.crypto.get_random_string | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| SlugbuilderInfo | paasng.platform.engine.configurations.building.SlugbuilderInfo | from_module | module |
| generate_env_vars_for_app | paasng.platform.engine.configurations.config_var.generate_env_vars_for_app | 不适用 | module |
| get_envs_from_pypi_url | paasng.platform.engine.deploy.bg_build.utils.get_envs_from_pypi_url | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| CONTAINER_TOKEN_ENV | TOKEN | `CONTAINER_TOKEN_ENV = 'TOKEN'` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| generate_envs | `def generate_envs(app: Application, module: Module) -> Dict[str, str]:` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/accessories/dev_sandbox/management/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/dev_sandbox/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/dev_sandbox/management/commands/recycle_dev_sandbox.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| timezone | django.utils.timezone | now | module |
| DevSandboxWithCodeEditorController | paas_wl.bk_app.dev_sandbox.controller.DevSandboxWithCodeEditorController | 不适用 | module |
| DevSandbox | paasng.accessories.dev_sandbox.models.DevSandbox | all, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/dev_sandbox/management/commands/renew_dev_sandbox_expired_at.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| requests | get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| DevSandboxWithCodeEditorController | paas_wl.bk_app.dev_sandbox.controller.DevSandboxWithCodeEditorController | 不适用 | module |
| DevSandbox | paasng.accessories.dev_sandbox.models.DevSandbox | all, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| check_alive | `def check_alive(url: str) -> bool:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/dev_sandbox/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| blue_krill.models.fields | EncryptField, fields, models | module |
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| paasng.accessories.dev_sandbox.models | BkUserField, models, utils, VersionInfoField, dev_sandbox, accessories | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, ForeignKey, UUIDField, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/dev_sandbox/migrations/0002_rename_expire_at_devsandbox_expired_at.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RenameField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/dev_sandbox/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/dev_sandbox/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| string | ascii_lowercase, digits | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EncryptField | blue_krill.models.fields.EncryptField | 不适用 | module |
| models | django.db.models | CharField, ForeignKey, CASCADE, DateTimeField, OneToOneField | module |
| timezone | django.utils.timezone | now, timedelta | module |
| get_random_string | django.utils.crypto.get_random_string | 不适用 | module |
| DevSandboxStatus | paas_wl.bk_app.dev_sandbox.constants.DevSandboxStatus | get_choices | module |
| make_json_field | paas_wl.utils.models.make_json_field | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| OwnerTimestampedModel | paasng.utils.models.OwnerTimestampedModel | 不适用 | module |
| UuidAuditedModel | paasng.utils.models.UuidAuditedModel | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| VersionInfoField | 不适用 | `VersionInfoField = make_json_field('VersionInfoField', VersionInfo)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| gen_dev_sandbox_code | `def gen_dev_sandbox_code() -> str:` | 无 | 生成随机的唯一的沙箱标识(只包含小写字母和数字) |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DevSandbox | paasng.utils.models.OwnerTimestampedModel | renew_expired_at | code, module, status, expired_at, version_info | 无 | DevSandbox Model |
| CodeEditor | paasng.utils.models.UuidAuditedModel | 无 | dev_sandbox, password | 无 | CodeEditor Model |

---


### 模块: apiserver/paasng/paasng/accessories/dev_sandbox/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| asdict | dataclasses.asdict | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, SerializerMethodField, CharField, ChoiceField, JSONField, ModelSerializer | module |
| SerializerMethodField | rest_framework.fields.SerializerMethodField | 不适用 | module |
| HealthPhase | paas_wl.bk_app.dev_sandbox.entities.HealthPhase | get_django_choices | module |
| DevSandbox | paasng.accessories.dev_sandbox.models.DevSandbox | 不适用 | module |
| VersionType | paasng.platform.sourcectl.constants.VersionType | get_choices, get_values | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DevSandboxDetailSLZ | rest_framework.serializers.Serializer | get_app_url, get_devserver_url | app_url, devserver_url, token, status | 无 | Serializer for dev sandbox detail |
| CreateDevSandboxWithCodeEditorSLZ | rest_framework.serializers.Serializer | 无 | version_type, version_name, revision | 无 | Serializer for create dev sandbox |
| DevSandboxWithCodeEditorUrlsSLZ | rest_framework.serializers.Serializer | 无 | app_url, devserver_url, code_editor_url | 无 | Serializer for dev sandbox with code editor urls |
| DevSandboxWithCodeEditorDetailSLZ | rest_framework.serializers.Serializer | 无 | urls, token, dev_sandbox_status, code_editor_status, dev_sandbox_env_vars | 无 | Serializer for dev sandbox with code editor detail |
| DevSandboxSLZ | rest_framework.serializers.ModelSerializer | get_module_name, get_version_info_dict | module_name, version_info_dict | 无 | Serializer for dev sandbox |

---


### 模块: apiserver/paasng/paasng/accessories/dev_sandbox/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |
| DevSandboxViewSet | apiserver.paasng.paasng.accessories.dev_sandbox.views.DevSandboxViewSet | as_view | module |
| DevSandboxWithCodeEditorViewSet | apiserver.paasng.paasng.accessories.dev_sandbox.views.DevSandboxWithCodeEditorViewSet | as_view | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path(make_app_pattern('/dev_sandbox/$', include_envs=False), DevSandboxViewSet.as_view({'post': 'deploy', 'delete': 'delete', 'get': 'get_detail'})), re_path(make_app_pattern('/user/dev_sandbox_with_code_editor/$', include_envs=False), DevSandboxWithCodeEditorViewSet.as_view({'post': 'deploy', 'delete': 'delete', 'get': 'get_detail'})), re_path('api/bkapps/applications/(?P<code>[^/]+)/user/dev_sandbox_with_code_editors/pre_deploy_check/$', DevSandboxWithCodeEditorViewSet.as_view({'get': 'pre_deploy_check'})), re_path('api/bkapps/applications/(?P<code>[^/]+)/user/dev_sandbox_with_code_editors/lists/$', DevSandboxWithCodeEditorViewSet.as_view({'get': 'list_app_dev_sandbox'})), re_path(make_app_pattern('/user/dev_sandbox_password/$', include_envs=False), DevSandboxWithCodeEditorViewSet.as_view({'get': 'get_password'}))]` | module |



---


### 模块: apiserver/paasng/paasng/accessories/dev_sandbox/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| User | bkpaas_auth.models.User | 不适用 | module |
| settings | django.conf.settings | DEV_SANDBOX_COUNT_LIMIT | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_204_NO_CONTENT | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| DevSandboxStatus | paas_wl.bk_app.dev_sandbox.constants.DevSandboxStatus | value, ACTIVE | module |
| DevSandboxController | paas_wl.bk_app.dev_sandbox.controller.DevSandboxController | 不适用 | module |
| DevSandboxWithCodeEditorController | paas_wl.bk_app.dev_sandbox.controller.DevSandboxWithCodeEditorController | 不适用 | module |
| DevSandboxAlreadyExists | paas_wl.bk_app.dev_sandbox.exceptions.DevSandboxAlreadyExists | 不适用 | module |
| DevSandboxResourceNotFound | paas_wl.bk_app.dev_sandbox.exceptions.DevSandboxResourceNotFound | 不适用 | module |
| CodeEditor | paasng.accessories.dev_sandbox.models.CodeEditor | create, objects | module |
| DevSandbox | paasng.accessories.dev_sandbox.models.DevSandbox | count, objects, filter, create, get, DoesNotExist | module |
| gen_dev_sandbox_code | paasng.accessories.dev_sandbox.models.gen_dev_sandbox_code | 不适用 | module |
| generate_password | paasng.accessories.services.utils.generate_password | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| AppEnvironment | paasng.platform.applications.constants.AppEnvironment | STAGING | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| get_env_variables | paasng.platform.engine.configurations.config_var.get_env_variables | 不适用 | module |
| get_source_dir | paasng.platform.engine.utils.source.get_source_dir | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | AUTHORIZED_VCS | module |
| Module | paasng.platform.modules.models.module.Module | 不适用 | module |
| GitLabBranchNameBugError | paasng.platform.sourcectl.exceptions.GitLabBranchNameBugError | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| get_version_service | paasng.platform.sourcectl.version_services.get_version_service | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | DEV_SANDBOX_ALREADY_EXISTS, DEV_SANDBOX_NOT_FOUND, DEV_SANDBOX_COUNT_OVER_LIMIT, UNSUPPORTED_SOURCE_ORIGIN, f, CANNOT_GET_REVISION | module |
| CONTAINER_TOKEN_ENV | apiserver.paasng.paasng.accessories.dev_sandbox.config_var.CONTAINER_TOKEN_ENV | 不适用 | module |
| generate_envs | apiserver.paasng.paasng.accessories.dev_sandbox.config_var.generate_envs | 不适用 | module |
| CreateDevSandboxWithCodeEditorSLZ | apiserver.paasng.paasng.accessories.dev_sandbox.serializers.CreateDevSandboxWithCodeEditorSLZ | 不适用 | module |
| DevSandboxDetailSLZ | apiserver.paasng.paasng.accessories.dev_sandbox.serializers.DevSandboxDetailSLZ | 不适用 | module |
| DevSandboxSLZ | apiserver.paasng.paasng.accessories.dev_sandbox.serializers.DevSandboxSLZ | 不适用 | module |
| DevSandboxWithCodeEditorDetailSLZ | apiserver.paasng.paasng.accessories.dev_sandbox.serializers.DevSandboxWithCodeEditorDetailSLZ | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DevSandboxViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | deploy, delete, get_detail | permission_classes | 无 | 不适用 |
| DevSandboxWithCodeEditorViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | deploy, delete, get_detail, get_password, list_app_dev_sandbox, pre_deploy_check, _get_version_info | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/log/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/log/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LogAppConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/log/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| attrgetter | operator.attrgetter | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Protocol | typing.Protocol | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| settings | django.conf.settings | TIME_ZONE | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| Elasticsearch | elasticsearch.Elasticsearch | 不适用 | module |
| ScanError | elasticsearch.helpers.ScanError | 不适用 | module |
| DateHistogram | elasticsearch_dsl.aggs.DateHistogram | 不适用 | module |
| AggResponse | elasticsearch_dsl.response.AggResponse | 不适用 | module |
| Response | elasticsearch_dsl.response.Response | 不适用 | module |
| FieldBucketData | elasticsearch_dsl.response.aggs.FieldBucketData | 不适用 | module |
| DEFAULT_LOG_BATCH_SIZE | paasng.accessories.log.constants.DEFAULT_LOG_BATCH_SIZE | 不适用 | module |
| BkLogApiError | paasng.accessories.log.exceptions.BkLogApiError | 不适用 | module |
| LogQueryError | paasng.accessories.log.exceptions.LogQueryError | 不适用 | module |
| NoIndexError | paasng.accessories.log.exceptions.NoIndexError | 不适用 | module |
| FieldFilter | paasng.accessories.log.filters.FieldFilter | 不适用 | module |
| agg_builtin_filters | paasng.accessories.log.filters.agg_builtin_filters | 不适用 | module |
| count_filters_options_from_agg | paasng.accessories.log.filters.count_filters_options_from_agg | 不适用 | module |
| count_filters_options_from_logs | paasng.accessories.log.filters.count_filters_options_from_logs | 不适用 | module |
| parse_properties_filters | paasng.accessories.log.filters.parse_properties_filters | 不适用 | module |
| BKLogConfig | paasng.accessories.log.models.BKLogConfig | 不适用 | module |
| ElasticSearchConfig | paasng.accessories.log.models.ElasticSearchConfig | 不适用 | module |
| ElasticSearchHost | paasng.accessories.log.models.ElasticSearchHost | 不适用 | module |
| _APIGWOperationStub | paasng.infras.bk_log.client._APIGWOperationStub | 不适用 | module |
| make_bk_log_esquery_client | paasng.infras.bk_log.client.make_bk_log_esquery_client | 不适用 | module |
| filter_indexes_by_time_range | paasng.utils.es_log.misc.filter_indexes_by_time_range | 不适用 | module |
| SmartSearch | paasng.utils.es_log.search.SmartSearch | 不适用 | module |
| SmartTimeRange | paasng.utils.es_log.search.SmartTimeRange | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| instantiate_log_client | `def instantiate_log_client(log_config: ElasticSearchConfig, bk_username: str) -> LogClientProtocol:` | 无 | 实例化 log client 实例 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LogClientProtocol | typing.Protocol | execute_search, execute_scroll_search, aggregate_date_histogram, aggregate_fields_filters, get_mappings | 无 | 无 | LogClient protocol, all log search backend should ... |
| BKLogClient | 无 | __init__, execute_search, execute_scroll_search, aggregate_date_histogram, aggregate_fields_filters, get_mappings, _call_api | 无 | 无 | BKLogClient is an implement of LogClientProtocol, ... |
| ESLogClient | 无 | __init__, execute_search, execute_scroll_search, aggregate_date_histogram, aggregate_fields_filters, get_mappings, _get_indexes, _get_response_count | 无 | 无 | ESLogClient is an implement of LogClientProtocol, ... |

---


### 模块: apiserver/paasng/paasng/accessories/log/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| DEFAULT_LOG_CONFIG_PLACEHOLDER | - | `DEFAULT_LOG_CONFIG_PLACEHOLDER = '-'` | module |
| DEFAULT_LOG_BATCH_SIZE | 200 | `DEFAULT_LOG_BATCH_SIZE = 200` | module |
| MAX_RESULT_WINDOW | 10000 | `MAX_RESULT_WINDOW = 10000` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LogTimeChoices | blue_krill.data_types.enum.StrStructuredEnum | 无 | FIVE_MINUTES, ONE_HOUR, THREE_HOURS, SIX_HOURS, TWELVE_HOURS, ONE_DAY, THREE_DAYS, SEVEN_DAYS, CUSTOMIZED | 无 | 日志搜索-日期范围可选值 |
| LogType | blue_krill.data_types.enum.StrStructuredEnum | 无 | STRUCTURED, STANDARD_OUTPUT, INGRESS | 无 | 
    日志类型
     |
| LogCollectorType | blue_krill.data_types.enum.StrStructuredEnum | 无 | BK_LOG, ELK | 无 | 日志采集器类型 |

---


### 模块: apiserver/paasng/paasng/accessories/log/dsl.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SearchQueryItem | pydantic.BaseModel | 无 | 无 | 无 | 类似于 es-dsl-query 的结构, 目前只支持: query_string/terms 两种... |
| SearchRequestSchema | pydantic.BaseModel | 无 | 无 | 无 | 日志查询请求的 request body 格式

    :param query: 日志查询条件
... |

---


### 模块: apiserver/paasng/paasng/accessories/log/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LogQueryError | Exception | __init__ | 无 | 无 | 不适用 |
| UnknownEngineAppNameError | Exception | __init__ | 无 | 无 | 不适用 |
| LogLineInfoBrokenError | Exception | __init__ | 无 | 无 | 日志行关键信息缺失异常 |
| NoIndexError | Exception | 无 | 无 | 无 | 无可用 index |
| BkLogGatewayServiceError | Exception | __init__ | 无 | 无 | This error indicates that there's something wrong ... |
| BkLogApiError | BkLogGatewayServiceError | 无 | 无 | 无 | When calling the bk_log api, bk_log returns an err... |

---


### 模块: apiserver/paasng/paasng/accessories/log/filters.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| reduce | functools.reduce | 不适用 | module |
| add | operator.add | 不适用 | module |
| Counter | typing.Counter | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Terms | elasticsearch_dsl.aggs.Terms | 不适用 | module |
| get_attribute | rest_framework.fields.get_attribute | 不适用 | module |
| ElasticSearchParams | paasng.accessories.log.models.ElasticSearchParams | 不适用 | module |
| get_es_term | paasng.accessories.log.utils.get_es_term | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| safe_jinja2 | paasng.utils.safe_jinja2 | Template | module |
| FieldFilter | paasng.utils.es_log.models.FieldFilter | 不适用 | module |
| SmartSearch | paasng.utils.es_log.search.SmartSearch | 不适用 | module |
| calculate_percentage | paasng.utils.text.calculate_percentage | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| tmpl_converters | 不适用 | `tmpl_converters = {'@json': lambda v: json.loads(v), '@jinja': lambda v, context: safe_jinja2.Template(v).render(**context)}` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| agg_builtin_filters | `def agg_builtin_filters(search: SmartSearch, mappings: dict):` | 无 | 添加内置过滤条件查询语句, 内置过滤条件有 environment, process_id, str... |
| parse_properties_filters | `def parse_properties_filters(mappings: dict) -> Dict[str, FieldFilter]:` | 无 | 从 mappings 中解析出 field filter |
| count_filters_options_from_agg | `def count_filters_options_from_agg(aggregations: dict, properties: Dict[str, FieldFilter]) -> Dict[str, FieldFilter]:` | 无 | 根据 ES 聚合查询结果统计可用的过滤选项 |
| count_filters_options_from_logs | `def count_filters_options_from_logs(logs: List, properties: Dict[str, FieldFilter]) -> Dict[str, FieldFilter]:` | 无 | 从日志样本(logs) 中统计 ES 日志的字段分布, 返回对应的 FieldFilters. 会忽... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ESFilter | 无 | __init__, filter_by_builtin_filters, filter_by_builtin_excludes | 无 | 无 | ESFilter will modify the filtering conditions of t... |
| EnvFilter | ESFilter | __init__, filter_by_env | 无 | 无 | EnvFilter will modify the filtering conditions of ... |
| ModuleFilter | ESFilter | __init__, filter_by_module | 无 | 无 | ModuleFilter will modify the filtering conditions ... |

---


### 模块: apiserver/paasng/paasng/accessories/log/management/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/log/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/log/management/commands/batch_disable_mount_hostpath.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | timedelta | module |
| arrow | get, now | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| CommandError | django.core.management.base.CommandError | 不适用 | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| Config | paas_wl.bk_app.applications.models.Config | filter, objects | module |
| WLAPP_NAME_ANNO_KEY | paas_wl.bk_app.monitoring.bklog.constants.WLAPP_NAME_ANNO_KEY | 不适用 | module |
| bklog_config_kmodel | paas_wl.bk_app.monitoring.bklog.kres_entities.bklog_config_kmodel | list_by_app | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | ENABLE_BK_LOG_COLLECTOR | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| RegionClusterService | paas_wl.infras.cluster.shim.RegionClusterService | 不适用 | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| AppFeatureFlag | paasng.platform.applications.constants.AppFeatureFlag | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | ENGINELESS_APP | module |
| Application | paasng.platform.applications.models.Application | filter, objects, exclude | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle, validate_params, check_env_status | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/log/management/commands/batch_setup_bklog.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| CommandError | django.core.management.base.CommandError | 不适用 | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| Config | paas_wl.bk_app.applications.models.Config | filter, objects | module |
| make_bk_log_controller | paas_wl.bk_app.monitoring.bklog.shim.make_bk_log_controller | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | ENABLE_BK_LOG_COLLECTOR | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| RegionClusterService | paas_wl.infras.cluster.shim.RegionClusterService | 不适用 | module |
| setup_bk_log_custom_collector | paasng.accessories.log.shim.setup_bklog.setup_bk_log_custom_collector | 不适用 | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | ENGINELESS_APP | module |
| Application | paasng.platform.applications.models.Application | filter, objects, exclude | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle, validate_params | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/log/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db, SET_NULL | module |
| paasng.accessories.log.models | ElasticSearchHostField, models, log, accessories, BKLogConfigField, ElasticSearchParamsField, ContainerLogCollectorConfigField | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | UUIDField, DateTimeField, CharField, BigAutoField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/log/migrations/0002_auto_20230413_1744.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField, AlterUniqueTogether | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/log/migrations/0003_customcollectorconfig.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | UUIDField, DateTimeField, CharField, BigIntegerField, JSONField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/log/migrations/0004_auto_20231103_1048.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField, AlterUniqueTogether | module |
| models | django.db.models | BigIntegerField, JSONField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/log/migrations/0005_auto_20231211_1121.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/log/migrations/0006_auto_20231212_1510.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| is_legacy_custom_collector_config_name | `def is_legacy_custom_collector_config_name(name_en: str, app_code: str, module_name: str):` | 无 | 不适用 |
| init_is_builtin_field | `def init_is_builtin_field(apps, schema_editor):` | 无 | 初始化 CustomCollectorConfig.is_builtin 字段 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/log/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/log/models.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Literal | typing.Literal | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| models | django.db.models | BigAutoField, ForeignKey, CASCADE, CharField, Manager, SET_NULL, BigIntegerField, JSONField, BooleanField | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |
| DEFAULT_LOG_CONFIG_PLACEHOLDER | paasng.accessories.log.constants.DEFAULT_LOG_CONFIG_PLACEHOLDER | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| AuditedModel | paasng.utils.models.AuditedModel | 不适用 | module |
| UuidAuditedModel | paasng.utils.models.UuidAuditedModel | 不适用 | module |
| make_json_field | paasng.utils.models.make_json_field | 不适用 | module |
| register | paasng.utils.structure.register | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| ElasticSearchHostField | 不适用 | `ElasticSearchHostField = make_json_field('ElasticSearchHostField', ElasticSearchHost)` | module |
| BKLogConfigField | 不适用 | `BKLogConfigField = make_json_field('BKLogConfigField', BKLogConfig)` | module |
| ElasticSearchParamsField | 不适用 | `ElasticSearchParamsField = make_json_field('ElasticSearchParamsField', ElasticSearchParams)` | module |
| ContainerLogCollectorConfigField | 不适用 | `ContainerLogCollectorConfigField = make_json_field('ContainerLogCollectorConfigField', ContainerLogCollectorConfig)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ElasticSearchHost | pydantic.BaseModel | 无 | 无 | register | ES 配置, 字段命名保持 elasticsearch 的格式 |
| ElasticSearchParams | pydantic.BaseModel | 无 | 无 | register | ES 搜索相关配置 |
| BKLogConfig | pydantic.BaseModel | 无 | 无 | register | 日志平台的查询配置 |
| ContainerLogCollectorConfig | pydantic.BaseModel | 无 | 无 | register | 容器日志采集配置 |
| ProcessStructureLogCollectorConfig | paasng.utils.models.AuditedModel | 无 | collector_config_id, application, env, process_type, config | 无 | 进程结构化日志采集配置 |
| ElasticSearchConfig | paasng.utils.models.UuidAuditedModel | 无 | collector_config_id, backend_type | 无 | ES查询配置 |
| ProcessLogQueryConfigManager | django.db.models.Manager | select_process_irrelevant | 无 | 无 | 不适用 |
| ProcessLogQueryConfig | paasng.utils.models.UuidAuditedModel | 无 | env, process_type, stdout, json, ingress, objects | 无 | 进程日志查询配置 |
| CustomCollectorConfig | paasng.utils.models.UuidAuditedModel | 无 | module, name_en, collector_config_id, index_set_id, bk_data_id, log_paths, log_type, is_builtin, is_enabled | 无 | 日志平台自定义采集项配置 |

---


### 模块: apiserver/paasng/paasng/accessories/log/responses.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| converters | attrs.converters | optional | module |
| define | attrs.define | 不适用 | module |
| LogLine | paasng.utils.es_log.models.LogLine | 不适用 | module |
| extra_field | paasng.utils.es_log.models.extra_field | 不适用 | module |
| field_extractor_factory | paasng.utils.es_log.models.field_extractor_factory | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| StandardOutputLogLine | paasng.utils.es_log.models.LogLine | 无 | 无 | define | 标准输出日志结构
    :param region: [deprecated] app regio... |
| StructureLogLine | paasng.utils.es_log.models.LogLine | 无 | 无 | define | 结构化日志结构
    :param region: [deprecated] app region... |
| IngressLogLine | paasng.utils.es_log.models.LogLine | 无 | 无 | define | ingress 访问日志结构

    :param method: [required] meth... |

---


### 模块: apiserver/paasng/paasng/accessories/log/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PurePosixPath | pathlib.PurePosixPath | 不适用 | module |
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | BK_LOG_URL | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, IntegerField, CharField, DictField, FloatField, ListField, ChoiceField, DateTimeField, BooleanField, SerializerMethodField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| get_attribute | rest_framework.fields.get_attribute | 不适用 | module |
| MAX_RESULT_WINDOW | paasng.accessories.log.constants.MAX_RESULT_WINDOW | 不适用 | module |
| LogTimeChoices | paasng.accessories.log.constants.LogTimeChoices | get_choices | module |
| BkLogType | paasng.infras.bk_log.constatns.BkLogType | get_choices | module |
| SmartTimeRange | paasng.utils.es_log.time_range.SmartTimeRange | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| StandardOutputLogLineSLZ | rest_framework.serializers.Serializer | 无 | timestamp, message, environment, process_id, pod_name | 无 | 标准输出日志(每行) |
| StandardOutputLogsSLZ | rest_framework.serializers.Serializer | 无 | logs, total, dsl, scroll_id | 无 | 标准输出日志 |
| StructureLogLineSLZ | rest_framework.serializers.Serializer | 无 | timestamp, message, detail, region, app_code, environment, process_id, stream | 无 | 结构化日志(每行) |
| StructureLogsSLZ | rest_framework.serializers.Serializer | 无 | logs, total, dsl, max_result_window | 无 | 结构化日志 |
| IngressLogLineSLZ | rest_framework.serializers.Serializer | 无 | timestamp, message, method, path, status_code, response_time, client_ip, bytes_sent, user_agent, http_version | 无 | Ingress 访问日志(每行) |
| IngressLogSLZ | rest_framework.serializers.Serializer | 无 | logs, total, dsl, max_result_window | 无 | Ingress 访问日志 |
| DateHistogramSLZ | rest_framework.serializers.Serializer | 无 | series, timestamps, dsl | 无 | 插件日志基于时间分布的直方图 |
| LogFieldFilterSLZ | rest_framework.serializers.Serializer | 无 | name, key, options, total | 无 | 日志可选字段 |
| LogQueryParamsSLZ | rest_framework.serializers.Serializer | validate | time_range, start_time, end_time, offset, limit, scroll_id, page, page_size | 无 | 查询日志的 query 参数，包含：
    - 结构化日志
    - 访问日志
    - 标准... |
| LogQueryDSLSLZ | rest_framework.serializers.Serializer | 无 | query_string, terms, exclude | 无 | 查询日志的 DSL 参数 |
| LogQueryBodySLZ | rest_framework.serializers.Serializer | 无 | query | 无 | 查询日志的 body 参数 |
| ModuleCustomCollectorConfigSLZ | rest_framework.serializers.Serializer | validate_log_paths, get_url, get_clean_url | name_en, collector_config_id, log_paths, log_type, is_builtin, url, clean_url | 无 | 自定义采集项配置(日志平台-自定义上报+日志采集规则) |
| BkLogCustomCollectorConfigSLZ | rest_framework.serializers.Serializer | get_is_builtin | name_en, collector_config_id, is_builtin | 无 | 自定义采集项配置(日志平台-自定义上报-原始配置) |
| BkLogCustomCollectMetadataQuerySLZ | rest_framework.serializers.Serializer | 无 | all | 无 | 不适用 |
| BkLogCustomCollectMetadataOutputSLZ | rest_framework.serializers.Serializer | get_url | options, url | 无 | 日志采集配置额外数据 |

---


### 模块: apiserver/paasng/paasng/accessories/log/shim/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | LOG_COLLECTOR_TYPE | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | ENABLE_BK_LOG_COLLECTOR | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| LogCollectorType | paasng.accessories.log.constants.LogCollectorType | BK_LOG, ELK | module |
| setup_bk_log_custom_collector | paasng.accessories.log.shim.setup_bklog.setup_bk_log_custom_collector | 不适用 | module |
| setup_default_bk_log_model | paasng.accessories.log.shim.setup_bklog.setup_default_bk_log_model | 不适用 | module |
| setup_saas_elk_model | paasng.accessories.log.shim.setup_elk.setup_saas_elk_model | 不适用 | module |
| AppFeatureFlag | paasng.platform.applications.constants.AppFeatureFlag | ENABLE_BK_LOG_COLLECTOR | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_log_collector_type | `def get_log_collector_type(env: ModuleEnvironment) -> LogCollectorType:` | 无 | 不适用 |
| setup_env_log_model | `def setup_env_log_model(env: ModuleEnvironment):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/accessories/log/shim/bklog_custom_collector_config.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Literal | typing.Literal | 不适用 | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| CustomCollectorConfig | paasng.infras.bk_log.definitions.CustomCollectorConfig | 不适用 | module |
| make_bk_log_management_client | paasng.infras.bk_log.client.make_bk_log_management_client | 不适用 | module |
| get_or_create_bk_monitor_space | paasng.infras.bkmonitorv3.shim.get_or_create_bk_monitor_space | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_or_create_custom_collector_config | `def get_or_create_custom_collector_config(module: Module, collector_config: CustomCollectorConfig, log_paths: List[str], log_type: Literal['stdout', 'json']) -> CustomCollectorConfig:` | 无 | 调用日志平台的接口, 查询或创建自定义采集项
    :param module: module
 ... |
| update_or_create_custom_collector_config | `def update_or_create_custom_collector_config(module: Module, collector_config: CustomCollectorConfig, log_paths: List[str], log_type: Literal['stdout', 'json'], skip_query_bk_log: bool = False) -> CustomCollectorConfig:` | 无 | 调用日志平台的接口, 创建或更新自定义采集项

    :param module: module
... |


---


### 模块: apiserver/paasng/paasng/accessories/log/shim/setup_bklog.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | now, datetime | module |
| logging | getLogger | module |
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Union | typing.Union | 不适用 | module |
| settings | django.conf.settings | get, BKLOG_CONFIG, MUL_MODULE_VOLUME_MOUNT_APP_LOGGING_DIR, VOLUME_MOUNT_APP_LOGGING_DIR, ELASTICSEARCH_HOSTS | module |
| get_default_timezone | django.utils.timezone.get_default_timezone | 不适用 | module |
| DEFAULT_LOG_CONFIG_PLACEHOLDER | paasng.accessories.log.constants.DEFAULT_LOG_CONFIG_PLACEHOLDER | 不适用 | module |
| CustomCollectorConfig | paasng.infras.bk_log.definitions.CustomCollectorConfig | 不适用 | module |
| ElasticSearchConfig | paasng.accessories.log.models.ElasticSearchConfig | update_or_create, objects, get | module |
| ElasticSearchHost | paasng.accessories.log.models.ElasticSearchHost | 不适用 | module |
| ElasticSearchParams | paasng.accessories.log.models.ElasticSearchParams | 不适用 | module |
| ProcessLogQueryConfig | paasng.accessories.log.models.ProcessLogQueryConfig | get_or_create, objects, get | module |
| get_or_create_custom_collector_config | paasng.accessories.log.shim.bklog_custom_collector_config.get_or_create_custom_collector_config | 不适用 | module |
| ELK_INGRESS_COLLECTOR_CONFIG_ID | paasng.accessories.log.shim.setup_elk.ELK_INGRESS_COLLECTOR_CONFIG_ID | 不适用 | module |
| setup_platform_elk_model | paasng.accessories.log.shim.setup_elk.setup_platform_elk_model | 不适用 | module |
| ETLType | paasng.infras.bk_log.constatns.ETLType | JSON, TEXT | module |
| FieldType | paasng.infras.bk_log.constatns.FieldType | STRING | module |
| AppLogCollectorConfig | paasng.infras.bk_log.definitions.AppLogCollectorConfig | 不适用 | module |
| ETLConfig | paasng.infras.bk_log.definitions.ETLConfig | 不适用 | module |
| ETLField | paasng.infras.bk_log.definitions.ETLField | 不适用 | module |
| ETLParams | paasng.infras.bk_log.definitions.ETLParams | 不适用 | module |
| StorageConfig | paasng.infras.bk_log.definitions.StorageConfig | 不适用 | module |
| get_or_create_bk_monitor_space | paasng.infras.bkmonitorv3.shim.get_or_create_bk_monitor_space | 不适用 | module |
| AppFeatureFlag | paasng.platform.applications.constants.AppFeatureFlag | ENABLE_BK_LOG_CLIENT | module |
| AppLanguage | paasng.platform.applications.constants.AppLanguage | PYTHON | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| build_python_json_collector_config | `def build_python_json_collector_config():` | 无 | 构建 python 类型的日志采集项 - 时间字段的清洗格式为 logging 标准库的时间格式 |
| build_normal_json_collector_config | `def build_normal_json_collector_config():` | 无 | 构建 json 类型的日志采集项 - 未指定时间字段, 以采集时间作为日志时间 |
| update_or_create_es_search_config | `def update_or_create_es_search_config(env: ModuleEnvironment, collector_config: AppLogCollectorConfig, message_field: str = 'log'):` | 无 | 初始化日志查询相关的数据库模型

    :param str message_field: 日志查... |
| setup_bk_log_custom_collector | `def setup_bk_log_custom_collector(module: Module):` | 无 | 初始化内置的日志采集项(JSON日志采集和标准输出日志采集) |
| setup_default_bk_log_model | `def setup_default_bk_log_model(env: ModuleEnvironment):` | 无 | 初始化蓝鲸日志平台采集方案的数据库模型

    - 创建内置的日志采集项(JSON日志采集和标准输... |
| build_custom_collector_config_name | `def build_custom_collector_config_name(module: Module, type: str) -> str:` | 无 | 构造应用唯一的自定义采集项英文名称，重要，5-50 个字符，仅包含字母数字下划线

    保险起见... |
| to_custom_collector_config | `def to_custom_collector_config(module: Module, collector_config: AppLogCollectorConfig) -> CustomCollectorConfig:` | 无 | 将 AppLogCollectorConfig 转换成 CustomCollectorConfig
... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKLogConfigProvider | 无 | __init__, timezone, storage_cluster_id | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/log/shim/setup_elk.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | ELASTICSEARCH_HOSTS, replace, ES_K8S_LOG_INDEX_PATTERNS, ES_K8S_LOG_INDEX_NGINX_PATTERNS | module |
| IntegrityError | django.db.IntegrityError | 不适用 | module |
| DEFAULT_LOG_CONFIG_PLACEHOLDER | paasng.accessories.log.constants.DEFAULT_LOG_CONFIG_PLACEHOLDER | 不适用 | module |
| ElasticSearchConfig | paasng.accessories.log.models.ElasticSearchConfig | update_or_create, objects, get | module |
| ElasticSearchHost | paasng.accessories.log.models.ElasticSearchHost | 不适用 | module |
| ElasticSearchParams | paasng.accessories.log.models.ElasticSearchParams | 不适用 | module |
| ProcessLogQueryConfig | paasng.accessories.log.models.ProcessLogQueryConfig | filter, objects, update_or_create | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| ELK_STDOUT_COLLECTOR_CONFIG_ID | elk-stdout | `ELK_STDOUT_COLLECTOR_CONFIG_ID = 'elk-stdout'` | module |
| ELK_STRUCTURED_COLLECTOR_CONFIG_ID | elk-structured | `ELK_STRUCTURED_COLLECTOR_CONFIG_ID = 'elk-structured'` | module |
| ELK_INGRESS_COLLECTOR_CONFIG_ID | elk-ingress | `ELK_INGRESS_COLLECTOR_CONFIG_ID = 'elk-ingress'` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| setup_platform_elk_model | `def setup_platform_elk_model():` | 无 | 初始化 ELK 日志方案的数据库模型 - 平台维度 |
| setup_saas_elk_model | `def setup_saas_elk_model(env: ModuleEnvironment):` | 无 | 初始化 ELK 日志方案的数据库模型 - SaaS 维度 |


---


### 模块: apiserver/paasng/paasng/accessories/log/tasks.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| shared_task | celery.shared_task | 不适用 | module |
| setup_env_log_model | paasng.accessories.log.shim.setup_env_log_model | 不适用 | module |
| Module | paasng.platform.modules.models.Module | get, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| setup_module_log_model | `@shared_task:` | shared_task | 不适用 |


---


### 模块: apiserver/paasng/paasng/accessories/log/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |
| config | apiserver.paasng.paasng.accessories.log.views.config | as_view, CustomCollectorConfigViewSet | module |
| legacy | apiserver.paasng.paasng.accessories.log.views.legacy | 不适用 | module |
| logs | apiserver.paasng.paasng.accessories.log.views.logs | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path(make_app_pattern('/log/structured/list/$'), logs_views.StructuredLogAPIView.as_view({'post': 'query_logs'}), name='api.logs.structured.query_logs'), re_path(make_app_pattern('/log/structured/date_histogram/$'), logs_views.StructuredLogAPIView.as_view({'post': 'aggregate_date_histogram'}), name='api.logs.structured.aggregate_date_histogram'), re_path(make_app_pattern('/log/structured/fields_filters/$'), logs_views.StructuredLogAPIView.as_view({'post': 'aggregate_fields_filters'}), name='api.logs.structured.aggregate_fields_filters'), re_path(make_app_pattern('/log/stdout/list/$'), logs_views.StdoutLogAPIView.as_view({'post': 'query_logs_scroll'}), name='api.logs.stdout.query_logs'), re_path(make_app_pattern('/log/stdout/fields_filters/$'), logs_views.StdoutLogAPIView.as_view({'post': 'aggregate_fields_filters'}), name='api.logs.stdout.aggregate_fields_filters'), re_path(make_app_pattern('/log/ingress/list/$'), logs_views.IngressLogAPIView.as_view({'post': 'query_logs'}), name='api.logs.ingress.query_logs'), re_path(make_app_pattern('/log/ingress/date_histogram/$'), logs_views.IngressLogAPIView.as_view({'post': 'aggregate_date_histogram'}), name='api.logs.ingress.aggregate_date_histogram'), re_path(make_app_pattern('/log/ingress/fields_filters/$'), logs_views.IngressLogAPIView.as_view({'post': 'aggregate_fields_filters'}), name='api.logs.ingress.aggregate_fields_filters'), re_path(make_app_pattern('/log/structured/list/$', include_envs=False), logs_views.ModuleStructuredLogAPIView.as_view({'post': 'query_logs'}), name='api.logs.structured.query_logs.legacy'), re_path(make_app_pattern('/log/structured/date_histogram/$', include_envs=False), logs_views.ModuleStructuredLogAPIView.as_view({'post': 'aggregate_date_histogram'}), name='api.logs.structured.aggregate_date_histogram.legacy'), re_path(make_app_pattern('/log/structured/fields_filters/$', include_envs=False), logs_views.ModuleStructuredLogAPIView.as_view({'post': 'aggregate_fields_filters'}), name='api.logs.structured.aggregate_fields_filters.legacy'), re_path(make_app_pattern('/log/stdout/list/$', include_envs=False), logs_views.ModuleStdoutLogAPIView.as_view({'post': 'query_logs_scroll'}), name='api.logs.stdout.query_logs.legacy'), re_path(make_app_pattern('/log/stdout/fields_filters/$', include_envs=False), logs_views.ModuleStdoutLogAPIView.as_view({'post': 'aggregate_fields_filters'}), name='api.logs.stdout.aggregate_fields_filters.legacy'), re_path(make_app_pattern('/log/ingress/list/$', include_envs=False), logs_views.ModuleIngressLogAPIView.as_view({'post': 'query_logs'}), name='api.logs.ingress.query_logs.legacy'), re_path(make_app_pattern('/log/ingress/date_histogram/$', include_envs=False), logs_views.ModuleIngressLogAPIView.as_view({'post': 'aggregate_date_histogram'}), name='api.logs.ingress.aggregate_date_histogram.legacy'), re_path(make_app_pattern('/log/ingress/fields_filters/$', include_envs=False), logs_views.ModuleIngressLogAPIView.as_view({'post': 'aggregate_fields_filters'}), name='api.logs.ingress.aggregate_fields_filters.legacy'), re_path('sys/api/log/applications/(?P<code>[^/]+)/modules/(?P<module_name>[^/]+)/envs/(?P<environment>stag|prod)/structured/list/$', logs_views.SysStructuredLogAPIView.as_view({'post': 'query_logs'}), name='sys.api.logs.structured')]` | module |



---


### 模块: apiserver/paasng/paasng/accessories/log/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| operator | getitem | module |
| re | compile | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| reduce | functools.reduce | 不适用 | module |
| chain | itertools.chain | from_iterable | module |
| and_ | operator.and_ | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Q | elasticsearch_dsl.query.Q | 不适用 | module |
| Query | elasticsearch_dsl.query.Query | 不适用 | module |
| Hit | elasticsearch_dsl.response.Hit | 不适用 | module |
| ElasticSearchParams | paasng.accessories.log.models.ElasticSearchParams | 不适用 | module |
| flatten_structure | paasng.utils.es_log.misc.flatten_structure | 不适用 | module |
| format_timestamp | paasng.utils.es_log.misc.format_timestamp | 不适用 | module |
| NOT_SET | paasng.utils.es_log.models.NOT_SET | 不适用 | module |
| FlattenLog | paasng.utils.es_log.models.FlattenLog | 不适用 | module |
| field_extractor_factory | paasng.utils.es_log.models.field_extractor_factory | 不适用 | module |
| SearchRequestSchema | apiserver.paasng.paasng.accessories.log.dsl.SearchRequestSchema | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| RESERVED_FIELDS | {'region': ['region', 'kubernetes.labels.region', 'kubernetes.labels.bkapp_paas_bk_tencent_com_region', '__ext.labels.region', '__ext.labels.bkapp_paas_bk_tencent_com_region'], 'app_code': ['app_code', 'kubernetes.labels.bkapp_paas_bk_tencent_com_code', '__ext.labels.bkapp_paas_bk_tencent_com_code'], 'module_name': ['module_name', 'kubernetes.labels.bkapp_paas_bk_tencent_com_module_name', '__ext.labels.bkapp_paas_bk_tencent_com_module_name'], 'environment': ['environment', 'kubernetes.labels.bkapp_paas_bk_tencent_com_environment', '__ext.labels.bkapp_paas_bk_tencent_com_environment'], 'process_id': ['process_id', 'kubernetes.labels.process_id', 'kubernetes.labels.bkapp_paas_bk_tencent_com_process_name', '__ext.labels.process_id', '__ext.labels.bkapp_paas_bk_tencent_com_process_name', 'process_type'], 'pod_name': ['kubernetes.pod.name', '__ext.io_kubernetes_pod', 'pod_name'], 'stream': ['stream']} | `RESERVED_FIELDS = {'region': ['region', 'kubernetes.labels.region', 'kubernetes.labels.bkapp_paas_bk_tencent_com_region', '__ext.labels.region', '__ext.labels.bkapp_paas_bk_tencent_com_region'], 'app_code': ['app_code', 'kubernetes.labels.bkapp_paas_bk_tencent_com_code', '__ext.labels.bkapp_paas_bk_tencent_com_code'], 'module_name': ['module_name', 'kubernetes.labels.bkapp_paas_bk_tencent_com_module_name', '__ext.labels.bkapp_paas_bk_tencent_com_module_name'], 'environment': ['environment', 'kubernetes.labels.bkapp_paas_bk_tencent_com_environment', '__ext.labels.bkapp_paas_bk_tencent_com_environment'], 'process_id': ['process_id', 'kubernetes.labels.process_id', 'kubernetes.labels.bkapp_paas_bk_tencent_com_process_name', '__ext.labels.process_id', '__ext.labels.bkapp_paas_bk_tencent_com_process_name', 'process_type'], 'pod_name': ['kubernetes.pod.name', '__ext.io_kubernetes_pod', 'pod_name'], 'stream': ['stream']}` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| parse_request_to_es_dsl | `def parse_request_to_es_dsl(dsl: 'SearchRequestSchema', mappings: dict) -> Query:` | 无 | 不适用 |
| get_es_term | `def get_es_term(query_term: str, mappings: dict) -> str:` | 无 | 根据 ES 中的字段类型，返回查询 term

    :param query_term: 前端查... |
| try_get_es_term | `def try_get_es_term(query_term: str, mappings: dict) -> str:` | 无 | 根据 ES 中的字段类型，返回查询 term

    :param query_term: 前端查... |
| rename_log_fields | `def rename_log_fields(raw_log: Dict[str, Any]):` | 无 | 将 RESERVED_FIELDS 中记录的字段映射到 log |
| build_filed_matcher | `def build_filed_matcher(pattern: str):` | 无 | 构造字段过滤器 |
| clean_logs | `def clean_logs(logs: List[Hit], search_params: ElasticSearchParams) -> List[FlattenLog]:` | 无 | 从 ES 日志中转换成扁平化的 FlattenLog, 方便后续对日志字段的提取 |


---


### 模块: apiserver/paasng/paasng/accessories/log/views/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/log/views/config.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Set | typing.Set | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| Q | django.db.models.Q | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| ViewSet | rest_framework.viewsets.ViewSet | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | ENABLE_BK_LOG_COLLECTOR | module |
| get_application_cluster | paas_wl.infras.cluster.shim.get_application_cluster | 不适用 | module |
| CustomCollectorConfig | paasng.accessories.log.models.CustomCollectorConfig | filter, objects, update_or_create, get | module |
| BkLogCustomCollectMetadataOutputSLZ | paasng.accessories.log.serializers.BkLogCustomCollectMetadataOutputSLZ | 不适用 | module |
| BkLogCustomCollectMetadataQuerySLZ | paasng.accessories.log.serializers.BkLogCustomCollectMetadataQuerySLZ | 不适用 | module |
| ModuleCustomCollectorConfigSLZ | paasng.accessories.log.serializers.ModuleCustomCollectorConfigSLZ | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| make_bk_log_management_client | paasng.infras.bk_log.client.make_bk_log_management_client | 不适用 | module |
| get_or_create_bk_monitor_space | paasng.infras.bkmonitorv3.shim.get_or_create_bk_monitor_space | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | CUSTOM_COLLECTOR_UNSUPPORTED, f, CUSTOM_COLLECTOR_NOT_EXISTED, CANNOT_DELETE_CUSTOM_COLLECTOR | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_all_builtin_config_names | `def get_all_builtin_config_names(application: Application) -> Set[str]:` | 无 | get all builtin custom collector config name for a... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CustomCollectorConfigViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get_serializer_context, get_metadata, list, upsert, destroy, get_builtin_config | permission_classes | 无 | 日志采集规则配置视图 |

---


### 模块: apiserver/paasng/paasng/accessories/log/views/legacy.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| LogQueryParamsSLZ | paasng.accessories.log.serializers.LogQueryParamsSLZ | 不适用 | module |
| ModuleStdoutLogAPIView | paasng.accessories.log.views.logs.ModuleStdoutLogAPIView | 不适用 | module |
| ModuleStructuredLogAPIView | paasng.accessories.log.views.logs.ModuleStructuredLogAPIView | 不适用 | module |
| BaseAppPermission | paasng.infras.accounts.permissions.application.BaseAppPermission | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | SYSAPI_READ_APPLICATIONS | module |
| site_perm_required | paasng.infras.accounts.permissions.global_site.site_perm_required | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| convert_timestamp_to_str | paasng.utils.datetime.convert_timestamp_to_str | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AllowAnyActionsOnAllApps | paasng.infras.accounts.permissions.application.BaseAppPermission | has_object_permission | 无 | 无 | This class pass all permission checks.

    Why we... |
| V1StdoutLogAPIView | paasng.accessories.log.views.logs.ModuleStdoutLogAPIView | query_logs_scroll, query_logs_scroll_with_get | 无 | 无 | 不适用 |
| V1SysStructuredLogAPIView | paasng.accessories.log.views.logs.ModuleStructuredLogAPIView | query_logs, query_logs_get | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/log/views/logs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| logging | getLogger | module |
| re | compile | module |
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| wraps | functools.wraps | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| ClassVar | typing.ClassVar | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| settings | django.conf.settings | DEFAULT_ES_SEARCH_TIMEOUT | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| RequestError | elasticsearch.exceptions.RequestError | 不适用 | module |
| ScanError | elasticsearch.helpers.ScanError | 不适用 | module |
| ValidationError | pydantic.ValidationError | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| Serializer | rest_framework.serializers.Serializer | 不适用 | module |
| ViewSet | rest_framework.viewsets.ViewSet | 不适用 | module |
| serializers | paasng.accessories.log.serializers | LogQueryParamsSLZ, LogQueryBodySLZ, DateHistogramSLZ, LogFieldFilterSLZ, StandardOutputLogsSLZ, StructureLogsSLZ, IngressLogSLZ | module |
| instantiate_log_client | paasng.accessories.log.client.instantiate_log_client | 不适用 | module |
| DEFAULT_LOG_BATCH_SIZE | paasng.accessories.log.constants.DEFAULT_LOG_BATCH_SIZE | 不适用 | module |
| MAX_RESULT_WINDOW | paasng.accessories.log.constants.MAX_RESULT_WINDOW | 不适用 | module |
| LogType | paasng.accessories.log.constants.LogType | INGRESS, STANDARD_OUTPUT, STRUCTURED | module |
| SearchRequestSchema | paasng.accessories.log.dsl.SearchRequestSchema | 不适用 | module |
| BkLogApiError | paasng.accessories.log.exceptions.BkLogApiError | 不适用 | module |
| NoIndexError | paasng.accessories.log.exceptions.NoIndexError | 不适用 | module |
| EnvFilter | paasng.accessories.log.filters.EnvFilter | 不适用 | module |
| ModuleFilter | paasng.accessories.log.filters.ModuleFilter | 不适用 | module |
| ElasticSearchParams | paasng.accessories.log.models.ElasticSearchParams | 不适用 | module |
| ProcessLogQueryConfig | paasng.accessories.log.models.ProcessLogQueryConfig | select_process_irrelevant, objects, DoesNotExist | module |
| IngressLogLine | paasng.accessories.log.responses.IngressLogLine | 不适用 | module |
| StandardOutputLogLine | paasng.accessories.log.responses.StandardOutputLogLine | 不适用 | module |
| StructureLogLine | paasng.accessories.log.responses.StructureLogLine | 不适用 | module |
| setup_env_log_model | paasng.accessories.log.shim.setup_env_log_model | 不适用 | module |
| clean_logs | paasng.accessories.log.utils.clean_logs | 不适用 | module |
| parse_request_to_es_dsl | paasng.accessories.log.utils.parse_request_to_es_dsl | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | SYSAPI_READ_APPLICATIONS | module |
| site_perm_required | paasng.infras.accounts.permissions.global_site.site_perm_required | 不适用 | module |
| BkLogGatewayServiceError | paasng.infras.bk_log.exceptions.BkLogGatewayServiceError | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | f, QUERY_LOG_FAILED, QUERY_REQUEST_ERROR | module |
| clean_histogram_buckets | paasng.utils.es_log.misc.clean_histogram_buckets | 不适用 | module |
| DateHistogram | paasng.utils.es_log.models.DateHistogram | 不适用 | module |
| Logs | paasng.utils.es_log.models.Logs | 不适用 | module |
| SmartSearch | paasng.utils.es_log.search.SmartSearch | 不适用 | module |
| SmartTimeRange | paasng.utils.es_log.time_range.SmartTimeRange | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| transform_noindex_error | `def transform_noindex_error(func):` | 无 | 不适用 |
| transform_bklog_error | `def transform_bklog_error(func):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LogBaseAPIView | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | instantiate_log_client, parse_time_range, make_search, _make_base_search, _get_log_query_config | permission_classes | 无 | 不适用 |
| LogAPIView | LogBaseAPIView | query_logs, query_logs_scroll, aggregate_date_histogram, aggregate_fields_filters | 无 | 无 | 不适用 |
| StdoutLogAPIView | LogAPIView | 无 | line_model, log_type, logs_serializer_class | 无 | 不适用 |
| StructuredLogAPIView | LogAPIView | 无 | line_model, log_type, logs_serializer_class | 无 | 不适用 |
| IngressLogAPIView | LogAPIView | 无 | line_model, log_type, logs_serializer_class | 无 | 不适用 |
| ModuleLogAPIMixin | _MixinBase | query_logs, query_logs_scroll, aggregate_date_histogram, aggregate_fields_filters, _get_log_query_config_by_env, _get_log_query_config, _make_base_search | 无 | 无 | 不适用 |
| ModuleStdoutLogAPIView | ModuleLogAPIMixin, StdoutLogAPIView | 无 | 无 | 无 | 不适用 |
| ModuleStructuredLogAPIView | ModuleLogAPIMixin, StructuredLogAPIView | 无 | 无 | 无 | 不适用 |
| ModuleIngressLogAPIView | ModuleLogAPIMixin, IngressLogAPIView | 无 | 无 | 无 | 不适用 |
| SysStructuredLogAPIView | StructuredLogAPIView | query_logs | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/paas_analysis/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/paas_analysis/apps.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PaasAnalysisConfig | django.apps.AppConfig | ready | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/paas_analysis/clients.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | date, datetime | module |
| json | JSONDecodeError, decoder | module |
| logging | getLogger | module |
| requests | RequestException, Response, post, get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| ClientJWTAuth | blue_krill.auth.jwt.ClientJWTAuth | 不适用 | module |
| JWTAuthConf | blue_krill.auth.jwt.JWTAuthConf | 不适用 | module |
| settings | django.conf.settings | PAAS_ANALYSIS_JWT_CONF, rstrip, PAAS_ANALYSIS_BASE_URL | module |
| ImproperlyConfigured | django.core.exceptions.ImproperlyConfigured | 不适用 | module |
| serializers | paasng.accessories.paas_analysis.serializers | 不适用 | module |
| MetricsDimensionType | paasng.accessories.paas_analysis.constants.MetricsDimensionType | 不适用 | module |
| MetricsInterval | paasng.accessories.paas_analysis.constants.MetricsInterval | value, ONE_HOUR | module |
| MetricSourceType | paasng.accessories.paas_analysis.constants.MetricSourceType | 不适用 | module |
| Site | paasng.accessories.paas_analysis.entities.Site | 不适用 | module |
| PAClientException | paasng.accessories.paas_analysis.exceptions.PAClientException | 不适用 | module |
| PAResponseError | paasng.accessories.paas_analysis.exceptions.PAResponseError | 不适用 | module |
| region | paasng.core.core.storages.cache.region | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| wrap_request_exc | `@contextmanager:` | contextmanager | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PAClient | 无 | __init__, validate_resp, get_or_create_app_site, get_or_create_custom_site, get_site_pv_config, get_total_page_view_metric_about_site, get_metrics_dimension, get_metrics_aggregate_by_interval_about_site, get_site_ce_config, get_total_custom_event_metric_about_site, get_custom_event_overview, get_custom_event_detail, get_custom_event_trend_about_site | 无 | 无 | 不适用 |
| SiteMetricsClient | 无 | __post_init__, get_site_pv_config, get_total_page_view_metric_about_site, get_metrics_dimension, get_metrics_aggregate_by_interval_about_site, get_site_ce_config, get_total_custom_event_metric_about_site, get_custom_event_overview, get_custom_event_detail, get_custom_event_trend_about_site | 无 | dataclass | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/paas_analysis/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PAMetadataKey | blue_krill.data_types.enum.StrStructuredEnum | 无 | SITE_ID | 无 | 不适用 |
| MetricSourceType | blue_krill.data_types.enum.IntStructuredEnum | 无 | INGRESS, USER_TRACKER | 无 | 不适用 |
| MetricsDimensionType | blue_krill.data_types.enum.StrStructuredEnum | 无 | PATH, USER, ACTION | 无 | 不适用 |
| MetricsInterval | blue_krill.data_types.enum.StrStructuredEnum | 无 | FIVE_MINUTES, ONE_HOUR, ONE_DAY, ONE_WEEK, NONE | 无 | Available interval for metrics |

---


### 模块: apiserver/paasng/paasng/accessories/paas_analysis/entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Site | 无 | 无 | 无 | dataclass | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/paas_analysis/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PAClientException | Exception | 无 | 无 | 无 | BaseException For PA Client |
| PAResponseError | PAClientException | __init__ | 无 | 无 | PaaSAnalysis 接口响应异常 |

---


### 模块: apiserver/paasng/paasng/accessories/paas_analysis/handlers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| receiver | django.dispatch.receiver | 不适用 | module |
| enable_ingress_tracking | paasng.accessories.paas_analysis.services.enable_ingress_tracking | 不适用 | module |
| on_release_created | paasng.platform.engine.signals.on_release_created | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| on_release_created_callback | `@receiver(on_release_created):` | receiver | 不适用 |


---


### 模块: apiserver/paasng/paasng/accessories/paas_analysis/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseSerializer | rest_framework.serializers.BaseSerializer | 不适用 | module |
| BooleanField | rest_framework.serializers.BooleanField | 不适用 | module |
| CharField | rest_framework.serializers.CharField | 不适用 | module |
| ChoiceField | rest_framework.serializers.ChoiceField | 不适用 | module |
| DateField | rest_framework.serializers.DateField | 不适用 | module |
| DateTimeField | rest_framework.serializers.DateTimeField | 不适用 | module |
| DictField | rest_framework.serializers.DictField | 不适用 | module |
| IntegerField | rest_framework.serializers.IntegerField | 不适用 | module |
| ListSerializer | rest_framework.serializers.ListSerializer | 不适用 | module |
| Serializer | rest_framework.serializers.Serializer | 不适用 | module |
| MetricsDimensionType | paasng.accessories.paas_analysis.constants.MetricsDimensionType | get_choices | module |
| MetricsInterval | paasng.accessories.paas_analysis.constants.MetricsInterval | get_choices, value, ONE_HOUR | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| CustomEventOverviewTableSLZ | 不适用 | `CustomEventOverviewTableSLZ = make_metric_table_slz('CustomEventOverviewTableSLZ', CustomEventOverviewRecordSLZ())` | module |
| CustomEventDetailTableSLZ | 不适用 | `CustomEventDetailTableSLZ = make_metric_table_slz('CustomEventDetailTableSLZ', CustomEventDetailRecordSLZ())` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_metric_table_slz | `def make_metric_table_slz(name: str, resource_slz: BaseSerializer):` | 无 | 通用表格的序列化器的生成器 |
| make_metric_wrapper_slz | `def make_metric_wrapper_slz(name: str, data_slz: BaseSerializer, with_interval: bool = False):` | 无 | 通用 Metric 对象的序列化器的生成器 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| IntervalMetricQuerySLZ | rest_framework.serializers.Serializer | 无 | interval, start_time, end_time, fill_missing_data | 无 | 不适用 |
| AggregatedMetricsQuerySLZ | rest_framework.serializers.Serializer | 无 | start_time, end_time | 无 | 不适用 |
| TableMetricsQuerySLZ | rest_framework.serializers.Serializer | 无 | interval, start_time, end_time, limit, offset, ordering | 无 | 不适用 |
| TimeRangeSLZ | rest_framework.serializers.Serializer | 无 | start_time, end_time | 无 | 不适用 |
| SiteSLZ | rest_framework.serializers.Serializer | 无 | type, name, id | 无 | 站点信息 |
| SupportedMetricsDimensionSLZ | rest_framework.serializers.Serializer | 无 | name, value | 无 | 不适用 |
| PageViewMetricSLZ | rest_framework.serializers.Serializer | 无 | pv, uv, time | 无 | 不适用 |
| CustomEventMetricSLZ | rest_framework.serializers.Serializer | 无 | ev, ue, time | 无 | 不适用 |
| ResourceTypeSLZ | rest_framework.serializers.Serializer | 无 | name, display_name | 无 | 不适用 |
| ColumnTypeSLZ | rest_framework.serializers.Serializer | 无 | name, display_name, sortable | 无 | 不适用 |
| MetricsDimensionSchemasSLZ | rest_framework.serializers.Serializer | 无 | resource_type, values_type | 无 | 不适用 |
| PaginationSLZ | rest_framework.serializers.Serializer | 无 | total | 无 | 不适用 |
| MetricsDimensionMetaInfoSLZ | rest_framework.serializers.Serializer | 无 | schemas, pagination | 无 | 不适用 |
| MetricTableMetaInfoSLZ | rest_framework.serializers.Serializer | 无 | schemas, pagination | 无 | 不适用 |
| MetricsDimensionResourcesSLZ | rest_framework.serializers.Serializer | 无 | name, values, display_options | 无 | 不适用 |
| MetricsDimensionSLZ | rest_framework.serializers.Serializer | 无 | meta, resources | 无 | 访问量统计按维度下钻的结果的序列化器 |
| PageViewConfigSLZ | rest_framework.serializers.Serializer | validate_supported_dimension_type | site, time_range, supported_dimension_type, metrics | 无 | 不适用 |
| PageViewTotalMetricSLZ | rest_framework.serializers.Serializer | 无 | site, result | 无 | 不适用 |
| PageViewMetricTrendSLZ | rest_framework.serializers.Serializer | 无 | site, result | 无 | 不适用 |
| CustomEventConfigSLZ | rest_framework.serializers.Serializer | 无 | site, time_range, metrics | 无 | 不适用 |
| CustomEventTotalMetricSLZ | rest_framework.serializers.Serializer | 无 | site, result | 无 | 不适用 |
| CustomEventOverviewRecordSLZ | rest_framework.serializers.Serializer | 无 | category, ev, ue | 无 | 自定义事件概览单条记录的序列化器 |
| CustomEventDetailRecordSLZ | rest_framework.serializers.Serializer | 无 | event_id, action, ev, ue | 无 | 自定义事件某类别以某维度下钻的详情记录的序列化器 |
| CustomEventMetricTrendSLZ | rest_framework.serializers.Serializer | 无 | site, result | 无 | 自定义事件指标变化趋势的序列化器 |
| IngressTrackingStatusSLZ | rest_framework.serializers.Serializer | 无 | status | 无 | For managing ingress tracking status |

---


### 模块: apiserver/paasng/paasng/accessories/paas_analysis/services.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | date | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| get_metadata_by_env | paas_wl.bk_app.applications.api.get_metadata_by_env | 不适用 | module |
| update_metadata_by_env | paas_wl.bk_app.applications.api.update_metadata_by_env | 不适用 | module |
| sync_proc_ingresses | paas_wl.workloads.networking.sync.sync_proc_ingresses | 不适用 | module |
| clients | paasng.accessories.paas_analysis.clients | SiteMetricsClient, PAClient | module |
| PAMetadataKey | paasng.accessories.paas_analysis.constants.PAMetadataKey | value, SITE_ID | module |
| Site | paasng.accessories.paas_analysis.entities.Site | 不适用 | module |
| get_metrics_source_type_from_str | paasng.accessories.paas_analysis.utils.get_metrics_source_type_from_str | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_pv_uv_for_env | `def get_pv_uv_for_env(env: ModuleEnvironment, start_date: datetime.date, end_date: datetime.date, metric_source_type: str = 'ingress') -> Tuple[int, int]:` | 无 | 
    A shortcut for getting pv/uv from the given e... |
| get_or_create_site_by_env | `def get_or_create_site_by_env(env: ModuleEnvironment) -> Site:` | 无 | Get or create a Site object by calling paas-analys... |
| get_or_create_custom_site_for_application | `def get_or_create_custom_site_for_application(application: Application, site_name: str) -> Site:` | 无 | Get or create a Site object for application

    :... |
| make_app_metadata | `def make_app_metadata(env: ModuleEnvironment) -> Dict[str, Any]:` | 无 | Return an engine app's metadata dict |
| get_ingress_tracking_status | `def get_ingress_tracking_status(env: ModuleEnvironment) -> bool:` | 无 | Get ingress tracking status by querying metadata. ... |
| enable_ingress_tracking | `def enable_ingress_tracking(env: ModuleEnvironment):` | 无 | Enable ingress tracking by injecting a metadata an... |


---


### 模块: apiserver/paasng/paasng/accessories/paas_analysis/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| RE_METRIC_SOURCE_TYPE | (?P<metric_source_type>ingress|user_tracker) | `RE_METRIC_SOURCE_TYPE = '(?P<metric_source_type>ingress|user_tracker)'` | module |
| RE_DIMENSION_TYPE | (?P<dimension>path|user) | `RE_DIMENSION_TYPE = '(?P<dimension>path|user)'` | module |
| urlpatterns | 不适用 | `urlpatterns = [re_path(make_app_pattern(f'/analysis/m/{RE_METRIC_SOURCE_TYPE}/config', include_envs=True), views.PageViewConfigViewSet.as_view({'get': 'retrieve'}), name='api.analysis.config'), re_path(make_app_pattern(f'/analysis/m/{RE_METRIC_SOURCE_TYPE}/metrics/aggregate_by_interval$', include_envs=True), views.PageViewMetricTrendViewSet.as_view({'get': 'retrieve'}), name='api.analysis.metrics.aggregate_by_interval$'), re_path(make_app_pattern(f'/analysis/m/{RE_METRIC_SOURCE_TYPE}/metrics/total$', include_envs=True), views.PageViewTotalMetricsViewSet.as_view({'get': 'retrieve'}), name='api.analysis.metrics.total'), re_path(make_app_pattern(f'/analysis/m/{RE_METRIC_SOURCE_TYPE}/metrics/dimension/{RE_DIMENSION_TYPE}$', include_envs=True), views.DimensionMetricsViewSet.as_view({'get': 'retrieve'}), name='api.analysis.metrics.group_by_dimension'), re_path(make_app_pattern('/analysis/event/config', include_envs=True), views.CustomEventConfigViewSet.as_view({'get': 'retrieve'}), name='api.analysis.event.config'), re_path(make_app_pattern('/analysis/event/metrics/total$', include_envs=True), views.CustomEventTotalMetricsViewSet.as_view({'get': 'retrieve'}), name='api.analysis.metrics.event.total'), re_path(make_app_pattern('/analysis/event/metrics/overview', include_envs=True), views.CustomEventOverviewViewSet.as_view({'get': 'retrieve'}), name='api.analysis.metrics.event.overview'), re_path(make_app_pattern('/analysis/event/metrics/c/(?P<category>[^/]+)/d/(?P<dimension>[^/]+)/detail', include_envs=True), views.CustomEventDetailViewSet.as_view({'get': 'retrieve'}), name='api.analysis.metrics.event.detail'), re_path(make_app_pattern('/analysis/event/metrics/aggregate_by_interval', include_envs=True), views.CustomEventTrendViewSet.as_view({'get': 'retrieve'}), name='api.analysis.metrics.event.aggregate_by_interval'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/analysis/site/(?P<site_name>default)/config$', views.PageViewConfigViewSet.as_view({'get': 'retrieve_for_custom_site'}), name='api.analysis.custom_site.metrics.config'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/analysis/site/(?P<site_name>default)/metrics/aggregate_by_interval$', views.PageViewMetricTrendViewSet.as_view({'get': 'retrieve_for_custom_site'}), name='api.analysis.custom_site.metrics.aggregate_by_interval$'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/analysis/site/(?P<site_name>default)/metrics/total$', views.PageViewTotalMetricsViewSet.as_view({'get': 'retrieve_for_custom_site'}), name='api.analysis.custom_site.metrics.total'), re_path(f'^api/bkapps/applications/(?P<code>[^/]+)/analysis/site/(?P<site_name>default)/metrics/dimension/{RE_DIMENSION_TYPE}$', views.DimensionMetricsViewSet.as_view({'get': 'retrieve_for_custom_site'}), name='api.analysis.custom_site.metrics.group_by_dimension'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/analysis/site/(?P<site_name>default)/event/config$', views.CustomEventConfigViewSet.as_view({'get': 'retrieve_for_custom_site'}), name='api.analysis.custom_site.event.config'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/analysis/site/(?P<site_name>default)/event/metrics/total$', views.CustomEventTotalMetricsViewSet.as_view({'get': 'retrieve_for_custom_site'}), name='api.analysis.custom_site.metrics.event.total'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/analysis/site/(?P<site_name>default)/event/metrics/overview', views.CustomEventOverviewViewSet.as_view({'get': 'retrieve_for_custom_site'}), name='api.analysis.custom_site.metrics.event.overview'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/analysis/site/(?P<site_name>default)/event/metrics/c/(?P<category>[^/]+)/d/(?P<dimension>[^/]+)/detail', views.CustomEventDetailViewSet.as_view({'get': 'retrieve_for_custom_site'}), name='api.analysis.custom_site.metrics.event.detail'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/analysis/site/(?P<site_name>default)/event/metrics/aggregate_by_interval', views.CustomEventTrendViewSet.as_view({'get': 'retrieve_for_custom_site'}), name='api.analysis.custom_site.metrics.event.aggregate_by_interval'), re_path(make_app_pattern('/analysis/ingress/tracking_status/$', include_envs=False), views.IngressConfigViewSet.as_view({'post': 'update_tracking_status', 'get': 'get_tracking_status'}), name='api.analysis.ingress.tracking_status')]` | module |



---


### 模块: apiserver/paasng/paasng/accessories/paas_analysis/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| MetricSourceType | paasng.accessories.paas_analysis.constants.MetricSourceType | INGRESS, USER_TRACKER | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_metrics_source_type_from_str | `def get_metrics_source_type_from_str(metrics_source_type: str) -> MetricSourceType:` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/accessories/paas_analysis/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| ImproperlyConfigured | django.core.exceptions.ImproperlyConfigured | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| serializers | paasng.accessories.paas_analysis.serializers | 不适用 | module |
| SiteMetricsClient | paasng.accessories.paas_analysis.clients.SiteMetricsClient | 不适用 | module |
| MetricsDimensionType | paasng.accessories.paas_analysis.constants.MetricsDimensionType | 不适用 | module |
| MetricsInterval | paasng.accessories.paas_analysis.constants.MetricsInterval | 不适用 | module |
| MetricSourceType | paasng.accessories.paas_analysis.constants.MetricSourceType | USER_TRACKER | module |
| PAClientException | paasng.accessories.paas_analysis.exceptions.PAClientException | 不适用 | module |
| enable_ingress_tracking | paasng.accessories.paas_analysis.services.enable_ingress_tracking | 不适用 | module |
| get_ingress_tracking_status | paasng.accessories.paas_analysis.services.get_ingress_tracking_status | 不适用 | module |
| get_or_create_custom_site_for_application | paasng.accessories.paas_analysis.services.get_or_create_custom_site_for_application | 不适用 | module |
| get_or_create_site_by_env | paasng.accessories.paas_analysis.services.get_or_create_site_by_env | 不适用 | module |
| get_metrics_source_type_from_str | paasng.accessories.paas_analysis.utils.get_metrics_source_type_from_str | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | VIEW_BASIC_INFO | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | REQUEST_PA_FAIL, f, ERROR_UPDATING_TRACKING_STATUS | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| transform_client_exec | `@contextmanager:` | contextmanager | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SiteGetterMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get_site_via_env, get_custom_site | 无 | 无 | 不适用 |
| PageViewConfigViewSet | rest_framework.viewsets.ViewSet, SiteGetterMixin | get_config, retrieve, retrieve_for_custom_site | permission_classes | 无 | 获取展示访问事件所需的基础配置 |
| PageViewMetricTrendViewSet | rest_framework.viewsets.ViewSet, SiteGetterMixin | get_metric_trend, retrieve, retrieve_for_custom_site | permission_classes | 无 | 根据指定的`时间粒度`聚合查询某时间区间内的访问量数据 |
| PageViewTotalMetricsViewSet | rest_framework.viewsets.ViewSet, SiteGetterMixin | get_total_metrics, retrieve, retrieve_for_custom_site | permission_classes | 无 | 根据指定的时间区间, 查询该范围内的总访问量 |
| DimensionMetricsViewSet | rest_framework.viewsets.ViewSet, SiteGetterMixin | get_detail_via_dimension, retrieve, retrieve_for_custom_site | permission_classes | 无 | 根据指定的分组维度和时间区间, 查询该时间区间内, 按照分组维度聚合的数据 |
| CustomEventConfigViewSet | rest_framework.viewsets.ViewSet, SiteGetterMixin | get_config, retrieve, retrieve_for_custom_site | permission_classes | 无 | 获取展示自定义事件所需的基础配置 |
| CustomEventTotalMetricsViewSet | rest_framework.viewsets.ViewSet, SiteGetterMixin | get_total_metrics, retrieve, retrieve_for_custom_site | permission_classes | 无 | 根据指定的时间区间, 查询该范围内的自定义事件总量 |
| CustomEventOverviewViewSet | rest_framework.viewsets.ViewSet, SiteGetterMixin | get_overview, retrieve, retrieve_for_custom_site | permission_classes | 无 | 根据指定时间区间, 查询该时间区间内, 按事件类别聚合后的自定义事件触发情况(即自定义事件概览) |
| CustomEventDetailViewSet | rest_framework.viewsets.ViewSet, SiteGetterMixin | get_detail_via_category_and_dimension, retrieve, retrieve_for_custom_site | permission_classes | 无 | 根据指定时间区间, 查询该时间区间内, 按事件类别过滤, 再按 事件id 和 维度 聚合后的事件触发... |
| CustomEventTrendViewSet | rest_framework.viewsets.ViewSet, SiteGetterMixin | get_metric_trend, retrieve, retrieve_for_custom_site | permission_classes | 无 | 根据指定的`时间粒度`聚合查询某时间区间内的自定义事件触发次数(即自定义事件触发趋势) |
| IngressConfigViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get_tracking_status, update_tracking_status | permission_classes | 无 | 基于访问日志统计的配置管理 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/publish/entrance/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/publish/entrance/domains.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| NamedTuple | typing.NamedTuple | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| IngressConfig | paas_wl.infras.cluster.models.IngressConfig | 不适用 | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| Domain | paas_wl.workloads.networking.entrance.allocator.domains.Domain | 不适用 | module |
| SubDomainAllocator | paas_wl.workloads.networking.entrance.allocator.domains.SubDomainAllocator | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | value, STAG | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_preallocated_domains_by_env | `def get_preallocated_domains_by_env(env: ModuleEnvironment) -> List[Domain]:` | 无 | Get all pre-allocated domains for a environment wh... |
| get_preallocated_domain | `def get_preallocated_domain(app_code: str, ingress_config: IngressConfig, module_name: Optional[str] = None) -> Optional[PreDomains]:` | 无 | Get the preallocated domain for a application whic... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PreDomains | typing.NamedTuple | 无 | 无 | 无 | Preallocated domains, include both environments |

---


### 模块: apiserver/paasng/paasng/accessories/publish/entrance/exposer.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| env_is_running | paas_wl.core.env.env_is_running | 不适用 | module |
| EnvExposedURL | paas_wl.workloads.networking.entrance.addrs.EnvExposedURL | 不适用 | module |
| refresh_module_domains | paas_wl.workloads.networking.entrance.handlers.refresh_module_domains | 不适用 | module |
| get_builtin_addr_preferred | paas_wl.workloads.networking.entrance.shim.get_builtin_addr_preferred | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| ExposedURLType | paasng.platform.modules.constants.ExposedURLType | SUBDOMAIN, value | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| sync_external_url_to_market | paasng.accessories.publish.sync_market.handlers.sync_external_url_to_market | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| env_is_deployed | `def env_is_deployed(env: ModuleEnvironment) -> bool:` | 无 | Return the deployed status(aka "is_running") of an... |
| get_module_exposed_links | `def get_module_exposed_links(module: Module) -> Dict[str, Dict]:` | 无 | Get exposed links of module's all environments

  ... |
| get_exposed_links | `def get_exposed_links(application: Application) -> Dict:` | 无 | Return exposed links for default module |
| get_exposed_url | `def get_exposed_url(module_env: ModuleEnvironment) -> Optional[EnvExposedURL]:` | 无 | Get exposed url object of given environment, if th... |
| update_exposed_url_type_to_subdomain | `def update_exposed_url_type_to_subdomain(module: Module):` | 无 | Update a module's exposed_url_type to subdomain |


---


### 模块: apiserver/paasng/paasng/accessories/publish/entrance/preallocated.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| NamedTuple | typing.NamedTuple | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | CONFIGVAR_SYSTEM_PREFIX, DEFAULT_REGION_NAME, BK_DOCS_URL_PREFIX, BK_DOC_APP_ID | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| Cluster | paas_wl.infras.cluster.shim.Cluster | 不适用 | module |
| RegionClusterService | paas_wl.infras.cluster.shim.RegionClusterService | 不适用 | module |
| URL | paas_wl.workloads.networking.entrance.addrs.URL | from_address | module |
| EnvExposedURL | paas_wl.workloads.networking.entrance.addrs.EnvExposedURL | 不适用 | module |
| get_legacy_url | paas_wl.workloads.networking.entrance.utils.get_legacy_url | 不适用 | module |
| get_preallocated_domain | paasng.accessories.publish.entrance.domains.get_preallocated_domain | 不适用 | module |
| get_preallocated_domains_by_env | paasng.accessories.publish.entrance.domains.get_preallocated_domains_by_env | 不适用 | module |
| get_preallocated_path | paasng.accessories.publish.entrance.subpaths.get_preallocated_path | 不适用 | module |
| get_preallocated_paths_by_env | paasng.accessories.publish.entrance.subpaths.get_preallocated_paths_by_env | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| env_vars_providers | paasng.platform.engine.configurations.provider.env_vars_providers | register_env | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | PROD, STAG | module |
| AppRunTimeBuiltinEnv | paasng.platform.engine.constants.AppRunTimeBuiltinEnv | value, DEFAULT_PREALLOCATED_URLS | module |
| ExposedURLType | paasng.platform.modules.constants.ExposedURLType | SUBPATH, SUBDOMAIN | module |
| get_module_clusters | paasng.platform.modules.helpers.get_module_clusters | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_exposed_url_type | `def get_exposed_url_type(bk_app_code: str, module_name: Optional[str] = None) -> Optional[ExposedURLType]:` | 无 | Try to get the exposed_url_type by the given code/... |
| get_preallocated_url | `def get_preallocated_url(module_env: ModuleEnvironment) -> Optional[EnvExposedURL]:` | 无 | 获取某环境的默认访问入口地址（不含独立域名)。

    - 地址为预计算生成，无需真实部署，不保证... |
| get_preallocated_urls | `def get_preallocated_urls(module_env: ModuleEnvironment) -> List[EnvExposedURL]:` | 无 | 获取某环境的所有可选访问入口地址（不含独立域名)。

    - 当集群配置了多个根域时，返回多个结... |
| get_preallocated_address | `def get_preallocated_address(app_code: str, region: Optional[str] = None, clusters: Optional[Dict[AppEnvName, Cluster]] = None, module_name: Optional[str] = None, preferred_url_type: Optional[ExposedURLType] = None) -> PreAddresses:` | 无 | Get the preallocated address for a application whi... |
| get_bk_doc_url_prefix | `def get_bk_doc_url_prefix() -> str:` | 无 | Obtain the address prefix of the BK Document Cente... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PreAddresses | typing.NamedTuple | 无 | 无 | 无 | Preallocated addresses, include both environments |

---


### 模块: apiserver/paasng/paasng/accessories/publish/entrance/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, IntegerField, CharField, URLField, BooleanField, ListField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| AvailableAddressFullySLZ | paasng.accessories.publish.market.serializers.AvailableAddressFullySLZ | 不适用 | module |
| AvailableAddressSLZ | paasng.accessories.publish.market.serializers.AvailableAddressSLZ | 不适用 | module |
| ExposedURLType | paasng.platform.modules.constants.ExposedURLType | SUBDOMAIN | module |
| MinimalModuleSLZ | paasng.platform.modules.serializers.MinimalModuleSLZ | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| UpdateExposedURLTypeSLZ | rest_framework.serializers.Serializer | validate_exposed_url_type | exposed_url_type | 无 | 不适用 |
| ApplicationCustomDomainEntranceSLZ | rest_framework.serializers.Serializer | 无 | module, env, addresses | 无 | 不适用 |
| ApplicationDefaultEntranceSLZ | rest_framework.serializers.Serializer | 无 | module, env, address | 无 | 不适用 |
| PlainEntranceSLZ | rest_framework.serializers.Serializer | 无 | env, address, is_running | 无 | 不适用 |
| ApplicationAvailableEntranceSLZ | rest_framework.serializers.Serializer | 无 | type, entrances | 无 | 不适用 |
| RootDoaminSLZ | rest_framework.serializers.Serializer | 无 | root_domains, preferred_root_domain | 无 | 不适用 |
| PreferredRootDoaminSLZ | rest_framework.serializers.Serializer | 无 | preferred_root_domain | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/entrance/subpaths.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| NamedTuple | typing.NamedTuple | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| IngressConfig | paas_wl.infras.cluster.models.IngressConfig | 不适用 | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| Subpath | paas_wl.workloads.networking.entrance.allocator.subpaths.Subpath | 不适用 | module |
| SubPathAllocator | paas_wl.workloads.networking.entrance.allocator.subpaths.SubPathAllocator | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | value, STAG | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_preallocated_paths_by_env | `def get_preallocated_paths_by_env(env: ModuleEnvironment) -> List[Subpath]:` | 无 | Get all pre-allocated subpaths for a environment w... |
| get_preallocated_path | `def get_preallocated_path(app_code: str, ingress_config: IngressConfig, module_name: Optional[str] = None) -> Optional[PreSubpaths]:` | 无 | Get the preallocated subpath for a application whi... |
| get_legacy_compatible_path | `def get_legacy_compatible_path(env: ModuleEnvironment) -> str:` | 无 | Get the subpath for environment which is compatibl... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PreSubpaths | typing.NamedTuple | 无 | 无 | 无 | Preallocated subpaths, include both environments |

---


### 模块: apiserver/paasng/paasng/accessories/publish/entrance/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path(make_app_pattern('/exposed_url_type/$', include_envs=False), views.ExposedURLTypeViewset.as_view({'put': 'update'}), name='api.entrance.exposed_url_type'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/default_entrance/$', views.ApplicationAvailableAddressViewset.as_view({'get': 'list_default_entrance'}), name='api.entrance.default_entrance'), re_path(make_app_pattern('/default_entrance/$', include_envs=False), views.ApplicationAvailableAddressViewset.as_view({'get': 'list_module_default_entrances'}), name='api.entrance.module.default_entrances'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/custom_domain_entrance/$', views.ApplicationAvailableAddressViewset.as_view({'get': 'list_custom_domain_entrance'}), name='api.entrance.custom_domain_entrance'), re_path(make_app_pattern('/root_domains/$', include_envs=False), views.ModuleRootDomainsViewSet.as_view({'get': 'list_root_domains'}), name='api.entrance.module.root_domain'), re_path(make_app_pattern('/preferred_root_domain/$', include_envs=False), views.ModuleRootDomainsViewSet.as_view({'put': 'update_preferred_root_domain'}), name='api.entrance.module.preferred_root_domain')]` | module |



---


### 模块: apiserver/paasng/paasng/accessories/publish/entrance/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext | django.utils.translation.gettext | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| HTTP_204_NO_CONTENT | rest_framework.status.HTTP_204_NO_CONTENT | 不适用 | module |
| env_is_deployed | paasng.accessories.publish.entrance.exposer.env_is_deployed | 不适用 | module |
| update_exposed_url_type_to_subdomain | paasng.accessories.publish.entrance.exposer.update_exposed_url_type_to_subdomain | 不适用 | module |
| get_preallocated_urls | paasng.accessories.publish.entrance.preallocated.get_preallocated_urls | 不适用 | module |
| ApplicationAvailableEntranceSLZ | paasng.accessories.publish.entrance.serializers.ApplicationAvailableEntranceSLZ | 不适用 | module |
| ApplicationCustomDomainEntranceSLZ | paasng.accessories.publish.entrance.serializers.ApplicationCustomDomainEntranceSLZ | 不适用 | module |
| ApplicationDefaultEntranceSLZ | paasng.accessories.publish.entrance.serializers.ApplicationDefaultEntranceSLZ | 不适用 | module |
| PreferredRootDoaminSLZ | paasng.accessories.publish.entrance.serializers.PreferredRootDoaminSLZ | 不适用 | module |
| RootDoaminSLZ | paasng.accessories.publish.entrance.serializers.RootDoaminSLZ | 不适用 | module |
| UpdateExposedURLTypeSLZ | paasng.accessories.publish.entrance.serializers.UpdateExposedURLTypeSLZ | 不适用 | module |
| ModuleEnvAvailableAddressHelper | paasng.accessories.publish.market.utils.ModuleEnvAvailableAddressHelper | 不适用 | module |
| app_action_required | paasng.infras.accounts.permissions.application.app_action_required | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP, VIEW_BASIC_INFO | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| ExposedURLType | paasng.platform.modules.constants.ExposedURLType | SUBDOMAIN, SUBPATH | module |
| get_module_prod_env_root_domains | paasng.platform.modules.helpers.get_module_prod_env_root_domains | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ExposedURLTypeViewset | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | update | permission_classes | 无 | 管理模块访问地址类型 |
| ApplicationAvailableAddressViewset | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list_module_default_entrances, list_custom_domain_entrance, list_default_entrance | permission_classes | 无 | 一个提供应用所有访问入口的ViewSet, 访问入口包括:
    -   由平台默认提供的地址(与... |
| ModuleRootDomainsViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list_root_domains, update_preferred_root_domain | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/market/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/publish/market/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PlugableAppConfig | paasng.utils.addons.PlugableAppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppsConfig | paasng.utils.addons.PlugableAppConfig | ready | name, default | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/market/constant.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Enum | enum.Enum | 不适用 | module |
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| RegionType | paasng.core.region.states.RegionType | get_choices | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| TAG_REGION_CHOICES | 不适用 | `TAG_REGION_CHOICES = list(RegionType.get_choices()) + [('all', '所有版本')]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProductSourceUrlType | blue_krill.data_types.enum.IntStructuredEnum | 无 | DISABLED, ENGINE_PROD_ENV, THIRD_PARTY, CUSTOM_DOMAIN, ENGINE_PROD_ENV_HTTPS | 无 | 访问地址类型 |
| AppType | enum.Enum | get_choices | PAAS_APP, THIRD_PARTY, _choices_labels | 无 | 应用分类（按实现技术） |
| AppState | enum.Enum | get_choices | DEVELOPING, RELEASED, OFFLINE, _choices_labels | 无 | 应用市场中应用的状态 |
| OpenMode | blue_krill.data_types.enum.StrStructuredEnum | 无 | DESKTOP, NEW_TAB | 无 | 应用在桌面的打开方式 |
| TagName | blue_krill.data_types.enum.StrStructuredEnum | 无 | OPSTOOlS, MONITORAlARM, CONFMANAGE, DEVTOOLS, ENTERPRISEIT, OFFICEAPP, OTHER | 无 | 应用分类名称 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/market/handlers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| receiver | django.dispatch.receiver | 不适用 | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | DoesNotExist | module |
| application_default_module_switch | paasng.platform.applications.signals.application_default_module_switch | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| update_market_config_source_module | `@receiver(application_default_module_switch):` | receiver | 更新应用主模块时需要同步更新应用市场配置中模块信息，否则会导致发布条件判断出现问题 |


---


### 模块: apiserver/paasng/paasng/accessories/publish/market/legacy_client/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/publish/market/legacy_client/base.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| legacy_db | paasng.core.core.storages.sqlalchemy.legacy_db | get_model | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| LApplication | 不适用 | `LApplication = legacy_db.get_model('app_app')` | module |
| LAppDevelopTimeRecored | 不适用 | `LAppDevelopTimeRecored = legacy_db.get_model('app_develop_time_record')` | module |
| LAppReleaseRecored | 不适用 | `LAppReleaseRecored = legacy_db.get_model('paas_app_release_record')` | module |
| LAppBizCC | 不适用 | `LAppBizCC = legacy_db.get_model('app_business_cc')` | module |
| LAppBizCCRel | 不适用 | `LAppBizCCRel = legacy_db.get_model('app_app_business_cc')` | module |
| LAppGroup | 不适用 | `LAppGroup = legacy_db.get_model('app_app_group')` | module |
| LPlatformApprovalAdmin | 不适用 | `LPlatformApprovalAdmin = legacy_db.get_model('bk_approval_approval_admin')` | module |
| LPlatformApprovalApplyRecord | 不适用 | `LPlatformApprovalApplyRecord = legacy_db.get_model('bk_approval_apply_record')` | module |
| LAccessControlWhileListApplyRecord | 不适用 | `LAccessControlWhileListApplyRecord = legacy_db.get_model('access_control_wl_apply_record')` | module |



---


### 模块: apiserver/paasng/paasng/accessories/publish/market/legacy_client/errors.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LegacyClientBaseError | Exception | 无 | 无 | 无 | Base exception class for legacy client |
| LegacyClientError | LegacyClientBaseError | 无 | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/market/legacy_client/misc.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | now, datetime | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| func | sqlalchemy.sql.func | sum | module |
| console_db | paasng.core.core.storages.sqlalchemy.console_db | session_scope | module |
| LAppDevelopTimeRecored | apiserver.paasng.paasng.accessories.publish.market.legacy_client.base.LAppDevelopTimeRecored | dev_time | module |
| LApplication | apiserver.paasng.paasng.accessories.publish.market.legacy_client.base.LApplication | 不适用 | module |
| LegacyClientError | apiserver.paasng.paasng.accessories.publish.market.legacy_client.errors.LegacyClientError | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| incr_app_dev_time | `def incr_app_dev_time(app_code, hours, creator):` | 无 | Increase an app's dev time spent which is shown in... |
| get_app_dev_time | `def get_app_dev_time(app_code) -> float:` | 无 | Get the total app dev time of an app

    :param a... |


---


### 模块: apiserver/paasng/paasng/accessories/publish/market/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db, SET_NULL | module |
| jsonfield.fields | JSONField, fields | module |
| paasng.accessories.publish.market.models | BkUserField, models, utils, ProcessedImageField, upload_renamed_to_app_code, market, publish, accessories | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, IntegerField, BooleanField, ForeignKey, DateTimeField, TextField, SmallIntegerField, OneToOneField, NullBooleanField, URLField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/market/migrations/0002_product_visiable_labels.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| jsonfield.fields | JSONField, fields | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/market/migrations/0003_auto_20220422_0954.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/market/migrations/0004_auto_20220506_1635.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RenameField, AddField | module |
| models | django.db.models | CharField, TextField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/market/migrations/0005_alter_displayoptions_open_mode.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/market/migrations/0006_alter_marketconfig_prefer_https.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/market/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/publish/market/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| os | split, path, splitext, join | module |
| time | time | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| namedtuple | collections.namedtuple | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| urlparse | urllib.parse.urlparse | 不适用 | module |
| settings | django.conf.settings | RUN_VER | module |
| models | django.db.models | Manager, Model, ForeignKey, CASCADE, CharField, IntegerField, BooleanField, OneToOneField, TextField, SET_NULL, SmallIntegerField, URLField | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| ResizeToFill | pilkit.processors.ResizeToFill | 不适用 | module |
| TranslatedFieldWithFallback | translated_fields.TranslatedFieldWithFallback | 不适用 | module |
| constant | paasng.accessories.publish.market.constant | value, PAAS_APP, AppType, get_choices, AppState, get_django_choices, OpenMode, NEW_TAB, DISABLED, ProductSourceUrlType, ENGINE_PROD_ENV, RELEASED | module |
| app_logo_storage | paasng.core.core.storages.object_storage.app_logo_storage | 不适用 | module |
| Application | paasng.platform.applications.models.Application | filter_by_user, objects | module |
| AppSpecs | paasng.platform.applications.specs.AppSpecs | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| OwnerTimestampedModel | paasng.utils.models.OwnerTimestampedModel | 不适用 | module |
| ProcessedImageField | paasng.utils.models.ProcessedImageField | 不适用 | module |
| TimestampedModel | paasng.utils.models.TimestampedModel | 不适用 | module |
| WithOwnerManager | paasng.utils.models.WithOwnerManager | 不适用 | module |
| get_all_corp_products | apiserver.paasng.paasng.accessories.publish.market.models_ext.get_all_corp_products | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| CorpProduct | 不适用 | `CorpProduct = namedtuple('CorpProduct', 'id display_name')` | module |
| DEFAULT_CORP_PRODUCTS | 不适用 | `DEFAULT_CORP_PRODUCTS = [CorpProduct('-1', '全业务')]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| upload_renamed_to_app_code | `def upload_renamed_to_app_code(instance: 'Product', filename: str):` | 无 | Generate uploaded logo filename |
| get_all_corp_products | `def get_all_corp_products() -> List[CorpProduct]:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TagManager | django.db.models.Manager | get_query_set, get_default_tag | 无 | 无 | 不适用 |
| Tag | django.db.models.Model | get_name_display, __str__ | parent, name, remark, index, enabled, region, objects | 无 | 
    按用途分类
     |
| ProductManager | paasng.utils.models.WithOwnerManager | owned_and_collaborated_by, create_default_product | 无 | 无 | 不适用 |
| Product | paasng.utils.models.OwnerTimestampedModel | get_contact, get_logo_url, transform_visiable_labels | application, code, name, logo, introduction, description, tag, type, state, related_corp_products, visiable_labels, objects | 无 | 蓝鲸应用: 开发者中心的编辑属性 |
| DisplayOptions | django.db.models.Model | 无 | product, visible, width, height, is_win_maximize, win_bars, resizable, contact, open_mode | 无 | app展示相关的属性 |
| MarketConfigManager | django.db.models.Manager | get_or_create_by_app, update_enabled, enable_app, disable_app | 无 | 无 | 不适用 |
| MarketConfig | paasng.utils.models.TimestampedModel | on_release, on_offline | application, enabled, auto_enable_when_deploy, source_url_type, source_module, source_tp_url, custom_domain_url, prefer_https, objects | 无 | 应用市场相关功能配置 |
| AvailableAddress | 无 | __post_init__ | 无 | dataclass | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/market/protections.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext | django.utils.translation.gettext | 不适用 | module |
| env_is_deployed | paasng.accessories.publish.entrance.exposer.env_is_deployed | 不适用 | module |
| ProductSourceUrlType | paasng.accessories.publish.market.constant.ProductSourceUrlType | DISABLED, THIRD_PARTY, value | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | get_or_create_by_app, objects | module |
| Product | paasng.accessories.publish.market.models.Product | filter, objects | module |
| BaseCondition | paasng.core.core.protections.base.BaseCondition | 不适用 | module |
| BaseConditionChecker | paasng.core.core.protections.base.BaseConditionChecker | 不适用 | module |
| ConditionNotMatched | paasng.core.core.protections.exceptions.ConditionNotMatched | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PublishCondition | paasng.core.core.protections.base.BaseCondition | __init__, validate | 无 | 无 | Abstract base class for publish condition |
| ProductInfoCondition | PublishCondition | validate | action_name | 无 | 检查是否已经完善应用信息 |
| ProdEnvReadinessCondition | PublishCondition | validate | action_name | 无 | 检查生产环境是否准备就绪 |
| SourceURLValidationConditon | PublishCondition | validate | action_name | 无 | 检查无引擎应用是否设置有效的访问地址 |
| AppPublishPreparer | paasng.core.core.protections.base.BaseConditionChecker | __init__, __str__ | condition_classes | 无 | Prepare for publishing application to market |
| ModulePublishCondition | paasng.core.core.protections.base.BaseCondition | __init__ | 无 | 无 | Abstract base class for publish condition |
| ModuleProdEnvReadinessCondition | ModulePublishCondition | validate | action_name | 无 | 检查模块正式环境是否就绪 |
| ModulePublishPreparer | paasng.core.core.protections.base.BaseConditionChecker | __init__, __str__ | condition_classes | 无 | Prepare to publish a module |

---


### 模块: apiserver/paasng/paasng/accessories/publish/market/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| re | match | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | APP_REQUIRE_CONTACTS | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | ImageField, Serializer, IntegerField, CharField, SlugRelatedField, BooleanField, JSONField, ListField, ModelSerializer, ReadOnlyField, HyperlinkedModelSerializer, HyperlinkedIdentityField, ValidationError, URLField, ChoiceField, UUIDField, SerializerMethodField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| UniqueValidator | rest_framework.validators.UniqueValidator | 不适用 | module |
| LiveEnvAddresses | paas_wl.workloads.networking.entrance.shim.LiveEnvAddresses | 不适用 | module |
| AppState | paasng.accessories.publish.market.constant.AppState | 不适用 | module |
| ProductSourceUrlType | paasng.accessories.publish.market.constant.ProductSourceUrlType | get_choices, value, CUSTOM_DOMAIN, THIRD_PARTY, ENGINE_PROD_ENV_HTTPS, ENGINE_PROD_ENV | module |
| DisplayOptions | paasng.accessories.publish.market.models.DisplayOptions | create, objects | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | 不适用 | module |
| Product | paasng.accessories.publish.market.models.Product | all, objects | module |
| Tag | paasng.accessories.publish.market.models.Tag | all, objects, MultipleObjectsReturned | module |
| product_contact_updated | paasng.accessories.publish.market.signals.product_contact_updated | send | module |
| product_create_or_update_by_operator | paasng.accessories.publish.market.signals.product_create_or_update_by_operator | send | module |
| MarketAvailableAddressHelper | paasng.accessories.publish.market.utils.MarketAvailableAddressHelper | 不适用 | module |
| ApplicationField | paasng.platform.applications.serializers.ApplicationField | 不适用 | module |
| AppNameField | paasng.platform.applications.serializers.AppNameField | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| I18NExtend | paasng.utils.i18n.serializers.I18NExtend | 不适用 | module |
| TranslatedCharField | paasng.utils.i18n.serializers.TranslatedCharField | 不适用 | module |
| i18n | paasng.utils.i18n.serializers.i18n | 不适用 | module |
| RichTextField | paasng.utils.serializers.RichTextField | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppLogoField | rest_framework.serializers.ImageField | to_internal_value | 无 | 无 | 不适用 |
| VisiableLabelsSlz | rest_framework.serializers.Serializer | 无 | id, type, name, display_name | 无 | 不适用 |
| ProductTagField | rest_framework.serializers.SlugRelatedField | __init__, get_queryset, get_object | 无 | 无 | Field class for Product Tag object, query tag by U... |
| ProductTagByNameField | rest_framework.serializers.SlugRelatedField | __init__, get_queryset, to_internal_value | 无 | 无 | Field class for Product Tag object, query tag by n... |
| ProductBaseSLZ | rest_framework.serializers.Serializer | 无 | resizable, width, height, is_win_maximize, win_bars, name, introduction, description, contact, open_mode, related_corp_products, visiable_labels | i18n | 不适用 |
| ProductCreateSLZ | rest_framework.serializers.ModelSerializer, ProductBaseSLZ | validate, create | logo, application, tag, name, introduction, description, logo_url, tag_name, code | 无 | 注册新的市场应用 |
| ProductCombinedSLZ | rest_framework.serializers.ModelSerializer, ProductBaseSLZ | update | tag, name, introduction, description, application, code, logo, tag_name | 无 | 不适用 |
| TagSLZ | rest_framework.serializers.HyperlinkedModelSerializer | 无 | url, parent, id, name | 无 | 不适用 |
| ProductStateSLZ | rest_framework.serializers.ModelSerializer | validate_state | 无 | 无 | 不适用 |
| ProductLogoSLZ | rest_framework.serializers.ModelSerializer | update | logo, logo_url, code | 无 | 不适用 |
| ProductOfflineSLZ | rest_framework.serializers.Serializer | 无 | recyle_online_resource | 无 | 不适用 |
| MarketConfigSLZ | rest_framework.serializers.ModelSerializer | get_market_address, update, _regulate_custom_domain_url, _regulate_source_tp_url | source_tp_url, custom_domain_url, source_url_type, prefer_https, source_module_id, source_module_name, enabled, market_address | 无 | 不适用 |
| MarketConfigSwitchInputSLZ | rest_framework.serializers.Serializer | 无 | enabled | 无 | 不适用 |
| AvailableAddressSLZ | rest_framework.serializers.Serializer | 无 | address, type | 无 | 不适用 |
| AvailableAddressFullySLZ | AvailableAddressSLZ | 无 | hostname, scheme | 无 | 不适用 |
| FailedProconditionSLZ | rest_framework.serializers.Serializer | 无 | message, action_name | 无 | 不适用 |
| PublishProtectionSLZ | rest_framework.serializers.Serializer | 无 | all_conditions_matched, failed_conditions | 无 | 不适用 |
| MarketEntranceSLZ | rest_framework.serializers.Serializer | validate, update, _validate_module_name, _validate_custom_domain_url, _validate_third_party_url | module, env, url, type | 无 | 切换市场访问地址 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/market/signals.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Signal | django.dispatch.Signal | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| product_create_or_update_by_operator | 不适用 | `product_create_or_update_by_operator = Signal()` | module |
| product_contact_updated | 不适用 | `product_contact_updated = Signal()` | module |



---


### 模块: apiserver/paasng/paasng/accessories/publish/market/status.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | get_or_create_by_app, objects | module |
| Product | paasng.accessories.publish.market.models.Product | create_default_product, objects | module |
| on_product_deploy_success | paasng.accessories.publish.sync_market.handlers.on_product_deploy_success | 不适用 | module |
| run_required_db_console_config | paasng.accessories.publish.sync_market.utils.run_required_db_console_config | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| publish_to_market_by_deployment | `@run_required_db_console_config:` | run_required_db_console_config | Publish the application to market, triggered by a ... |


---


### 模块: apiserver/paasng/paasng/accessories/publish/market/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/market/tags/(?P<id>[^/]+)$', views.TagViewSet.as_view({'get': 'retrieve'}), name='api.market.tags.detail'), re_path('^api/market/tags$', views.TagViewSet.as_view({'get': 'list'}), name='api.market.tags'), re_path('^api/market/products/(?P<code>[^/]+)/state/?$', views.ProductStateViewSet.as_view({'get': 'retrieve', 'put': 'update'}), name='api.market.products.state'), re_path('^api/market/products/(?P<code>[^/]+)/?$', views.ProductCombinedViewSet.as_view({'get': 'retrieve', 'put': 'update'}), name='api.market.products.detail'), re_path('^api/market/products/?$', views.ProductCreateViewSet.as_view({'post': 'create', 'get': 'list'}), name='api.market.products.list'), re_path('^api/market/corp_products/$', views.CorpProductViewSet.as_view({'get': 'list'}), name='api.market.corp_products')]` | module |



---


### 模块: apiserver/paasng/paasng/accessories/publish/market/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| EnvExposedURL | paas_wl.workloads.networking.entrance.addrs.EnvExposedURL | 不适用 | module |
| default_port_map | paas_wl.workloads.networking.entrance.addrs.default_port_map | get_port_num | module |
| LiveEnvAddresses | paas_wl.workloads.networking.entrance.shim.LiveEnvAddresses | 不适用 | module |
| get_builtin_addrs | paas_wl.workloads.networking.entrance.shim.get_builtin_addrs | 不适用 | module |
| get_exposed_url | paasng.accessories.publish.entrance.exposer.get_exposed_url | 不适用 | module |
| ProductSourceUrlType | paasng.accessories.publish.market.constant.ProductSourceUrlType | value, ENGINE_PROD_ENV, CUSTOM_DOMAIN, ENGINE_PROD_ENV_HTTPS, THIRD_PARTY, DISABLED | module |
| AvailableAddress | paasng.accessories.publish.market.models.AvailableAddress | 不适用 | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AvailableAddressMixin | 无 | default_access_entrance, default_access_entrances, domain_addresses, filter_domain_address | 无 | 无 | 不适用 |
| ModuleEnvAvailableAddressHelper | AvailableAddressMixin | __init__, addresses | 无 | 无 | 模块访问地址 助手 |
| MarketAvailableAddressHelper | AvailableAddressMixin | __post_init__, default_access_entrance_with_http, access_entrance, transform_protocol | 无 | dataclass | 应用市场访问地址(绑定模块的生产环境)助手 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/market/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| viewsets | rest_framework.viewsets | ModelViewSet, ViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| serializers | paasng.accessories.publish.market.serializers | ProductCreateSLZ, ProductCombinedSLZ, TagSLZ, ProductStateSLZ, MarketConfigSLZ, MarketConfigSwitchInputSLZ, MarketEntranceSLZ, PublishProtectionSLZ | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | get_or_create_by_app, objects, update_enabled | module |
| Product | paasng.accessories.publish.market.models.Product | owned_and_collaborated_by, objects, all | module |
| Tag | paasng.accessories.publish.market.models.Tag | filter, objects | module |
| get_all_corp_products | paasng.accessories.publish.market.models.get_all_corp_products | 不适用 | module |
| AppPublishPreparer | paasng.accessories.publish.market.protections.AppPublishPreparer | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| check_application_perm | paasng.infras.accounts.permissions.application.check_application_perm | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | MANAGE_APP_MARKET | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | MODIFY_MARKET_INFO, RELEASE_TO_MARKET, OFFLINE_MARKET, MODIFY_MARKET_URL | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | APP | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | RELEASED_MARKET_CONDITION_NOT_MET | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProductBaseViewSet | rest_framework.viewsets.ModelViewSet | get_application, get_serializer_context, get_queryset | 无 | 无 | 不适用 |
| ProductCreateViewSet | ProductBaseViewSet | get_application | queryset, serializer_class, lookup_field | 无 | 
    注册桌面产品
    create: 注册桌面产品
    - [测试地址](/api/m... |
| ProductCombinedViewSet | ProductBaseViewSet | get_application, update | queryset, serializer_class, lookup_field | 无 | 
    产品属性
    retrieve: 获取产品属性
    - [测试地址](/api/m... |
| TagViewSet | rest_framework.viewsets.ModelViewSet | 无 | queryset, serializer_class, pagination_class, lookup_field | 无 | 
    产品分类(按用途)
    list: 获取分类列表
    - [测试地址](/api/... |
| ProductStateViewSet | ProductBaseViewSet | 无 | queryset, serializer_class, lookup_field | 无 | 
    产品上线状态
    retrieve: 获取产品上线状态
    - [测试地址](/a... |
| CorpProductViewSet | rest_framework.viewsets.ViewSet | list | 无 | 无 | 应用在市场绑定业务相关 API |
| MarketConfigViewSet | rest_framework.viewsets.ModelViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | retrieve, update, switch, set_entrance | serializer_class, permission_classes | 无 | 查看与管理应用的市场相关配置 |
| PublishViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | check_preparations | serializer_class, permission_classes | 无 | 与发布应用到市场相关 ViewSet |

---


### 模块: apiserver/paasng/paasng/accessories/publish/sync_market/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/publish/sync_market/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SyncMarketConfig | django.apps.AppConfig | ready | name, verbose_name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/sync_market/constant.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| List | typing.List | 不适用 | module |
| ChoicesEnum | paasng.utils.basic.ChoicesEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RegionConverter | 无 | to_old, to_new | _data, _data_reverse | 无 | 不适用 |
| PVTimeType | paasng.utils.basic.ChoicesEnum | 无 | TYPE_15m, TYPE_30m, TYPE_1h, TYPE_4h, TYPE_12h, TYPE_1d, TYPE_3d, TYPE_7d, TYPE_CUSTOMIZED, _choices_labels | 无 | 
    应用访问量-日期范围类型
     |
| SaaSPackageInfo | 无 | 无 | 无 | dataclass | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/sync_market/engine.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | now, datetime | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| urlparse | urllib.parse.urlparse | 不适用 | module |
| settings | django.conf.settings | RGW_ENDPOINT_URL | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| AppState | paasng.accessories.publish.market.constant.AppState | value, RELEASED | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | get_or_create_by_app, objects | module |
| AppPublishPreparer | paasng.accessories.publish.market.protections.AppPublishPreparer | 不适用 | module |
| MarketAvailableAddressHelper | paasng.accessories.publish.market.utils.MarketAvailableAddressHelper | 不适用 | module |
| RegionConverter | paasng.accessories.publish.sync_market.constant.RegionConverter | to_old | module |
| AppManger | paasng.accessories.publish.sync_market.managers.AppManger | 不适用 | module |
| AppTagManger | paasng.accessories.publish.sync_market.managers.AppTagManger | 不适用 | module |
| get_region | paasng.core.region.models.get_region | 不适用 | module |
| MobileConfig | paasng.platform.engine.models.mobile_config.MobileConfig | 不适用 | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |
| FieldNotFound | apiserver.paasng.paasng.accessories.publish.sync_market.exceptions.FieldNotFound | 不适用 | module |
| UndefinedMethod | apiserver.paasng.paasng.accessories.publish.sync_market.exceptions.UndefinedMethod | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RemoteAppManager | 无 | __init__, display_options, single_field_hybrate, fields_hybrate, sync_data, hybrate_app_cate, hybrate_app_type, hybrate_audit_state, hybrate_cpu_limit, hybrate_created_date, hybrate_created_state, hybrate_creater, hybrate_deploy_env, hybrate_deploy_ver, hybrate_display_type, hybrate_init_svn_version, hybrate_is_already_online, hybrate_is_already_test, hybrate_is_base, hybrate_is_code_private, hybrate_is_default, hybrate_is_display, hybrate_is_lapp, hybrate_is_mapp, hybrate_is_max, hybrate_is_offical, hybrate_is_open, hybrate_is_select_svn_dir, hybrate_isflash, hybrate_isneed_reaudit, hybrate_isresize, hybrate_issetbar, hybrate_language, hybrate_logo, hybrate_mem_limit, hybrate_starnum, hybrate_starnum_ied, hybrate_state, hybrate_svn_domain, hybrate_tags_id, hybrate_use_celery, hybrate_use_celery_beat, get_mobile_config, hybrate_use_mobile_online, hybrate_use_mobile_test, hybrate_mobile_url_test, hybrate_mobile_url_prod, hybrate_usecount, hybrate_usecount_ied, hybrate_online_version, hybrate_tem_svn, hybrate_dev_time, hybrate_first_online_time, hybrate_first_test_time, hybrate_code, hybrate_builtin_path, hybrate_description, hybrate_external_url, hybrate_group_id, hybrate_extra, hybrate_open_mode, hybrate_height, hybrate_width, hybrate_id, hybrate_introduction, hybrate_name, hybrate_introduction_en, hybrate_name_en, hybrate_product_ip, hybrate_from_paasv3, hybrate_visiable_labels | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/sync_market/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| FieldNotFound | Exception | 无 | 无 | 无 | 不适用 |
| UndefinedMethod | Exception | 无 | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/sync_market/handlers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| re | search | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| post_save | django.db.models.signals.post_save | 不适用 | module |
| receiver | django.dispatch.receiver | 不适用 | module |
| IntegrityError | paasng.platform.applications.exceptions.IntegrityError | 不适用 | module |
| Session | sqlalchemy.orm.Session | 不适用 | module |
| AppState | paasng.accessories.publish.market.constant.AppState | value, RELEASED, OFFLINE | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | get_or_create_by_app, objects | module |
| Product | paasng.accessories.publish.market.models.Product | get, objects, DoesNotExist | module |
| product_create_or_update_by_operator | paasng.accessories.publish.market.signals.product_create_or_update_by_operator | 不适用 | module |
| RemoteAppManager | paasng.accessories.publish.sync_market.engine.RemoteAppManager | 不适用 | module |
| AppDeveloperManger | paasng.accessories.publish.sync_market.managers.AppDeveloperManger | 不适用 | module |
| AppManger | paasng.accessories.publish.sync_market.managers.AppManger | 不适用 | module |
| AppOpsManger | paasng.accessories.publish.sync_market.managers.AppOpsManger | 不适用 | module |
| AppReleaseRecordManger | paasng.accessories.publish.sync_market.managers.AppReleaseRecordManger | 不适用 | module |
| run_required_db_console_config | paasng.accessories.publish.sync_market.utils.run_required_db_console_config | 不适用 | module |
| console_db | paasng.core.core.storages.sqlalchemy.console_db | session_scope | module |
| get_region | paasng.core.region.models.get_region | 不适用 | module |
| OAuth2Client | paasng.infras.oauth2.models.OAuth2Client | 不适用 | module |
| AppFieldValidationError | paasng.platform.applications.exceptions.AppFieldValidationError | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| ApplicationEnvironment | paasng.platform.applications.models.ApplicationEnvironment | 不适用 | module |
| application_logo_updated | paasng.platform.applications.signals.application_logo_updated | 不适用 | module |
| application_member_updated | paasng.platform.applications.signals.application_member_updated | 不适用 | module |
| before_finishing_application_creation | paasng.platform.applications.signals.before_finishing_application_creation | 不适用 | module |
| module_environment_offline_success | paasng.platform.applications.signals.module_environment_offline_success | 不适用 | module |
| prepare_change_application_name | paasng.platform.applications.signals.prepare_change_application_name | 不适用 | module |
| prepare_use_application_code | paasng.platform.applications.signals.prepare_use_application_code | 不适用 | module |
| prepare_use_application_name | paasng.platform.applications.signals.prepare_use_application_name | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | 不适用 | module |
| post_appenv_deploy | paasng.platform.engine.signals.post_appenv_deploy | 不适用 | module |
| I18N_FIELDS_IN_CONSOLE | paasng.accessories.publish.sync_market.constant.I18N_FIELDS_IN_CONSOLE | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| on_product_deploy_success | `def on_product_deploy_success(product, environment, auto_enable_market=False, **kwargs):` | 无 | 
    app提测上线
    以后处于性能的考虑，可能只更新部分字段
     |
| on_product_create_or_updated | `@receiver(product_create_or_update_by_operator):` | receiver, run_required_db_console_config | 
    app基本属性更新
    以后处于性能的考虑，可能只更新部分字段
     |
| update_console_members | `@receiver(application_member_updated):` | receiver, run_required_db_console_config | 
    主要功能: 当应用成员发生变更时, 同步信息至桌面
     |
| sync_console_app_developers | `def sync_console_app_developers(application: Application, session: Session):` | 无 | 不适用 |
| sync_console_app_devopses | `def sync_console_app_devopses(application: Application, session: Session):` | 无 | 不适用 |
| validate_app_code_uniquely | `@receiver(prepare_use_application_code):` | receiver, run_required_db_console_config | Check if code already exists in legacy database, i... |
| validate_app_name_uniquely | `@receiver(prepare_use_application_name):` | receiver, run_required_db_console_config | Check if name already exists in legacy database, i... |
| register_app_core_data | `@receiver(before_finishing_application_creation):` | receiver, run_required_db_console_config | 
    主要功能：实现paas2.0与paas3.0中app的code和name唯一
    实现... |
| on_change_application_name | `@receiver(prepare_change_application_name):` | receiver, run_required_db_console_config | 直接修改，占用名称 |
| register_application_with_default | `def register_application_with_default(region, code, name):` | 无 | 使用默认数据注册到蓝鲸桌面DB（占用code和name字段） |
| application_oauth_handler | `@receiver(post_save, sender=OAuth2Client):` | receiver, run_required_db_console_config | 监听App权限信息初始化, 同步写secrete key到console db |
| offline_handler | `@receiver(module_environment_offline_success):` | receiver, run_required_db_console_config | 模块环境下架回调, 关于同步市场状态的逻辑 |
| market_config_update_handler | `@receiver(post_save, sender=MarketConfig):` | receiver, run_required_db_console_config | 同步V3的市场配置到蓝鲸应用市场 |
| sync_external_url_to_market | `@run_required_db_console_config:` | run_required_db_console_config | 同步访问地址至应用市场 |
| sync_release_record | `@receiver(post_appenv_deploy):` | receiver, run_required_db_console_config | Sync a release record to legacy database when a de... |
| sync_logo | `@receiver(application_logo_updated):` | receiver | Sync application's logo when updated |


---


### 模块: apiserver/paasng/paasng/accessories/publish/sync_market/managers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | today, date, timedelta | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| asdict | dataclasses.asdict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| get_language | django.utils.translation.get_language | 不适用 | module |
| Tag | paasng.accessories.publish.market.models.Tag | create, objects | module |
| TagData | paasng.accessories.publish.sync_market.models.TagData | 不适用 | module |
| TagMap | paasng.accessories.publish.sync_market.models.TagMap | get, objects, create, DoesNotExist | module |
| AppAdaptor | paasng.infras.legacydb.adaptors.AppAdaptor | 不适用 | module |
| AppDeveloperAdaptor | paasng.infras.legacydb.adaptors.AppDeveloperAdaptor | 不适用 | module |
| AppEnvVarAdaptor | paasng.infras.legacydb.adaptors.AppEnvVarAdaptor | 不适用 | module |
| AppOpsAdaptor | paasng.infras.legacydb.adaptors.AppOpsAdaptor | 不适用 | module |
| AppReleaseRecordAdaptor | paasng.infras.legacydb.adaptors.AppReleaseRecordAdaptor | 不适用 | module |
| AppSecureInfoAdaptor | paasng.infras.legacydb.adaptors.AppSecureInfoAdaptor | 不适用 | module |
| AppTagAdaptor | paasng.infras.legacydb.adaptors.AppTagAdaptor | 不适用 | module |
| AppUseRecordAdaptor | paasng.infras.legacydb.adaptors.AppUseRecordAdaptor | 不适用 | module |
| EngineAppAdaptor | paasng.infras.legacydb.adaptors.EngineAppAdaptor | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppTagManger | paasng.infras.legacydb.adaptors.AppTagAdaptor | create_tagmap, sync_tags_from_console, get_tag_by_name, create_tag | 无 | 无 | 不适用 |
| AppDeveloperManger | paasng.infras.legacydb.adaptors.AppDeveloperAdaptor | 无 | 无 | 无 | 应用开发者 |
| AppOpsManger | paasng.infras.legacydb.adaptors.AppOpsAdaptor | 无 | 无 | 无 | 应用运营者 |
| AppManger | paasng.infras.legacydb.adaptors.AppAdaptor | get, verify_name_is_unique, delete_by_code, delete_by_name | 无 | 无 | 应用 |
| AppUseRecordManger | paasng.infras.legacydb.adaptors.AppUseRecordAdaptor | get_app_records | 无 | 无 | 应用访问记录 |
| AppReleaseRecordManger | paasng.infras.legacydb.adaptors.AppReleaseRecordAdaptor | 无 | 无 | 无 | 应用部署记录
    应用正式环境部署成功后将操作记录同步到 console , 这样桌面才能显示：... |
| AppEnvVarManger | paasng.infras.legacydb.adaptors.AppEnvVarAdaptor | 无 | 无 | 无 | 应用自定义环境变量 |
| AppSecureInfoManger | paasng.infras.legacydb.adaptors.AppSecureInfoAdaptor | 无 | 无 | 无 | 应用安全信息,如 DB 信息等 |
| EngineAppManger | paasng.infras.legacydb.adaptors.EngineAppAdaptor | 无 | 无 | 无 | App engine 中保存的应用信息 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/sync_market/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, IntegerField, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/sync_market/migrations/0002_auto_20210303_1123.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |
| console_db | paasng.core.core.storages.sqlalchemy.console_db | session_scope | module |
| DummyDB | paasng.core.core.storages.utils.DummyDB | 不适用 | module |
| AppTagManger | paasng.accessories.publish.sync_market.managers.AppTagManger | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| forwards_func | `def forwards_func(apps, schema_editor):` | 无 | 不适用 |
| reverse_func | `def reverse_func(apps, schema_editor):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/sync_market/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/publish/sync_market/models.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| models | paasng.accessories.publish.market.models | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TagData | 无 | 无 | 无 | dataclass | 不适用 |
| TagMap | django_models.Model | 无 | tag, remote_id | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/sync_market/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, IntegerField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PVGroupByAppSLZ | rest_framework.serializers.Serializer | 无 | limit, days_before | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/publish/sync_market/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/bkapps/applications/statistics/pv/top5', views.StatisticsPVAPIView.as_view(), name='api.global.statistics.pv.top5')]` | module |



---


### 模块: apiserver/paasng/paasng/accessories/publish/sync_market/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| partial | functools.partial | 不适用 | module |
| wraps | functools.wraps | 不适用 | module |
| settings | django.conf.settings | 不适用 | module |
| AppManger | paasng.accessories.publish.sync_market.managers.AppManger | 不适用 | module |
| console_db | paasng.core.core.storages.sqlalchemy.console_db | session_scope | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| run_required_db_console_config | `def run_required_db_console_config(func):` | 无 | 不适用 |
| set_migrated_state | `@run_required_db_console_config:` | run_required_db_console_config | this is a tool function for legacy migration |


---


### 模块: apiserver/paasng/paasng/accessories/publish/sync_market/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| APIView | rest_framework.views.APIView | 不适用 | module |
| AppUseRecordManger | paasng.accessories.publish.sync_market.managers.AppUseRecordManger | 不适用 | module |
| console_db | paasng.core.core.storages.sqlalchemy.console_db | get_scoped_session | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | MANAGE_APP_MARKET | module |
| Application | paasng.platform.applications.models.Application | filter_by_user, objects, get | module |
| on_product_deploy_success | apiserver.paasng.paasng.accessories.publish.sync_market.handlers.on_product_deploy_success | 不适用 | module |
| PVGroupByAppSLZ | apiserver.paasng.paasng.accessories.publish.sync_market.serializers.PVGroupByAppSLZ | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| StatisticsPVAPIView | rest_framework.views.APIView | get | 无 | 无 | 
    应用访问量
    get: 获取应用访问量
    - [测试地址](/api/bkap... |
| TestONProductDeployAPIView | rest_framework.views.APIView | get | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, CharField, IntegerField, ModelSerializer | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| TranslatedCharField | paasng.utils.i18n.serializers.TranslatedCharField | 不适用 | module |
| get_default_tagset | apiserver.paasng.paasng.accessories.smart_advisor.get_default_tagset | 不适用 | module |
| DocumentaryLink | apiserver.paasng.paasng.accessories.smart_advisor.models.DocumentaryLink | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ListAdvisedDocLinksSLZ | rest_framework.serializers.Serializer | validate_plat_panel | plat_panel, limit | 无 | Serializer for list doc links |
| DocumentaryLinkSLZ | rest_framework.serializers.ModelSerializer | to_representation | title, short_description | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/servicehub/apps.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |
| ImproperlyConfigured | django.core.exceptions.ImproperlyConfigured | 不适用 | module |
| initialize_remote_services | apiserver.paasng.paasng.accessories.servicehub.remote.collector.initialize_remote_services | 不适用 | module |
| get_remote_store | apiserver.paasng.paasng.accessories.servicehub.remote.store.get_remote_store | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ServiceHubConfig | django.apps.AppConfig | ready | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/constants.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| uuid | UUID | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| LEGACY_PLAN_ID | 不适用 | `LEGACY_PLAN_ID = uuid.UUID('{00000000-0000-0000-0000-000000000000}')` | module |
| LEGACY_PLAN_INSTANCE | {'uuid': '', 'name': 'legacy-plan', 'description': '迁移服务', 'is_active': True, 'is_eager': True, 'region': '--', 'specifications': {}, 'properties': {}} | `LEGACY_PLAN_INSTANCE = dict(uuid=str(LEGACY_PLAN_ID), name='legacy-plan', description='迁移服务', is_active=True, is_eager=True, region='--', specifications=dict(), properties=dict())` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Category | blue_krill.data_types.enum.IntStructuredEnum | 无 | DATA_STORAGE, MONITORING_HEALTHY | 无 | Paas service categories |
| ServiceType | blue_krill.data_types.enum.StrStructuredEnum | 无 | LOCAL, REMOTE | 无 | 不适用 |
| ServiceBindingType | blue_krill.data_types.enum.IntStructuredEnum | 无 | NORMAL, SHARING | 无 | Type of service binding relationship |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseServicesException | Exception | 无 | 无 | 无 | Base exception class for services module |
| ServiceObjNotFound | BaseServicesException | 无 | 无 | 无 | raised when service object is not found |
| ProvisionInstanceError | BaseServicesException | 无 | 无 | 无 | raised when unable to provision a new service inst... |
| SvcInstanceNotAvailableError | BaseServicesException | 无 | 无 | 无 | service instance is not available |
| SvcInstanceDeleteError | BaseServicesException | 无 | 无 | 无 | Error during deleting instance |
| SvcInstanceNotFound | BaseServicesException | 无 | 无 | 无 | service instance not found |
| SvcAttachmentDoesNotExist | BaseServicesException | 无 | 无 | 无 | remote or local service attachment does not exist |
| CanNotModifyPlan | BaseServicesException | 无 | 无 | 无 | remote or local service attachment already provide... |
| ReferencedAttachmentNotFound | BaseServicesException | 无 | 无 | 无 | raised when trying to reference a nonexistent serv... |
| SharedAttachmentAlreadyExists | BaseServicesException | 无 | 无 | 无 | raised when trying to create an already existed sh... |
| DuplicatedServiceBoundError | BaseServicesException | 无 | 无 | 无 | 
    when user try to create a sharing relation fo... |
| BindServiceNoPlansError | Exception | 无 | 无 | 无 | When binding a service, appropriate plans cannot b... |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/local/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| LocalServiceBinder | apiserver.paasng.paasng.accessories.servicehub.local.manager.LocalServiceBinder | 不适用 | module |
| LocalServiceMgr | apiserver.paasng.paasng.accessories.servicehub.local.manager.LocalServiceMgr | 不适用 | module |
| LocalServiceObj | apiserver.paasng.paasng.accessories.servicehub.local.manager.LocalServiceObj | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/accessories/servicehub/local/manager.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads, dumps | module |
| logging | getLogger | module |
| uuid | UUID | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| Iterator | typing.Iterator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| cast | typing.cast | 不适用 | module |
| UUID | uuid.UUID | 不适用 | module |
| ValidationError | django.core.exceptions.ValidationError | 不适用 | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| constants | paasng.accessories.servicehub.constants | get, SERVICE_HIDDEN_FIELDS, SERVICE_SENSITIVE_FIELDS, LEGACY_PLAN_ID | module |
| BindServiceNoPlansError | paasng.accessories.servicehub.exceptions.BindServiceNoPlansError | 不适用 | module |
| CanNotModifyPlan | paasng.accessories.servicehub.exceptions.CanNotModifyPlan | 不适用 | module |
| ProvisionInstanceError | paasng.accessories.servicehub.exceptions.ProvisionInstanceError | 不适用 | module |
| ServiceObjNotFound | paasng.accessories.servicehub.exceptions.ServiceObjNotFound | 不适用 | module |
| SvcAttachmentDoesNotExist | paasng.accessories.servicehub.exceptions.SvcAttachmentDoesNotExist | 不适用 | module |
| ServiceEngineAppAttachment | paasng.accessories.servicehub.models.ServiceEngineAppAttachment | get, objects, DoesNotExist, filter, get_or_create | module |
| ServiceModuleAttachment | paasng.accessories.servicehub.models.ServiceModuleAttachment | filter, objects, get, DoesNotExist, get_or_create | module |
| NOTSET | paasng.accessories.servicehub.services.NOTSET | 不适用 | module |
| BasePlanMgr | paasng.accessories.servicehub.services.BasePlanMgr | 不适用 | module |
| BaseServiceMgr | paasng.accessories.servicehub.services.BaseServiceMgr | 不适用 | module |
| EngineAppInstanceRel | paasng.accessories.servicehub.services.EngineAppInstanceRel | 不适用 | module |
| PlainInstanceMgr | paasng.accessories.servicehub.services.PlainInstanceMgr | 不适用 | module |
| PlanObj | paasng.accessories.servicehub.services.PlanObj | 不适用 | module |
| ServiceInstanceObj | paasng.accessories.servicehub.services.ServiceInstanceObj | 不适用 | module |
| ServiceObj | paasng.accessories.servicehub.services.ServiceObj | 不适用 | module |
| ServiceSpecificationDefinition | paasng.accessories.servicehub.services.ServiceSpecificationDefinition | 不适用 | module |
| ServiceSpecificationHelper | paasng.accessories.servicehub.services.ServiceSpecificationHelper | 不适用 | module |
| Plan | paasng.accessories.services.models.Plan | filter, objects, create | module |
| Service | paasng.accessories.services.models.Service | get, objects, DoesNotExist, filter, all, create | module |
| SERVICE_PROVISION_COUNTER | paasng.misc.metrics.SERVICE_PROVISION_COUNTER | labels | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | get, objects | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | value, STAG, PROD | module |
| EngineApp | paasng.platform.engine.models.EngineApp | 不适用 | module |
| Module | paasng.platform.modules.models.Module | filter, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LocalPlanObj | paasng.accessories.servicehub.services.PlanObj | from_db | 无 | dataclass | 不适用 |
| LocalServiceObj | paasng.accessories.servicehub.services.ServiceObj | from_db_object, get_plans | category_id, category | dataclass | 不适用 |
| LocalEngineAppInstanceRel | paasng.accessories.servicehub.services.EngineAppInstanceRel | __init__, get_service, is_provisioned, provision, recycle_resource, get_instance, get_plan | 无 | 无 | A relationship between EngineApp and Provisioned i... |
| LocalServiceMgr | paasng.accessories.servicehub.services.BaseServiceMgr | get, find_by_name, list_by_category, list_by_region, list, _handle_service_data, create, update, destroy, bind_service, bind_service_partial, list_binded, list_all_rels, get_module_rel, list_unprovisioned_rels, list_provisioned_rels, get_attachment_by_instance_id, get_instance_rel_by_instance_id, get_provisioned_queryset, get_provisioned_queryset_by_services, transform_rel_db_obj, module_is_bound_with, get_provisioned_envs, get_attachment_by_engine_app | service_obj_cls | 无 | Local in-database services manager |
| LocalPlanMgr | paasng.accessories.servicehub.services.BasePlanMgr | __init__, list_plans, create_plan, update_plan, delete_plan, _get_service_in_db, _handle_plan_data | service_obj_cls | 无 | Local in-database plans manager |
| LocalPlainInstanceMgr | paasng.accessories.servicehub.services.PlainInstanceMgr | __init__, is_provisioned, create, destroy | 无 | 无 | 纯粹的本地增强服务实例的管理器, 不涉及增强服务资源申请的流程 |
| LocalServiceBinder | 无 | __init__, bind, bind_without_plan, _get_plan_by_env, _bind_for_env | 无 | 无 | Service binder for local services |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/local/test_manager.py







---


### 模块: apiserver/paasng/paasng/accessories/servicehub/management/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/servicehub/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/servicehub/management/commands/add_monitor_perm_for_otel.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | find_by_name, get_provisioned_queryset | module |
| get_or_create_bk_monitor_space | paasng.infras.bkmonitorv3.shim.get_or_create_bk_monitor_space | 不适用 | module |
| add_monitoring_space_permission | paasng.infras.iam.tasks.add_monitoring_space_permission | 不适用 | module |
| Application | paasng.platform.applications.models.Application | all, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/management/commands/batch_unbind_svc.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| csv | reader | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| ServiceObjNotFound | paasng.accessories.servicehub.exceptions.ServiceObjNotFound | 不适用 | module |
| SvcAttachmentDoesNotExist | paasng.accessories.servicehub.manager.SvcAttachmentDoesNotExist | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | get_module_rel, list_all_rels, find_by_name, get_provisioned_envs | module |
| Application | paasng.platform.applications.models.Application | get, objects, DoesNotExist | module |
| ProtectedRes | paasng.platform.applications.protections.ProtectedRes | SERVICES_MODIFICATIONS | module |
| raise_if_protected | paasng.platform.applications.protections.raise_if_protected | 不适用 | module |
| ModuleCleaner | paasng.platform.modules.manager.ModuleCleaner | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseAppInfo | 无 | 无 | 无 | dataclass | 不适用 |
| Command | django.core.management.base.BaseCommand | add_arguments, handle_input_data, unbind_service_by_module, unbind_service_by_env, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/management/commands/clean_deleting_instances.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| clean_instances | paasng.accessories.servicehub.tasks.clean_instances | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/management/commands/sync_instance_config.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| ServiceObjNotFound | paasng.accessories.servicehub.exceptions.ServiceObjNotFound | 不适用 | module |
| RemoteServiceEngineAppAttachment | paasng.accessories.servicehub.models.RemoteServiceEngineAppAttachment | filter, objects | module |
| RemoteServiceMgr | paasng.accessories.servicehub.remote.RemoteServiceMgr | 不适用 | module |
| RemoteEngineAppInstanceRel | paasng.accessories.servicehub.remote.manager.RemoteEngineAppInstanceRel | 不适用 | module |
| RemoteServiceObj | paasng.accessories.servicehub.remote.manager.RemoteServiceObj | 不适用 | module |
| get_remote_store | paasng.accessories.servicehub.remote.store.get_remote_store | 不适用 | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger('commands')` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, _get_service, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/management/commands/update_legacy_rabbitmq.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads, dumps | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| CommandParser | django.core.management.base.CommandParser | 不适用 | module |
| models | paasng.accessories.servicehub.models | all, objects, Service, filter, ServiceInstance | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/manager.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| operator | attrgetter | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Callable | typing.Callable | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| Iterator | typing.Iterator | 不适用 | module |
| List | typing.List | 不适用 | module |
| NamedTuple | typing.NamedTuple | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| TypeVar | typing.TypeVar | 不适用 | module |
| cast | typing.cast | 不适用 | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| Http404 | django.http.Http404 | 不适用 | module |
| ServiceBindingType | paasng.accessories.servicehub.constants.ServiceBindingType | NORMAL, SHARING | module |
| ServiceType | paasng.accessories.servicehub.constants.ServiceType | REMOTE, LOCAL | module |
| DuplicatedServiceBoundError | paasng.accessories.servicehub.exceptions.DuplicatedServiceBoundError | 不适用 | module |
| ServiceObjNotFound | paasng.accessories.servicehub.exceptions.ServiceObjNotFound | 不适用 | module |
| SvcAttachmentDoesNotExist | paasng.accessories.servicehub.exceptions.SvcAttachmentDoesNotExist | 不适用 | module |
| LocalPlanMgr | paasng.accessories.servicehub.local.manager.LocalPlanMgr | 不适用 | module |
| LocalServiceMgr | paasng.accessories.servicehub.local.manager.LocalServiceMgr | 不适用 | module |
| LocalServiceObj | paasng.accessories.servicehub.local.manager.LocalServiceObj | 不适用 | module |
| LocalServiceDBProperties | paasng.accessories.servicehub.models.LocalServiceDBProperties | 不适用 | module |
| RemoteServiceDBProperties | paasng.accessories.servicehub.models.RemoteServiceDBProperties | 不适用 | module |
| ServiceDBProperties | paasng.accessories.servicehub.models.ServiceDBProperties | 不适用 | module |
| RemotePlanMgr | paasng.accessories.servicehub.remote.manager.RemotePlanMgr | 不适用 | module |
| RemoteServiceMgr | paasng.accessories.servicehub.remote.manager.RemoteServiceMgr | 不适用 | module |
| RemoteServiceObj | paasng.accessories.servicehub.remote.manager.RemoteServiceObj | 不适用 | module |
| get_remote_store | paasng.accessories.servicehub.remote.store.get_remote_store | 不适用 | module |
| EngineAppInstanceRel | paasng.accessories.servicehub.services.EngineAppInstanceRel | 不适用 | module |
| PlanObj | paasng.accessories.servicehub.services.PlanObj | 不适用 | module |
| ServiceObj | paasng.accessories.servicehub.services.ServiceObj | 不适用 | module |
| ServiceCategory | paasng.accessories.services.models.ServiceCategory | filter, objects | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| set_service_categories_loader | paasng.core.region.models.set_service_categories_loader | 不适用 | module |
| EngineApp | paasng.platform.engine.models.EngineApp | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| ServiceSharingManager | apiserver.paasng.paasng.accessories.servicehub.sharing.ServiceSharingManager | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| T | 不适用 | `T = TypeVar('T', bound='MixedServiceMgr')` | module |
| mixed_service_mgr | 不适用 | `mixed_service_mgr = MixedServiceMgr()` | module |
| mixed_plan_mgr | 不适用 | `mixed_plan_mgr = MixedPlanMgr()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_db_properties | `def get_db_properties(service: ServiceObj) -> ServiceDBProperties:` | 无 | Get database properties object by service |
| get_db_properties_by_service_type | `def get_db_properties_by_service_type(service_type: str) -> ServiceDBProperties:` | 无 | Get database properties object by service type |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SharedServiceInfo | typing.NamedTuple | 无 | 无 | 无 | Shared service information object

    :param serv... |
| MixedServiceMgr | 无 | __init__, get, find_by_name, get_without_region, get_or_404, get_module_rel, bind_service, get_provisioned_queryset_by_services, get_env_vars, get_enabled_env_keys, get_attachment_by_engine_app | get_attachment_by_instance_id, get_instance_rel_by_instance_id, get_provisioned_queryset, get_provisioned_envs, module_is_bound_with, update, destroy, list_by_category, list_all_rels, list_unprovisioned_rels, list_provisioned_rels, list | 无 | A hub for managing services of mixed sources: data... |
| MixedPlanMgr | 无 | __init__ | list, create, update, delete | 无 | A hub for managing plans of mixed sources: databas... |
| DuplicatedBindingValidator | 无 | __init__, validate, _check_duplicated_normal, _check_duplicated_sharing | 无 | 无 | Validate duplicated service bindings

    :param m... |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| paasng.utils.models | BkUserField, models, utils | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, ForeignKey, UUIDField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/migrations/0002_auto_20201209_1647.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel, AlterUniqueTogether, RemoveField, DeleteModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, UUIDField, IntegerField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/migrations/0003_auto_20240411_1143.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/migrations/0004_auto_20240412_1723.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RemoveField, AddField | module |
| models | django.db.models | BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/servicehub/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Collection | typing.Collection | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| models | django.db.models | ForeignKey, CASCADE, BooleanField, UUIDField, Model, Manager, CharField, IntegerField | module |
| ServiceType | paasng.accessories.servicehub.constants.ServiceType | LOCAL, REMOTE | module |
| ServiceObj | paasng.accessories.servicehub.services.ServiceObj | 不适用 | module |
| Plan | paasng.accessories.services.models.Plan | 不适用 | module |
| Service | paasng.accessories.services.models.Service | 不适用 | module |
| ServiceInstance | paasng.accessories.services.models.ServiceInstance | create, objects | module |
| ApplicationEnvironment | paasng.platform.applications.models.ApplicationEnvironment | get, objects | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| OwnerTimestampedModel | paasng.utils.models.OwnerTimestampedModel | 不适用 | module |
| TimestampedModel | paasng.utils.models.TimestampedModel | 不适用 | module |
| get_db_properties | paasng.accessories.servicehub.manager.get_db_properties | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ServiceModuleAttachment | paasng.utils.models.OwnerTimestampedModel | __str__ | module, service | 无 | Module <-> Local Service relationship |
| ServiceEngineAppAttachment | paasng.utils.models.OwnerTimestampedModel | create_service_instance, bind_service_instance, unbind_service_instance, delete, clean_service_instance, __str__ | engine_app, service, plan, service_instance, credentials_enabled | 无 | 
    engine app bind to service instance and plan
... |
| RemoteServiceModuleAttachment | paasng.utils.models.OwnerTimestampedModel | __str__ | module, service_id | 无 | Binding relationship of module <-> remote service |
| RemoteServiceEngineAppAttachment | paasng.utils.models.OwnerTimestampedModel | 无 | engine_app, service_id, plan_id, service_instance_id, credentials_enabled | 无 | Binding relationship of engine app <-> remote serv... |
| ServiceDBProperties | 无 | 无 | 无 | 无 | Storing service related database properties |
| LocalServiceDBProperties | ServiceDBProperties | 无 | col_service_type, model_module_rel | 无 | 不适用 |
| RemoteServiceDBProperties | ServiceDBProperties | 无 | col_service_type, model_module_rel | 无 | 不适用 |
| SharedServiceAttachmentManager | django.db.models.Manager | list_by_ref_module | 无 | 无 | Custom manager for SharedServiceAttachment model |
| SharedServiceAttachment | paasng.utils.models.TimestampedModel | 无 | module, service_type, service_id, ref_attachment_pk, objects | 无 | Share a service binding relationship from other mo... |
| ServiceSetGroupByName | 无 | from_service, add_enabled_region | 无 | dataclass | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/remote/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| RemoteServiceMgr | apiserver.paasng.paasng.accessories.servicehub.remote.manager.RemoteServiceMgr | 不适用 | module |
| RemoteServiceObj | apiserver.paasng.paasng.accessories.servicehub.remote.manager.RemoteServiceObj | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/accessories/servicehub/remote/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | JSONDecodeError, decoder | module |
| logging | getLogger | module |
| requests | Response, get, put, post, delete | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| MISSING | dataclasses.MISSING | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| urljoin | urllib.parse.urljoin | 不适用 | module |
| ClientJWTAuth | blue_krill.auth.jwt.ClientJWTAuth | 不适用 | module |
| JWTAuthConf | blue_krill.auth.jwt.JWTAuthConf | 不适用 | module |
| desensitize_url | blue_krill.text.desensitize_url | 不适用 | module |
| RequestException | requests.exceptions.RequestException | 不适用 | module |
| RClientResponseError | apiserver.paasng.paasng.accessories.servicehub.remote.exceptions.RClientResponseError | 不适用 | module |
| RemoteClientError | apiserver.paasng.paasng.accessories.servicehub.remote.exceptions.RemoteClientError | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| wrap_request_exc | `@contextmanager:` | contextmanager | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RemoteSvcConfig | 无 | from_json, to_json, get_jwt_auth_conf, __post_init__, __str__ | 无 | dataclass | 不适用 |
| RemoteServiceClient | 无 | __init__, validate_resp, get_meta_info, list_services, create_service, update_service, create_plan, update_plan, provision_instance, retrieve_instance, retrieve_instance_by_name, delete_instance, update_instance_config, create_client_side_instance, destroy_client_side_instance | REQUEST_LIST_TIMEOUT, REQUEST_DELETE_TIMEOUT, REQUEST_CREATE_TIMEOUT | 无 | Client for remote services |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/remote/collector.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| namedtuple | collections.namedtuple | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | SERVICE_REMOTE_ENDPOINTS | module |
| ImproperlyConfigured | django.core.exceptions.ImproperlyConfigured | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, CharField, JSONField, DictField, BooleanField, IntegerField, ListField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| RemoteServiceClient | paasng.accessories.servicehub.remote.client.RemoteServiceClient | 不适用 | module |
| RemoteSvcConfig | paasng.accessories.servicehub.remote.client.RemoteSvcConfig | from_json | module |
| FetchRemoteSvcError | paasng.accessories.servicehub.remote.exceptions.FetchRemoteSvcError | 不适用 | module |
| RemoteClientError | paasng.accessories.servicehub.remote.exceptions.RemoteClientError | 不适用 | module |
| RemoteServiceStore | paasng.accessories.servicehub.remote.store.RemoteServiceStore | 不适用 | module |
| I18NExtend | paasng.utils.i18n.serializers.I18NExtend | 不适用 | module |
| TranslatedCharField | paasng.utils.i18n.serializers.TranslatedCharField | 不适用 | module |
| i18n | paasng.utils.i18n.serializers.i18n | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| FetchResult | 不适用 | `FetchResult = namedtuple('FetchResult', 'config data meta_info')` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| fetch_remote_service | `def fetch_remote_service(config: RemoteSvcConfig) -> FetchResult:` | 无 | 不适用 |
| refresh_remote_service | `def refresh_remote_service(remote_store: RemoteServiceStore, service_id: str):` | 无 | Refresh the service |
| fetch_all_remote_services | `def fetch_all_remote_services() -> Generator[FetchResult, None, None]:` | 无 | Fetch all service data defined in config |
| initialize_remote_services | `def initialize_remote_services(remote_store: RemoteServiceStore):` | 无 | Initialize remote services by settings |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RemoteSvcFetcher | 无 | __init__, get_meta_info, fetch, validate_data | 无 | 无 | Fetches remote services |
| MetaInfoSLZ | rest_framework.serializers.Serializer | 无 | version | 无 | 不适用 |
| RemoteSpecDefinitionSLZ | rest_framework.serializers.Serializer | 无 | name, display_name, description, recommended_value | 无 | 不适用 |
| RemotePlanSLZ | rest_framework.serializers.Serializer | 无 | uuid, name, properties, description, specifications, is_active, config | 无 | 不适用 |
| RemoteServiceSLZ | rest_framework.serializers.Serializer | 无 | uuid, category, name, display_name, logo, description, long_description, instance_tutorial, available_languages, config, is_active, is_visible, specifications, plans | 无 | 不适用 |
| RemoteSpecDefinitionUpdateSLZ | RemoteSpecDefinitionSLZ | 无 | display_name | i18n | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/remote/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseRemoteException | Exception | 无 | 无 | 无 | Base exception class for remote module |
| UnsupportedOperationError | BaseRemoteException | 无 | 无 | 无 | Exception be raised when the operation is unsuppor... |
| FetchRemoteSvcError | BaseRemoteException | 无 | 无 | 无 | 不适用 |
| RemoteClientError | Exception | 无 | 无 | 无 | Base exception class for remote.client module |
| RClientResponseError | RemoteClientError | __init__ | 无 | 无 | Exception when response is not valid, provides an ... |
| BaseRemoteStoreException | Exception | 无 | 无 | 无 | Base exception class for remote store |
| ServiceNotFound | BaseRemoteStoreException | 无 | 无 | 无 | 不适用 |
| ServiceConfigNotFound | BaseRemoteStoreException | 无 | 无 | 无 | 不适用 |
| GetClusterEgressInfoError | Exception | 无 | 无 | 无 | Can not get app cluster egress info |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/remote/manager.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| logging | getLogger | module |
| uuid | uuid4, UUID | module |
| arrow | get | module |
| datetime | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| Iterator | typing.Iterator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| cast | typing.cast | 不适用 | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| get_cluster_egress_info | paas_wl.workloads.networking.egress.shim.get_cluster_egress_info | 不适用 | module |
| constants | paasng.accessories.servicehub.constants | LEGACY_PLAN_ID, LEGACY_PLAN_INSTANCE | module |
| exceptions | paasng.accessories.servicehub.exceptions | ProvisionInstanceError, SvcInstanceDeleteError, SvcInstanceNotAvailableError, BaseServicesException, ServiceObjNotFound, SvcAttachmentDoesNotExist, CanNotModifyPlan, SvcInstanceNotFound | module |
| BindServiceNoPlansError | paasng.accessories.servicehub.exceptions.BindServiceNoPlansError | 不适用 | module |
| RemoteServiceEngineAppAttachment | paasng.accessories.servicehub.models.RemoteServiceEngineAppAttachment | get, objects, DoesNotExist, filter, get_or_create | module |
| RemoteServiceModuleAttachment | paasng.accessories.servicehub.models.RemoteServiceModuleAttachment | filter, objects, get, DoesNotExist, get_or_create | module |
| RemoteServiceClient | paasng.accessories.servicehub.remote.client.RemoteServiceClient | 不适用 | module |
| RemoteSpecDefinitionUpdateSLZ | paasng.accessories.servicehub.remote.collector.RemoteSpecDefinitionUpdateSLZ | 不适用 | module |
| refresh_remote_service | paasng.accessories.servicehub.remote.collector.refresh_remote_service | 不适用 | module |
| GetClusterEgressInfoError | paasng.accessories.servicehub.remote.exceptions.GetClusterEgressInfoError | 不适用 | module |
| ServiceNotFound | paasng.accessories.servicehub.remote.exceptions.ServiceNotFound | 不适用 | module |
| UnsupportedOperationError | paasng.accessories.servicehub.remote.exceptions.UnsupportedOperationError | 不适用 | module |
| RemoteServiceStore | paasng.accessories.servicehub.remote.store.RemoteServiceStore | 不适用 | module |
| NOTSET | paasng.accessories.servicehub.services.NOTSET | 不适用 | module |
| BasePlanMgr | paasng.accessories.servicehub.services.BasePlanMgr | 不适用 | module |
| BaseServiceMgr | paasng.accessories.servicehub.services.BaseServiceMgr | 不适用 | module |
| EngineAppInstanceRel | paasng.accessories.servicehub.services.EngineAppInstanceRel | 不适用 | module |
| ModuleSpecificationsHelper | paasng.accessories.servicehub.services.ModuleSpecificationsHelper | 不适用 | module |
| PlainInstanceMgr | paasng.accessories.servicehub.services.PlainInstanceMgr | 不适用 | module |
| PlanObj | paasng.accessories.servicehub.services.PlanObj | 不适用 | module |
| ServiceInstanceObj | paasng.accessories.servicehub.services.ServiceInstanceObj | 不适用 | module |
| ServiceObj | paasng.accessories.servicehub.services.ServiceObj | 不适用 | module |
| ServicePlansHelper | paasng.accessories.servicehub.services.ServicePlansHelper | from_service | module |
| ServiceSpecificationDefinition | paasng.accessories.servicehub.services.ServiceSpecificationDefinition | 不适用 | module |
| ServiceSpecificationHelper | paasng.accessories.servicehub.services.ServiceSpecificationHelper | 不适用 | module |
| ServiceCategory | paasng.accessories.services.models.ServiceCategory | get, objects | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| get_or_create_bk_monitor_space | paasng.infras.bkmonitorv3.shim.get_or_create_bk_monitor_space | 不适用 | module |
| SERVICE_PROVISION_COUNTER | paasng.misc.metrics.SERVICE_PROVISION_COUNTER | labels | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ApplicationEnvironment | paasng.platform.applications.models.ApplicationEnvironment | get, objects | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | get, objects | module |
| EngineApp | paasng.platform.engine.models.EngineApp | 不适用 | module |
| Module | paasng.platform.modules.models.Module | filter, objects | module |
| safe_jinja2 | paasng.utils.safe_jinja2 | StrFormatCompatTemplate | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| DEFAULT_META_INFO | 不适用 | `DEFAULT_META_INFO = MetaInfo(version=None)` | module |
| VERSION_WITH_INST_CONFIG | 0.1.0 | `VERSION_WITH_INST_CONFIG = '0.1.0'` | module |
| VERSION_WITH_REST_UPSERT | 0.2.0 | `VERSION_WITH_REST_UPSERT = '0.2.0'` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_svc_instance_obj_from_remote | `def create_svc_instance_obj_from_remote(uuid: str, credentials: Dict, config: Dict, field_prefix: str, create_time: 'datetime.datetime') -> ServiceInstanceObj:` | 无 | Create a Service Instance object for remote servic... |
| get_app_by_instance_name | `def get_app_by_instance_name(mgr: RemoteServiceInstanceMgr, instance_name: str) -> Optional[Application]:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MetaInfo | 无 | semantic_version_gte | 无 | dataclass | Remote service's meta info, including `version` an... |
| RemotePlanObj | paasng.accessories.servicehub.services.PlanObj | from_data | 无 | dataclass | 不适用 |
| RemoteServiceObj | paasng.accessories.servicehub.services.ServiceObj | from_data, category, get_plans, supports_inst_config, supports_rest_upsert | _data, category_id | dataclass | 不适用 |
| EnvClusterInfo | 无 | get_egress_info, egress_info_json | 无 | dataclass | 不适用 |
| RemoteEngineAppInstanceRel | paasng.accessories.servicehub.services.EngineAppInstanceRel | __init__, get_service, is_provisioned, provision, sync_instance_config, recycle_resource, get_instance, render_params, get_plan | 无 | 无 | A relationship between EngineApp and Provisioned i... |
| RemotePlainInstanceMgr | paasng.accessories.servicehub.services.PlainInstanceMgr | __init__, get_service, get_remote_client, sync_instance_config, is_provisioned, create, destroy | 无 | 无 | 纯粹的远程增强服务实例的管理器, 仅调用远程接口创建增强服务实例, 不涉及增强服务资源申请的流程 |
| RemoteServiceMgr | paasng.accessories.servicehub.services.BaseServiceMgr | __init__, get, find_by_name, list_by_category, list_by_region, list, _handle_service_data, update, destroy, list_binded, bind_service, bind_service_partial, list_all_rels, get_module_rel, list_unprovisioned_rels, list_provisioned_rels, get_attachment_by_instance_id, get_instance_rel_by_instance_id, get_provisioned_queryset, get_provisioned_queryset_by_services, transform_rel_db_obj, module_is_bound_with, get_provisioned_envs, get_mysql_services, get_attachment_by_engine_app | service_obj_cls | 无 | Remote REST services manager |
| RemotePlanMgr | paasng.accessories.servicehub.services.BasePlanMgr | __init__, list_plans, create_plan, update_plan, delete_plan, _get_remote_client | service_obj_cls | 无 | Remote REST plans manager |
| RemoteServiceBinder | 无 | __init__, bind, bind_without_plan, _get_plan_by_env, _bind_for_env | 无 | 无 | Service binder for remote services |
| RemoteServiceInstanceMgr | 无 | __init__, get_instance_by_name, _get_remote_client | 无 | 无 | Remote REST service instance manager |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/remote/store.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| copy | deepcopy | module |
| json | loads, JSONDecodeError, decoder | module |
| logging | getLogger | module |
| pickle | dumps, loads | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| OrderedDict | collections.OrderedDict | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Set | typing.Set | 不适用 | module |
| settings | django.conf.settings | REMOTE_SERVICES_UPDATE_INTERVAL_MINUTES | module |
| force_bytes | django.utils.encoding.force_bytes | 不适用 | module |
| force_str | django.utils.encoding.force_str | 不适用 | module |
| get_default_redis | paasng.core.core.storages.redisdb.get_default_redis | 不适用 | module |
| RemoteSvcConfig | apiserver.paasng.paasng.accessories.servicehub.remote.client.RemoteSvcConfig | from_json | module |
| ServiceConfigNotFound | apiserver.paasng.paasng.accessories.servicehub.remote.exceptions.ServiceConfigNotFound | 不适用 | module |
| ServiceNotFound | apiserver.paasng.paasng.accessories.servicehub.remote.exceptions.ServiceNotFound | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| RemoteServiceStore | 不适用 | `RemoteServiceStore = RedisStore` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_remote_store | `def get_remote_store():` | 无 | Get the single instanced remote services database ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| StoreMixin | 无 | filter, bulk_get, _svc_supports_region | 无 | 无 | 不适用 |
| MemoryStore | StoreMixin | __init__, bulk_upsert, get_source_config, get, all, empty | 无 | 无 | Remote service store |
| RedisStore | StoreMixin | __init__, _make_svc_info_key, _make_svc_config_key, get_service_keys, bulk_upsert, get_source_config, get, all, empty | cache_key, namespace, encoding, registered_services_key, expires | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | ModelSerializer, Serializer, CharField, ListField, SerializerMethodField, BooleanField, IntegerField, DateTimeField, DictField, JSONField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| ServiceConfigNotFound | paasng.accessories.servicehub.remote.exceptions.ServiceConfigNotFound | 不适用 | module |
| get_remote_store | paasng.accessories.servicehub.remote.store.get_remote_store | 不适用 | module |
| ServiceCategory | paasng.accessories.services.models.ServiceCategory | 不适用 | module |
| MinimalModuleSLZ | paasng.platform.modules.serializers.MinimalModuleSLZ | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CategorySLZ | rest_framework.serializers.ModelSerializer | 无 | 无 | 无 | 不适用 |
| SpecDefinitionSLZ | rest_framework.serializers.Serializer | 无 | name, display_name, description, recommended_value | 无 | 不适用 |
| ServiceMinimalSLZ | rest_framework.serializers.Serializer | 无 | uuid, name, logo, display_name, description, category, specifications | 无 | 不适用 |
| ServiceCategoryByRegionSLZ | rest_framework.serializers.Serializer | 无 | category, services | 无 | 不适用 |
| ServiceSLZ | rest_framework.serializers.Serializer | get_is_ready | uuid, region, name, available_languages, display_name, logo, description, long_description, category, specifications, instance_tutorial, is_ready | 无 | 不适用 |
| ServiceWithSpecsSLZ | rest_framework.serializers.Serializer | 无 | uuid, name, display_name, description, category, specs | 无 | 不适用 |
| SingleServiceSpecificationSLZ | rest_framework.serializers.Serializer | 无 | name, display_name, description, recommended_value | 无 | 不适用 |
| ServicePlanSpecificationSLZ | SingleServiceSpecificationSLZ | 无 | value | 无 | 不适用 |
| ServiceSpecificationSLZ | rest_framework.serializers.Serializer | 无 | definitions, recommended_values, values | 无 | 不适用 |
| ApplicationWithLogoSLZ | rest_framework.serializers.Serializer | 无 | id, name, code, language, type, logo_url | 无 | 不适用 |
| EnvServiceAttachmentSLZ | rest_framework.serializers.Serializer | 无 | service, is_provisioned | 无 | 部署环境增强服务附件配置状态 |
| EnvServiceInfoSLZ | rest_framework.serializers.Serializer | 无 | name, display_name, is_provisioned, service_id, category_id | 无 | 单个环境增强服务详情 |
| ModuleServiceInfoSLZ | rest_framework.serializers.Serializer | 无 | prod, stag | 无 | 单个模块增强服务详情 |
| ServiceAttachmentSLZ | rest_framework.serializers.Serializer | 无 | id, application, module_name, service | 无 | 模块增强服务附件-序列化器 |
| ServiceAttachmentDetailedSLZ | ServiceAttachmentSLZ | 无 | created, region | 无 | 不适用 |
| ServiceAttachmentQuerySLZ | rest_framework.serializers.Serializer | validate | valid_order_by_fields, order_by | 无 | 不适用 |
| CreateAttachmentSLZ | rest_framework.serializers.Serializer | 无 | service_id, module_name, code, specs | 无 | 不适用 |
| ServiceInstanceSLZ | rest_framework.serializers.Serializer | to_representation | config, credentials | 无 | 增强服务实例-序列化器 |
| ServiceInstanceInfoSLZ | rest_framework.serializers.Serializer | 无 | service_instance, environment, environment_name, usage, service_specs | 无 | 不适用 |
| ServiceSetGroupByNameSLZ | rest_framework.serializers.Serializer | 无 | name, logo, display_name, description, long_description, available_languages, instance_tutorial, enabled_regions, services, instances | 无 | 不适用 |
| CreateSharedAttachmentsSLZ | rest_framework.serializers.Serializer | 无 | ref_module_name | 无 | Serializer for creating shared service attachment |
| ProvisionInfoSLZ | rest_framework.serializers.Serializer | 无 | stag, prod | 无 | 不适用 |
| BoundServiceInfoSLZ | rest_framework.serializers.Serializer | 无 | service, provision_infos, specifications, ref_modules | 无 | Serializer for representing bound service info |
| SharedServiceInfoSLZ | rest_framework.serializers.Serializer | 无 | module, ref_module, service | 无 | Serializer for representing shared service info |
| SharedServiceInfoWithAllocationSLZ | SharedServiceInfoSLZ | 无 | provision_infos, specifications | 无 | 携带分配 & 配置信息的共享服务信息 |
| ServiceEngineAppAttachmentSLZ | rest_framework.serializers.Serializer | 无 | environment, credentials_enabled | 无 | 不适用 |
| UpdateServiceEngineAppAttachmentSLZ | rest_framework.serializers.Serializer | 无 | credentials_enabled | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/services.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| uuid | UUID | module |
| weakref | ref | module |
| datetime | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ABCMeta | abc.ABCMeta | 不适用 | module |
| abstractmethod | abc.abstractmethod | 不适用 | module |
| OrderedDict | collections.OrderedDict | 不适用 | module |
| asdict | dataclasses.asdict | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| Iterator | typing.Iterator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Mapping | typing.Mapping | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| settings | django.conf.settings | SERVICE_PROTECTED_SPEC_NAMES, get, APP_ZONE_CLUSTER_MAPPINGS | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| get_application_cluster | paas_wl.infras.cluster.shim.get_application_cluster | 不适用 | module |
| EngineApp | paasng.platform.engine.models.EngineApp | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| NOTSET | 不适用 | `NOTSET = object()` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ServiceSpecificationDefinition | 无 | __post_init__, as_dict | 无 | dataclass | Service spec definition |
| ServiceObj | 无 | public_specifications, protected_specifications, get_plans | category_id, category | dataclass | A universal service object |
| PlanObj | 无 | with_service, service | 无 | dataclass | A universal plan object |
| ServiceInstanceObj | 无 | __init__, get_credentials, credentials, credentials_insensitive, config, get_hidden_credentials | 无 | 无 | A universal Service Instance object |
| EngineAppInstanceRel | 无 | get_service, is_provisioned, provision, get_instance, get_plan, delete, recycle_resource | 无 | 无 | A relationship between EngineApp and Provinsioned ... |
| PlainInstanceMgr | 无 | is_provisioned, create, destroy | 无 | 无 | 纯粹的增强服务实例的管理器, 不涉及增强服务资源申请的流程 |
| BaseServiceMgr | 无 | list_by_category, list_binded, module_is_bound_with, bind_service, list_unprovisioned_rels, list_provisioned_rels, get_provisioned_queryset, get_provisioned_queryset_by_services, get_attachment_by_instance_id, get_module_rel, get, find_by_name, get_attachment_by_engine_app | service_obj_cls | 无 | Base class for service manager |
| BasePlanMgr | 无 | list_plans, create_plan, update_plan, delete_plan | 无 | 无 | Base class for plan manager |
| ServicePlansHelper | 无 | from_service, get_by_region | 无 | dataclass | Hepler work for plans |
| ServiceSpecificationHelper | 无 | __post_init__, from_service, from_service_public_specifications, from_service_protected_specifications, filter_plans, get_recommended_spec, list_plans_spec_value, get_grouped_spec_values, _sanitize_specs, parse_spec_values_tree, format_given_specs | 无 | dataclass | Helper work for service specifications |
| ModuleSpecificationsHelper | 无 | __post_init__, fill_spec_app_zone, fill_protected_specs | 无 | dataclass | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/sharing.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Sequence | typing.Sequence | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| DuplicatedBindingValidator | paasng.accessories.servicehub.manager.DuplicatedBindingValidator | 不适用 | module |
| SharedServiceInfo | paasng.accessories.servicehub.manager.SharedServiceInfo | 不适用 | module |
| get_db_properties | paasng.accessories.servicehub.manager.get_db_properties | 不适用 | module |
| get_db_properties_by_service_type | paasng.accessories.servicehub.manager.get_db_properties_by_service_type | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | get_provisioned_queryset, get_env_vars, get | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| ServiceBindingType | apiserver.paasng.paasng.accessories.servicehub.constants.ServiceBindingType | SHARING | module |
| ReferencedAttachmentNotFound | apiserver.paasng.paasng.accessories.servicehub.exceptions.ReferencedAttachmentNotFound | 不适用 | module |
| SharedAttachmentAlreadyExists | apiserver.paasng.paasng.accessories.servicehub.exceptions.SharedAttachmentAlreadyExists | 不适用 | module |
| SharedServiceAttachment | apiserver.paasng.paasng.accessories.servicehub.models.SharedServiceAttachment | filter, objects, create, get, list_by_ref_module | module |
| ServiceObj | apiserver.paasng.paasng.accessories.servicehub.services.ServiceObj | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| extract_shared_info | `def extract_shared_info(attachment: SharedServiceAttachment) -> Optional[SharedServiceInfo]:` | 无 | Extract shared service infomation by attachment ob... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ServiceSharingManager | 无 | __init__, list_shareable, create, list_all_shared_info, list_shared_info, get_shared_info, destroy, get_env_variables, get_enabled_env_keys | 无 | 无 | Manage shared service attachments by module

    :... |
| SharingReferencesManager | 无 | __init__, list_related_modules, clear_related | 无 | 无 | Manage sharing references |

---


### 模块: apiserver/paasng/paasng/accessories/servicehub/tasks.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ServiceInstance | apiserver.paasng.paasng.accessories.servicehub.models.ServiceInstance | filter, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| clean_instances | `def clean_instances():` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/accessories/servicehub/tls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Iterable | typing.Iterable | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | list_binded, list_provisioned_rels | module |
| EngineAppInstanceRel | paasng.accessories.servicehub.services.EngineAppInstanceRel | 不适用 | module |
| ServiceSharingManager | paasng.accessories.servicehub.sharing.ServiceSharingManager | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| is_tls_enabled | `def is_tls_enabled(rel: EngineAppInstanceRel) -> bool:` | 无 | 判断指定的增强服务实例是否启用了 TLS |
| list_provisioned_tls_enabled_rels | `def list_provisioned_tls_enabled_rels(env: ModuleEnvironment) -> Iterable[EngineAppInstanceRel]:` | 无 | 获取指定环境的已经分配 & 启用 TLS 证书的增强服务实例引用 |


---


### 模块: apiserver/paasng/paasng/accessories/servicehub/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |
| urlpatterns | apiserver.paasng.paasng.accessories.servicehub.urls_ext.urlpatterns | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| REGION | (?P<region>[a-z0-9_-]{1,32}) | `REGION = '(?P<region>[a-z0-9_-]{1,32})'` | module |
| SERVICE_UUID | (?P<service_id>[0-9a-f-]{32,36}) | `SERVICE_UUID = '(?P<service_id>[0-9a-f-]{32,36})'` | module |
| APP_UUID | (?P<application_id>[0-9a-f-]{32,36}) | `APP_UUID = '(?P<application_id>[0-9a-f-]{32,36})'` | module |
| CATEGORY_ID | (?P<category_id>[\d]+) | `CATEGORY_ID = '(?P<category_id>[\\d]+)'` | module |
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/services/%s/$' % SERVICE_UUID, views.ServiceViewSet.as_view({'get': 'retrieve'}), name='api.services.get_service_detail'), re_path('^api/services/regions/%s/$' % REGION, views.ServiceViewSet.as_view({'get': 'list_by_region'}), name='api.services.list_service_by_region'), re_path('^api/services/regions/%s/init_templates/(?P<template>[\\w-]+)$' % REGION, views.ServiceViewSet.as_view({'get': 'list_by_template'}), name='api.services.list_service_by_template'), re_path('^api/services/%s/application-attachments/$' % SERVICE_UUID, views.ServiceViewSet.as_view({'get': 'list_related_apps'}), name='api.services.list_application'), re_path('^api/services/%s/regions/%s/specs$' % (SERVICE_UUID, REGION), views.ServicePlanViewSet.as_view({'get': 'retrieve_specifications'}), name='api.services.get_specifications'), re_path(f'^api/services/categories/{CATEGORY_ID}/$', views.ServiceSetViewSet.as_view({'get': 'list_by_category'}), name='api.services.list_service_by_category'), re_path('^api/services/name/(?P<service_name>[\\w-]+)/application-attachments/$', views.ServiceSetViewSet.as_view({'get': 'list_by_name'}), name='api.services.list_service_with_application'), re_path(make_app_pattern(f'/services/categories/{CATEGORY_ID}/$', include_envs=False), views.ServiceViewSet.as_view({'get': 'list_by_category'}), name='api.services.list_by_application'), re_path(make_app_pattern('/services/$', include_envs=False), views.ServiceViewSet.as_view({'get': 'list_by_module'}), name='api.services.list_by_module'), re_path(make_app_pattern('/services/attachments/'), views.ModuleServiceAttachmentsViewSet.as_view({'get': 'list'}), name='api.modules.services.attachments'), re_path(make_app_pattern('/services/info/', include_envs=False), views.ModuleServiceAttachmentsViewSet.as_view({'get': 'retrieve_info'}), name='api.modules.services.info'), re_path(make_app_pattern('/services/config_var_keys/$', include_envs=False), views.ModuleServicesViewSet.as_view({'get': 'list_provisioned_env_keys'}), name='api.services.list_provisioned_env_keys'), re_path(make_app_pattern(f'/services/{SERVICE_UUID}/specs$', include_envs=False), views.ModuleServicesViewSet.as_view({'get': 'retrieve_specs'}), name='api.services.list_specs_by_application'), re_path(make_app_pattern(f'/services/{SERVICE_UUID}/$', include_envs=False), views.ModuleServicesViewSet.as_view({'get': 'retrieve', 'delete': 'unbind'}), name='api.services.list_by_application'), re_path('^api/services/service-attachments/$', views.ModuleServicesViewSet.as_view({'post': 'bind'}), name='api.services.service_application_attachments.bind'), re_path(make_app_pattern(f'/services/{SERVICE_UUID}/credentials_enabled/$', include_envs=False), views.ServiceEngineAppAttachmentViewSet.as_view({'get': 'list', 'put': 'update'}), name='api.services.credentials_enabled'), re_path(make_app_pattern(f'/services/{SERVICE_UUID}/shareable_modules/$', include_envs=False), views.ServiceSharingViewSet.as_view({'get': 'list_shareable'}), name='api.services.list_shareable_modules'), re_path(make_app_pattern(f'/services/{SERVICE_UUID}/shared_attachment$', include_envs=False), views.ServiceSharingViewSet.as_view({'get': 'retrieve', 'post': 'create_shared', 'delete': 'destroy'}), name='api.services.shared_attachment'), re_path(make_app_pattern(f'/services/{SERVICE_UUID}/sharing_references/related_modules/$', include_envs=False), views.SharingReferencesViewSet.as_view({'get': 'list_related_modules'}), name='api.services.sharing_references.list_related_modules'), re_path('^sys/api/services/mysql/(?P<db_name>[^/]+)/related_applications_info/$', views.RelatedApplicationsInfoViewSet.as_view({'get': 'retrieve_related_applications_info'}), name='api.services.mysql.retrieve_related_applications_info')]` | module |



---


### 模块: apiserver/paasng/paasng/accessories/servicehub/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| Http404 | django.http.Http404 | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_200_OK, HTTP_201_CREATED, HTTP_204_NO_CONTENT | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| LimitOffsetPagination | rest_framework.pagination.LimitOffsetPagination | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| serializers | paasng.accessories.servicehub.serializers | 不适用 | module |
| BindServiceNoPlansError | paasng.accessories.servicehub.exceptions.BindServiceNoPlansError | 不适用 | module |
| ReferencedAttachmentNotFound | paasng.accessories.servicehub.exceptions.ReferencedAttachmentNotFound | 不适用 | module |
| ServiceObjNotFound | paasng.accessories.servicehub.exceptions.ServiceObjNotFound | 不适用 | module |
| SharedAttachmentAlreadyExists | paasng.accessories.servicehub.exceptions.SharedAttachmentAlreadyExists | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | list_provisioned_rels, list_unprovisioned_rels, get_or_404, bind_service, module_is_bound_with, list_all_rels, get_module_rel, get_enabled_env_keys, get_without_region, find_by_name, list_by_category, get_provisioned_queryset, list_binded, list_by_region, get_provisioned_queryset_by_services, get_attachment_by_engine_app | module |
| ServiceSetGroupByName | paasng.accessories.servicehub.models.ServiceSetGroupByName | from_service | module |
| RemoteServiceInstanceMgr | paasng.accessories.servicehub.remote.manager.RemoteServiceInstanceMgr | 不适用 | module |
| RemoteServiceMgr | paasng.accessories.servicehub.remote.manager.RemoteServiceMgr | 不适用 | module |
| get_app_by_instance_name | paasng.accessories.servicehub.remote.manager.get_app_by_instance_name | 不适用 | module |
| get_remote_store | paasng.accessories.servicehub.remote.store.get_remote_store | 不适用 | module |
| ServiceObj | paasng.accessories.servicehub.services.ServiceObj | 不适用 | module |
| ServicePlansHelper | paasng.accessories.servicehub.services.ServicePlansHelper | from_service | module |
| ServiceSpecificationHelper | paasng.accessories.servicehub.services.ServiceSpecificationHelper | from_service_public_specifications | module |
| ServiceSharingManager | paasng.accessories.servicehub.sharing.ServiceSharingManager | 不适用 | module |
| SharingReferencesManager | paasng.accessories.servicehub.sharing.SharingReferencesManager | 不适用 | module |
| ServiceCategory | paasng.accessories.services.models.ServiceCategory | order_by, objects | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| app_action_required | paasng.infras.accounts.permissions.application.app_action_required | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | SYSAPI_READ_APPLICATIONS | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP, MANAGE_ADDONS_SERVICES | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | ENABLE, DISABLE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | ADD_ON | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| SERVICE_BIND_COUNTER | paasng.misc.metrics.SERVICE_BIND_COUNTER | labels | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| Application | paasng.platform.applications.models.Application | filter_by_user, objects | module |
| UserApplicationFilter | paasng.platform.applications.models.UserApplicationFilter | 不适用 | module |
| ProtectedRes | paasng.platform.applications.protections.ProtectedRes | SERVICES_MODIFICATIONS | module |
| raise_if_protected | paasng.platform.applications.protections.raise_if_protected | 不适用 | module |
| res_must_not_be_protected_perm | paasng.platform.applications.protections.res_must_not_be_protected_perm | 不适用 | module |
| ApplicationMembersInfoSLZ | paasng.platform.applications.serializers.ApplicationMembersInfoSLZ | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | get_choice_label | module |
| ServicesInfo | paasng.platform.engine.phases_steps.display_blocks.ServicesInfo | get_detail | module |
| ModuleCleaner | paasng.platform.modules.manager.ModuleCleaner | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| MinimalModuleSLZ | paasng.platform.modules.serializers.MinimalModuleSLZ | 不适用 | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | NORMAL | module |
| Template | paasng.platform.templates.models.Template | get, objects | module |
| openapi_empty_response | paasng.utils.api_docs.openapi_empty_response | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | f, CANNOT_BIND_SERVICE, CANNOT_DESTROY_SERVICE, CREATE_SHARED_ATTACHMENT_ERROR | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ModuleServiceAttachmentsViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list, retrieve_info | permission_classes | 无 | 蓝鲸应用(模块)增强服务附件相关视图 |
| ModuleServicesViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get_service, _get_application_by_code, bind, retrieve, retrieve_specs, unbind, list_provisioned_env_keys | 无 | 无 | 与蓝鲸应用模块相关的增强服务接口 |
| ServiceViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | paginator, retrieve, list_by_template, list_by_region, list_related_apps, list_by_category, list_by_module, _gen_service_obj_allocations | serializer_class, permission_classes | 无 | 增强服务相关视图(与应用无关的) |
| ServiceSetViewSet | rest_framework.viewsets.ViewSet | paginator, list_by_category, list_by_name | permission_classes | 无 | 增强服务集合-查询接口 |
| ServicePlanViewSet | rest_framework.viewsets.ViewSet | retrieve_specifications | permission_classes | 无 | 不适用 |
| ServiceSharingViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get_service, list_shareable, create_shared, retrieve, destroy | permission_classes | 无 | 与共享增强服务有关的接口 |
| SharingReferencesViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get_service, list_related_modules | permission_classes | 无 | 查看被共享引用的增强服务情况 |
| RelatedApplicationsInfoViewSet | rest_framework.viewsets.ViewSet | retrieve_related_applications_info | permission_classes | 无 | 不适用 |
| ServiceEngineAppAttachmentViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list, update | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/services/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PlugableAppConfig | paasng.utils.addons.PlugableAppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ServicesAppConfig | paasng.utils.addons.PlugableAppConfig | 无 | name, default | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ResourceNotEnoughError | Exception | 无 | 无 | 无 | 资源不足异常 |

---


### 模块: apiserver/paasng/paasng/accessories/services/management/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/services/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/services/management/commands/encryption_migration_services.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ReEncryptCommand | paasng.utils.encrypt_cmd.ReEncryptCommand | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | paasng.utils.encrypt_cmd.ReEncryptCommand | 无 | help, app_label | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/management/commands/import_pre_created_instance.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| argparse | FileType | module |
| yaml | safe_load_all | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| Service | paasng.accessories.services.models.Service | all, objects, get_by_natural_key | module |
| PreCreatedInstanceImportSLZ | paasng.accessories.services.serializers.PreCreatedInstanceImportSLZ | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | 无 | 无 | 导入资源池实例 |

---


### 模块: apiserver/paasng/paasng/accessories/services/management/commands/query_related_applications.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| PreCreatedInstance | paasng.accessories.services.models.PreCreatedInstance | filter, objects | module |
| Service | paasng.accessories.services.models.Service | all, objects, get_by_natural_key | module |
| ServiceInstance | paasng.accessories.services.models.ServiceInstance | filter, objects | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_related_env | `def get_related_env(item: PreCreatedInstance) -> Optional[ModuleEnvironment]:` | 无 | 不适用 |
| fuzzy_compare | `def fuzzy_compare(credentials_left: Dict, credentials_right: Dict) -> bool:` | 无 | Return True if all items in credentials_left is eq... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | 无 | 无 | 查询资源池实例的绑定关系 |

---


### 模块: apiserver/paasng/paasng/accessories/services/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| blue_krill.models.fields | EncryptField, fields, models | module |
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| jsonfield.fields | JSONField, fields | module |
| paasng.utils.models | ImageField, models, utils | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel, AddField, AlterUniqueTogether | module |
| models | django.db.models | UUIDField, DateTimeField, CharField, BooleanField, TextField, AutoField, IntegerField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/migrations/0002_precreatedinstance.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| blue_krill.models.fields | EncryptField, fields, models | module |
| django.db.models.deletion | SET_NULL, deletion, models, db | module |
| jsonfield.fields | JSONField, fields | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | UUIDField, DateTimeField, BooleanField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/migrations/0003_service_logo_b64.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | TextField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/migrations/0004_auto_20220426_1634.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| jsonfield.fields | JSONField, fields | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RenameField, AddField, AlterField | module |
| models | django.db.models | CharField, TextField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/migrations/0005_auto_20220509_1530.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RenameField, AddField, RunPython, AlterField | module |
| models | django.db.models | CharField | module |
| copy_field | paasng.utils.i18n.migrate.copy_field | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/migrations/0006_alter_servicecategory_name_en.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/services/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps, loads | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| NamedTuple | typing.NamedTuple | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Set | typing.Set | 不适用 | module |
| EncryptField | blue_krill.models.fields.EncryptField | 不适用 | module |
| models | django.db.models | Model, CharField, IntegerField, Manager, TextField, ForeignKey, CASCADE, BooleanField, SET_NULL | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| TranslatedField | translated_fields.TranslatedField | 不适用 | module |
| TranslatedFieldWithFallback | translated_fields.TranslatedFieldWithFallback | 不适用 | module |
| service_logo_storage | paasng.core.core.storages.object_storage.service_logo_storage | 不适用 | module |
| ImageField | paasng.utils.models.ImageField | 不适用 | module |
| UuidAuditedModel | paasng.utils.models.UuidAuditedModel | 不适用 | module |
| BaseProvider | paasng.accessories.services.providers.base.BaseProvider | 不适用 | module |
| get_provider_cls_by_provider_name | paasng.accessories.services.providers.get_provider_cls_by_provider_name | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ServiceCategory | django.db.models.Model | __str__ | name, sort_priority | 无 | 
    Service Category
     |
| ServiceManager | django.db.models.Manager | get_by_natural_key | 无 | 无 | 不适用 |
| Service | paasng.utils.models.UuidAuditedModel | natural_key, __str__, _get_service_vendor_instance, format_credentials, create_service_instance_by_plan, delete_service_instance, patch_service_instance_by_plan, prefer_async_delete, provider_name | region, name, display_name, logo, logo_b64, category, description, long_description, instance_tutorial, available_languages, config, is_active, is_visible, objects | 无 | 
    Service model for PaaS
     |
| ServiceInstance | paasng.utils.models.UuidAuditedModel | __str__ | service, plan, config, credentials, to_be_deleted | 无 | 
    specific info of service
     |
| PreCreatedInstance | paasng.utils.models.UuidAuditedModel | acquire, release, __str__ | plan, config, credentials, is_allocated | 无 | 预创建的服务实例 |
| Plan | paasng.utils.models.UuidAuditedModel | is_eager, __str__, get_config | service, name, description, config, is_active | 无 | 
    Plan model
    contain provider and resource ... |
| ResourceId | django.db.models.Model | __str__ | namespace, uid | 无 | 不适用 |
| InstanceData | typing.NamedTuple | 无 | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/providers/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| BaseProvider | apiserver.paasng.paasng.accessories.services.providers.base.BaseProvider | 不适用 | module |
| ResourcePoolProvider | apiserver.paasng.paasng.accessories.services.providers.base.ResourcePoolProvider | 不适用 | module |
| MySQLProvider | apiserver.paasng.paasng.accessories.services.providers.mysql.provider.MySQLProvider | 不适用 | module |
| RabbitMQProvider | apiserver.paasng.paasng.accessories.services.providers.rabbitmq.provider.RabbitMQProvider | 不适用 | module |
| SentryProvider | apiserver.paasng.paasng.accessories.services.providers.sentry.provider.SentryProvider | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_provider_cls_by_provider_name | `def get_provider_cls_by_provider_name(name: str) -> Type[BaseProvider]:` | 无 | 不适用 |
| get_provider_choices | `def get_provider_choices() -> Dict[str, str]:` | 无 | 不适用 |
| get_plan_schema_by_provider_name | `def get_plan_schema_by_provider_name(name: str) -> Dict:` | 无 | 不适用 |
| get_instance_schema_by_service_name | `def get_instance_schema_by_service_name(name: str) -> Dict:` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/accessories/services/providers/base.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads, dumps | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ABCMeta | abc.ABCMeta | 不适用 | module |
| abstractmethod | abc.abstractmethod | 不适用 | module |
| ClassVar | typing.ClassVar | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Set | typing.Set | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| ResourceNotEnoughError | paasng.accessories.services.exceptions.ResourceNotEnoughError | 不适用 | module |
| InstanceData | paasng.accessories.services.models.InstanceData | 不适用 | module |
| PreCreatedInstance | paasng.accessories.services.models.PreCreatedInstance | select_for_update, objects, get, create | module |
| gen_addons_cert_mount_path | paasng.accessories.services.utils.gen_addons_cert_mount_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseProvider | 无 | __init__, create, delete, patch, stats | 无 | 无 | 不适用 |
| ResourcePoolProvider | BaseProvider | __init__, create, delete, patch, stats | display_name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/providers/mysql/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/services/providers/mysql/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| GRANT_SQL_FMT | grant all privileges on `{db_name}`.* to `{db_user}`@`{auth_ip}` identified by "{db_password}"; | `GRANT_SQL_FMT = 'grant all privileges on `{db_name}`.* to `{db_user}`@`{auth_ip}` identified by "{db_password}";'` | module |
| REVOKE_SQL_FMT | revoke all privileges on `{db_name}`.* from `{db_user}`@{auth_ip}; | `REVOKE_SQL_FMT = 'revoke all privileges on `{db_name}`.* from `{db_user}`@{auth_ip};'` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MySQLAuthTypeEnum | blue_krill.data_types.enum.IntStructuredEnum | 无 | GRANT, REVOKE | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/providers/mysql/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CreateDatabaseFailed | Exception | 无 | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/providers/mysql/provider.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| pymysql | connect | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseProvider | paasng.accessories.services.providers.base.BaseProvider | 不适用 | module |
| InstanceData | paasng.accessories.services.providers.base.InstanceData | 不适用 | module |
| gen_addons_cert_mount_path | paasng.accessories.services.utils.gen_addons_cert_mount_path | 不适用 | module |
| gen_unique_id | paasng.accessories.services.utils.gen_unique_id | 不适用 | module |
| generate_password | paasng.accessories.services.utils.generate_password | 不适用 | module |
| GRANT_SQL_FMT | apiserver.paasng.paasng.accessories.services.providers.mysql.constants.GRANT_SQL_FMT | 不适用 | module |
| REVOKE_SQL_FMT | apiserver.paasng.paasng.accessories.services.providers.mysql.constants.REVOKE_SQL_FMT | 不适用 | module |
| MySQLAuthTypeEnum | apiserver.paasng.paasng.accessories.services.providers.mysql.constants.MySQLAuthTypeEnum | GRANT, REVOKE | module |
| CreateDatabaseFailed | apiserver.paasng.paasng.accessories.services.providers.mysql.exceptions.CreateDatabaseFailed | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MySQLProvider | paasng.accessories.services.providers.base.BaseProvider | __init__, _get_connection, _get_app_connection, _change_auth_ips, _grant_auth_ips, _revoke_auth_ips, create, delete, patch, stats | display_name | 无 | 
    desc: 普通数据库授权 / CDB 数据库授权
    example: qcloud... |

---


### 模块: apiserver/paasng/paasng/accessories/services/providers/rabbitmq/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/services/providers/rabbitmq/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CreateRabbitMQFail | Exception | 无 | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/providers/rabbitmq/provider.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| requests | get, put, delete | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| BaseProvider | paasng.accessories.services.providers.base.BaseProvider | 不适用 | module |
| InstanceData | paasng.accessories.services.providers.base.InstanceData | 不适用 | module |
| gen_addons_cert_mount_path | paasng.accessories.services.utils.gen_addons_cert_mount_path | 不适用 | module |
| gen_unique_id | paasng.accessories.services.utils.gen_unique_id | 不适用 | module |
| generate_password | paasng.accessories.services.utils.generate_password | 不适用 | module |
| CreateRabbitMQFail | apiserver.paasng.paasng.accessories.services.providers.rabbitmq.exceptions.CreateRabbitMQFail | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RabbitMQProvider | paasng.accessories.services.providers.base.BaseProvider | __init__, test_connection, put_request, del_request, get_request, create, delete, patch, stats | display_name | 无 | 申请 RabbitMQ 资源 |

---


### 模块: apiserver/paasng/paasng/accessories/services/providers/schemas.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BaseModel | pydantic.main.BaseModel | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseConfigSchema | pydantic.main.BaseModel | 无 | 无 | 无 | 不适用 |
| RabbitMQConfigSchema | BaseConfigSchema | 无 | 无 | 无 | 不适用 |
| MySQLConfigSchema | BaseConfigSchema | 无 | 无 | 无 | 不适用 |
| GCSMySQLServerValue | pydantic.main.BaseModel | 无 | 无 | 无 | 不适用 |
| GCSMySQLServer | pydantic.main.BaseModel | 无 | 无 | 无 | 不适用 |
| GCSMySQLConfigSchema | BaseConfigSchema | 无 | 无 | 无 | 不适用 |
| APMConfigSchema | BaseConfigSchema | 无 | 无 | 无 | 不适用 |
| SentryConfigSchema | BaseConfigSchema | 无 | 无 | 无 | 不适用 |
| ResourcePoolConfigSchema | BaseConfigSchema | 无 | 无 | 无 | 不适用 |
| APMInstanceSchema | pydantic.main.BaseModel | 无 | 无 | 无 | 不适用 |
| MySQLInstanceSchema | pydantic.main.BaseModel | 无 | 无 | 无 | 不适用 |
| RedisInstanceSchema | pydantic.main.BaseModel | 无 | 无 | 无 | 不适用 |
| SentryInstanceSchema | pydantic.main.BaseModel | 无 | 无 | 无 | 不适用 |
| RabbitMQInstanceSchema | pydantic.main.BaseModel | 无 | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/providers/sentry/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/services/providers/sentry/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| requests | get, head, post, delete, put, RequestException, exceptions | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| RequestSentryAPIFail | apiserver.paasng.paasng.accessories.services.providers.sentry.exceptions.RequestSentryAPIFail | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SentryClient | 无 | __init__, _request, create_team, create_project, _get_client_key, if_client_key_exists, create_project_client_key, create_member, _http_team_member, add_team_member, delete_team_member, get_team_members | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/providers/sentry/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RequestSentryAPIFail | Exception | 无 | 无 | 无 | 不适用 |
| CreateSentryTeamFail | Exception | 无 | 无 | 无 | 不适用 |
| FetchSentryTeamMembersFail | Exception | 无 | 无 | 无 | 不适用 |
| CreateSentryProjectFail | Exception | 无 | 无 | 无 | 不适用 |
| CreateSentryClientKeyFail | Exception | 无 | 无 | 无 | 不适用 |
| CreateSentryUserFail | Exception | 无 | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/providers/sentry/provider.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext | django.utils.translation.gettext | 不适用 | module |
| BaseProvider | paasng.accessories.services.providers.base.BaseProvider | 不适用 | module |
| InstanceData | paasng.accessories.services.providers.base.InstanceData | 不适用 | module |
| gen_unique_id | paasng.accessories.services.utils.gen_unique_id | 不适用 | module |
| SentryClient | apiserver.paasng.paasng.accessories.services.providers.sentry.client.SentryClient | 不适用 | module |
| CreateSentryClientKeyFail | apiserver.paasng.paasng.accessories.services.providers.sentry.exceptions.CreateSentryClientKeyFail | 不适用 | module |
| CreateSentryProjectFail | apiserver.paasng.paasng.accessories.services.providers.sentry.exceptions.CreateSentryProjectFail | 不适用 | module |
| CreateSentryTeamFail | apiserver.paasng.paasng.accessories.services.providers.sentry.exceptions.CreateSentryTeamFail | 不适用 | module |
| CreateSentryUserFail | apiserver.paasng.paasng.accessories.services.providers.sentry.exceptions.CreateSentryUserFail | 不适用 | module |
| FetchSentryTeamMembersFail | apiserver.paasng.paasng.accessories.services.providers.sentry.exceptions.FetchSentryTeamMembersFail | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SentryProvider | paasng.accessories.services.providers.base.BaseProvider | __init__, _gen_dsn, _gen_url, _gen_team_slug, _get_developers, create, patch, delete, stats | display_name | 无 | Sentry 资源处理 |

---


### 模块: apiserver/paasng/paasng/accessories/services/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | SlugRelatedField, ModelSerializer, JSONField | module |
| PreCreatedInstance | paasng.accessories.services.models.PreCreatedInstance | 不适用 | module |
| Service | paasng.accessories.services.models.Service | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PlanSlugField | rest_framework.serializers.SlugRelatedField | get_queryset | 无 | 无 | 不适用 |
| PreCreatedInstanceImportSLZ | rest_framework.serializers.ModelSerializer | 无 | plan, config, credentials | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/services/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| random | choice, shuffle | module |
| string | ascii_letters, digits | module |
| typing | List, Dict | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| range | builtins.range | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| settings | django.conf.settings | 不适用 | module |
| ImproperlyConfigured | django.core.exceptions.ImproperlyConfigured | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| ResourceId | apiserver.paasng.paasng.accessories.services.models.ResourceId | create, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_vendor_config | `def get_vendor_config(vendor_name: str, *, result_cls: Type):` | 无 | Get basic config for vendor from settings |
| generate_password | `def generate_password(length=10):` | 无 | 
    随机生成DB密码

    # 生成至少 大小写数字, 且包含至少一位数字的密码
     |
| format_name | `def format_name(name):` | 无 | 不适用 |
| gen_unique_id | `def gen_unique_id(name: str, namespace: str = 'default', max_length: int = 16, divide_char: str = '-'):` | 无 | Generate an unique id via given name |
| gen_addons_cert_mount_dir | `def gen_addons_cert_mount_dir(provider_name: str) -> str:` | 无 | 生成蓝鲸应用挂载增强服务 ssl 证书的目录路径 |
| gen_addons_cert_mount_path | `def gen_addons_cert_mount_path(provider_name: str, cert_name: str) -> str:` | 无 | 生成蓝鲸应用挂载增强服务 ssl 证书的路径

    :param provider_name: ... |
| gen_addons_cert_secret_name | `def gen_addons_cert_secret_name(provider_name: str) -> str:` | 无 | 生成蓝鲸应用挂载增强服务 ssl 证书的 secret 名称 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Base36Handler | 无 | encode, decode | BASE36 | 无 | 不适用 |
| WRItem | 无 | from_dict, __init__, __str__ | 无 | 无 | A single weighted-random items |
| WRItemList | 无 | from_json, __init__, initalize, get | precision | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/smart_advisor/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppFeatureTag | apiserver.paasng.paasng.accessories.smart_advisor.tags.AppFeatureTag | 不适用 | module |
| AppPLTag | apiserver.paasng.paasng.accessories.smart_advisor.tags.AppPLTag | 不适用 | module |
| AppSDKTag | apiserver.paasng.paasng.accessories.smart_advisor.tags.AppSDKTag | 不适用 | module |
| PlatPanelTag | apiserver.paasng.paasng.accessories.smart_advisor.tags.PlatPanelTag | 不适用 | module |
| force_tag | apiserver.paasng.paasng.accessories.smart_advisor.tags.force_tag | 不适用 | module |
| get_default_tagset | apiserver.paasng.paasng.accessories.smart_advisor.tags.get_default_tagset | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/accessories/smart_advisor/advisor.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| List | typing.List | 不适用 | module |
| DocumentaryLink | apiserver.paasng.paasng.accessories.smart_advisor.models.DocumentaryLink | all, objects | module |
| Tag | apiserver.paasng.paasng.accessories.smart_advisor.tags.Tag | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DocumentaryLinkAdvisor | 无 | search_by_tags | 无 | 无 | The documentary link advisor |

---


### 模块: apiserver/paasng/paasng/accessories/smart_advisor/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SmartAdvisorConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/smart_advisor/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployFailurePatternType | blue_krill.data_types.enum.IntStructuredEnum | 无 | REGULAR_EXPRESSION | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/smart_advisor/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | now, timezone, utils, CASCADE, deletion, models, db | module |
| jsonfield.fields | JSONField, fields | module |
| paasng.accessories.smart_advisor.constants | DeployFailurePatternType, constants, smart_advisor, accessories | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, IntegerField, CharField, DateTimeField, URLField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/smart_advisor/migrations/0002_auto_20220518_1205.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RenameField, AddField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/smart_advisor/migrations/0003_auto_20230807_1727.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/accessories/smart_advisor/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/accessories/smart_advisor/models.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | PAAS_DOCS_URL_PREFIX | module |
| models | django.db.models | Manager, Model, ForeignKey, CASCADE, CharField, DateTimeField, IntegerField | module |
| timezone | django.utils.timezone | now | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| TranslatedFieldWithFallback | translated_fields.TranslatedFieldWithFallback | 不适用 | module |
| DeployFailurePatternType | apiserver.paasng.paasng.accessories.smart_advisor.constants.DeployFailurePatternType | REGULAR_EXPRESSION | module |
| get_default_tagset | apiserver.paasng.paasng.accessories.smart_advisor.tags.get_default_tagset | 不适用 | module |
| get_dynamic_tag | apiserver.paasng.paasng.accessories.smart_advisor.tags.get_dynamic_tag | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| get_tags | 不适用 | `get_tags = AppModuleTagRel.objects.get_tags` | module |
| tag_module | 不适用 | `tag_module = AppModuleTagRel.objects.tag_module` | module |
| cleanup_module | 不适用 | `cleanup_module = AppModuleTagRel.objects.cleanup_module` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppModuleTagManager | django.db.models.Manager | get_tags, tag_module, cleanup_module | 无 | 无 | Manager for module tag |
| AppModuleTagRel | django.db.models.Model | 无 | module, tag_str, source, created, objects | 无 | A M2M relationship table for storing the relations... |
| DocumentaryLink | django.db.models.Model | __str__, get_affinity_tags, get_affinity_tags_by_type, format_location | title, short_description, location, affinity_tags, anti_affinity_tags, priority, created | 无 | Links from document systems including blueking doc... |
| DeployFailurePattern | django.db.models.Model | 无 | type, value, tag_str, created | 无 | Stores common failure patterns for failed deployme... |

---


### 模块: apiserver/paasng/paasng/accessories/smart_advisor/tagging.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| re | search, IGNORECASE | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PathLike | os.PathLike | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| List | typing.List | 不适用 | module |
| get_all_logs | paasng.platform.engine.logs.get_all_logs | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| DeployFailurePatternType | apiserver.paasng.paasng.accessories.smart_advisor.constants.DeployFailurePatternType | REGULAR_EXPRESSION | module |
| DeployFailurePattern | apiserver.paasng.paasng.accessories.smart_advisor.models.DeployFailurePattern | filter, objects | module |
| Tag | apiserver.paasng.paasng.accessories.smart_advisor.tags.Tag | 不适用 | module |
| force_tag | apiserver.paasng.paasng.accessories.smart_advisor.tags.force_tag | 不适用 | module |
| get_dynamic_tag | apiserver.paasng.paasng.accessories.smart_advisor.tags.get_dynamic_tag | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| dig_tags_local_repo | `def dig_tags_local_repo(local_path: str | PathLike):` | 无 | Dig a local repo to find proper tags for this modu... |
| py_module_in_requirements | `def py_module_in_requirements(name, requirements):` | 无 | Check if a module was defined in python requiremen... |
| get_deployment_tags | `def get_deployment_tags(deployment: Deployment) -> List[Tag]:` | 无 | Get tags for a deployment object |


---


### 模块: apiserver/paasng/paasng/accessories/smart_advisor/tags.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| force_str | django.utils.encoding.force_str | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| PlatPanelTag | 不适用 | `PlatPanelTag = type('PlatPanelTag', (BaseFixedTypeTag, ), {'tag_type': 'plat-panel'})` | module |
| AppPLTag | 不适用 | `AppPLTag = type('AppPLTag', (BaseFixedTypeTag, ), {'tag_type': 'app-pl'})` | module |
| AppSDKTag | 不适用 | `AppSDKTag = type('AppSDKTag', (BaseFixedTypeTag, ), {'tag_type': 'app-sdk'})` | module |
| AppFeatureTag | 不适用 | `AppFeatureTag = type('AppFeatureTag', (BaseFixedTypeTag, ), {'tag_type': 'app-feature'})` | module |
| DeploymentFailureTag | 不适用 | `DeploymentFailureTag = type('DeploymentFailureTag', (BaseFixedTypeTag, ), {'tag_type': 'deploy-failure'})` | module |
| DeployPhaseTag | 不适用 | `DeployPhaseTag = type('DeployPhaseTag', (BaseFixedTypeTag, ), {'tag_type': 'deploy_phase'})` | module |
| SaasMonitorTag | 不适用 | `SaasMonitorTag = type('SaasMonitorTag', (BaseFixedTypeTag, ), {'tag_type': 'saas_monitor'})` | module |
| TAG_TYPES_MAP | 不适用 | `TAG_TYPES_MAP = {t.tag_type: t for t in TAG_TYPES}` | module |
| force_tag | 不适用 | `force_tag = _default_tag_set.get` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_default_tagset | `def get_default_tagset():` | 无 | 不适用 |
| get_dynamic_tag | `def get_dynamic_tag(tag_str: str) -> Tag:` | 无 | Get dynamic tag object by given tag string

    :p... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Tag | 无 | __init__, __str__, __repr__, __hash__, __eq__, __ne__ | 无 | 无 | Tag for recommendation

    :param str tag_type: t... |
| BaseFixedTypeTag | Tag | __init__ | 无 | 无 | 不适用 |
| TagSet | 无 | __init__, get, get_tags, add, add_tags, validate_tags | 无 | 无 | All tags set |

---


### 模块: apiserver/paasng/paasng/accessories/smart_advisor/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | BKPAAS_URL, PLATFORM_FAQ_URL, SUPPORT_LIVE_AGENT, LIVE_AGENT_CONFIG | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| DocumentaryLinkSLZ | paasng.accessories.serializers.DocumentaryLinkSLZ | 不适用 | module |
| DocumentaryLinkAdvisor | paasng.accessories.smart_advisor.advisor.DocumentaryLinkAdvisor | 不适用 | module |
| get_deployment_tags | paasng.accessories.smart_advisor.tagging.get_deployment_tags | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| basic_str_format | paasng.utils.text.basic_str_format | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_default_failure_hint | `def get_default_failure_hint() -> DeploymentFailureHint:` | 无 | Make a default failure hint object |
| get_failure_hint | `def get_failure_hint(deployment: Deployment) -> 'DeploymentFailureHint':` | 无 | Get failure hint for deployment |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeploymentFailureHint | 无 | render_links | 无 | dataclass | A tip object to help user recover from deployment ... |

---


### 模块: apiserver/paasng/paasng/accessories/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path(make_app_pattern('/accessories/advised_documentary_links/$', include_envs=False), views.AdvisedDocumentaryLinksViewSet.as_view({'get': 'list'}), name='api.advisor.advised_links')]` | module |



---


### 模块: apiserver/paasng/paasng/accessories/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| viewsets | rest_framework.viewsets | ViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | VIEW_BASIC_INFO | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| DocumentaryLinkSLZ | apiserver.paasng.paasng.accessories.serializers.DocumentaryLinkSLZ | 不适用 | module |
| ListAdvisedDocLinksSLZ | apiserver.paasng.paasng.accessories.serializers.ListAdvisedDocLinksSLZ | 不适用 | module |
| force_tag | apiserver.paasng.paasng.accessories.smart_advisor.force_tag | 不适用 | module |
| get_default_tagset | apiserver.paasng.paasng.accessories.smart_advisor.get_default_tagset | 不适用 | module |
| DocumentaryLinkAdvisor | apiserver.paasng.paasng.accessories.smart_advisor.advisor.DocumentaryLinkAdvisor | 不适用 | module |
| get_tags | apiserver.paasng.paasng.accessories.smart_advisor.models.get_tags | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AdvisedDocumentaryLinksViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list | permission_classes | 无 | Viewset for documentary links |

---


### 模块: apiserver/paasng/paasng/bk_plugins/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/api_serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, CharField, DictField, DateTimeField, BooleanField, ListSerializer, ChoiceField | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | get_choices | module |
| AppIDField | paasng.platform.applications.serializers.AppIDField | 不适用 | module |
| AppNameField | paasng.platform.applications.serializers.AppNameField | 不适用 | module |
| I18NExtend | paasng.utils.i18n.serializers.I18NExtend | 不适用 | module |
| TranslatedCharField | paasng.utils.i18n.serializers.TranslatedCharField | 不适用 | module |
| i18n | paasng.utils.i18n.serializers.i18n | 不适用 | module |
| field_env_var_key | paasng.utils.serializers.field_env_var_key | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginTemplateSLZ | rest_framework.serializers.Serializer | 无 | id, name, language, applicable_language, repository | 无 | 插件模板相关字段 |
| PluginSyncRequestSLZ | rest_framework.serializers.Serializer | 无 | id, name, template, extra_fields, repository, operator | i18n | 同步插件信息至第三方系统的请求体格式 |
| PluginArchiveRequestSLZ | rest_framework.serializers.Serializer | 无 | operator | 无 | 下架插件的请求体格式 |
| PluginMarketRequestSLZ | rest_framework.serializers.Serializer | 无 | category, introduction, contact, extra_fields, operator | 无 | 同步插件市场信息至第三方系统的请求体格式 |
| MarketCategorySLZ | rest_framework.serializers.Serializer | 无 | name, value | 无 | 插件市场-插件类别 |
| PluginReleaseVersionSLZ | rest_framework.serializers.Serializer | 无 | type, version, comment, extra_fields, semver_type, source_location, source_version_type, source_version_name, source_hash | 无 | 插件发布版本的结构 |
| DeployPluginRequestSLZ | rest_framework.serializers.Serializer | 无 | plugin_id, version, operator | 无 | 插件部署操作的请求体格式 |
| DeployStepSLZ | rest_framework.serializers.Serializer | 无 | id, name, start_time, complete_time, status | 无 | 部署步骤的结构 |
| PluginDeployResponseSLZ | rest_framework.serializers.Serializer | 无 | deploy_id, status, detail, steps | 无 | 插件部署操作/检测部署状态的返回体格式 |
| PluginReleaseLogsResponseSLZ | rest_framework.serializers.Serializer | 无 | finished, logs | 无 | 插件发布日志的返回体格式 |
| PluginRoleSLZ | rest_framework.serializers.Serializer | 无 | name, id | 无 | 不适用 |
| PluginMemberSLZ | rest_framework.serializers.Serializer | 无 | username, role | 无 | 不适用 |
| PluginConfigSLZ | rest_framework.serializers.Serializer | 无 | key, value, description | 无 | 插件配置-环境变量的结构 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/apigw.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Collection | typing.Collection | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Client | bkapi.bk_apigateway.client.Client | 不适用 | module |
| BKAPIError | bkapi_client_core.exceptions.BKAPIError | 不适用 | module |
| RequestException | bkapi_client_core.exceptions.RequestException | 不适用 | module |
| settings | django.conf.settings | BK_API_URL_TMPL, BK_PLUGIN_APIGW_SERVICE_STAGE | module |
| Protocol | typing_extensions.Protocol | 不适用 | module |
| get_oauth2_client_secret | paasng.infras.oauth2.utils.get_oauth2_client_secret | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| PluginApiGatewayServiceError | apiserver.paasng.paasng.bk_plugins.bk_plugins.exceptions.PluginApiGatewayServiceError | 不适用 | module |
| BkPluginDistributor | apiserver.paasng.paasng.bk_plugins.bk_plugins.models.BkPluginDistributor | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| safe_sync_apigw | `def safe_sync_apigw(plugin_app: Application):` | 无 | Sync a plugin's API Gateway resource, ignore error... |
| safe_update_gateway_status | `def safe_update_gateway_status(plugin_app: Application, enabled: bool):` | 无 | update a plugin's API Gateway status, ignore error... |
| set_distributors | `def set_distributors(plugin_app: Application, distributors: Collection[BkPluginDistributor]):` | 无 | Set a plugin's distributors, this operation will u... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginApiGWClient | typing_extensions.Protocol | sync_api, grant_permissions, revoke_permissions, update_gateway_status | 无 | 无 | Describes protocols of calling API Gateway managem... |
| PluginDefaultAPIGateway | 无 | __init__, set_gw_name, sync, grant, revoke, update_gateway_status, _get_maintainers, _make_api_client, _get_credentials | description_tmp, grant_dimension | 无 | Manage the default BK API Gateway resource for a P... |

---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkPluginsAppConfig | django.apps.AppConfig | ready | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginTagIdType | blue_krill.data_types.enum.IntStructuredEnum | 无 | UNTAGGED | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginApiGatewayServiceError | Exception | 无 | 无 | 无 | This error indicates that there's something wrong ... |

---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/handlers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| receiver | django.dispatch.receiver | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| post_create_application | paasng.platform.applications.signals.post_create_application | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | 不适用 | module |
| pre_appenv_deploy | paasng.platform.engine.signals.pre_appenv_deploy | 不适用 | module |
| safe_sync_apigw | apiserver.paasng.paasng.bk_plugins.bk_plugins.apigw.safe_sync_apigw | 不适用 | module |
| BkPluginProfile | apiserver.paasng.paasng.bk_plugins.bk_plugins.models.BkPluginProfile | get_or_create_by_application, objects | module |
| is_bk_plugin | apiserver.paasng.paasng.bk_plugins.bk_plugins.models.is_bk_plugin | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| on_plugin_app_created | `@receiver(post_create_application):` | receiver | Do extra jobs after a plugin was created |
| on_pre_deployment | `@receiver(pre_appenv_deploy):` | receiver | Sync plugin's API-Gateway resource when applicatio... |


---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/logging.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| json | dumps | module |
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| converters | attrs.converters | optional | module |
| define | attrs.define | 不适用 | module |
| field | attrs.field | 不适用 | module |
| settings | django.conf.settings | DEFAULT_ES_SEARCH_TIMEOUT | module |
| LogClientProtocol | paasng.accessories.log.client.LogClientProtocol | 不适用 | module |
| instantiate_log_client | paasng.accessories.log.client.instantiate_log_client | 不适用 | module |
| DEFAULT_LOG_BATCH_SIZE | paasng.accessories.log.constants.DEFAULT_LOG_BATCH_SIZE | 不适用 | module |
| EnvFilter | paasng.accessories.log.filters.EnvFilter | 不适用 | module |
| ElasticSearchConfig | paasng.accessories.log.models.ElasticSearchConfig | 不适用 | module |
| ElasticSearchParams | paasng.accessories.log.models.ElasticSearchParams | 不适用 | module |
| ProcessLogQueryConfig | paasng.accessories.log.models.ProcessLogQueryConfig | select_process_irrelevant, objects | module |
| LogCollectorType | paasng.accessories.log.shim.LogCollectorType | BK_LOG | module |
| get_log_collector_type | paasng.accessories.log.shim.get_log_collector_type | 不适用 | module |
| clean_logs | paasng.accessories.log.utils.clean_logs | 不适用 | module |
| get_es_term | paasng.accessories.log.utils.get_es_term | 不适用 | module |
| BkPlugin | paasng.bk_plugins.bk_plugins.models.BkPlugin | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| convert_timestamp_to_str | paasng.utils.datetime.convert_timestamp_to_str | 不适用 | module |
| LogLine | paasng.utils.es_log.models.LogLine | 不适用 | module |
| Logs | paasng.utils.es_log.models.Logs | 不适用 | module |
| extra_field | paasng.utils.es_log.models.extra_field | 不适用 | module |
| field_extractor_factory | paasng.utils.es_log.models.field_extractor_factory | 不适用 | module |
| SmartSearch | paasng.utils.es_log.search.SmartSearch | 不适用 | module |
| SmartTimeRange | paasng.utils.es_log.time_range.SmartTimeRange | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| StructureLogLine | paasng.utils.es_log.models.LogLine | __attrs_post_init__ | 无 | define | 结构化日志结构

    :param detail: alias of raw. This is ... |
| PluginLoggingClient | 无 | __init__, query, instantiate_log_client, make_search, _make_base_search | _default_time_range, _module_name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| paasng.utils.models | BkUserField, models, utils | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/migrations/0002_auto_20220112_1536.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField, CreateModel | module |
| models | django.db.models | CharField, AutoField, DateTimeField, ManyToManyField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/migrations/0003_auto_20220118_1807.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | IntegerField, DateTimeField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/migrations/0004_auto_20220922_1919.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | SET_NULL, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel, AddField | module |
| models | django.db.models | AutoField, DateTimeField, CharField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/migrations/0005_auto_20221202_1627.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| forward_func | `def forward_func(apps, schema_editor):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/migrations/0006_bkplugintag_priority.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | IntegerField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/migrations/0007_auto_20230227_1924.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterModelOptions, AddField | module |
| models | django.db.models | JSONField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/migrations/0008_bkplugintag_init.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| init_bkplugins_tag | `def init_bkplugins_tag(apps, schema_editor):` | 无 | 初始化插件分类，插件必须设置分类后才能部署生产环境 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | datetime | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| asdict | dataclasses.asdict | 不适用 | module |
| Collection | typing.Collection | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Iterator | typing.Iterator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Mapping | typing.Mapping | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| settings | django.conf.settings | CONFIGVAR_SYSTEM_PREFIX | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| models | django.db.models | Manager, OneToOneField, CASCADE, CharField, ForeignKey, SET_NULL, IntegerField, DateTimeField, JSONField, ManyToManyField | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| timezone | django.utils.timezone | now | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| PrivateAttr | pydantic.PrivateAttr | 不适用 | module |
| env_is_deployed | paasng.accessories.publish.entrance.exposer.env_is_deployed | 不适用 | module |
| ModuleEnvAvailableAddressHelper | paasng.accessories.publish.market.utils.ModuleEnvAvailableAddressHelper | 不适用 | module |
| PluginTagIdType | paasng.bk_plugins.bk_plugins.constants.PluginTagIdType | value, UNTAGGED | module |
| id_to_username | paasng.infras.accounts.utils.id_to_username | 不适用 | module |
| Application | paasng.platform.applications.models.Application | filter, objects | module |
| BaseApplicationFilter | paasng.platform.applications.models.BaseApplicationFilter | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| env_vars_providers | paasng.platform.engine.configurations.provider.env_vars_providers | register_env | module |
| AuditedModel | paasng.utils.models.AuditedModel | 不适用 | module |
| OwnerTimestampedModel | paasng.utils.models.OwnerTimestampedModel | 不适用 | module |
| TimestampedModel | paasng.utils.models.TimestampedModel | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| DeployedStatuses | 不适用 | `DeployedStatuses = Mapping[str, Union[DeployedStatus, DeployedStatusNoAddresses]]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_plugin_env_variables | `@env_vars_providers.register_env:` | env_vars_providers.register_env | Get env vars for a bk-plugin object |
| make_bk_plugins | `def make_bk_plugins(applications: Iterator[Application]) -> List[BkPlugin]:` | 无 | Make a list of bk_plugin objects at once |
| get_deployed_statuses | `def get_deployed_statuses(bk_plugin: BkPlugin) -> DeployedStatuses:` | 无 | Get the deployed statuses of a bk_plugin, result i... |
| get_deployed_statuses_without_addresses | `def get_deployed_statuses_without_addresses(bk_plugin: BkPlugin) -> DeployedStatuses:` | 无 | Get the deployed statuses of given bk_plugin, resu... |
| is_bk_plugin | `def is_bk_plugin(application: Application) -> bool:` | 无 | Check if an application is a plugin |
| make_bk_plugin | `def make_bk_plugin(application: Application) -> BkPlugin:` | 无 | Make a bk_plugin object by given application

    ... |
| plugin_to_detailed | `def plugin_to_detailed(plugin: BkPlugin, include_addresses: bool = True) -> BkPluginDetailedGroup:` | 无 | Turn a simple `BkPlugin` object into another objec... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkPluginProfileManager | django.db.models.Manager | get_or_create_by_application | 无 | 无 | Custom manager for `BkPluginProfile` |
| BkPluginProfile | paasng.utils.models.OwnerTimestampedModel | code, is_synced, pre_distributors, get_tag_info, mark_synced | application, introduction, contact, tag, api_gw_name, api_gw_id, api_gw_last_synced_at, pre_distributor_codes, objects | 无 | Profile which storing extra information for BkPlug... |
| BkPluginDistributor | paasng.utils.models.TimestampedModel | __str__ | name, code_name, bk_app_code, introduction, plugins | 无 | A "Distributor" is responsible for providing a col... |
| BkPluginTag | paasng.utils.models.AuditedModel | __str__, to_dict | name, code_name, priority | 无 | Plugins and applications use different markets, an... |
| BkPlugin | pydantic.BaseModel | __init__, from_application, get_application, get_profile | _application | 无 | Type for representing a bk plugin |
| DeployedStatus | pydantic.BaseModel | 无 | 无 | 无 | A helper class for storing deployed status |
| DeployedStatusNoAddresses | pydantic.BaseModel | 无 | 无 | 无 | Simliar to `DeployedStatus`, but have no `addresse... |
| BkPluginAppQuerySet | 无 | all, filter | 无 | 无 | QuerySet manager for bk_plugin related `Applicatio... |
| BkPluginDetailedGroup | pydantic.BaseModel | 无 | 无 | 无 | A grouped data type, includes a `BkPlugin` and oth... |

---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/pluginscenter_views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| closing | contextlib.closing | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| ProviderType | bkpaas_auth.core.constants.ProviderType | DATABASE | module |
| user_id_encoder | bkpaas_auth.core.encoder.user_id_encoder | encode | module |
| StreamChannelSubscriber | blue_krill.redis_tools.messaging.StreamChannelSubscriber | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME, BKAUTH_DEFAULT_PROVIDER_TYPE, PLUGIN_APP_USE_CLOUD_NATIVE_TYPE, PLUGIN_REPO_CONF | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| ProductSourceUrlType | paasng.accessories.publish.market.constant.ProductSourceUrlType | ENGINE_PROD_ENV | module |
| api_serializers | paasng.bk_plugins.bk_plugins.api_serializers | PluginSyncRequestSLZ, PluginArchiveRequestSLZ, DeployPluginRequestSLZ, PluginDeployResponseSLZ, PluginReleaseLogsResponseSLZ, PluginMarketRequestSLZ, MarketCategorySLZ, PluginMemberSLZ, PluginConfigSLZ | module |
| serializers | paasng.bk_plugins.bk_plugins.serializers | BkPluginSLZ, BkPluginProfileSLZ | module |
| safe_update_gateway_status | paasng.bk_plugins.bk_plugins.apigw.safe_update_gateway_status | 不适用 | module |
| BkPluginTag | paasng.bk_plugins.bk_plugins.models.BkPluginTag | filter, objects, all | module |
| make_bk_plugin | paasng.bk_plugins.bk_plugins.models.make_bk_plugin | 不适用 | module |
| archive_prod_env | paasng.bk_plugins.bk_plugins.tasks.archive_prod_env | apply_async | module |
| logger | paasng.bk_plugins.bk_plugins.views.logger | exception | module |
| get_default_redis | paasng.core.core.storages.redisdb.get_default_redis | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | SYSAPI_MANAGE_APPLICATIONS | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| add_role_members | paasng.infras.iam.helpers.add_role_members | 不适用 | module |
| delete_role_members | paasng.infras.iam.helpers.delete_role_members | 不适用 | module |
| fetch_application_members | paasng.infras.iam.helpers.fetch_application_members | 不适用 | module |
| remove_user_all_roles | paasng.infras.iam.helpers.remove_user_all_roles | 不适用 | module |
| DEPLOYMENT_INFO_COUNTER | paasng.misc.metrics.DEPLOYMENT_INFO_COUNTER | labels | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE, DEFAULT | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| application_member_updated | paasng.platform.applications.signals.application_member_updated | send | module |
| post_create_application | paasng.platform.applications.signals.post_create_application | send | module |
| sync_developers_to_sentry | paasng.platform.applications.tasks.sync_developers_to_sentry | delay | module |
| create_application | paasng.platform.applications.utils.create_application | 不适用 | module |
| create_default_module | paasng.platform.applications.utils.create_default_module | 不适用 | module |
| create_market_config | paasng.platform.applications.utils.create_market_config | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | PROD | module |
| DeployTaskRunner | paasng.platform.engine.deploy.start.DeployTaskRunner | 不适用 | module |
| initialize_deployment | paasng.platform.engine.deploy.start.initialize_deployment | 不适用 | module |
| get_all_logs | paasng.platform.engine.logs.get_all_logs | 不适用 | module |
| ConfigVar | paasng.platform.engine.models.ConfigVar | update_or_create, objects, filter | module |
| Deployment | paasng.platform.engine.models.Deployment | get, objects, DoesNotExist | module |
| DeployPhaseManager | paasng.platform.engine.phases_steps.phases.DeployPhaseManager | 不适用 | module |
| get_sorted_steps | paasng.platform.engine.phases_steps.steps.get_sorted_steps | 不适用 | module |
| EventType | paasng.platform.engine.streaming.constants.EventType | value, MSG, CLOSE | module |
| DeploymentCoordinator | paasng.platform.engine.workflow.DeploymentCoordinator | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | AUTHORIZED_VCS | module |
| init_module_in_view | paasng.platform.modules.manager.init_module_in_view | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | CANNOT_DEPLOY_ONGOING_EXISTS, f, CANNOT_DEPLOY_APP, CANNOT_GET_DEPLOYMENT, CANNOT_GET_DEPLOYMENT_PHASES | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| API_PERMISSION_CLASSES | 不适用 | `API_PERMISSION_CLASSES = [IsAuthenticated, site_perm_class(SiteAction.SYSAPI_MANAGE_APPLICATIONS)]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginInstanceViewSet | rest_framework.viewsets.ViewSet | create_plugin, update_plugin, archive_plugin | permission_classes | 无 | 插件开发中心-插件实例相关接口 |
| PluginDeployViewSet | rest_framework.viewsets.ViewSet | deploy_plugin, check_deploy_status, get_deploy_logs | permission_classes | 无 | 插件开发中心-插件部署相关接口 |
| PluginMarketViewSet | rest_framework.viewsets.ViewSet | upsert_market_info, list_category | permission_classes | 无 | 插件开发中心-插件市场信息相关接口 |
| PluginMembersViewSet | rest_framework.viewsets.ViewSet | sync_members | permission_classes | 无 | 插件开发中心-成员管理相关接口 |
| PluginConfigurationViewSet | rest_framework.viewsets.ViewSet | sync_configurations | permission_classes | 无 | 插件开发中心-配置管理相关接口 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, CharField, BooleanField, IntegerField, DateTimeField, DictField, JSONField, ModelSerializer, SlugRelatedField | module |
| BkPluginDistributor | apiserver.paasng.paasng.bk_plugins.bk_plugins.models.BkPluginDistributor | all, objects | module |
| BkPluginProfile | apiserver.paasng.paasng.bk_plugins.bk_plugins.models.BkPluginProfile | 不适用 | module |
| BkPluginTag | apiserver.paasng.paasng.bk_plugins.bk_plugins.models.BkPluginTag | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ListBkPluginsSLZ | rest_framework.serializers.Serializer | 无 | search_term, has_deployed, order_by, distributor_code_name, tag_id | 无 | Serializer for listing bk_plugins |
| ListDetailedBkPluginsExtraSLZ | rest_framework.serializers.Serializer | 无 | include_addresses | 无 | Extra serializer for listing detailed bk_plugins |
| BkPluginSLZ | rest_framework.serializers.Serializer | 无 | id, region, name, code, logo_url, has_deployed, creator, created, updated, tag_info | 无 | Serializer for representing bk_plugin |
| DeployedStatusSLZ | rest_framework.serializers.Serializer | 无 | deployed, addresses | 无 | 不适用 |
| DeployedStatusesSLZ | rest_framework.serializers.Serializer | 无 | stag, prod | 无 | 不适用 |
| ListBkPluginLogsSLZ | rest_framework.serializers.Serializer | 无 | trace_id, scroll_id | 无 | 不适用 |
| BkPluginProfileSLZ | rest_framework.serializers.ModelSerializer | 无 | distributors | 无 | Serializer for representing and patching `BkPlugin... |
| BkPluginDetailedSLZ | rest_framework.serializers.Serializer | 无 | plugin, deployed_statuses, profile | 无 | Serializer for detailed bk_plugin object, with ext... |
| DistributorSLZ | rest_framework.serializers.ModelSerializer | 无 | 无 | 无 | Serializer for representing a plugin distributor |
| UpdateDistributorsSLZ | rest_framework.serializers.Serializer | 无 | distributors | 无 | Serializer for updating an plugin's distributors |
| BkPluginTagSLZ | rest_framework.serializers.ModelSerializer | 无 | 无 | 无 | Serializer for representing a plugin tag |

---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/tasks.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| shared_task | celery.shared_task | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | PROD | module |
| start_archive_step | paasng.platform.engine.deploy.archive.start_archive_step | 不适用 | module |
| OfflineOperationExistError | paasng.platform.engine.exceptions.OfflineOperationExistError | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | DoesNotExist | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| archive_prod_env | `@shared_task:` | shared_task | 下架插件应用默认模块的Prod环境

    :param str app_code: 需要下架的应... |


---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^sys/api/bk_plugins/$', views.SysBkPluginsViewset.as_view({'get': 'list'}), name='sys.api.bk_plugins.list'), re_path('^sys/api/bk_plugins/(?P<code>[^/]+)/$', views.SysBkPluginsViewset.as_view({'get': 'retrieve'}), name='sys.api.bk_plugins.retrieve'), re_path('^sys/api/bk_plugins/(?P<code>[^/]+)/logs/$', views.SysBkPluginLogsViewset.as_view({'get': 'list', 'post': 'list'}), name='sys.api.bk_plugins.logs.list'), re_path('^sys/api/bk_plugin_tags/$', views.SysBkPluginTagsViewSet.as_view({'get': 'list'}), name='sys.api.bk_plugin_tags'), re_path('^sys/api/bk_plugins/batch/detailed/$', views.SysBkPluginsBatchViewset.as_view({'get': 'list_detailed'}), name='sys.api.bk_plugins.list_detailed'), re_path('^sys/api/plugins_center/bk_plugins/$', pluginscenter_views.PluginInstanceViewSet.as_view({'post': 'create_plugin'}), name='sys.api.plugins_center.bk_plugins.create'), re_path('^sys/api/plugins_center/bk_plugins/(?P<code>[^/]+)/$', pluginscenter_views.PluginInstanceViewSet.as_view({'put': 'update_plugin', 'delete': 'archive_plugin'}), name='sys.api.plugins_center.bk_plugins.detail'), re_path('^sys/api/plugins_center/bk_plugins/(?P<code>[^/]+)/deploy/$', pluginscenter_views.PluginDeployViewSet.as_view({'post': 'deploy_plugin'}), name='sys.api.plugins_center.bk_plugins.deploy'), re_path('^sys/api/plugins_center/bk_plugins/(?P<code>[^/]+)/deploy/(?P<deploy_id>[^/]+)/status/$', pluginscenter_views.PluginDeployViewSet.as_view({'get': 'check_deploy_status'}), name='sys.api.plugins_center.bk_plugins.deploy.status'), re_path('^sys/api/plugins_center/bk_plugins/(?P<code>[^/]+)/deploy/(?P<deploy_id>[^/]+)/logs/$', pluginscenter_views.PluginDeployViewSet.as_view({'get': 'get_deploy_logs'}), name='sys.api.plugins_center.bk_plugins.deploy.logs'), re_path('^sys/api/plugins_center/bk_plugins/(?P<code>[^/]+)/market/$', pluginscenter_views.PluginMarketViewSet.as_view({'post': 'upsert_market_info'}), name='sys.api.plugins_center.bk_plugins.market.upsert'), re_path('^sys/api/plugins_center/bk_plugins/market/category/$', pluginscenter_views.PluginMarketViewSet.as_view({'get': 'list_category'}), name='sys.api.plugins_center.bk_plugins.market.list_category'), re_path('^sys/api/plugins_center/bk_plugins/(?P<code>[^/]+)/members/$', pluginscenter_views.PluginMembersViewSet.as_view({'post': 'sync_members'}), name='sys.api.plugins_center.bk_plugins.members.sync'), re_path('^sys/api/plugins_center/bk_plugins/(?P<code>[^/]+)/configuration/$', pluginscenter_views.PluginConfigurationViewSet.as_view({'post': 'sync_configurations'}), name='sys.api.plugins_center.bk_plugins.configurations.sync'), re_path('^api/bk_plugins/(?P<code>[^/]+)/profile/$', views.BkPluginProfileViewSet.as_view({'get': 'retrieve', 'patch': 'patch'}), name='api.bk_plugins.profile'), re_path('^api/bk_plugins/(?P<code>[^/]+)/distributors/$', views.DistributorRelsViewSet.as_view({'get': 'list', 'put': 'update'}), name='api.bk_plugins.distributor_rels'), re_path('^api/bk_plugin_distributors/$', views.DistributorsViewSet.as_view({'get': 'list'}), name='api.bk_plugin_distributors'), re_path('^api/bk_plugin_tags/$', views.BkPluginTagsViewSet.as_view({'get': 'list'}), name='api.bk_plugin_tags')]` | module |



---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ProviderType | bkpaas_auth.core.constants.ProviderType | DATABASE | module |
| user_id_encoder | bkpaas_auth.core.encoder.user_id_encoder | encode | module |
| settings | django.conf.settings | PLUGIN_REPO_CONF, DEFAULT_REGION_NAME | module |
| SiteRole | paasng.infras.accounts.constants.SiteRole | value, SYSTEM_API_BASIC_READER | module |
| PrivateTokenHolder | paasng.infras.accounts.models.PrivateTokenHolder | update_or_create, objects | module |
| User | paasng.infras.accounts.models.User | get_or_create, objects | module |
| UserPrivateToken | paasng.infras.accounts.models.UserPrivateToken | create_token, objects | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | update_or_create, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| ensure_builtin_user | `def ensure_builtin_user():` | 无 | 初始化内置的操作用户 |


---


### 模块: apiserver/paasng/paasng/bk_plugins/bk_plugins/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| cattr | unstructure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| HttpRequest | django.http.HttpRequest | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| LimitOffsetPagination | rest_framework.pagination.LimitOffsetPagination | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | SYSAPI_READ_APPLICATIONS | module |
| site_perm_required | paasng.infras.accounts.permissions.global_site.site_perm_required | 不适用 | module |
| ForceAllowAuthedApp | paasng.infras.accounts.utils.ForceAllowAuthedApp | mark_view_set | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | VIEW_BASIC_INFO | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | UNABLE_TO_SET_DISTRIBUTORS, APP_IS_NOT_BK_PLUGIN | module |
| set_distributors | apiserver.paasng.paasng.bk_plugins.bk_plugins.apigw.set_distributors | 不适用 | module |
| PluginLoggingClient | apiserver.paasng.paasng.bk_plugins.bk_plugins.logging.PluginLoggingClient | 不适用 | module |
| BkPlugin | apiserver.paasng.paasng.bk_plugins.bk_plugins.models.BkPlugin | from_application | module |
| BkPluginAppQuerySet | apiserver.paasng.paasng.bk_plugins.bk_plugins.models.BkPluginAppQuerySet | 不适用 | module |
| BkPluginDistributor | apiserver.paasng.paasng.bk_plugins.bk_plugins.models.BkPluginDistributor | all, objects | module |
| BkPluginTag | apiserver.paasng.paasng.bk_plugins.bk_plugins.models.BkPluginTag | all, objects | module |
| make_bk_plugin | apiserver.paasng.paasng.bk_plugins.bk_plugins.models.make_bk_plugin | 不适用 | module |
| make_bk_plugins | apiserver.paasng.paasng.bk_plugins.bk_plugins.models.make_bk_plugins | 不适用 | module |
| plugin_to_detailed | apiserver.paasng.paasng.bk_plugins.bk_plugins.models.plugin_to_detailed | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_plugin_or_404 | `def get_plugin_or_404(code: str) -> BkPlugin:` | 无 | Get a bk_plugin object by code, raise 404 error wh... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| FilterPluginsMixin | 无 | filter_plugins | 无 | 无 | A mixin class which provides plugins filtering fun... |
| SysBkPluginsViewset | FilterPluginsMixin, rest_framework.viewsets.ViewSet | list, retrieve | 无 | ForceAllowAuthedApp.mark_view_set | Viewset for bk_plugin type applications |
| SysBkPluginsBatchViewset | FilterPluginsMixin, rest_framework.viewsets.ViewSet | list_detailed | 无 | ForceAllowAuthedApp.mark_view_set | Viewset for batch operations on bk_plugin type app... |
| SysBkPluginLogsViewset | rest_framework.viewsets.ViewSet | list | 无 | 无 | Viewset for querying bk_plugin's logs |
| SysBkPluginTagsViewSet | rest_framework.viewsets.ViewSet | list | 无 | 无 | Viewset for querying bk_plugin's tags |
| BkPluginProfileViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | retrieve, patch, _get_plugin | permission_classes | 无 | Viewset for managing BkPlugin's profile |
| DistributorsViewSet | rest_framework.viewsets.ViewSet | list | 无 | 无 | Viewset for plugin distributors |
| BkPluginTagsViewSet | rest_framework.viewsets.ViewSet | list | 无 | 无 | Viewset for plugin tags |
| DistributorRelsViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list, update | permission_classes | 无 | Viewset for managing a single bk_plugin's distribu... |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginsCenterConfig | django.apps.AppConfig | ready | default_auto_field, name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/bk_devops/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/bk_devops/apigw/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/bk_devops/apigw/client.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| APIGatewayClient | bkapi_client_core.apigateway.APIGatewayClient | 不适用 | module |
| Operation | bkapi_client_core.apigateway.Operation | 不适用 | module |
| OperationGroup | bkapi_client_core.apigateway.OperationGroup | 不适用 | module |
| bind_property | bkapi_client_core.apigateway.bind_property | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Group | bkapi_client_core.apigateway.OperationGroup | 无 | v4_app_metrics_summary, v4_app_pipeline_get, v4_app_build_start, v4_app_build_detail, v4_app_build_status, v4_app_build_stop, v4_app_log_more, v4_app_log_line_num, app_codecc_bkplugins_get_basic_info | 无 | 不适用 |
| Client | bkapi_client_core.apigateway.APIGatewayClient | 无 | _api_name, api | 无 | devops
    蓝盾devops平台OpenApi
     |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/bk_devops/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| cattrs | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| APIGatewayResponseError | bkapi_client_core.exceptions.APIGatewayResponseError | 不适用 | module |
| ResponseError | bkapi_client_core.exceptions.ResponseError | 不适用 | module |
| settings | django.conf.settings | BK_API_URL_TMPL, BK_APP_CODE, BK_APP_SECRET | module |
| definitions | paasng.bk_plugins.pluginscenter.bk_devops.definitions | CodeccPluginBasicInfo, Pipeline, PipelineBuild, PipelineBuildDetail, PipelineBuildStatus, PipelineLogModel | module |
| Client | paasng.bk_plugins.pluginscenter.bk_devops.apigw.client.Client | 不适用 | module |
| Group | paasng.bk_plugins.pluginscenter.bk_devops.apigw.client.Group | 不适用 | module |
| BkDevopsApiError | paasng.bk_plugins.pluginscenter.bk_devops.exceptions.BkDevopsApiError | 不适用 | module |
| BkDevopsGatewayServiceError | paasng.bk_plugins.pluginscenter.bk_devops.exceptions.BkDevopsGatewayServiceError | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseBkDevopsClient | 无 | __init__, _prepare_headers | 无 | 无 | bk-devops 通过 APIGW 提供的 API

    :param bk_username... |
| BkDevopsClient | BaseBkDevopsClient | get_metrics_summary, get_codecc_plugin_basic_info | 无 | 无 | 不适用 |
| PipelineController | BaseBkDevopsClient | start_build, retrieve_build_detail, retrieve_build_status, stop_build, retrieve_log, retrieve_log_num, retrieve_full_log | 无 | 无 | bk-devops pipeline 控制器 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/bk_devops/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PipelineBuildStatus | blue_krill.data_types.enum.StrStructuredEnum | 无 | SUCCEED, FAILED, CANCELED | 无 | 蓝盾流水线构建状态 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/bk_devops/definitions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |
| prepare_json_field | paasng.utils.structure.prepare_json_field | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Pipeline | pydantic.BaseModel | 无 | 无 | prepare_json_field | 流水线对象

    :param projectId: 项目ID
    :param pipel... |
| PipelineBuild | pydantic.BaseModel | 无 | 无 | prepare_json_field | 流水线构建对象

    :param projectId: 项目ID
    :param pip... |
| TimeCost | pydantic.BaseModel | 无 | 无 | prepare_json_field | 构建阶段耗时详情

    :param systemCost: 系统耗时（由总耗时减去其他得出）
... |
| BuildStageStatus | pydantic.BaseModel | 无 | 无 | prepare_json_field | 构建阶段状态

    :param stageId: 阶段ID
    :param name: ... |
| PipelineBuildStatus | pydantic.BaseModel | 无 | 无 | prepare_json_field | 流水线构建状态

    :param buildId: 构建ID
    :param start... |
| AdditionalOptions | pydantic.BaseModel | 无 | 无 | prepare_json_field | 流水线构建状态额外配置

    :param elementPostInfo: 后置状态信息，如果... |
| PipelineElementModel | pydantic.BaseModel | 无 | 无 | prepare_json_field | 流水线元素模型

    :param type: Element 类型
    :param na... |
| PipelineContainerModel | pydantic.BaseModel | 无 | 无 | prepare_json_field | 流水线容器模型

    :param type: 容器模型类型
    :param contai... |
| PipelineStageModel | pydantic.BaseModel | 无 | 无 | prepare_json_field | 流水线阶段模型

    :param stageId: 阶段ID
    :param name:... |
| PipelineModel | pydantic.BaseModel | 无 | 无 | prepare_json_field | 流水线模型

    :param name: 流水线名称
    :param desc: 流水线... |
| PipelineBuildDetail | pydantic.BaseModel | 无 | 无 | prepare_json_field | 流水线构建详情

    :param buildId: 构建ID
    :param pipel... |
| PipelineLogLine | pydantic.BaseModel | 无 | 无 | prepare_json_field | 流水线构建

    :param lineNo: 日志行号
    :param timestam... |
| PipelineLogModel | pydantic.BaseModel | 无 | 无 | prepare_json_field | 流水线构建日志

    :param buildId: 构建日志
    :param finis... |
| CodeccPluginBasicInfo | pydantic.BaseModel | 无 | 无 | prepare_json_field | Codecc 工具插件基本信息

    :param name: 插件标识
    :param ... |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/bk_devops/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkDevopsGatewayServiceError | Exception | __init__ | 无 | 无 | This error indicates that there's something wrong ... |
| BkDevopsApiError | BkDevopsGatewayServiceError | 无 | 无 | 无 | When calling the bk-devops api, bk-devops returns ... |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/bk_devops/utils.py





#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_devops_project_id | `def get_devops_project_id(git_project_id: int) -> str:` | 无 | 获取工蜂仓库对应的蓝盾项目ID, 用于获取仓库的代码检查等信息

    :param git_pr... |


---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/bk_user/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/bk_user/backend/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/bk_user/backend/esb.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ESBClient | bkapi_client_core.esb.ESBClient | 不适用 | module |
| Operation | bkapi_client_core.esb.Operation | 不适用 | module |
| OperationGroup | bkapi_client_core.esb.OperationGroup | 不适用 | module |
| bind_property | bkapi_client_core.esb.bind_property | 不适用 | module |
| generic_type_partial | bkapi_client_core.esb.generic_type_partial | 不适用 | module |
| get_client_by_username | bkapi_client_core.esb.django_helper.get_client_by_username | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| get_client_by_username | 不适用 | `get_client_by_username = _partial(Client, _get_client_by_username)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Group | bkapi_client_core.esb.OperationGroup | 无 | retrieve_department | 无 | 不适用 |
| Client | bkapi_client_core.esb.ESBClient | 无 | api | 无 | ESB Components |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/bk_user/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattrs | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| APIGatewayResponseError | bkapi_client_core.exceptions.APIGatewayResponseError | 不适用 | module |
| get_client_by_username | paasng.bk_plugins.pluginscenter.bk_user.backend.esb.get_client_by_username | 不适用 | module |
| DepartmentDetail | paasng.bk_plugins.pluginscenter.bk_user.definitions.DepartmentDetail | 不适用 | module |
| BkUserManageApiError | paasng.bk_plugins.pluginscenter.bk_user.exceptions.BkUserManageApiError | 不适用 | module |
| BkUserManageGatewayServiceError | paasng.bk_plugins.pluginscenter.bk_user.exceptions.BkUserManageGatewayServiceError | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkUserManageClient | 无 | __init__, retrieve_department, get_all_parent_departments | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/bk_user/definitions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| prepare_json_field | paasng.utils.structure.prepare_json_field | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DepartmentDetail | pydantic.BaseModel | 无 | 无 | prepare_json_field | 组织架构的详情

    :param id : 部门 ID
    :param name: 部门... |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/bk_user/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkUserManageGatewayServiceError | Exception | __init__ | 无 | 无 | This error indicates that there's something wrong ... |
| BkUserManageApiError | BkUserManageGatewayServiceError | 无 | 无 | 无 | When calling the bk_user api, bk_log returns an er... |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/bk_user/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Response | rest_framework.response.Response | 不适用 | module |
| ViewSet | rest_framework.viewsets.ViewSet | 不适用 | module |
| BkUserManageClient | paasng.bk_plugins.pluginscenter.bk_user.client.BkUserManageClient | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkPluginUserManageView | rest_framework.viewsets.ViewSet | get_department | 无 | 无 | View for querying user organizational structure in... |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/configuration.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| hashlib | sha256 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| error_codes | paasng.bk_plugins.pluginscenter.exceptions.error_codes | f, CONFIGURATION_CONFLICT | module |
| PluginConfig | paasng.bk_plugins.pluginscenter.models.PluginConfig | filter, objects, create | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginConfigManager | 无 | __init__, save, delete, unique_key, build_conflict_message | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginReleaseMethod | blue_krill.data_types.enum.StrStructuredEnum | 无 | CODE, SOURCE_PACKAGE, IMAGE | 无 | 插件发布方式 |
| PluginBasicInfoAccessMode | blue_krill.data_types.enum.StrStructuredEnum | 无 | READONLY, READWRITE | 无 | 插件基本信息查看模式 |
| PluginReleaseVersionRule | blue_krill.data_types.enum.StrStructuredEnum | 无 | AUTOMATIC, REVISION, COMMIT_HASH, BRANCH_TIMESTAMP, SELF_FILL | 无 | 插件发布版本号规则 |
| SemverAutomaticType | blue_krill.data_types.enum.StrStructuredEnum | 无 | MAJOR, MINOR, PATCH | 无 | 语义化版本生成规则 |
| ReleaseStageInvokeMethod | blue_krill.data_types.enum.StrStructuredEnum | 无 | DEPLOY_API, PIPELINE, SUBPAGE, ITSM, CANARY_WITH_ITSM, BUILTIN | 无 | 发布步骤触发方式 |
| PluginStatus | blue_krill.data_types.enum.StrStructuredEnum | archive_status, approval_status | WAITING_APPROVAL, APPROVAL_FAILED, DEVELOPING, RELEASING, RELEASED, ARCHIVED | 无 | 插件状态 |
| PluginRole | blue_krill.data_types.enum.IntStructuredEnum | 无 | ADMINISTRATOR, DEVELOPER | 无 | 插件角色 |
| MarketInfoStorageType | blue_krill.data_types.enum.StrStructuredEnum | 无 | THIRD_PARTY, PLATFORM, BOTH | 无 | 市场信息存储类型 |
| PluginReleaseStatus | blue_krill.data_types.enum.StrStructuredEnum | abnormal_status, running_status, terminated_status | SUCCESSFUL, FAILED, PENDING, INITIAL, INTERRUPTED | 无 | 插件发布状态 |
| LogTimeChoices | blue_krill.data_types.enum.StrStructuredEnum | 无 | FIVE_MINUTES, ONE_HOUR, THREE_HOURS, SIX_HOURS, TWELVE_HOURS, ONE_DAY, THREE_DAYS, SEVEN_DAYS, CUSTOMIZED | 无 | 日志搜索-日期范围可选值 |
| ActionTypes | blue_krill.data_types.enum.StrStructuredEnum | 无 | CREATE, ADD, RE_RELEASE, TERMINATE, MODIFY, DELETE, ARCHIVE, REACTIVATE, ROLLBACK | 无 | 操作记录-动作类型 |
| SubjectTypes | blue_krill.data_types.enum.StrStructuredEnum | 无 | PLUGIN, TEST_VERSION, VERSION, BASIC_INFO, LOGO, MARKET_INFO, CONFIG_INFO, VISIBLE_RANGE, PUBLISHER, RELEASE_STRATEGY | 无 | 操作记录-主体 |
| PluginReleaseType | blue_krill.data_types.enum.StrStructuredEnum | 无 | PROD, TEST | 无 | 插件版本发布类型 |
| ReleaseStrategy | blue_krill.data_types.enum.StrStructuredEnum | 无 | GRAY, FULL | 无 | 插件发布策略 |
| StatusPollingMethod | blue_krill.data_types.enum.StrStructuredEnum | 无 | API, FRONTEND | 无 | 发布阶段的状态轮询方式 |
| PluginRevisionType | blue_krill.data_types.enum.StrStructuredEnum | 无 | ALL, MASTER, TAG, TESTED_VERSION | 无 | 代码版本类型 |
| GrayReleaseStatus | blue_krill.data_types.enum.StrStructuredEnum | 无 | GRAY_APPROVAL_IN_PROGRESS, IN_GRAY, GRAY_APPROVAL_FAILED, FULL_APPROVAL_IN_PROGRESS, FULLY_RELEASED, FULL_APPROVAL_FAILED, ROLLED_BACK, INTERRUPTED | 无 | 插件灰度发布展示的状态，提供给前端展示的字段不需要国际化标记 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/definitions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Literal | typing.Literal | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |
| constants | paasng.bk_plugins.pluginscenter.constants | CODE, PluginReleaseMethod, SOURCE_PACKAGE, IMAGE, READONLY, PluginBasicInfoAccessMode, READWRITE, ALL, PluginRevisionType, MASTER, TAG, TESTED_VERSION, DEPLOY_API, ReleaseStageInvokeMethod, PIPELINE, SUBPAGE, ITSM, CANARY_WITH_ITSM, BUILTIN, API, StatusPollingMethod, FRONTEND | module |
| prepare_json_field | paasng.utils.structure.prepare_json_field | 不适用 | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginRelease | paasng.bk_plugins.pluginscenter.models.PluginRelease | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| find_stage_by_id | `def find_stage_by_id(pd: 'PluginDefinitionModel', release: 'PluginRelease', identifier: str) -> Optional[ReleaseStageDefinition]:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| UIComponent | pydantic.BaseModel | 无 | 无 | prepare_json_field | ui组件 |
| UIProps | pydantic.BaseModel | 无 | 无 | prepare_json_field | ui属性 |
| FieldSchema | pydantic.BaseModel | 无 | 无 | prepare_json_field | 字段定义 |
| PluginBackendAPIResource | pydantic.BaseModel | 无 | 无 | prepare_json_field | 插件后台操作接口 |
| PluginBackendAPI | pydantic.BaseModel | 无 | 无 | prepare_json_field | 不适用 |
| PluginReleaseAPI | pydantic.BaseModel | 无 | 无 | prepare_json_field | 插件发布操作集 |
| PluginCodeTemplate | pydantic.BaseModel | get_source_dir | 无 | prepare_json_field | 不适用 |
| PluginoverviewPage | pydantic.BaseModel | 无 | 无 | prepare_json_field | 不适用 |
| PluginFeature | pydantic.BaseModel | 无 | 无 | prepare_json_field | 不适用 |
| PluginBasicInfoDefinition | pydantic.BaseModel | 无 | 无 | prepare_json_field | 插件基础信息定义 |
| PluginVisibleRangeLevel | pydantic.BaseModel | 无 | 无 | prepare_json_field | 插件可见范围填写的字段 |
| PluginVisibleRangeDefinition | pydantic.BaseModel | 无 | 无 | prepare_json_field | 插件可见范围 |
| PluginMarketInfoDefinition | pydantic.BaseModel | 无 | 无 | prepare_json_field | 插件市场信息定义 |
| ReleaseRevisionDefinition | pydantic.BaseModel | 无 | 无 | prepare_json_field | 发布版本定义 |
| ReleaseStageDefinition | pydantic.BaseModel | 无 | 无 | prepare_json_field | 发布阶段定义 |
| PluginConfigColumnDefinition | pydantic.BaseModel | 无 | 无 | prepare_json_field | 插件配置-列信息定义 |
| PluginConfigDefinition | pydantic.BaseModel | 无 | 无 | prepare_json_field | 插件配置定义 |
| PluginInstanceSpec | pydantic.BaseModel | 无 | 无 | prepare_json_field | 插件实例相关属性 |
| ElasticSearchHost | pydantic.BaseModel | 无 | 无 | prepare_json_field | ES 配置 |
| ElasticSearchParams | pydantic.BaseModel | 无 | 无 | prepare_json_field | ES 搜索相关配置 |
| BKLogConfig | pydantic.BaseModel | 无 | 无 | 无 | 日志平台的查询配置 |
| PluginLogConfig | pydantic.BaseModel | 无 | 无 | prepare_json_field | 插件日志配置 |
| PluginCreateApproval | pydantic.BaseModel | 无 | 无 | prepare_json_field | 创建插件审批配置 |
| PluginDefinition | pydantic.BaseModel | 无 | 无 | prepare_json_field | 插件模板定义 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/exceptions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ErrorCode | blue_krill.web.std_error.ErrorCode | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| error_codes | 不适用 | `error_codes = ErrorCodes()` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ErrorCodes | 无 | dump | CREATE_REPO_ERROR, INITIAL_REPO_ERROR, THIRD_PARTY_API_ERROR, DELETE_REPO_ERROR, CANNOT_RELEASE_DUPLICATE_SOURCE_VERSION, CANNOT_RELEASE_RELEASING_SOURCE_VERSION, CANNOT_RELEASE_ONGOING_EXISTS, CANNOT_RERUN_ONGOING_STEPS, CANNOT_ROLLBACK_CURRENT_STEP, CANNOT_CANCEL_RELEASE, NOT_SUPPORT_CANCEL_RELEASE, CANNOT_RESET_RELEASE, EXECUTE_STAGE_ERROR, STAGE_DEF_NOT_FOUND, CONFIGURATION_CONFLICT, STAGE_RENDER_ERROR, NOT_SUPPORT_REACTIVATE, CANNOT_ARCHIVED, CANNOT_REACTIVATE, CANNOT_ROLLBACK_RELEASE, MEMBERSHIP_DELETE_FAILED, MEMBERSHIP_ADD_FAILED, MEMBERSHIP_UPDATE_FAILED, CANNOT_BE_DELETED, PLUGIN_ARCHIVED, MAINTAIN_REPO_MEMBERS_ERROR, QUERY_REPO_OVERVIEW_DATA_ERROR, QUERY_ES_ERROR, QUERY_LOG_FAILED, QUERY_REQUEST_ERROR, VISIBLE_RANGE_UPDATE_FAIELD, RELEASE_COMPLETED, LAST_GRAY_RELEASE_NOT_APPROVED | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/features.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| FeatureFlag | blue_krill.data_types.enum.FeatureFlag | 不适用 | module |
| FeatureFlagField | blue_krill.data_types.enum.FeatureFlagField | 不适用 | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginFeatureFlag | blue_krill.data_types.enum.FeatureFlag | 无 | RE_RELEASE_HISTORY_VERSION, API_GATEWAY, PROCESS_MANAGE, STRUCTURE_LOG, APP_SECRETS, PLUGIN_DISTRIBUTER, CANCEL_RELEASE, SHOW_ENTRANCES_ADDRESS, CONFIGURATION_MANAGE, STDOUT_LOG, ACCESS_LOG, MARKET_INFO, PUBLISHER_INFO, LOWER_REPO_NAME, VISIBLE_RANGE_MANAGE | 无 | 不适用 |
| FeatureFlagsManagerBase | 无 | __init__, list_all_features, has_feature | 无 | 无 | 不适用 |
| PluginFeatureFlagsManager | FeatureFlagsManagerBase | __init__ | 无 | 无 | 不适用 |
| PluginDefinitionFlagsManager | FeatureFlagsManagerBase | __init__ | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/filters.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseFilterBackend | rest_framework.filters.BaseFilterBackend | 不适用 | module |
| PluginStatus | paasng.bk_plugins.pluginscenter.constants.PluginStatus | approval_status | module |
| lazy_iam_client | paasng.bk_plugins.pluginscenter.iam_adaptor.policy.client.lazy_iam_client | build_plugin_filters | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginInstancePermissionFilter | rest_framework.filters.BaseFilterBackend | filter_queryset | 无 | 无 | PluginPermissionFilter will filter those PluginIns... |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/handlers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| post_save | django.db.models.signals.post_save | 不适用 | module |
| receiver | django.dispatch.receiver | 不适用 | module |
| PluginReleaseStatus | paasng.bk_plugins.pluginscenter.constants.PluginReleaseStatus | terminated_status, abnormal_status, SUCCESSFUL | module |
| PluginStatus | paasng.bk_plugins.pluginscenter.constants.PluginStatus | RELEASED | module |
| PluginFeatureFlag | paasng.bk_plugins.pluginscenter.features.PluginFeatureFlag | RE_RELEASE_HISTORY_VERSION | module |
| PluginFeatureFlagsManager | paasng.bk_plugins.pluginscenter.features.PluginFeatureFlagsManager | 不适用 | module |
| PluginReleaseStage | paasng.bk_plugins.pluginscenter.models.PluginReleaseStage | 不适用 | module |
| release | paasng.bk_plugins.pluginscenter.thirdparty.release | status, save, pd, plugin | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| update_release_status_when_stage_status_change | `@receiver(post_save, sender=PluginReleaseStage):` | receiver | 不适用 |


---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginsCenterIAMConfig | django.apps.AppConfig | 无 | default_auto_field, name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| PluginRole | paasng.bk_plugins.pluginscenter.constants.PluginRole | ADMINISTRATOR, DEVELOPER | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| NEVER_EXPIRE_TIMESTAMP | 4102444800 | `NEVER_EXPIRE_TIMESTAMP = 4102444800` | module |
| ONE_DAY_SECONDS | 86400 | `ONE_DAY_SECONDS = 24 * 60 * 60` | module |
| PLUGIN_BUILTIN_ROLES | 不适用 | `PLUGIN_BUILTIN_ROLES = [PluginRole.ADMINISTRATOR, PluginRole.DEVELOPER]` | module |
| DEFAULT_PAGE | 1 | `DEFAULT_PAGE = 1` | module |
| FETCH_USER_GROUP_MEMBERS_LIMIT | 10000 | `FETCH_USER_GROUP_MEMBERS_LIMIT = 10000` | module |
| NEVER_EXPIRE_DAYS | -1 | `NEVER_EXPIRE_DAYS = -1` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginPermissionActions | blue_krill.data_types.enum.StrStructuredEnum | get_choices_by_role | BASIC_DEVELOPMENT, RELEASE_VERSION, EDIT_PLUGIN, MANAGE_VISIBILITY, MANAGE_CONFIGURATION, MANAGE_MEMBERS, DELETE_PLUGIN | 无 | 插件相关的操作权限 |
| ResourceType | blue_krill.data_types.enum.StrStructuredEnum | 无 | PLUGIN | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/definitions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ClassVar | typing.ClassVar | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| define | attrs.define | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| PluginRole | paasng.bk_plugins.pluginscenter.constants.PluginRole | ADMINISTRATOR, DEVELOPER | module |
| ResourceType | paasng.bk_plugins.pluginscenter.iam_adaptor.constants.ResourceType | PLUGIN | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| gen_iam_grade_manager | `def gen_iam_grade_manager(plugin: PluginInstance) -> GradeManager:` | 无 | 生成蓝鲸插件在 IAM 的分级管理员描述 |
| gen_iam_resource | `def gen_iam_resource(plugin: PluginInstance) -> PluginIAMResource:` | 无 | 不适用 |
| gen_plugin_user_group | `def gen_plugin_user_group(plugin: PluginInstance, role: PluginRole) -> PluginUserGroup:` | 无 | 不适用 |
| gen_iam_resource_id | `def gen_iam_resource_id(plugin: PluginInstance) -> str:` | 无 | 生成 IAM 资源唯一标识 |
| gen_iam_resource_name | `def gen_iam_resource_name(plugin: PluginInstance) -> str:` | 无 | 生成 IAM 资源名称 |
| gen_user_group_name | `def gen_user_group_name(plugin: PluginInstance, role: PluginRole) -> str:` | 无 | 根据指定的用户角色，生成对应的用户组名称（最大字符数限制 32） |
| gen_user_group_description | `def gen_user_group_description(plugin: PluginInstance, role: PluginRole) -> str:` | 无 | 根据指定的用户角色，生成对应的用户组名称 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| GradeManager | 无 | 无 | 无 | define | 蓝鲸插件在 IMA 中对应的分级管理员定义 |
| IAMResource | 无 | iam_attribute | 无 | define | IAM 资源定义 |
| PluginIAMResource | IAMResource | 无 | 无 | define | 蓝鲸插件在 IAM 中对应的资源定义 |
| PluginUserGroup | 无 | 无 | 无 | define | 蓝鲸插件在 IAM 中的用户组定义 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/management/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/management/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| time | time | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| APIGatewayResponseError | bkapi_client_core.exceptions.APIGatewayResponseError | 不适用 | module |
| settings | django.conf.settings | BK_API_URL_TMPL, BK_IAM_APIGW_SERVICE_STAGE, BK_APP_CODE, BK_APP_SECRET, IAM_PLUGINS_CENTER_SYSTEM_ID | module |
| SimpleLazyObject | django.utils.functional.SimpleLazyObject | 不适用 | module |
| PluginRole | paasng.bk_plugins.pluginscenter.constants.PluginRole | ADMINISTRATOR | module |
| definitions | paasng.bk_plugins.pluginscenter.iam_adaptor.definitions | PluginIAMResource, GradeManager, PluginUserGroup | module |
| DEFAULT_PAGE | paasng.bk_plugins.pluginscenter.iam_adaptor.constants.DEFAULT_PAGE | 不适用 | module |
| FETCH_USER_GROUP_MEMBERS_LIMIT | paasng.bk_plugins.pluginscenter.iam_adaptor.constants.FETCH_USER_GROUP_MEMBERS_LIMIT | 不适用 | module |
| NEVER_EXPIRE_TIMESTAMP | paasng.bk_plugins.pluginscenter.iam_adaptor.constants.NEVER_EXPIRE_TIMESTAMP | 不适用 | module |
| ONE_DAY_SECONDS | paasng.bk_plugins.pluginscenter.iam_adaptor.constants.ONE_DAY_SECONDS | 不适用 | module |
| PluginPermissionActions | paasng.bk_plugins.pluginscenter.iam_adaptor.constants.PluginPermissionActions | get_choices_by_role | module |
| ResourceType | paasng.bk_plugins.pluginscenter.iam_adaptor.constants.ResourceType | PLUGIN | module |
| registry_i18n_hook | paasng.bk_plugins.pluginscenter.thirdparty.utils.registry_i18n_hook | 不适用 | module |
| Client | paasng.infras.iam.apigw.client.Client | 不适用 | module |
| Group | paasng.infras.iam.apigw.client.Group | 不适用 | module |
| BKIAMApiError | paasng.infras.iam.exceptions.BKIAMApiError | 不适用 | module |
| BKIAMGatewayServiceError | paasng.infras.iam.exceptions.BKIAMGatewayServiceError | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| calc_expired_at | `def calc_expired_at(expire_after_days: int) -> int:` | 无 | 计算过期的时间戳，若传入的过期天数为负数，则表示永不过期 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKIAMClient | 无 | __init__, create_grade_manager, fetch_grade_manager_members, add_grade_manager_members, delete_grade_manager_members, create_user_groups, delete_user_groups, fetch_user_group_members, add_user_group_members, delete_user_group_members, initial_user_group_policies | 无 | 无 | bk-iam 通过 APIGW 提供的管理端 API client |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/management/providers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| reduce | functools.reduce | 不适用 | module |
| or_ | operator.or_ | 不适用 | module |
| Q | django.db.models.Q | 不适用 | module |
| ListResult | iam.resource.provider.ListResult | 不适用 | module |
| ResourceProvider | iam.resource.provider.ResourceProvider | 不适用 | module |
| FancyDict | iam.resource.utils.FancyDict | 不适用 | module |
| Page | iam.resource.utils.Page | 不适用 | module |
| gen_iam_resource_id | paasng.bk_plugins.pluginscenter.iam_adaptor.definitions.gen_iam_resource_id | 不适用 | module |
| gen_iam_resource_name | paasng.bk_plugins.pluginscenter.iam_adaptor.definitions.gen_iam_resource_name | 不适用 | module |
| fetch_grade_manager_members | paasng.bk_plugins.pluginscenter.iam_adaptor.management.shim.fetch_grade_manager_members | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | all, objects, get, filter | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginProvider | iam.resource.provider.ResourceProvider | list_attr, list_attr_value, list_instance, fetch_instance_info, list_instance_by_policy, search_instance | 无 | 无 | IAM ResourceProvider implement for Blueking Plugin |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/management/shim.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| functools | wraps | module |
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| attrgetter | operator.attrgetter | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| define | attrs.define | 不适用 | module |
| APIError | blue_krill.web.std_error.APIError | 不适用 | module |
| settings | django.conf.settings | format, BK_IAM_USER_GROUP_APPLY_TMPL | module |
| PluginRole | paasng.bk_plugins.pluginscenter.constants.PluginRole | ADMINISTRATOR, get_choice_label, DEVELOPER | module |
| definitions | paasng.bk_plugins.pluginscenter.iam_adaptor.definitions | gen_iam_resource, gen_iam_grade_manager, gen_plugin_user_group | module |
| NEVER_EXPIRE_DAYS | paasng.bk_plugins.pluginscenter.iam_adaptor.constants.NEVER_EXPIRE_DAYS | 不适用 | module |
| PLUGIN_BUILTIN_ROLES | paasng.bk_plugins.pluginscenter.iam_adaptor.constants.PLUGIN_BUILTIN_ROLES | 不适用 | module |
| lazy_iam_client | paasng.bk_plugins.pluginscenter.iam_adaptor.management.client.lazy_iam_client | fetch_grade_manager_members, fetch_user_group_members, add_grade_manager_members, add_user_group_members, delete_grade_manager_members, delete_user_group_members, create_grade_manager, create_user_groups, initial_user_group_policies, delete_user_groups | module |
| PluginGradeManager | paasng.bk_plugins.pluginscenter.iam_adaptor.models.PluginGradeManager | filter_by_plugin, objects, create | module |
| PluginUserGroup | paasng.bk_plugins.pluginscenter.iam_adaptor.models.PluginUserGroup | filter_by_plugin, objects, create, get | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| BKIAMApiError | paasng.infras.iam.exceptions.BKIAMApiError | 不适用 | module |
| BKIAMGatewayServiceError | paasng.infras.iam.exceptions.BKIAMGatewayServiceError | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| transform_api_error | `def transform_api_error(func):` | 无 | a decorator transform IAM client exception to APIE... |
| fetch_grade_manager_members | `@transform_api_error:` | transform_api_error | 获取指定插件的分级管理员名单

    :param plugin: 蓝鲸插件
     |
| fetch_role_members | `@transform_api_error:` | transform_api_error | 获取指定插件属于指定角色的用户列表

    :param plugin: 蓝鲸插件
    :pa... |
| add_role_members | `@transform_api_error:` | transform_api_error | 将用户添加为某个角色的成员

    :param plugin: 蓝鲸插件
    :param ... |
| delete_role_members | `@transform_api_error:` | transform_api_error | 将用户从某个角色的成员中删除

    :param plugin: 蓝鲸插件
    :param... |
| fetch_user_roles | `@transform_api_error:` | transform_api_error | 获取用户在插件中的对应的角色 |
| fetch_user_main_role | `def fetch_user_main_role(plugin: PluginInstance, username: str) -> Optional[Role]:` | 无 | 获取用户在插件中的主要角色 |
| remove_user_all_roles | `@transform_api_error:` | transform_api_error | 
    删除用户在某个 APP 下的所有权限角色

    :param plugin: 蓝鲸插件... |
| fetch_plugin_members | `@transform_api_error:` | transform_api_error | 
    获取一个蓝鲸插件所有用户（包含角色信息）
    顺序：管理员(role=2) - 开发者... |
| setup_builtin_grade_manager | `@transform_api_error:` | transform_api_error | 初始化插件的分级管理员

    :param plugin: 蓝鲸插件
     |
| setup_builtin_user_groups | `@transform_api_error:` | transform_api_error | 初始化插件的内建用户组

    :param plugin: 蓝鲸插件
     |
| delete_builtin_user_groups | `def delete_builtin_user_groups(plugin: PluginInstance):` | 无 | 删除插件的内建用户组

    :param plugin: 蓝鲸插件
     |
| user_group_apply_url | `def user_group_apply_url(plugin_id: str) -> dict:` | 无 | 应用用户组权限申请链接 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Role | 无 | 无 | 无 | define | 不适用 |
| PluginMember | 无 | 无 | 无 | define | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/migrations/0001_initial.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | BigAutoField, DateTimeField, CharField, IntegerField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/migrations/0002_iam_migrations.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| migrations | django.db.migrations | Migration | module |
| make_migrate_operation | paasng.bk_plugins.pluginscenter.iam_adaptor.migrator.make_migrate_operation | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| TEMPLATES_PATH | 不适用 | `TEMPLATES_PATH = Path(__file__).parents[1] / 'permission-templates'` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/migrator.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| deepcopy | copy.deepcopy | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | IAM_PLUGINS_CENTER_SYSTEM_ID, BK_IAM_RESOURCE_API_HOST, BK_APP_CODE, IAM_APP_CODE, IAM_APP_SECRET, BK_IAM_V3_INNER_URL | module |
| RunPython | django.db.migrations.RunPython | 不适用 | module |
| exceptions | iam.contrib.iam_migration.exceptions | MigrationFailError, NetworkUnreachableError | module |
| do_migrate | iam.contrib.iam_migration.utils.do_migrate | enable_use_apigateway, api_ping, do_migrate | module |
| safe_jinja2 | paasng.utils.safe_jinja2 | Template | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_migrate_operation | `def make_migrate_operation(template_path: Path):` | 无 | wrap IAM migration operation as django migration s... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| IAMPermissionTemplateRender | 无 | __init__, render, context | 无 | 无 | TemplateRender used to render jinja2 template loca... |
| IAMMigrator | 无 | __init__, migrate | 无 | 无 | A client run iam migration script |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| models | django.db.models | Manager, CharField, IntegerField | module |
| PluginRole | paasng.bk_plugins.pluginscenter.constants.PluginRole | value, DEVELOPER | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| AuditedModel | paasng.utils.models.AuditedModel | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginRelativeManager | django.db.models.Manager | filter_by_plugin | 无 | 无 | 不适用 |
| PluginGradeManager | paasng.utils.models.AuditedModel | 无 | pd_id, plugin_id, grade_manager_id, objects | 无 | 
    IAM 分级管理员与插件的关系

    分级管理员管理用户加入用户组的申请，理论上来说，... |
| PluginUserGroup | paasng.utils.models.AuditedModel | 无 | pd_id, plugin_id, role, user_group_id, objects | 无 | 
    IAM 用户组与插件开发中心用户组的关系

    每个插件默认会有 2 个用户组（不可删... |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/policy/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/policy/client.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | IAM_APP_CODE, IAM_APP_SECRET, BK_IAM_V3_INNER_URL, BKPAAS_URL, BK_IAM_APIGATEWAY_URL, IAM_PLUGINS_CENTER_SYSTEM_ID | module |
| Q | django.db.models.Q | 不适用 | module |
| SimpleLazyObject | django.utils.functional.SimpleLazyObject | 不适用 | module |
| IAM | iam.IAM | 不适用 | module |
| Action | iam.Action | 不适用 | module |
| MultiActionRequest | iam.MultiActionRequest | 不适用 | module |
| Request | iam.Request | 不适用 | module |
| Resource | iam.Resource | 不适用 | module |
| Subject | iam.Subject | 不适用 | module |
| PluginPermissionActions | paasng.bk_plugins.pluginscenter.iam_adaptor.constants.PluginPermissionActions | BASIC_DEVELOPMENT | module |
| IAMResource | paasng.bk_plugins.pluginscenter.iam_adaptor.definitions.IAMResource | 不适用 | module |
| PluginPolicyConverter | paasng.bk_plugins.pluginscenter.iam_adaptor.policy.converter.PluginPolicyConverter | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKIAMClient | 无 | __init__, is_action_allowed, is_actions_allowed, is_batch_resource_actions_allowed, build_plugin_filters | 无 | 无 | bk-iam 通过 SDK 提供的 API client |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/policy/converter.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| operator | or_ | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Q | django.db.models.Q | 不适用 | module |
| DjangoQuerySetConverter | iam.contrib.converter.queryset.DjangoQuerySetConverter | 不适用 | module |
| OP | iam.eval.constants.OP | EQ, IN | module |
| reduce | six.moves.reduce | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginPolicyConverter | iam.contrib.converter.queryset.DjangoQuerySetConverter | operator_map, eq_plugin_id, in_plugin_id | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/policy/permissions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| PermissionDenied | rest_framework.exceptions.PermissionDenied | 不适用 | module |
| BasePermission | rest_framework.permissions.BasePermission | 不适用 | module |
| PluginPermissionActions | paasng.bk_plugins.pluginscenter.iam_adaptor.constants.PluginPermissionActions | get_choice_label | module |
| gen_iam_resource | paasng.bk_plugins.pluginscenter.iam_adaptor.definitions.gen_iam_resource | 不适用 | module |
| user_group_apply_url | paasng.bk_plugins.pluginscenter.iam_adaptor.management.shim.user_group_apply_url | 不适用 | module |
| lazy_iam_client | paasng.bk_plugins.pluginscenter.iam_adaptor.policy.client.lazy_iam_client | is_action_allowed, is_actions_allowed | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| plugin_action_permission_class | `def plugin_action_permission_class(actions: List[PluginPermissionActions], use_cache: bool = False):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/iam_adaptor/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | IAM_PLUGINS_CENTER_SYSTEM_ID, IAM_APP_CODE, IAM_APP_SECRET, BK_IAM_V3_INNER_URL, BKPAAS_URL, BK_IAM_APIGATEWAY_URL | module |
| SimpleLazyObject | django.utils.functional.SimpleLazyObject | 不适用 | module |
| IAM | iam.IAM | 不适用 | module |
| DjangoBasicResourceApiDispatcher | iam.contrib.django.dispatcher.DjangoBasicResourceApiDispatcher | 不适用 | module |
| APIView | rest_framework.views.APIView | 不适用 | module |
| ResourceType | paasng.bk_plugins.pluginscenter.iam_adaptor.constants.ResourceType | PLUGIN | module |
| PluginProvider | paasng.bk_plugins.pluginscenter.iam_adaptor.management.providers.PluginProvider | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_api_dispatcher | `def get_api_dispatcher():` | 无 | 不适用 |
| get_iam | `def get_iam():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginSelectionView | rest_framework.views.APIView | post | permission_classes | 无 | A view provider IAM resource selection callback fo... |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/itsm_adaptor/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/itsm_adaptor/apigw/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/itsm_adaptor/apigw/client.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| APIGatewayClient | bkapi_client_core.apigateway.APIGatewayClient | 不适用 | module |
| Operation | bkapi_client_core.apigateway.Operation | 不适用 | module |
| OperationGroup | bkapi_client_core.apigateway.OperationGroup | 不适用 | module |
| bind_property | bkapi_client_core.apigateway.bind_property | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Group | bkapi_client_core.apigateway.OperationGroup | 无 | add_follower, approve, callback_failed_ticket, create_service_catalog, create_ticket, get_approver, get_service_catalogs, get_service_detail, get_service_roles, get_services, get_ticket_info, get_ticket_logs, get_ticket_status, get_tickets, get_tickets_by_user, get_workflow_detail, import_service, operate_node, operate_ticket, proceed_approval, ticket_approval_result, token_verify, update_service | 无 | 不适用 |
| Client | bkapi_client_core.apigateway.APIGatewayClient | 无 | _api_name, api | 无 | bk-itsm
    工单流系统
     |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/itsm_adaptor/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |
| logging | getLogger, exception | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| APIGatewayResponseError | bkapi_client_core.exceptions.APIGatewayResponseError | 不适用 | module |
| settings | django.conf.settings | BK_COOKIE_NAME, BK_API_URL_TMPL, BK_PLUGIN_APIGW_SERVICE_STAGE, BK_APP_CODE, BK_APP_SECRET, BASE_DIR | module |
| Client | paasng.bk_plugins.pluginscenter.itsm_adaptor.apigw.client.Client | 不适用 | module |
| ApprovalServiceName | paasng.bk_plugins.pluginscenter.itsm_adaptor.constants.ApprovalServiceName | get_choice_label | module |
| ItsmApiError | paasng.bk_plugins.pluginscenter.itsm_adaptor.exceptions.ItsmApiError | 不适用 | module |
| ItsmCatalogNotExistsError | paasng.bk_plugins.pluginscenter.itsm_adaptor.exceptions.ItsmCatalogNotExistsError | 不适用 | module |
| ItsmGatewayServiceError | paasng.bk_plugins.pluginscenter.itsm_adaptor.exceptions.ItsmGatewayServiceError | 不适用 | module |
| ItsmServiceNotExistsError | paasng.bk_plugins.pluginscenter.itsm_adaptor.exceptions.ItsmServiceNotExistsError | 不适用 | module |
| ItsmDetail | paasng.bk_plugins.pluginscenter.models.instances.ItsmDetail | 不适用 | module |
| Group | paasng.infras.iam.apigw.client.Group | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ItsmClient | 无 | __init__, search_service_catalogs, get_root_catalog_id, get_plugin_center_catalog_id, create_plugin_center_catalog, get_service_id_by_name, import_service, create_ticket, get_ticket_status, withdraw_ticket, verify_token | 无 | 无 | bk-itsm 通过 API 网关提供的 API |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/itsm_adaptor/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApprovalServiceName | blue_krill.data_types.enum.StrStructuredEnum | 无 | CREATE_APPROVAL, ONLINE_APPROVAL, VISIBLE_RANGE_APPROVAL, CODECC_FULL_RELEASE_APPROVAL, CODECC_GRAY_RELEASE_APPROVAL, CODECC_ORG_GRAY_RELEASE_APPROVAL | 无 | 审批流程服务名 |
| ItsmTicketStatus | blue_krill.data_types.enum.StrStructuredEnum | completed_status | RUNNING, SUSPENDED, FINISHED, TERMINATED, REVOKED | 无 | ITSM 流程状态 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/itsm_adaptor/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ItsmGatewayServiceError | Exception | __init__ | 无 | 无 | This error indicates that there's something wrong ... |
| ItsmApiError | ItsmGatewayServiceError | 无 | 无 | 无 | When calling the bk-itsm api, bk-itsm returns an e... |
| ItsmCatalogNotExistsError | ItsmGatewayServiceError | 无 | 无 | 无 | The specified catalog could not be queried on ITSM |
| ItsmServiceNotExistsError | ItsmGatewayServiceError | 无 | 无 | 无 | The specified service could not be queried on ITSM |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/itsm_adaptor/open_apis/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/itsm_adaptor/open_apis/authentication.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BasicAuthentication | rest_framework.authentication.BasicAuthentication | 不适用 | module |
| AuthenticationFailed | rest_framework.exceptions.AuthenticationFailed | 不适用 | module |
| ItsmClient | paasng.bk_plugins.pluginscenter.itsm_adaptor.client.ItsmClient | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ItsmBasicAuthentication | rest_framework.authentication.BasicAuthentication | authenticate | 无 | 无 | 自定义认证逻辑，对 ITSM 请求认证 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/itsm_adaptor/open_apis/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| path | django.urls.path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [path('open/api/itsm/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/', views.PluginCallBackApiViewSet.as_view({'post': 'itsm_create_callback'})), path('open/api/itsm/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/releases/<str:release_id>/stages/<str:stage_id>/', views.PluginCallBackApiViewSet.as_view({'post': 'itsm_stage_callback'})), path('open/api/itsm/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/visible_range/', views.PluginCallBackApiViewSet.as_view({'post': 'itsm_visible_range_callback'})), path('open/api/itsm/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/releases/' + '<str:release_id>/strategy/<str:release_strategy_id>/', views.PluginCallBackApiViewSet.as_view({'post': 'itsm_canary_callback'}))]` | module |



---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/itsm_adaptor/open_apis/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| define | attrs.define | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| constants | paasng.bk_plugins.pluginscenter.constants | DEVELOPING, PluginStatus, FULL, ReleaseStrategy, FULL_APPROVAL_FAILED, GrayReleaseStatus, GRAY_APPROVAL_FAILED, FAILED, PluginReleaseStatus, SUCCESSFUL, FULLY_RELEASED, INTERRUPTED, PENDING, IN_GRAY, APPROVAL_FAILED | module |
| serializers | paasng.bk_plugins.pluginscenter.serializers | ItsmApprovalSLZ | module |
| shim | paasng.bk_plugins.pluginscenter.shim | init_plugin_in_view, update_visible_range_and_callback | module |
| ItsmTicketStatus | paasng.bk_plugins.pluginscenter.itsm_adaptor.constants.ItsmTicketStatus | completed_status, FINISHED, TERMINATED, REVOKED | module |
| ItsmBasicAuthentication | paasng.bk_plugins.pluginscenter.itsm_adaptor.open_apis.authentication.ItsmBasicAuthentication | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | all, objects | module |
| PluginVisibleRange | paasng.bk_plugins.pluginscenter.models.PluginVisibleRange | get_or_initialize_with_default | module |
| release | paasng.bk_plugins.pluginscenter.thirdparty.release | get, all_stages, latest_release_strategy, save | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CanaryStatus | 无 | 无 | 无 | define | 不适用 |
| PluginCallBackApiViewSet | rest_framework.viewsets.GenericViewSet | get_plugin_instance, itsm_stage_callback, itsm_create_callback, itsm_visible_range_callback, itsm_canary_callback, _convert_canary_status, _convert_release_status, _convert_create_status | authentication_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/itsm_adaptor/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| typing | TYPE_CHECKING | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | BK_IAM_RESOURCE_API_HOST, PLUGIN_CENTER_URL | module |
| GrayReleaseStatus | paasng.bk_plugins.pluginscenter.constants.GrayReleaseStatus | FULL_APPROVAL_IN_PROGRESS, GRAY_APPROVAL_IN_PROGRESS | module |
| PluginReleaseStatus | paasng.bk_plugins.pluginscenter.constants.PluginReleaseStatus | INITIAL, PENDING | module |
| PluginRole | paasng.bk_plugins.pluginscenter.constants.PluginRole | ADMINISTRATOR | module |
| ReleaseStageInvokeMethod | paasng.bk_plugins.pluginscenter.constants.ReleaseStageInvokeMethod | value, ITSM | module |
| ReleaseStrategy | paasng.bk_plugins.pluginscenter.constants.ReleaseStrategy | GRAY, FULL | module |
| shim | paasng.bk_plugins.pluginscenter.iam_adaptor.management.shim | 不适用 | module |
| ItsmClient | paasng.bk_plugins.pluginscenter.itsm_adaptor.client.ItsmClient | 不适用 | module |
| ApprovalServiceName | paasng.bk_plugins.pluginscenter.itsm_adaptor.constants.ApprovalServiceName | value, CREATE_APPROVAL, ONLINE_APPROVAL, VISIBLE_RANGE_APPROVAL | module |
| ItsmTicketStatus | paasng.bk_plugins.pluginscenter.itsm_adaptor.constants.ItsmTicketStatus | get_choice_label, completed_status | module |
| ApprovalService | paasng.bk_plugins.pluginscenter.models.ApprovalService | get, objects | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| PluginRelease | paasng.bk_plugins.pluginscenter.models.PluginRelease | 不适用 | module |
| PluginVisibleRange | paasng.bk_plugins.pluginscenter.models.PluginVisibleRange | get_or_initialize_with_default | module |
| is_release_strategy_organization_changed | paasng.bk_plugins.pluginscenter.models.instances.is_release_strategy_organization_changed | 不适用 | module |
| ItsmDetail | paasng.bk_plugins.pluginscenter.models.instances.ItsmDetail | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| ITSM_FIELD_PLACEHOLDER | -- | `ITSM_FIELD_PLACEHOLDER = '--'` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| submit_create_approval_ticket | `def submit_create_approval_ticket(pd: PluginDefinition, plugin: PluginInstance, operator: str):` | 无 | 提交创建申请单据 |
| submit_online_approval_ticket | `def submit_online_approval_ticket(pd: PluginDefinition, plugin: PluginInstance, version: PluginRelease, operator: str):` | 无 | 提交上线申请申请单据 |
| submit_canary_release_ticket | `def submit_canary_release_ticket(pd: PluginDefinition, plugin: PluginInstance, version: PluginRelease, operator: str) -> 'ItsmDetail':` | 无 | 提交灰度发布申请单据 |
| submit_visible_range_ticket | `def submit_visible_range_ticket(pd: PluginDefinition, plugin: PluginInstance, operator: str, visible_range_obj: 'PluginVisibleRange', bkci_project: Optional[list], organization: Optional[list]) -> 'ItsmDetail':` | 无 | 不适用 |
| get_ticket_status | `def get_ticket_status(sn: str) -> dict:` | 无 | 查询 itsm 单据状态

    itsm 返回数据格式：{
        "ticket_ur... |
| is_itsm_ticket_closed | `def is_itsm_ticket_closed(sn: str) -> bool:` | 无 | 
    ITSM 审批单据流程是否已经结束

    :param sn: 审批单据 ID
   ... |


---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/log/__init__.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| logging | getLogger | module |
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Literal | typing.Literal | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| cast | typing.cast | 不适用 | module |
| LogClientProtocol | paasng.bk_plugins.pluginscenter.log.client.LogClientProtocol | 不适用 | module |
| instantiate_log_client | paasng.bk_plugins.pluginscenter.log.client.instantiate_log_client | 不适用 | module |
| LogType | paasng.accessories.log.constants.LogType | STANDARD_OUTPUT, STRUCTURED, INGRESS | module |
| ProcessLogQueryConfig | paasng.accessories.log.models.ProcessLogQueryConfig | select_process_irrelevant, objects | module |
| setup_env_log_model | paasng.accessories.log.shim.setup_env_log_model | 不适用 | module |
| ElasticSearchParams | paasng.bk_plugins.pluginscenter.definitions.ElasticSearchParams | 不适用 | module |
| FieldBucketData | paasng.bk_plugins.pluginscenter.log.client.FieldBucketData | 不适用 | module |
| Response | paasng.bk_plugins.pluginscenter.log.client.Response | 不适用 | module |
| ElasticSearchFilter | paasng.bk_plugins.pluginscenter.log.filters.ElasticSearchFilter | 不适用 | module |
| IngressLogLine | paasng.bk_plugins.pluginscenter.log.responses.IngressLogLine | 不适用 | module |
| StandardOutputLogLine | paasng.bk_plugins.pluginscenter.log.responses.StandardOutputLogLine | 不适用 | module |
| StructureLogLine | paasng.bk_plugins.pluginscenter.log.responses.StructureLogLine | 不适用 | module |
| clean_logs | paasng.bk_plugins.pluginscenter.log.utils.clean_logs | 不适用 | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| clean_histogram_buckets | paasng.utils.es_log.misc.clean_histogram_buckets | 不适用 | module |
| DateHistogram | paasng.utils.es_log.models.DateHistogram | 不适用 | module |
| FieldFilter | paasng.utils.es_log.models.FieldFilter | 不适用 | module |
| Logs | paasng.utils.es_log.models.Logs | 不适用 | module |
| SmartSearch | paasng.utils.es_log.search.SmartSearch | 不适用 | module |
| SmartTimeRange | paasng.utils.es_log.time_range.SmartTimeRange | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| DEFAULT_ES_SEARCH_TIMEOUT | 30 | `DEFAULT_ES_SEARCH_TIMEOUT = 30` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| query_standard_output_logs | `def query_standard_output_logs(pd: PluginDefinition, instance: PluginInstance, operator: str, time_range: SmartTimeRange, query_string: str, limit: int, offset: int) -> Logs[StandardOutputLogLine]:` | 无 | 查询标准输出日志 |
| query_structure_logs | `def query_structure_logs(pd: PluginDefinition, instance: PluginInstance, operator: str, time_range: SmartTimeRange, query_string: str, limit: int, offset: int, terms: Optional[Dict[str, List[str]]] = None, exclude: Optional[Dict[str, List[str]]] = None) -> Logs[StructureLogLine]:` | 无 | 查询结构化日志 |
| query_ingress_logs | `def query_ingress_logs(pd: PluginDefinition, instance: PluginInstance, operator: str, time_range: SmartTimeRange, query_string: str, limit: int, offset: int) -> Logs[IngressLogLine]:` | 无 | 查询 ingress 访问日志 |
| aggregate_date_histogram | `def aggregate_date_histogram(pd: PluginDefinition, instance: PluginInstance, log_type: Literal['standard_output', 'structure', 'ingress'], operator: str, time_range: SmartTimeRange, query_string: str, terms: Optional[Dict[str, List[str]]] = None, exclude: Optional[Dict[str, List[str]]] = None) -> DateHistogram:` | 无 | 查询日志的直方图 |
| aggregate_fields_filters | `def aggregate_fields_filters(pd: PluginDefinition, instance: PluginInstance, log_type: Literal['standard_output', 'structure', 'ingress'], operator: str, time_range: SmartTimeRange, query_string: str, terms: Optional[Dict[str, List[str]]] = None, exclude: Optional[Dict[str, List[str]]] = None) -> List[FieldFilter]:` | 无 | 查询日志的可选字段和对应的值分布(只取前200条数据做统计) |
| make_base_search | `def make_base_search(plugin: PluginInstance, search_params: ElasticSearchParams, time_range: SmartTimeRange, limit: int = 200, offset: int = 0) -> SmartSearch:` | 无 | 生成基础的搜索语句, 包括过滤插件id、时间范围、分页等 |
| get_filter_fields | `def get_filter_fields(pd: PluginDefinition, log_type: LogType) -> List[str]:` | 无 | 获取插件类型中声明的字段列表 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LogClientAdaptor | 无 | __init__, execute_search, aggregate_date_histogram, aggregate_fields_filters | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/log/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| reduce | functools.reduce | 不适用 | module |
| add | operator.add | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Protocol | typing.Protocol | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| settings | django.conf.settings | TIME_ZONE | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| Elasticsearch | elasticsearch.Elasticsearch | 不适用 | module |
| DateHistogram | elasticsearch_dsl.aggs.DateHistogram | 不适用 | module |
| AggResponse | elasticsearch_dsl.response.AggResponse | 不适用 | module |
| Response | elasticsearch_dsl.response.Response | 不适用 | module |
| FieldBucketData | elasticsearch_dsl.response.aggs.FieldBucketData | 不适用 | module |
| BKLogConfig | paasng.bk_plugins.pluginscenter.definitions.BKLogConfig | 不适用 | module |
| ElasticSearchHost | paasng.bk_plugins.pluginscenter.definitions.ElasticSearchHost | 不适用 | module |
| PluginBackendAPIResource | paasng.bk_plugins.pluginscenter.definitions.PluginBackendAPIResource | 不适用 | module |
| PluginLogConfig | paasng.bk_plugins.pluginscenter.definitions.PluginLogConfig | 不适用 | module |
| error_codes | paasng.bk_plugins.pluginscenter.exceptions.error_codes | f, QUERY_ES_ERROR | module |
| DEFAULT_LOG_BATCH_SIZE | paasng.bk_plugins.pluginscenter.log.constants.DEFAULT_LOG_BATCH_SIZE | 不适用 | module |
| BkLogApiError | paasng.bk_plugins.pluginscenter.log.exceptions.BkLogApiError | 不适用 | module |
| make_client | paasng.bk_plugins.pluginscenter.thirdparty.utils.make_client | 不适用 | module |
| count_filters_options | paasng.utils.es_log.misc.count_filters_options | 不适用 | module |
| FieldFilter | paasng.utils.es_log.models.FieldFilter | 不适用 | module |
| SmartSearch | paasng.utils.es_log.search.SmartSearch | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| instantiate_log_client | `def instantiate_log_client(log_config: PluginLogConfig, bk_username: str) -> LogClientProtocol:` | 无 | 实例化 log client 实例 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LogClientProtocol | typing.Protocol | execute_search, aggregate_date_histogram, aggregate_fields_filters | 无 | 无 | LogClient protocol, all log search backend should ... |
| BKLogClient | 无 | __init__, execute_search, aggregate_date_histogram, aggregate_fields_filters, _call_api | 无 | 无 | BKLogClient is an implement of LogClientProtocol, ... |
| ESLogClient | 无 | __init__, execute_search, aggregate_date_histogram, aggregate_fields_filters, _get_response_count, _get_properties_filters, _clean_property | 无 | 无 | ESLogClient is an implement of LogClientProtocol, ... |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/log/constants.py




#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| DEFAULT_LOG_BATCH_SIZE | 200 | `DEFAULT_LOG_BATCH_SIZE = 200` | module |



---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/log/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkLogGatewayServiceError | Exception | __init__ | 无 | 无 | This error indicates that there's something wrong ... |
| BkLogApiError | BkLogGatewayServiceError | 无 | 无 | 无 | When calling the bk_log api, bk_log returns an err... |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/log/filters.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ElasticSearchParams | paasng.bk_plugins.pluginscenter.definitions.ElasticSearchParams | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| safe_jinja2 | paasng.utils.safe_jinja2 | Template | module |
| SmartSearch | paasng.utils.es_log.search.SmartSearch | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ElasticSearchFilter | 无 | __init__, filter_by_plugin, filter_by_builtin_filters, filter_by_builtin_excludes | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/log/responses.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| converters | attrs.converters | optional | module |
| define | attrs.define | 不适用 | module |
| fields | attrs.fields | 不适用 | module |
| LogLine | paasng.utils.es_log.models.LogLine | 不适用 | module |
| extra_field | paasng.utils.es_log.models.extra_field | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| StandardOutputLogLine | paasng.utils.es_log.models.LogLine | 无 | 无 | define | 标准输出日志结构 |
| StructureLogLine | paasng.utils.es_log.models.LogLine | 无 | 无 | define | 结构化日志结构 |
| IngressLogLine | paasng.utils.es_log.models.LogLine | __attrs_post_init__ | 无 | define | ingress 访问日志结构 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/log/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Hit | elasticsearch_dsl.response.Hit | 不适用 | module |
| ElasticSearchParams | paasng.bk_plugins.pluginscenter.definitions.ElasticSearchParams | 不适用 | module |
| flatten_structure | paasng.utils.es_log.misc.flatten_structure | 不适用 | module |
| format_timestamp | paasng.utils.es_log.misc.format_timestamp | 不适用 | module |
| FlattenLog | paasng.utils.es_log.models.FlattenLog | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| clean_logs | `def clean_logs(logs: List[Hit], search_params: ElasticSearchParams) -> List[FlattenLog]:` | 无 | 从 ES 日志中转换成扁平化的 FlattenLog, 方便后续对日志字段的提取 |


---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/management/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/management/commands/create_or_update_plugin_type.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pprint | pp | module |
| cattr | structure | module |
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| settings | django.conf.settings | BASE_DIR | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| definitions | paasng.bk_plugins.pluginscenter.definitions | PluginDefinition | module |
| models | paasng.bk_plugins.pluginscenter.models | filter, objects, PluginDefinition, update_or_create, PluginBasicInfoDefinition, PluginMarketInfoDefinition, PluginVisibleRangeDefinition, PluginConfigInfoDefinition | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/management/commands/del_plugin_type.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | filter, objects | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | filter, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/management/commands/import_itsm_service.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| ItsmClient | paasng.bk_plugins.pluginscenter.itsm_adaptor.client.ItsmClient | 不适用 | module |
| ApprovalServiceName | paasng.bk_plugins.pluginscenter.itsm_adaptor.constants.ApprovalServiceName | get_values | module |
| ItsmApiError | paasng.bk_plugins.pluginscenter.itsm_adaptor.exceptions.ItsmApiError | 不适用 | module |
| ItsmCatalogNotExistsError | paasng.bk_plugins.pluginscenter.itsm_adaptor.exceptions.ItsmCatalogNotExistsError | 不适用 | module |
| ItsmGatewayServiceError | paasng.bk_plugins.pluginscenter.itsm_adaptor.exceptions.ItsmGatewayServiceError | 不适用 | module |
| ApprovalService | paasng.bk_plugins.pluginscenter.models.instances.ApprovalService | filter, objects, update_or_create | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | SET_NULL, deletion, models, db, CASCADE | module |
| paasng.bk_plugins.pluginscenter.constants | PluginCreateApprovalField, definitions, models, pluginscenter, bk_plugins, ReleaseRevisionDefinitionField, ReleaseStageDefinitionField, PluginLogConfigField, PluginCodeTemplateField, instances, PluginStatus, constants, BkUserField, utils, StagesShortcutField, PluginReleaseStatus, PluginBackendAPIResourceField, PluginBackendAPIField, PluginExtraFieldField, FieldSchemaField, PluginCodeTemplateListField | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel, AddField | module |
| models | django.db.models | UUIDField, DateTimeField, CharField, TextField, JSONField, ForeignKey, BigAutoField, OneToOneField, IntegerField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0002_auto_20221025_1041.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | BooleanField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0003_auto_20221101_1803.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.bk_plugins.pluginscenter.models.definitions | PluginBackendAPIResourceField, definitions, models, pluginscenter, bk_plugins, StagesShortcutField, instances | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0004_approvalservice.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | UUIDField, DateTimeField, CharField, IntegerField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0005_auto_20221101_1757.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.bk_plugins.pluginscenter.models.instances | ItsmDetailField, instances, models, pluginscenter, bk_plugins | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0006_auto_20221115_1128.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| paasng.bk_plugins.pluginscenter.constants | PluginBackendAPIResourceField, definitions, models, pluginscenter, bk_plugins, PluginConfigColumnDefinitionField, PluginStatus, constants | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel, AlterField, DeleteModel, AddField, AlterUniqueTogether | module |
| models | django.db.models | BigAutoField, DateTimeField, CharField, JSONField, OneToOneField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0007_operationrecord.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| paasng.utils.models | BkUserField, models, utils | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | BigAutoField, DateTimeField, CharField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0008_auto_20221117_1432.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RenameField, AddField | module |
| models | django.db.models | TextField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0009_auto_20221205_1514.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.bk_plugins.pluginscenter.constants | PluginFeaturesField, definitions, models, pluginscenter, bk_plugins, PluginStatus, constants | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | BooleanField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0010_plugininstance_logo.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.bk_plugins.pluginscenter.models.instances | ProcessedImageField, models, utils, generate_plugin_logo_filename, instances, pluginscenter, bk_plugins | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0011_auto_20230209_1734.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0012_pluginreleasestage_pipeline_detail.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | JSONField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0013_pluginreleasestage_operator.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0014_pluginbasicinfodefinition_overview_page.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.bk_plugins.pluginscenter.models.definitions | PluginoverviewPageField, definitions, models, pluginscenter, bk_plugins | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0015_auto_20231125_1713.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | JSONField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0016_auto_20231204_2121.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | JSONField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0017_auto_20231204_2203.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.bk_plugins.pluginscenter.models.definitions | PluginExtraFieldField, definitions, models, pluginscenter, bk_plugins | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0018_auto_20240130_1450.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| paasng.bk_plugins.pluginscenter.models.definitions | ReleaseRevisionDefinitionField, definitions, models, pluginscenter, bk_plugins, ReleaseStageDefinitionField | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField, CreateModel | module |
| models | django.db.models | CharField, BigAutoField, DateTimeField, TextField, JSONField, OneToOneField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0019_auto_20240515_1546.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.bk_plugins.pluginscenter.constants | StatusPollingMethod, constants, pluginscenter, bk_plugins | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | CharField, JSONField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0020_auto_20240517_1544.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.bk_plugins.pluginscenter.constants | PluginBasicInfoAccessMode, constants, pluginscenter, bk_plugins, PluginBackendAPIResourceField, definitions, models | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | CharField, TextField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0021_auto_20240520_1315.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.bk_plugins.pluginscenter.models.instances | ItsmDetailField, instances, models, pluginscenter, bk_plugins | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | BooleanField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0022_auto_20240730_1752.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| paasng.bk_plugins.pluginscenter.models.instances | ItsmDetailField, instances, models, pluginscenter, bk_plugins | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0023_auto_20240812_2042.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.bk_plugins.pluginscenter.models.definitions | PluginBackendAPIField, definitions, models, pluginscenter, bk_plugins, PluginVisibleRangeLevelField | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RemoveField, AddField, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0024_auto_20240814_1902.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | BooleanField, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/0025_auto_20240827_1624.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.bk_plugins.pluginscenter.constants | GrayReleaseStatus, constants, pluginscenter, bk_plugins | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/models/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PluginBasicInfoDefinition | apiserver.paasng.paasng.bk_plugins.pluginscenter.models.definitions.PluginBasicInfoDefinition | 不适用 | module |
| PluginConfigInfoDefinition | apiserver.paasng.paasng.bk_plugins.pluginscenter.models.definitions.PluginConfigInfoDefinition | 不适用 | module |
| PluginDefinition | apiserver.paasng.paasng.bk_plugins.pluginscenter.models.definitions.PluginDefinition | 不适用 | module |
| PluginMarketInfoDefinition | apiserver.paasng.paasng.bk_plugins.pluginscenter.models.definitions.PluginMarketInfoDefinition | 不适用 | module |
| PluginVisibleRangeDefinition | apiserver.paasng.paasng.bk_plugins.pluginscenter.models.definitions.PluginVisibleRangeDefinition | 不适用 | module |
| ApprovalService | apiserver.paasng.paasng.bk_plugins.pluginscenter.models.instances.ApprovalService | 不适用 | module |
| OperationRecord | apiserver.paasng.paasng.bk_plugins.pluginscenter.models.instances.OperationRecord | 不适用 | module |
| PluginConfig | apiserver.paasng.paasng.bk_plugins.pluginscenter.models.instances.PluginConfig | 不适用 | module |
| PluginInstance | apiserver.paasng.paasng.bk_plugins.pluginscenter.models.instances.PluginInstance | 不适用 | module |
| PluginMarketInfo | apiserver.paasng.paasng.bk_plugins.pluginscenter.models.instances.PluginMarketInfo | 不适用 | module |
| PluginRelease | apiserver.paasng.paasng.bk_plugins.pluginscenter.models.instances.PluginRelease | 不适用 | module |
| PluginReleaseStage | apiserver.paasng.paasng.bk_plugins.pluginscenter.models.instances.PluginReleaseStage | 不适用 | module |
| PluginReleaseStrategy | apiserver.paasng.paasng.bk_plugins.pluginscenter.models.instances.PluginReleaseStrategy | 不适用 | module |
| PluginVisibleRange | apiserver.paasng.paasng.bk_plugins.pluginscenter.models.instances.PluginVisibleRange | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/models/definitions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| models | django.db.models | CharField, TextField, JSONField, OneToOneField, CASCADE | module |
| TranslatedFieldWithFallback | translated_fields.TranslatedFieldWithFallback | 不适用 | module |
| PluginBasicInfoAccessMode | paasng.bk_plugins.pluginscenter.constants.PluginBasicInfoAccessMode | READWRITE | module |
| PluginReleaseType | paasng.bk_plugins.pluginscenter.constants.PluginReleaseType | TEST | module |
| FieldSchema | paasng.bk_plugins.pluginscenter.definitions.FieldSchema | 不适用 | module |
| PluginBackendAPI | paasng.bk_plugins.pluginscenter.definitions.PluginBackendAPI | 不适用 | module |
| PluginBackendAPIResource | paasng.bk_plugins.pluginscenter.definitions.PluginBackendAPIResource | 不适用 | module |
| PluginCodeTemplate | paasng.bk_plugins.pluginscenter.definitions.PluginCodeTemplate | 不适用 | module |
| PluginConfigColumnDefinition | paasng.bk_plugins.pluginscenter.definitions.PluginConfigColumnDefinition | 不适用 | module |
| PluginCreateApproval | paasng.bk_plugins.pluginscenter.definitions.PluginCreateApproval | 不适用 | module |
| PluginFeature | paasng.bk_plugins.pluginscenter.definitions.PluginFeature | 不适用 | module |
| PluginLogConfig | paasng.bk_plugins.pluginscenter.definitions.PluginLogConfig | 不适用 | module |
| PluginoverviewPage | paasng.bk_plugins.pluginscenter.definitions.PluginoverviewPage | 不适用 | module |
| PluginVisibleRangeLevel | paasng.bk_plugins.pluginscenter.definitions.PluginVisibleRangeLevel | 不适用 | module |
| ReleaseRevisionDefinition | paasng.bk_plugins.pluginscenter.definitions.ReleaseRevisionDefinition | 不适用 | module |
| ReleaseStageDefinition | paasng.bk_plugins.pluginscenter.definitions.ReleaseStageDefinition | 不适用 | module |
| AuditedModel | paasng.utils.models.AuditedModel | 不适用 | module |
| UuidAuditedModel | paasng.utils.models.UuidAuditedModel | 不适用 | module |
| make_json_field | paasng.utils.models.make_json_field | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| FieldSchemaField | 不适用 | `FieldSchemaField = make_json_field('FieldSchemaField', FieldSchema)` | module |
| PluginBackendAPIField | 不适用 | `PluginBackendAPIField = make_json_field('PluginBackendAPIField', PluginBackendAPI)` | module |
| PluginBackendAPIResourceField | 不适用 | `PluginBackendAPIResourceField = make_json_field('PluginBackendAPIResourceField', PluginBackendAPIResource)` | module |
| ReleaseRevisionDefinitionField | 不适用 | `ReleaseRevisionDefinitionField = make_json_field('ReleaseRevisionDefinitionField', ReleaseRevisionDefinition)` | module |
| ReleaseStageDefinitionField | 不适用 | `ReleaseStageDefinitionField = make_json_field('ReleaseStageDefinitionField', List[ReleaseStageDefinition])` | module |
| PluginLogConfigField | 不适用 | `PluginLogConfigField = make_json_field('PluginLogConfigField', PluginLogConfig)` | module |
| PluginCreateApprovalField | 不适用 | `PluginCreateApprovalField = make_json_field('PluginCreateApprovalField', PluginCreateApproval)` | module |
| PluginCodeTemplateListField | 不适用 | `PluginCodeTemplateListField = make_json_field('PluginCodeTemplateListField', List[PluginCodeTemplate])` | module |
| PluginExtraFieldField | 不适用 | `PluginExtraFieldField = make_json_field('PluginExtraFieldField', Dict[str, FieldSchema])` | module |
| PluginConfigColumnDefinitionField | 不适用 | `PluginConfigColumnDefinitionField = make_json_field('PluginConfigColumnDefinitionField', List[PluginConfigColumnDefinition])` | module |
| PluginFeaturesField | 不适用 | `PluginFeaturesField = make_json_field('PluginFeaturesField', List[PluginFeature])` | module |
| PluginoverviewPageField | 不适用 | `PluginoverviewPageField = make_json_field('PluginoverviewPageField', PluginoverviewPage)` | module |
| PluginVisibleRangeLevelField | 不适用 | `PluginVisibleRangeLevelField = make_json_field('PluginVisibleRangeLevelField', List[PluginVisibleRangeLevel])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginDefinition | paasng.utils.models.UuidAuditedModel | get_release_revision_by_type, get_release_stage_by_type | identifier, name, description, docs, logo, administrator, approval_config | 无 | 不适用 |
| PluginBasicInfoDefinition | paasng.utils.models.AuditedModel | get_languages | pd, id_schema, name_schema, init_templates, access_mode, release_method, repository_group, extra_fields, extra_fields_en, extra_fields_order, overview_page, description, publisher_description | 无 | 不适用 |
| PluginMarketInfoDefinition | paasng.utils.models.AuditedModel | 无 | pd, storage, extra_fields, extra_fields_en, extra_fields_order | 无 | 不适用 |
| PluginConfigInfoDefinition | paasng.utils.models.AuditedModel | 无 | pd, title, description, docs | 无 | 不适用 |
| PluginVisibleRangeDefinition | paasng.utils.models.AuditedModel | 无 | pd | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/models/instances.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| time | time_ns | module |
| cattr | structure, unstructure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PurePath | pathlib.PurePath | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| define | attrs.define | 不适用 | module |
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| RequestError | bkstorages.backends.bkrepo.RequestError | 不适用 | module |
| settings | django.conf.settings | PLUGIN_APP_DEFAULT_LOGO | module |
| SuspiciousOperation | django.core.exceptions.SuspiciousOperation | 不适用 | module |
| models | django.db.models | ForeignKey, SET_NULL, CharField, JSONField, BooleanField, OneToOneField, CASCADE, TextField, Manager, IntegerField | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| ResizeToFill | pilkit.processors.ResizeToFill | 不适用 | module |
| TranslatedFieldWithFallback | translated_fields.TranslatedFieldWithFallback | 不适用 | module |
| constants | paasng.bk_plugins.pluginscenter.constants | get_choices, PluginStatus, WAITING_APPROVAL, TEST, PluginReleaseType, PROD, running_status, PluginReleaseStatus, SUCCESSFUL, INITIAL, IN_GRAY, GrayReleaseStatus, PENDING, API, StatusPollingMethod, ReleaseStrategy, FULL, ActionTypes, SubjectTypes, get_choice_label | module |
| PluginCodeTemplate | paasng.bk_plugins.pluginscenter.definitions.PluginCodeTemplate | 不适用 | module |
| PluginoverviewPage | paasng.bk_plugins.pluginscenter.definitions.PluginoverviewPage | 不适用 | module |
| find_stage_by_id | paasng.bk_plugins.pluginscenter.definitions.find_stage_by_id | 不适用 | module |
| ApprovalServiceName | paasng.bk_plugins.pluginscenter.itsm_adaptor.constants.ApprovalServiceName | CODECC_FULL_RELEASE_APPROVAL, CODECC_ORG_GRAY_RELEASE_APPROVAL, CODECC_GRAY_RELEASE_APPROVAL | module |
| plugin_logo_storage | paasng.core.core.storages.object_storage.plugin_logo_storage | 不适用 | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |
| AuditedModel | paasng.utils.models.AuditedModel | 不适用 | module |
| BkUserField | paasng.utils.models.BkUserField | 不适用 | module |
| ProcessedImageField | paasng.utils.models.ProcessedImageField | 不适用 | module |
| UuidAuditedModel | paasng.utils.models.UuidAuditedModel | 不适用 | module |
| make_json_field | paasng.utils.models.make_json_field | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| PluginCodeTemplateField | 不适用 | `PluginCodeTemplateField = make_json_field('PluginCodeTemplateField', PluginCodeTemplate)` | module |
| StagesShortcutField | 不适用 | `StagesShortcutField = make_json_field('StagesShortcutField', List[PlainStageInfo])` | module |
| ItsmDetailField | 不适用 | `ItsmDetailField = make_json_field('ItsmDetailField', ItsmDetail)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| generate_plugin_logo_filename | `def generate_plugin_logo_filename(instance: 'PluginInstance', filename: str) -> str:` | 无 | Generate uploaded logo filename |
| is_release_strategy_organization_changed | `def is_release_strategy_organization_changed(release: PluginRelease) -> bool:` | 无 | 检查发布策略的组织是否变更 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PlainStageInfo | 无 | 无 | 无 | define | 不适用 |
| ItsmDetail | 无 | 无 | 无 | define | 不适用 |
| PluginInstance | paasng.utils.models.UuidAuditedModel | get_logo_url, get_overview_page, can_reactivate, test_versions, prod_versions, prod_releasing_versions, has_test_version | pd, id, name, extra_fields, language, repo_type, repository, status, publisher, creator, is_deleted, logo | 无 | 插件实例 |
| PluginMarketInfo | paasng.utils.models.AuditedModel | 无 | plugin, category, introduction, description, contact, extra_fields | 无 | 插件市场信息 |
| PluginReleaseVersionManager | django.db.models.Manager | get_latest_succeeded, get_ongoing_release, get_latest_release | 无 | 无 | 不适用 |
| PluginRelease | paasng.utils.models.AuditedModel | complete_time, initial_stage_set, latest_release_strategy, is_latest | plugin, type, version, comment, extra_fields, semver_type, source_location, source_version_type, source_version_name, source_hash, current_stage, status, tag, retryable, is_rolled_back, gray_status, creator, objects | 无 | 插件发布版本 |
| PluginReleaseStage | paasng.utils.models.AuditedModel | reset, update_status, has_post_command | release, stage_id, stage_name, invoke_method, status_polling_method, status, fail_message, api_detail, pipeline_detail, operator, next_stage | 无 | 插件发布阶段 |
| PluginReleaseStrategy | paasng.utils.models.AuditedModel | get_itsm_service_name, itsm_detail_fields, itsm_submitter | release, strategy, bkci_project, organization | 无 | 插件版本的发布策略 |
| ApprovalService | paasng.utils.models.UuidAuditedModel | 无 | service_name, service_id | 无 | 审批服务信息 |
| PluginConfig | paasng.utils.models.AuditedModel | 无 | plugin, unique_key, row | 无 | 插件配置 |
| PluginVisibleRange | paasng.utils.models.AuditedModel | itsm_detail_fields, itsm_bkci_project, itsm_organization, itsm_submitter, get_or_initialize_with_default | plugin, bkci_project, organization, is_in_approval | 无 | 插件可见范围 |
| OperationRecord | paasng.utils.models.AuditedModel | get_display_text, operator_username | plugin, operator, action, specific, subject | 无 | 插件操作记录
    动作 (具体的) 主体
    -----------------
    新... |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/openapi_docs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| openapi | drf_yasg.openapi | Schema, TYPE_OBJECT, TYPE_STRING, FORMAT_URI, TYPE_ARRAY, TYPE_BOOLEAN | module |
| constants | paasng.bk_plugins.pluginscenter.constants | CODE, PluginReleaseMethod | module |
| definitions | paasng.bk_plugins.pluginscenter.definitions | schema, FieldSchema, PluginCodeTemplate | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| create_plugin_instance_schema | 不适用 | `create_plugin_instance_schema = openapi.Schema(description='创建插件实例的Schema', type=openapi.TYPE_OBJECT, properties={'plugin_type': openapi.Schema(title='plugin_type', type=openapi.TYPE_OBJECT, properties={'id': openapi.Schema(title='id', description='插件类型标识', type=openapi.TYPE_STRING), 'name': openapi.Schema(title='name', description='插件类型名称', type=openapi.TYPE_STRING), 'description': openapi.Schema(title='description', description='插件类型描述', type=openapi.TYPE_STRING), 'docs': openapi.Schema(title='docs', description='插件类型说明文档', type=openapi.TYPE_STRING, format=openapi.FORMAT_URI), 'logo': openapi.Schema(title='logo', description='插件类型logo', type=openapi.TYPE_STRING)}), 'schema': openapi.Schema(title='create-plugin-instance-schema', type=openapi.TYPE_OBJECT, properties={'id': openapi.Schema(**definitions.FieldSchema.schema()), 'name': openapi.Schema(**definitions.FieldSchema.schema()), 'init_templates': openapi.Schema(type=openapi.TYPE_ARRAY, items=openapi.Schema(**definitions.PluginCodeTemplate.schema())), 'release_method': openapi.Schema(type=openapi.TYPE_STRING, description='发布方式', enum=[constants.PluginReleaseMethod.CODE]), 'repository_group': openapi.Schema(description='项目仓库组', type=openapi.TYPE_STRING), 'repository_template': openapi.Schema(description='项目仓库模板', type=openapi.TYPE_STRING), 'extra_fields': openapi.Schema(description='额外字段定义', type=openapi.TYPE_OBJECT, properties={'< * >': openapi.Schema(**definitions.FieldSchema.schema())})})})` | module |
| create_plugin_instance_schemas | 不适用 | `create_plugin_instance_schemas = openapi.Schema(type=openapi.TYPE_ARRAY, items=create_plugin_instance_schema)` | module |
| market_schema | 不适用 | `market_schema = openapi.Schema(type=openapi.TYPE_OBJECT, properties={'category': openapi.Schema(type=openapi.TYPE_ARRAY, description='可选的标签/分类', items=openapi.Schema(type=openapi.TYPE_STRING)), 'schema': openapi.Schema(type=openapi.TYPE_OBJECT, properties={'extra_fields': openapi.Schema(description='额外字段定义', type=openapi.TYPE_OBJECT, properties={'< * >': openapi.Schema(**definitions.FieldSchema.schema())})}), 'readonly': openapi.Schema(type=openapi.TYPE_BOOLEAN, description='市场信息是否可编辑')})` | module |
| create_release_schema | 不适用 | `create_release_schema = openapi.Schema(type=openapi.TYPE_OBJECT, properties={'docs': openapi.Schema(description='说明文档地址', type=openapi.TYPE_STRING), 'source_version_pattern': openapi.Schema(description='校验代码版本(source_version_name)正则表达式模板, 留空则不校验', type=openapi.TYPE_STRING), 'version_no': openapi.Schema(description='版本号生成规则, 自动生成(automatic),与代码版本一致(revision),与提交哈希一致(commit-hash),用户自助填写(self-fill)', type=openapi.TYPE_STRING, enum=['automatic', 'revision', 'commit-hash', 'self-fill']), 'extra_fields': openapi.Schema(description='额外字段定义', type=openapi.TYPE_OBJECT, properties={'< * >': openapi.Schema(**definitions.FieldSchema.schema())}), 'source_versions': openapi.Schema(description='可选的代码分支', type=openapi.TYPE_ARRAY, items=openapi.Schema(description='源码版本', type=openapi.TYPE_OBJECT, properties={'name': openapi.Schema(description='分支名/Tag名', type=openapi.TYPE_STRING), 'type': openapi.Schema(description='源码版本类型', type=openapi.TYPE_STRING, enum=['branch', 'tag'])})), 'semver_choices': openapi.Schema(description='版本类型选项', type=openapi.TYPE_OBJECT, properties={'major': openapi.Schema(description='下一个重大版本', type=openapi.TYPE_STRING), 'minor': openapi.Schema(description='下一个次版本', type=openapi.TYPE_STRING), 'patch': openapi.Schema(description='下一个修正版本', type=openapi.TYPE_STRING)}), 'current_release': openapi.Schema(description='当前版本', type=openapi.TYPE_OBJECT, properties={'version': openapi.Schema(description='版本号', type=openapi.TYPE_STRING), 'source_version_type': openapi.Schema(description='代码版本类型(branch/tag)', type=openapi.TYPE_STRING), 'source_version_name': openapi.Schema(description='代码分支名/tag名', type=openapi.TYPE_STRING), 'source_hash': openapi.Schema(description='代码提交哈希', type=openapi.TYPE_STRING), 'creator': openapi.Schema(description='部署人', type=openapi.TYPE_STRING), 'created': openapi.Schema(description='部署时间', type=openapi.TYPE_STRING)})})` | module |
| plugin_basic_info_schema | 不适用 | `plugin_basic_info_schema = openapi.Schema(type=openapi.TYPE_OBJECT, properties={'id': openapi.Schema(**definitions.FieldSchema.schema()), 'name': openapi.Schema(**definitions.FieldSchema.schema()), 'extra_fields': openapi.Schema(description='额外字段定义', type=openapi.TYPE_OBJECT, properties={'< * >': openapi.Schema(**definitions.FieldSchema.schema())})})` | module |



---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/permissions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BasePermission | rest_framework.permissions.BasePermission | 不适用 | module |
| AccountFeatureFlag | paasng.infras.accounts.models.AccountFeatureFlag | has_feature, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| IsPluginCreator | rest_framework.permissions.BasePermission | has_permission, has_object_permission | 无 | 无 | 判断是否为插件创建者 |
| PluginCenterFeaturePermission | rest_framework.permissions.BasePermission | has_permission | 无 | 无 | 是否允许用户访问插件开发者中心 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/releases/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/releases/executor.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| apply_async_on_commit | blue_krill.async_utils.django_utils.apply_async_on_commit | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| constants | paasng.bk_plugins.pluginscenter.constants | CANARY_WITH_ITSM, ReleaseStageInvokeMethod, SUCCESSFUL, PluginReleaseStatus, INITIAL, abnormal_status, PENDING, ITSM, running_status, DEPLOY_API, INTERRUPTED, GrayReleaseStatus | module |
| error_codes | paasng.bk_plugins.pluginscenter.exceptions.error_codes | f, EXECUTE_STAGE_ERROR, CANNOT_RERUN_ONGOING_STEPS, THIRD_PARTY_API_ERROR, CANNOT_ROLLBACK_CURRENT_STEP, CANNOT_RESET_RELEASE, CANNOT_CANCEL_RELEASE | module |
| post_save | paasng.bk_plugins.pluginscenter.handlers.post_save | disconnect | module |
| update_release_status_when_stage_status_change | paasng.bk_plugins.pluginscenter.handlers.update_release_status_when_stage_status_change | 不适用 | module |
| ItsmClient | paasng.bk_plugins.pluginscenter.itsm_adaptor.client.ItsmClient | 不适用 | module |
| ItsmTicketStatus | paasng.bk_plugins.pluginscenter.itsm_adaptor.constants.ItsmTicketStatus | completed_status | module |
| get_ticket_status | paasng.bk_plugins.pluginscenter.itsm_adaptor.utils.get_ticket_status | 不适用 | module |
| submit_canary_release_ticket | paasng.bk_plugins.pluginscenter.itsm_adaptor.utils.submit_canary_release_ticket | 不适用 | module |
| PluginRelease | paasng.bk_plugins.pluginscenter.models.PluginRelease | 不适用 | module |
| init_stage_controller | paasng.bk_plugins.pluginscenter.releases.stages.init_stage_controller | 不适用 | module |
| poll_stage_status | paasng.bk_plugins.pluginscenter.tasks.poll_stage_status | 不适用 | module |
| release | paasng.bk_plugins.pluginscenter.thirdparty.release | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginReleaseExecutor | 无 | __init__, initial, enter_next_stage, rerun_current_stage, execute_current_stage, back_to_previous_stage, reset_release, cancel_release, execute_gray_release | 无 | 无 | ReleaseExecutor is controlling the lifecycle of Pl... |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/releases/stages.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| cattrs | structure, unstructure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| settings | django.conf.settings | PLUGIN_CENTER_PROJECT_ID | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| constants | paasng.bk_plugins.pluginscenter.constants | ReleaseStageInvokeMethod, DEPLOY_API, PENDING, PluginReleaseStatus, FAILED, running_status, ITSM, PIPELINE, INITIAL, SUCCESSFUL, INTERRUPTED, SUBPAGE, BUILTIN, THIRD_PARTY, MarketInfoStorageType | module |
| definitions | paasng.bk_plugins.pluginscenter.bk_devops.definitions | 不适用 | module |
| PipelineController | paasng.bk_plugins.pluginscenter.bk_devops.client.PipelineController | 不适用 | module |
| PipelineBuildStatus | paasng.bk_plugins.pluginscenter.bk_devops.constants.PipelineBuildStatus | SUCCEED, FAILED, CANCELED | module |
| ReleaseStageDefinition | paasng.bk_plugins.pluginscenter.definitions.ReleaseStageDefinition | 不适用 | module |
| find_stage_by_id | paasng.bk_plugins.pluginscenter.definitions.find_stage_by_id | 不适用 | module |
| error_codes | paasng.bk_plugins.pluginscenter.exceptions.error_codes | f, EXECUTE_STAGE_ERROR, STAGE_RENDER_ERROR, STAGE_DEF_NOT_FOUND | module |
| get_ticket_status | paasng.bk_plugins.pluginscenter.itsm_adaptor.utils.get_ticket_status | 不适用 | module |
| submit_online_approval_ticket | paasng.bk_plugins.pluginscenter.itsm_adaptor.utils.submit_online_approval_ticket | 不适用 | module |
| PluginReleaseStage | paasng.bk_plugins.pluginscenter.models.PluginReleaseStage | 不适用 | module |
| ItsmTicketInfoSlz | paasng.bk_plugins.pluginscenter.serializers.ItsmTicketInfoSlz | 不适用 | module |
| PluginMarketInfoSLZ | paasng.bk_plugins.pluginscenter.serializers.PluginMarketInfoSLZ | 不适用 | module |
| get_plugin_repo_accessor | paasng.bk_plugins.pluginscenter.sourcectl.get_plugin_repo_accessor | 不适用 | module |
| utils | paasng.bk_plugins.pluginscenter.thirdparty.utils | make_client | module |
| PluginBuildInfoSLZ | paasng.bk_plugins.pluginscenter.thirdparty.api_serializers.PluginBuildInfoSLZ | 不适用 | module |
| check_deploy_result | paasng.bk_plugins.pluginscenter.thirdparty.deploy.check_deploy_result | 不适用 | module |
| deploy_version | paasng.bk_plugins.pluginscenter.thirdparty.deploy.deploy_version | 不适用 | module |
| get_deploy_logs | paasng.bk_plugins.pluginscenter.thirdparty.deploy.get_deploy_logs | 不适用 | module |
| read_market_info | paasng.bk_plugins.pluginscenter.thirdparty.market.read_market_info | 不适用 | module |
| can_enter_next_stage | paasng.bk_plugins.pluginscenter.thirdparty.subpage.can_enter_next_stage | 不适用 | module |
| safe_jinja2 | paasng.utils.safe_jinja2 | Template | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| init_stage_controller | `def init_stage_controller(stage: PluginReleaseStage) -> BaseStageController:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseStageController | 无 | __init__, __init_subclass__, get_stage_class, execute_post_command, execute_pre_command, execute, render_to_view, async_check_status | 无 | 无 | 发布步骤控制器基类 |
| DeployAPIStage | BaseStageController | execute, render_to_view, async_check_status, _refresh_source_hash | invoke_method | 无 | 不适用 |
| ItsmStage | BaseStageController | execute, render_to_view | invoke_method | 无 | 不适用 |
| PipelineStage | BaseStageController | __init__, _update_pipline_status, render_to_view, async_check_status, execute, build_pipeline_params, execute_post_command | invoke_method | 无 | 不适用 |
| SubPageStage | BaseStageController | execute, render_to_view, format_page_url | invoke_method | 无 | 不适用 |
| BuiltinStage | BaseStageController | execute, render_to_view | invoke_method | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| arrow | get | module |
| cattr | structure | module |
| semver | parse, VersionInfo | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| user_id_encoder | bkpaas_auth.models.user_id_encoder | encode | module |
| settings | django.conf.settings | LANGUAGES, USER_TYPE | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, CharField, ListField, DictField, ChoiceField, SerializerMethodField, BooleanField, ModelSerializer, ReadOnlyField, DateTimeField, JSONField, ImageField, Field, RegexField, IntegerField, FloatField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| ActionTypes | paasng.bk_plugins.pluginscenter.constants.ActionTypes | get_choices | module |
| LogTimeChoices | paasng.bk_plugins.pluginscenter.constants.LogTimeChoices | get_choices | module |
| PluginReleaseStatus | paasng.bk_plugins.pluginscenter.constants.PluginReleaseStatus | running_status, get_choices | module |
| PluginReleaseType | paasng.bk_plugins.pluginscenter.constants.PluginReleaseType | get_choices, PROD | module |
| PluginReleaseVersionRule | paasng.bk_plugins.pluginscenter.constants.PluginReleaseVersionRule | AUTOMATIC, REVISION, COMMIT_HASH, BRANCH_TIMESTAMP | module |
| PluginRevisionType | paasng.bk_plugins.pluginscenter.constants.PluginRevisionType | TESTED_VERSION | module |
| PluginRole | paasng.bk_plugins.pluginscenter.constants.PluginRole | get_choices | module |
| ReleaseStrategy | paasng.bk_plugins.pluginscenter.constants.ReleaseStrategy | get_choices | module |
| SemverAutomaticType | paasng.bk_plugins.pluginscenter.constants.SemverAutomaticType | MAJOR, MINOR, get_choice_label, get_choices | module |
| SubjectTypes | paasng.bk_plugins.pluginscenter.constants.SubjectTypes | get_choices | module |
| FieldSchema | paasng.bk_plugins.pluginscenter.definitions.FieldSchema | 不适用 | module |
| PluginConfigColumnDefinition | paasng.bk_plugins.pluginscenter.definitions.PluginConfigColumnDefinition | 不适用 | module |
| error_codes | paasng.bk_plugins.pluginscenter.exceptions.error_codes | CANNOT_RELEASE_DUPLICATE_SOURCE_VERSION, CANNOT_RELEASE_RELEASING_SOURCE_VERSION | module |
| shim | paasng.bk_plugins.pluginscenter.iam_adaptor.management.shim | 不适用 | module |
| ItsmTicketStatus | paasng.bk_plugins.pluginscenter.itsm_adaptor.constants.ItsmTicketStatus | get_choices | module |
| get_ticket_status | paasng.bk_plugins.pluginscenter.itsm_adaptor.utils.get_ticket_status | 不适用 | module |
| OperationRecord | paasng.bk_plugins.pluginscenter.models.OperationRecord | 不适用 | module |
| PluginBasicInfoDefinition | paasng.bk_plugins.pluginscenter.models.PluginBasicInfoDefinition | 不适用 | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | all, objects | module |
| PluginMarketInfo | paasng.bk_plugins.pluginscenter.models.PluginMarketInfo | 不适用 | module |
| PluginRelease | paasng.bk_plugins.pluginscenter.models.PluginRelease | filter, objects | module |
| PluginReleaseStage | paasng.bk_plugins.pluginscenter.models.PluginReleaseStage | 不适用 | module |
| PluginReleaseStrategy | paasng.bk_plugins.pluginscenter.models.PluginReleaseStrategy | 不适用 | module |
| PluginVisibleRange | paasng.bk_plugins.pluginscenter.models.PluginVisibleRange | 不适用 | module |
| get_source_hash_by_plugin_version | paasng.bk_plugins.pluginscenter.shim.get_source_hash_by_plugin_version | 不适用 | module |
| get_user_avatar | paasng.infras.accounts.utils.get_user_avatar | 不适用 | module |
| SmartTimeRange | paasng.utils.es_log.time_range.SmartTimeRange | 不适用 | module |
| I18NExtend | paasng.utils.i18n.serializers.I18NExtend | 不适用 | module |
| TranslatedCharField | paasng.utils.i18n.serializers.TranslatedCharField | 不适用 | module |
| i18n | paasng.utils.i18n.serializers.i18n | 不适用 | module |
| to_translated_field | paasng.utils.i18n.serializers.to_translated_field | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| REVISION_POLICIES | 不适用 | `REVISION_POLICIES = {'disallow_released_source_version': {'error': error_codes.CANNOT_RELEASE_DUPLICATE_SOURCE_VERSION, 'filter': {}}, 'disallow_releasing_source_version': {'error': error_codes.CANNOT_RELEASE_RELEASING_SOURCE_VERSION, 'filter': {'status__in': PluginReleaseStatus.running_status()}}}` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_string_field | `def make_string_field(field_schema: FieldSchema) -> serializers.Field:` | 无 | Generate a Field for verifying a string according ... |
| make_array_field | `def make_array_field(field_schema: FieldSchema) -> serializers.Field:` | 无 | Generate a Field for verifying a array according t... |
| make_bool_field | `def make_bool_field(field_schema: FieldSchema) -> serializers.Field:` | 无 | Generate a Field for verifying a bool according to... |
| make_json_schema_field | `def make_json_schema_field(field_schema: FieldSchema) -> serializers.Field:` | 无 | Generate fields for validating data according to t... |
| make_extra_fields_slz | `def make_extra_fields_slz(extra_fields: Dict[str, FieldSchema]) -> Type[serializers.Serializer]:` | 无 | generate a Serializer for verifying the fields of ... |
| make_plugin_slz_class | `def make_plugin_slz_class(pd: PluginDefinition, creation: bool = False) -> Type[serializers.Serializer]:` | 无 | generate a SLZ for verifying the creation/update o... |
| make_extra_fields_class | `def make_extra_fields_class(pd: PluginDefinition) -> Type[serializers.Serializer]:` | 无 | 不适用 |
| make_release_validator | `def make_release_validator(plugin: PluginInstance, version_rule: PluginReleaseVersionRule, release_type: str, revision_policy: str, revision_type: str):` | 无 | make a validator to validate ReleaseVersion object |
| make_create_release_version_slz_class | `def make_create_release_version_slz_class(plugin: PluginInstance, release_type: str) -> Type[serializers.Serializer]:` | 无 | Generate a Serializer for verifying the creation o... |
| make_market_info_slz_class | `def make_market_info_slz_class(pd: PluginDefinition) -> Type[serializers.Serializer]:` | 无 | Generate a SLZ for verifying the creation/update o... |
| make_config_column_field | `def make_config_column_field(column_definition: PluginConfigColumnDefinition) -> serializers.Field:` | 无 | Generate a Field for verifying a string according ... |
| make_config_slz_class | `def make_config_slz_class(pd: PluginDefinition) -> Type[serializers.Serializer]:` | 无 | generate a SLZ for verifying the creation/update o... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginUniqueValidator | 无 | __init__, __call__, validate_queryset, exclude_current_instance | requires_context | 无 | 不适用 |
| ItsmDetailSLZ | rest_framework.serializers.Serializer | 无 | ticket_url, sn, fields | 无 | 不适用 |
| PluginRoleSLZ | rest_framework.serializers.Serializer | 无 | name, id | 无 | 不适用 |
| PluginMemberSLZ | rest_framework.serializers.Serializer | get_avatar | username, role, avatar | 无 | 不适用 |
| ApprovalConfigSLZ | rest_framework.serializers.Serializer | 无 | enabled, tips, docs | 无 | 不适用 |
| PluginDefinitionSLZ | rest_framework.serializers.ModelSerializer | 无 | id, name, description, approval_config | 无 | 不适用 |
| PluginBasicInfoDefinitionSLZ | rest_framework.serializers.ModelSerializer | 无 | description, publisher_description | 无 | 不适用 |
| PluginDefinitionBasicSLZ | rest_framework.serializers.ModelSerializer | 无 | id, name | 无 | 不适用 |
| PlainReleaseStageSLZ | rest_framework.serializers.Serializer | 无 | id, name | 无 | 不适用 |
| PluginReleaseStageSLZ | rest_framework.serializers.ModelSerializer | 无 | itsm_detail, has_post_command | 无 | 不适用 |
| PlainPluginReleaseVersionSLZ | rest_framework.serializers.Serializer | to_representation | version, source_version_type, source_version_name, source_hash, creator, created | 无 | 不适用 |
| ReleaseStrategyCreateSLZ | rest_framework.serializers.Serializer | 无 | strategy, bkci_project, organization | 无 | 不适用 |
| PluginReleaseStrategySLZ | rest_framework.serializers.ModelSerializer | get_ticket_info | ticket_info | 无 | 不适用 |
| PluginReleaseVersionSLZ | rest_framework.serializers.ModelSerializer | get_report_url, get_release_result_url, to_representation | current_stage, all_stages, complete_time, report_url, release_result_url, latest_release_strategy, display_status | 无 | 不适用 |
| overviewPageSLZ | rest_framework.serializers.Serializer | 无 | top_url, bottom_url, ignored_url | 无 | 不适用 |
| PluginInstanceSLZ | rest_framework.serializers.ModelSerializer | 无 | pd_id, pd_name, pd_administrator, ongoing_release, latest_release, logo, itsm_detail, role, overview_page, can_reactivate, has_test_version | 无 | 不适用 |
| PluginInstanceDetailSLZ | PluginInstanceSLZ | to_representation | 无 | 无 | 不适用 |
| PluginInstanceLogoSLZ | rest_framework.serializers.ModelSerializer | 无 | logo | 无 | 不适用 |
| PluginMarketInfoSLZ | rest_framework.serializers.ModelSerializer | 无 | introduction, description | 无 | 不适用 |
| TemplateChoiceField | rest_framework.serializers.ChoiceField | to_internal_value | 无 | 无 | A ChoiceField for choosing template, accept a stri... |
| StubCreatePluginSLZ | rest_framework.serializers.Serializer | 无 | id, name, template, extra_fields | 无 | A stub Serializer for create `Plugin`, just be use... |
| StubUpdatePluginSLZ | rest_framework.serializers.Serializer | 无 | name, extra_fields | 无 | A stub Serializer for update `Plugin`, just be use... |
| StubCreatePluginReleaseVersionSLZ | rest_framework.serializers.Serializer | 无 | source_version_type, source_version_name, version, comment, extra_fields, semver_type | 无 | A stub Serializer for create `Release`, just be us... |
| StubUpsertMarketInfoSLZ | rest_framework.serializers.Serializer | 无 | category, introduction, description, contact, extra_fields | 无 | A stub Serializer for creation/update  `Market`, j... |
| PluginLogQueryParamsSLZ | rest_framework.serializers.Serializer | validate | time_range, start_time, end_time, offset, limit | 无 | 查询插件日志 query 参数 |
| PluginLogQueryDSLSLZ | rest_framework.serializers.Serializer | 无 | query_string, terms, exclude | 无 | 查询插件日志的 DSL 参数 |
| PluginLogQueryBodySLZ | rest_framework.serializers.Serializer | 无 | query | 无 | 查询插件标准输出的 body 参数 |
| StandardOutputLogLineSLZ | rest_framework.serializers.Serializer | 无 | timestamp, message | 无 | 标准输出日志(每行) |
| StandardOutputLogsSLZ | rest_framework.serializers.Serializer | 无 | logs, total, dsl | 无 | 标准输出日志 |
| StructureLogLineSLZ | rest_framework.serializers.Serializer | 无 | timestamp, message, raw | 无 | 结构化日志(每行) |
| StructureLogsSLZ | rest_framework.serializers.Serializer | 无 | logs, total, dsl | 无 | 结构化日志 |
| IngressLogLineSLZ | rest_framework.serializers.Serializer | 无 | timestamp, message, method, path, status_code, response_time, client_ip, bytes_sent, user_agent, http_version | 无 | Ingress 访问日志(每行) |
| IngressLogSLZ | rest_framework.serializers.Serializer | 无 | logs, total, dsl | 无 | Ingress 访问日志 |
| DateHistogramSLZ | rest_framework.serializers.Serializer | 无 | series, timestamps, dsl | 无 | 插件日志基于时间分布的直方图 |
| LogFieldFilterSLZ | rest_framework.serializers.Serializer | 无 | name, key, options, total | 无 | 日志可选字段 |
| ItsmTicketInfoSlz | rest_framework.serializers.Serializer | 无 | ticket_url, current_status, current_status_display, can_withdraw, fields | 无 | itsm 单据状态 |
| ItsmApprovalSLZ | rest_framework.serializers.Serializer | 无 | sn, current_status, approve_result, token, updated_by | 无 | Itsm 回调数据格式 |
| PluginConfigColumnSLZ | rest_framework.serializers.Serializer | 无 | name, title, description, pattern, options | 无 | 插件「配置管理」表单-列定义 |
| PluginConfigSchemaSLZ | rest_framework.serializers.Serializer | 无 | title, description, docs, columns | 无 | 插件「配置管理」表单范式 |
| StubConfigSLZ | rest_framework.serializers.Serializer | 无 | __id__ | 无 | A stub Serializer for creation/update  `Configurat... |
| OperationRecordSLZ | rest_framework.serializers.ModelSerializer | 无 | display_text, operator | 无 | 不适用 |
| OperationRecordFilterSLZ | rest_framework.serializers.Serializer | 无 | subject, action, operator, start_time, end_time | 无 | 不适用 |
| CodeCommitSearchSLZ | rest_framework.serializers.Serializer | to_internal_value | begin_time, end_time | 无 | 代码提交统计搜索条件 |
| PluginReleaseFilterSLZ | rest_framework.serializers.Serializer | validate | gray_status, status, type, creator, is_rolled_back | 无 | 不适用 |
| PluginListFilterSlZ | rest_framework.serializers.Serializer | 无 | status, language, pd__identifier, order_by | 无 | 不适用 |
| CodeCheckInfoSLZ | rest_framework.serializers.Serializer | 无 | resolvedDefectNum, repoCodeccAvgScore | 无 | 蓝盾 API 返回的代码检查结果的数据格式，保留驼峰格式 |
| QualityInfoSLZ | rest_framework.serializers.Serializer | 无 | qualityInterceptionRate, interceptionCount, totalExecuteCount | 无 | 蓝盾 API 返回的代码质量的数据格式，保留驼峰格式 |
| MetricsSummarySLZ | rest_framework.serializers.Serializer | 无 | codeCheckInfo, qualityInfo | 无 | 蓝盾 API 返回的代码仓库概览信息的数据格式，保留驼峰格式 |
| PluginReleaseTypeSLZ | rest_framework.serializers.Serializer | 无 | type | 无 | 插件发布类型 |
| PluginStageStatusSLZ | rest_framework.serializers.Serializer | 无 | status, message | 无 | 插件状态 |
| PluginPublisher | rest_framework.serializers.Serializer | 无 | publisher | 无 | 插件发布者 |
| PluginVisibleRangeSLZ | rest_framework.serializers.ModelSerializer | 无 | itsm_detail | 无 | 不适用 |
| PluginVisibleRangeUpdateSLZ | rest_framework.serializers.Serializer | 无 | bkci_project, organization | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/shim.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| wraps | functools.wraps | 不适用 | module |
| List | typing.List | 不适用 | module |
| APIError | paasng.bk_plugins.pluginscenter.sourcectl.exceptions.APIError | 不适用 | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| constants | paasng.bk_plugins.pluginscenter.constants | CODE, PluginReleaseMethod, ADMINISTRATOR, PluginRole | module |
| PluginReleaseStatus | paasng.bk_plugins.pluginscenter.constants.PluginReleaseStatus | SUCCESSFUL | module |
| PluginRevisionType | paasng.bk_plugins.pluginscenter.constants.PluginRevisionType | TESTED_VERSION | module |
| error_codes | paasng.bk_plugins.pluginscenter.exceptions.error_codes | DELETE_REPO_ERROR, THIRD_PARTY_API_ERROR, f, CREATE_REPO_ERROR, INITIAL_REPO_ERROR | module |
| PluginDefinitionFlagsManager | paasng.bk_plugins.pluginscenter.features.PluginDefinitionFlagsManager | 不适用 | module |
| PluginFeatureFlag | paasng.bk_plugins.pluginscenter.features.PluginFeatureFlag | LOWER_REPO_NAME | module |
| add_role_members | paasng.bk_plugins.pluginscenter.iam_adaptor.management.shim.add_role_members | 不适用 | module |
| setup_builtin_grade_manager | paasng.bk_plugins.pluginscenter.iam_adaptor.management.shim.setup_builtin_grade_manager | 不适用 | module |
| setup_builtin_user_groups | paasng.bk_plugins.pluginscenter.iam_adaptor.management.shim.setup_builtin_user_groups | 不适用 | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| PluginMarketInfo | paasng.bk_plugins.pluginscenter.models.PluginMarketInfo | create, objects | module |
| PluginVisibleRange | paasng.bk_plugins.pluginscenter.models.PluginVisibleRange | get_or_initialize_with_default | module |
| add_repo_member | paasng.bk_plugins.pluginscenter.sourcectl.add_repo_member | 不适用 | module |
| get_plugin_repo_accessor | paasng.bk_plugins.pluginscenter.sourcectl.get_plugin_repo_accessor | 不适用 | module |
| get_plugin_repo_initializer | paasng.bk_plugins.pluginscenter.sourcectl.get_plugin_repo_initializer | 不适用 | module |
| AlternativeVersion | paasng.bk_plugins.pluginscenter.sourcectl.base.AlternativeVersion | 不适用 | module |
| PluginRepoNameConflict | paasng.bk_plugins.pluginscenter.sourcectl.exceptions.PluginRepoNameConflict | 不适用 | module |
| callback_on_visible_range_update_approved | paasng.bk_plugins.pluginscenter.thirdparty.instance.callback_on_visible_range_update_approved | 不适用 | module |
| create_instance | paasng.bk_plugins.pluginscenter.thirdparty.instance.create_instance | 不适用 | module |
| GitCommandExecutionError | paasng.platform.sourcectl.git.client.GitCommandExecutionError | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| init_plugin_in_view | `@_atomic_create_plugin_repository:` | _atomic_create_plugin_repository | 初始化插件

    :param plugin: 蓝鲸插件
    :param operator... |
| update_visible_range_and_callback | `@atomic:` | atomic | 更新可见范围，需要同步回调第三方 API |
| init_plugin_repository | `def init_plugin_repository(plugin: PluginInstance, operator: str):` | 无 | 初始化插件仓库 |
| build_repository_template | `def build_repository_template(pd: PluginDefinition, repository_group: str) -> str:` | 无 | transfer a repository group to repository template |
| get_source_hash_by_plugin_version | `def get_source_hash_by_plugin_version(plugin: PluginInstance, source_version_type: str, source_version_name: str, revision_type: str, release_id: str) -> str:` | 无 | 插件版本号对应的代码仓库的提交信息

    @param source_version_type:... |
| get_tested_versions | `def get_tested_versions(plugin: PluginInstance) -> List[AlternativeVersion]:` | 无 | 插件已经测试通过的版本，部分插件如 Codecc 正式发布时是选择测试通过的版本 |


---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/sourcectl/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | PLUGIN_REPO_CONF | module |
| PluginRole | paasng.bk_plugins.pluginscenter.constants.PluginRole | 不适用 | module |
| error_codes | paasng.bk_plugins.pluginscenter.exceptions.error_codes | MAINTAIN_REPO_MEMBERS_ERROR | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| AlternativeVersion | paasng.bk_plugins.pluginscenter.sourcectl.base.AlternativeVersion | 不适用 | module |
| PluginRepoAccessor | paasng.bk_plugins.pluginscenter.sourcectl.tencent.PluginRepoAccessor | 不适用 | module |
| PluginRepoInitializer | paasng.bk_plugins.pluginscenter.sourcectl.tencent.PluginRepoInitializer | 不适用 | module |
| PluginRepoMemberMaintainer | paasng.bk_plugins.pluginscenter.sourcectl.tencent.PluginRepoMemberMaintainer | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_plugin_repo_initializer | `def get_plugin_repo_initializer(pd: PluginDefinition) -> PluginRepoInitializer:` | 无 | 不适用 |
| get_plugin_repo_accessor | `def get_plugin_repo_accessor(plugin: PluginInstance) -> PluginRepoAccessor:` | 无 | 不适用 |
| get_plugin_repo_member_maintainer | `def get_plugin_repo_member_maintainer(plugin: PluginInstance) -> PluginRepoMemberMaintainer:` | 无 | 不适用 |
| build_master_placeholder | `def build_master_placeholder() -> AlternativeVersion:` | 无 | 不适用 |
| add_repo_member | `def add_repo_member(plugin: PluginInstance, username: str, role: PluginRole):` | 无 | A shortcut to add member to repo and transform all... |
| remove_repo_member | `def remove_repo_member(plugin: PluginInstance, username: str):` | 无 | A shortcut to remove member of repo and transform ... |


---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/sourcectl/base.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | datetime | module |
| shutil | move | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Protocol | typing.Protocol | 不适用 | module |
| define | attrs.define | 不适用 | module |
| field | attrs.field | 不适用 | module |
| cookiecutter | cookiecutter.main.cookiecutter | 不适用 | module |
| settings | django.conf.settings | BK_API_URL_TMPL | module |
| PluginRole | paasng.bk_plugins.pluginscenter.constants.PluginRole | 不适用 | module |
| PluginCodeTemplate | paasng.bk_plugins.pluginscenter.definitions.PluginCodeTemplate | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| generate_context | `def generate_context(instance: PluginInstance) -> dict:` | 无 | 初始化插件模板代码时传的参数 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AlternativeVersion | 无 | 无 | 无 | define | 不适用 |
| TemplateDownloader | typing.Protocol | download_to | 无 | 无 | 插件模板下载器 |
| PluginRepoInitializer | typing.Protocol | create_project, delete_project, initial_repo | 无 | 无 | 插件仓库初始化器 |
| PluginRepoMemberMaintainer | typing.Protocol | add_member, remove_member | 无 | 无 | 插件仓库成员管理器 |
| PluginRepoAccessor | typing.Protocol | extract_smart_revision, list_alternative_versions, build_compare_url, get_submit_info, get_project_id | 无 | 无 | 插件仓库访问器 |
| TemplateRender | 无 | __init__, render | 无 | 无 | 插件模板渲染器 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/sourcectl/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| APIError | Exception | __init__ | 无 | 无 | 不适用 |
| AuthTokenMissingError | Exception | 无 | 无 | 无 | 缺少鉴权凭证错误 |
| PluginRepoNameConflict | APIError | 无 | 无 | 无 | 仓库名称冲突, 同名仓库已存在 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/sourcectl/git.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| shutil | move | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| PluginCodeTemplate | paasng.bk_plugins.pluginscenter.definitions.PluginCodeTemplate | 不适用 | module |
| GitClient | paasng.platform.sourcectl.git.client.GitClient | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| GitTemplateDownloader | 无 | __init__, download_to | 无 | 无 | TemplateDownloader implement with git |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/sourcectl/tencent.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger, warning | module |
| arrow | get | module |
| requests | session | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| dedent | textwrap.dedent | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Iterator | typing.Iterator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| quote | urllib.parse.quote | 不适用 | module |
| urljoin | urllib.parse.urljoin | 不适用 | module |
| urlparse | urllib.parse.urlparse | 不适用 | module |
| settings | django.conf.settings | PLUGIN_VISIBILTY_LEVEL, PLUGIN_REPO_CONF | module |
| timezone | django.utils.timezone | localtime, now | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| models | requests.models | PreparedRequest | module |
| AuthBase | requests.auth.AuthBase | 不适用 | module |
| Response | requests.models.Response | 不适用 | module |
| PluginRole | paasng.bk_plugins.pluginscenter.constants.PluginRole | DEVELOPER, ADMINISTRATOR | module |
| PluginCodeTemplate | paasng.bk_plugins.pluginscenter.definitions.PluginCodeTemplate | 不适用 | module |
| PluginFeatureFlag | paasng.bk_plugins.pluginscenter.features.PluginFeatureFlag | LOWER_REPO_NAME | module |
| PluginFeatureFlagsManager | paasng.bk_plugins.pluginscenter.features.PluginFeatureFlagsManager | 不适用 | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| AlternativeVersion | paasng.bk_plugins.pluginscenter.sourcectl.base.AlternativeVersion | 不适用 | module |
| TemplateRender | paasng.bk_plugins.pluginscenter.sourcectl.base.TemplateRender | 不适用 | module |
| generate_context | paasng.bk_plugins.pluginscenter.sourcectl.base.generate_context | 不适用 | module |
| APIError | paasng.bk_plugins.pluginscenter.sourcectl.exceptions.APIError | 不适用 | module |
| AuthTokenMissingError | paasng.bk_plugins.pluginscenter.sourcectl.exceptions.AuthTokenMissingError | 不适用 | module |
| PluginRepoNameConflict | paasng.bk_plugins.pluginscenter.sourcectl.exceptions.PluginRepoNameConflict | 不适用 | module |
| GitTemplateDownloader | paasng.bk_plugins.pluginscenter.sourcectl.git.GitTemplateDownloader | 不适用 | module |
| GitClient | paasng.platform.sourcectl.git.client.GitClient | 不适用 | module |
| MutableURL | paasng.platform.sourcectl.git.client.MutableURL | 不适用 | module |
| GitProject | paasng.platform.sourcectl.models.GitProject | parse_from_repo_url | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| remove_prefix | paasng.utils.text.remove_prefix | 不适用 | module |
| remove_suffix | paasng.utils.text.remove_suffix | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| validate_response | `def validate_response(resp: Response) -> Response:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TencentGitAuth | requests.auth.AuthBase | __init__, __call__ | 无 | 无 | TencentGit api auth handler |
| PluginRepoAccessor | 无 | __init__, extract_smart_revision, list_alternative_versions, get_submit_info, list_branches, list_tags, get_last_commit, _fetch_all_item, _fetch_items, _branch_data_to_version, build_compare_url, get_project_id | 无 | 无 | PluginRepoAccessor implement with TencentGit |
| PluginRepoInitializer | 无 | __init__, create_project, delete_project, initial_repo, _get_accessible_template, _fix_git_user_config, _build_repo_url_with_auth, _get_namespace_id, _enable_ci | 无 | 无 | PluginRepoInitializer implement with TencentGit |
| PluginRepoMemberMaintainer | 无 | __init__, add_member, remove_member, _get_user_id | 无 | 无 | PluginRepoMemberMaintainer implement with TencentG... |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/tasks.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PollingResult | blue_krill.async_utils.poll_task.PollingResult | done, doing | module |
| TaskPoller | blue_krill.async_utils.poll_task.TaskPoller | 不适用 | module |
| shared_task | celery.shared_task | 不适用 | module |
| PluginReleaseStatus | paasng.bk_plugins.pluginscenter.constants.PluginReleaseStatus | running_status | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | get, objects | module |
| PluginRelease | paasng.bk_plugins.pluginscenter.models.PluginRelease | get, objects | module |
| init_stage_controller | paasng.bk_plugins.pluginscenter.releases.stages.init_stage_controller | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| poll_stage_status | `@shared_task:` | shared_task | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ReleaseStatusPoller | blue_krill.async_utils.poll_task.TaskPoller | query | overall_timeout_seconds | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/thirdparty/__init__.py







---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/thirdparty/api_serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, CharField, JSONField, DictField, SerializerMethodField, ChoiceField, BooleanField, ListSerializer | module |
| PluginReleaseStatus | paasng.bk_plugins.pluginscenter.constants.PluginReleaseStatus | get_choices | module |
| PluginRole | paasng.bk_plugins.pluginscenter.constants.PluginRole | get_choices | module |
| I18NExtend | paasng.utils.i18n.serializers.I18NExtend | 不适用 | module |
| i18n | paasng.utils.i18n.serializers.i18n | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PluginTemplateSLZ | rest_framework.serializers.Serializer | 无 | id, name, language, applicable_language, repository | 无 | 插件模板相关字段 |
| PluginVVisibleRangeAPIRequestSLZ | rest_framework.serializers.Serializer | 无 | plugin_id, operator, bkci_project, organization | 无 | 不适用 |
| PluginRequestSLZ | rest_framework.serializers.Serializer | get_operator | id, name, template, extra_fields, repository, operator, logo_url, publisher | i18n | 同步插件信息至第三方系统的请求体格式 |
| PluginRequestCreateSLZ | PluginRequestSLZ | get_visible_range | visible_range | i18n | 创建插件的时候需要初始化可见范围，所以需要将可见范围一起同步 |
| PluginMarketRequestSLZ | rest_framework.serializers.Serializer | get_operator | category, introduction, description, contact, extra_fields, operator | i18n | 同步插件市场信息至第三方系统的请求体格式 |
| MarketCategorySLZ | rest_framework.serializers.Serializer | 无 | name, value | 无 | 插件市场-插件类别 |
| PluginReleaseVersionSLZ | rest_framework.serializers.Serializer | 无 | type, version, comment, extra_fields, semver_type, source_location, source_version_type, source_version_name, source_hash | 无 | 插件发布版本的结构 |
| PluginReleaseStageSLZ | rest_framework.serializers.Serializer | 无 | stage_id, stage_name, status | 无 | 插件发布版本-步骤的结构 |
| PluginStrategySLZ | rest_framework.serializers.Serializer | 无 | strategy, bkci_project, organization | 无 | 不适用 |
| PluginReleaseAPIRequestSLZ | rest_framework.serializers.Serializer | 无 | plugin_id, version, operator, current_stage, status, is_rolled_back, latest_release_strategy | 无 | 插件版本创建回调的请求体格式 |
| DeployPluginRequestSLZ | rest_framework.serializers.Serializer | 无 | plugin_id, version, operator | 无 | 插件部署操作的请求体格式 |
| DeployStepSLZ | rest_framework.serializers.Serializer | 无 | id, name, start_time, complete_time, status | 无 | 部署步骤的结构 |
| PluginDeployResponseSLZ | rest_framework.serializers.Serializer | 无 | deploy_id, status, detail, steps | 无 | 插件部署操作/检测部署状态的返回体格式 |
| PluginReleaseLogsResponseSLZ | rest_framework.serializers.Serializer | 无 | finished, logs | 无 | 插件发布日志的返回体格式 |
| PluginRoleSLZ | rest_framework.serializers.Serializer | 无 | name, id | 无 | 不适用 |
| PluginMemberSLZ | rest_framework.serializers.Serializer | 无 | username, role | 无 | 不适用 |
| PluginBuildInfoSLZ | rest_framework.serializers.Serializer | 无 | pipeline_id, build_id, version, version_with_underscores, bk_username | 无 | 不适用 |
| PluginVisibleRangeAPIRequestSLZ | rest_framework.serializers.Serializer | 无 | plugin_id, operator, bkci_project, organization | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/thirdparty/configuration.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| utils | paasng.bk_plugins.pluginscenter.thirdparty.utils | make_client | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sync_config | `def sync_config(pd: PluginDefinition, instance: PluginInstance):` | 无 | 同步插件开发者中心-插件配置至第三方系统 |


---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/thirdparty/deploy.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| PluginReleaseStatus | paasng.bk_plugins.pluginscenter.constants.PluginReleaseStatus | INITIAL, abnormal_status, SUCCESSFUL | module |
| ReleaseStageInvokeMethod | paasng.bk_plugins.pluginscenter.constants.ReleaseStageInvokeMethod | DEPLOY_API | module |
| find_stage_by_id | paasng.bk_plugins.pluginscenter.definitions.find_stage_by_id | 不适用 | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| PluginRelease | paasng.bk_plugins.pluginscenter.models.PluginRelease | 不适用 | module |
| utils | paasng.bk_plugins.pluginscenter.thirdparty.utils | make_client | module |
| DeployPluginRequestSLZ | paasng.bk_plugins.pluginscenter.thirdparty.api_serializers.DeployPluginRequestSLZ | 不适用 | module |
| PluginDeployResponseSLZ | paasng.bk_plugins.pluginscenter.thirdparty.api_serializers.PluginDeployResponseSLZ | 不适用 | module |
| PluginReleaseLogsResponseSLZ | paasng.bk_plugins.pluginscenter.thirdparty.api_serializers.PluginReleaseLogsResponseSLZ | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| deploy_version | `def deploy_version(pd: PluginDefinition, plugin: PluginInstance, version: PluginRelease, operator: str):` | 无 | 调用第三方系统 API 触发版本发布/部署 |
| check_deploy_result | `def check_deploy_result(pd: PluginDefinition, plugin: PluginInstance, version: PluginRelease) -> PluginReleaseStatus:` | 无 | 查询第三方系统的发布/部署结果 |
| get_deploy_logs | `def get_deploy_logs(pd: PluginDefinition, plugin: PluginInstance, version: PluginRelease) -> Dict:` | 无 | 查询部署日志 |


---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/thirdparty/instance.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PluginStatus | paasng.bk_plugins.pluginscenter.constants.PluginStatus | ARCHIVED, DEVELOPING | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| utils | paasng.bk_plugins.pluginscenter.thirdparty.utils | make_client | module |
| PluginRequestCreateSLZ | paasng.bk_plugins.pluginscenter.thirdparty.api_serializers.PluginRequestCreateSLZ | 不适用 | module |
| PluginRequestSLZ | paasng.bk_plugins.pluginscenter.thirdparty.api_serializers.PluginRequestSLZ | 不适用 | module |
| PluginVisibleRangeAPIRequestSLZ | paasng.bk_plugins.pluginscenter.thirdparty.api_serializers.PluginVisibleRangeAPIRequestSLZ | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_instance | `def create_instance(pd: PluginDefinition, instance: PluginInstance, operator: str) -> bool:` | 无 | 不适用 |
| update_instance | `def update_instance(pd: PluginDefinition, instance: PluginInstance, operator: str) -> bool:` | 无 | 不适用 |
| archive_instance | `def archive_instance(pd: PluginDefinition, instance: PluginInstance, operator: str) -> bool:` | 无 | 不适用 |
| reactivate_instance | `def reactivate_instance(pd: PluginDefinition, instance: PluginInstance, operator: str) -> bool:` | 无 | 不适用 |
| callback_on_visible_range_update_approved | `def callback_on_visible_range_update_approved(pd: PluginDefinition, instance: PluginInstance, operator: str) -> bool:` | 无 | 可见范围修改审批成功时 - 回调第三系统

    - 仅插件管理员声明了回调 API 时才会触发回... |


---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/thirdparty/market.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| PluginMarketInfo | paasng.bk_plugins.pluginscenter.models.PluginMarketInfo | 不适用 | module |
| utils | paasng.bk_plugins.pluginscenter.thirdparty.utils | make_client | module |
| MarketCategorySLZ | paasng.bk_plugins.pluginscenter.thirdparty.api_serializers.MarketCategorySLZ | 不适用 | module |
| PluginMarketRequestSLZ | paasng.bk_plugins.pluginscenter.thirdparty.api_serializers.PluginMarketRequestSLZ | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_market_info | `def create_market_info(pd: PluginDefinition, instance: PluginInstance, market: PluginMarketInfo, operator: str):` | 无 | 不适用 |
| update_market_info | `def update_market_info(pd: PluginDefinition, instance: PluginInstance, market: PluginMarketInfo, operator: str):` | 无 | 不适用 |
| read_market_info | `def read_market_info(pd: PluginDefinition, instance: PluginInstance) -> PluginMarketInfo:` | 无 | 不适用 |
| list_category | `def list_category(pd: PluginDefinition) -> List[Dict]:` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/thirdparty/members.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| fetch_plugin_members | paasng.bk_plugins.pluginscenter.iam_adaptor.management.shim.fetch_plugin_members | 不适用 | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| utils | paasng.bk_plugins.pluginscenter.thirdparty.utils | make_client | module |
| PluginMemberSLZ | paasng.bk_plugins.pluginscenter.thirdparty.api_serializers.PluginMemberSLZ | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sync_members | `def sync_members(pd: PluginDefinition, instance: PluginInstance):` | 无 | 同步插件开发中心成员列表至第三方系统 |


---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/thirdparty/release.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| PluginBackendAPIResource | paasng.bk_plugins.pluginscenter.definitions.PluginBackendAPIResource | 不适用 | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| PluginRelease | paasng.bk_plugins.pluginscenter.models.PluginRelease | 不适用 | module |
| utils | paasng.bk_plugins.pluginscenter.thirdparty.utils | make_client | module |
| PluginReleaseAPIRequestSLZ | paasng.bk_plugins.pluginscenter.thirdparty.api_serializers.PluginReleaseAPIRequestSLZ | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| callback_to_third_party | `def callback_to_third_party(api_endpoint: Optional[PluginBackendAPIResource], instance: PluginInstance, version: PluginRelease, operator: str) -> bool:` | 无 | 通用的回调第三方系统的函数，回调 API 未设置时，直接返回 True |
| create_release | `def create_release(pd: PluginDefinition, instance: PluginInstance, version: PluginRelease, operator: str) -> bool:` | 无 | 创建发布版本 - 回调第三方系统

    - 仅插件管理员声明了回调 API 时才会触发回调
  ... |
| update_release | `def update_release(pd: PluginDefinition, instance: PluginInstance, version: PluginRelease, operator: str) -> bool:` | 无 | 版本发布结束时（状态：成功、失败、已中断） - 回调第三方系统

    - 仅插件管理员声明了回调... |
| rollback_release | `def rollback_release(pd: PluginDefinition, instance: PluginInstance, version: PluginRelease, operator: str) -> bool:` | 无 | 回滚版本时，回调第三方系统 |


---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/thirdparty/subpage.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| find_stage_by_id | paasng.bk_plugins.pluginscenter.definitions.find_stage_by_id | 不适用 | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| PluginRelease | paasng.bk_plugins.pluginscenter.models.PluginRelease | 不适用 | module |
| PluginReleaseStage | paasng.bk_plugins.pluginscenter.models.PluginReleaseStage | 不适用 | module |
| utils | paasng.bk_plugins.pluginscenter.thirdparty.utils | make_client | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| can_enter_next_stage | `def can_enter_next_stage(pd: PluginDefinition, plugin: PluginInstance, version: PluginRelease, stage: PluginReleaseStage) -> bool:` | 无 | 获取子页面的状态，用于判断是否可进入到下一个页面 |


---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/thirdparty/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| suppress | contextlib.suppress | 不适用 | module |
| lru_cache | functools.lru_cache | 不适用 | module |
| wraps | functools.wraps | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| APIGatewayClient | bkapi_client_core.apigateway.APIGatewayClient | 不适用 | module |
| Operation | bkapi_client_core.apigateway.Operation | 不适用 | module |
| bind_property | bkapi_client_core.apigateway.bind_property | 不适用 | module |
| OperationGroup | bkapi_client_core.apigateway.OperationGroup | 不适用 | module |
| HookEvent | bkapi_client_core.config.HookEvent | REQUEST | module |
| ResponseError | bkapi_client_core.exceptions.ResponseError | 不适用 | module |
| Session | bkapi_client_core.session.Session | 不适用 | module |
| APIError | blue_krill.web.std_error.APIError | 不适用 | module |
| settings | django.conf.settings | BK_APP_CODE, BK_APP_SECRET, BK_PLUGIN_APIGW_SERVICE_STAGE, BK_API_URL_TMPL | module |
| get_language | django.utils.translation.get_language | 不适用 | module |
| Request | requests.models.Request | 不适用 | module |
| PluginBackendAPIResource | paasng.bk_plugins.pluginscenter.definitions.PluginBackendAPIResource | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_client | `def make_client(resource: PluginBackendAPIResource, bk_username: Optional[str] = None) -> OperationGroup:` | 无 | 不适用 |
| transform_exception | `def transform_exception(exc: Exception):` | 无 | transfrom given exception to APIError exception

 ... |
| exception_transformer_decorator | `def exception_transformer_decorator(func):` | 无 | A decorator wrap with transform_exception |
| registry_i18n_hook | `def registry_i18n_hook(session: Session):` | 无 | registry hook to bkapi client session, which will ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| OperationGroup | _OperationGroup | 无 | 无 | 无 | 不适用 |
| DynamicClient | bkapi_client_core.apigateway.APIGatewayClient | __init__, with_group, with_bkapi_authorization, with_i18n_hook | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| path | django.urls.path | 不适用 | module |
| BkPluginUserManageView | apiserver.paasng.paasng.bk_plugins.pluginscenter.bk_user.views.BkPluginUserManageView | as_view | module |
| PluginSelectionView | apiserver.paasng.paasng.bk_plugins.pluginscenter.iam_adaptor.views.PluginSelectionView | as_view | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [path('api/bkplugins/filter_params/', views.PluginInstanceViewSet.as_view({'get': 'get_filter_params'})), path('api/bkplugins/lists/', views.PluginInstanceViewSet.as_view({'get': 'list'})), path('api/bkplugins/<str:pd_id>/plugins/', views.PluginInstanceViewSet.as_view({'post': 'create'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/', views.PluginInstanceViewSet.as_view({'get': 'retrieve', 'post': 'update', 'delete': 'destroy'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/basic_info/', views.PluginInstanceViewSet.as_view({'get': 'get_basic_info'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/extra_fields/', views.PluginInstanceViewSet.as_view({'post': 'update_extra_fields'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/publisher/', views.PluginInstanceViewSet.as_view({'post': 'update_publisher'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/visible_range/', views.PluginVisibleRangeViewSet.as_view({'post': 'update', 'get': 'retrieve'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/logo/', views.PluginInstanceViewSet.as_view({'put': 'update_logo'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/overview/', views.PluginInstanceViewSet.as_view({'get': 'get_repo_overview'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/archive/', views.PluginInstanceViewSet.as_view({'post': 'archive'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/reactivate/', views.PluginInstanceViewSet.as_view({'post': 'reactivate'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/repo/commit-diff-external/' + '<str:from_revision>/<str:to_revision>/', views.PluginReleaseViewSet.as_view({'get': 'get_compare_url'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/code_statistics/', views.PluginInstanceViewSet.as_view({'get': 'get_code_submit_info'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/feature_flags/', views.PluginInstanceViewSet.as_view({'get': 'get_feature_flags'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/releases/', views.PluginReleaseViewSet.as_view({'get': 'list', 'post': 'create'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/releases/schema/', views.PluginReleaseViewSet.as_view({'get': 'get_release_schema'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/releases/<str:release_id>/', views.PluginReleaseViewSet.as_view({'get': 'retrieve'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/releases/<str:release_id>/next/', views.PluginReleaseViewSet.as_view({'post': 'enter_next_stage'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/releases/<str:release_id>/back/', views.PluginReleaseViewSet.as_view({'post': 'back_to_previous_stage'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/releases/<str:release_id>/cancel/', views.PluginReleaseViewSet.as_view({'post': 'cancel_release'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/releases/<str:release_id>/reset/', views.PluginReleaseViewSet.as_view({'post': 're_release'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/releases/<str:release_id>/rollback/', views.PluginReleaseViewSet.as_view({'post': 'rollback_release'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/releases/<str:release_id>/stages/<str:stage_id>/', views.PluginReleaseStageViewSet.as_view({'get': 'retrieve'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/releases/<str:release_id>/stages/<str:stage_id>/rerun/', views.PluginReleaseStageViewSet.as_view({'post': 'rerun'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/releases/<str:release_id>/stages/<str:stage_id>/status/', views.PluginReleaseStageViewSet.as_view({'post': 'update_stage_status'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/releases/<str:release_id>/strategy/', views.PluginReleaseStrategyViewSet.as_view({'get': 'list', 'post': 'update'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/market/', views.PluginMarketViewSet.as_view({'get': 'retrieve', 'post': 'upsert'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/logs/standard_output/', views.PluginLogViewSet.as_view({'post': 'query_standard_output_logs'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/logs/structure_logs/', views.PluginLogViewSet.as_view({'post': 'query_structure_logs'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/logs/ingress_logs/', views.PluginLogViewSet.as_view({'post': 'query_ingress_logs'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/logs/aggregate_date_histogram/<str:log_type>/', views.PluginLogViewSet.as_view({'post': 'aggregate_date_histogram'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/logs/aggregate_fields_filters/<str:log_type>/', views.PluginLogViewSet.as_view({'post': 'aggregate_fields_filters'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/members/', views.PluginMembersViewSet.as_view({'get': 'list', 'post': 'create'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/members/leave/', views.PluginMembersViewSet.as_view({'post': 'leave'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/members/<str:username>/', views.PluginMembersViewSet.as_view({'delete': 'destroy', 'put': 'update_role'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/configurations/', views.PluginConfigViewSet.as_view({'get': 'list', 'post': 'upsert'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/configurations/<str:config_id>/', views.PluginConfigViewSet.as_view({'delete': 'destroy'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/members/leave/', views.PluginMembersViewSet.as_view({'post': 'leave'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/members/<str:username>/', views.PluginMembersViewSet.as_view({'delete': 'destroy'})), path('api/bkplugins/<str:pd_id>/plugins/<str:plugin_id>/operations/', views.OperationRecordViewSet.as_view({'get': 'list'})), path('api/bkplugins/plugin_definitions/schemas/', views.SchemaViewSet.as_view({'get': 'get_plugins_schema'})), path('api/bkplugins/plugin_definitions/<str:pd_id>/market_schema/', views.SchemaViewSet.as_view({'get': 'get_market_schema'})), path('api/bkplugins/plugin_definitions/<str:pd_id>/basic_info_schema/', views.SchemaViewSet.as_view({'get': 'get_basic_info_schema'})), path('api/bkplugins/plugin_definitions/<str:pd_id>/configuration_schema/', views.SchemaViewSet.as_view({'get': 'get_config_schema'})), path('api/bkplugins/shim/iam/selection/plugin_view/', PluginSelectionView.as_view()), path('api/usermanage/departments/<str:dept_id>/', BkPluginUserManageView.as_view({'get': 'get_department'}))]` | module |



---


### 模块: apiserver/paasng/paasng/bk_plugins/pluginscenter/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| cattr | unstructure | module |
| semver | parse, VersionInfo | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Literal | typing.Literal | 不适用 | module |
| user_id_encoder | bkpaas_auth.models.user_id_encoder | encode | module |
| settings | django.conf.settings | USER_TYPE | module |
| Case | django.db.models.Case | 不适用 | module |
| IntegerField | django.db.models.IntegerField | 不适用 | module |
| Value | django.db.models.Value | 不适用 | module |
| When | django.db.models.When | 不适用 | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| method_decorator | django.utils.decorators.method_decorator | 不适用 | module |
| get_language | django.utils.translation.get_language | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| RequestError | elasticsearch.exceptions.RequestError | 不适用 | module |
| mixins | rest_framework.mixins | ListModelMixin, RetrieveModelMixin | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_204_NO_CONTENT, HTTP_200_OK | module |
| OrderingFilter | rest_framework.filters.OrderingFilter | 不适用 | module |
| SearchFilter | rest_framework.filters.SearchFilter | 不适用 | module |
| LimitOffsetPagination | rest_framework.pagination.LimitOffsetPagination | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| ViewSet | rest_framework.viewsets.ViewSet | 不适用 | module |
| constants | paasng.bk_plugins.pluginscenter.constants | THIRD_PARTY, MarketInfoStorageType, archive_status, PluginStatus, WAITING_APPROVAL, DEVELOPING, CREATE, ActionTypes, PLUGIN, SubjectTypes, MODIFY, BASIC_INFO, PUBLISHER, LOGO, APPROVAL_FAILED, ARCHIVED, ARCHIVE, REACTIVATE, PROD, PluginReleaseType, TESTED_VERSION, PluginRevisionType, VERSION, RELEASED, RELEASING, TEST_VERSION, ADD, RE_RELEASE, TERMINATE, ROLLED_BACK, GrayReleaseStatus, ROLLBACK, MASTER, TAG, AUTOMATIC, PluginReleaseVersionRule, MAJOR, SemverAutomaticType, MINOR, PATCH, running_status, PluginReleaseStatus, PLATFORM, SUCCESSFUL, MARKET_INFO, PluginRole, ADMINISTRATOR, DEVELOPER, CONFIG_INFO, VISIBLE_RANGE, terminated_status, RELEASE_STRATEGY | module |
| openapi_docs | paasng.bk_plugins.pluginscenter.openapi_docs | create_plugin_instance_schemas, market_schema, plugin_basic_info_schema, create_release_schema | module |
| serializers | paasng.bk_plugins.pluginscenter.serializers | PluginDefinitionSLZ, PluginBasicInfoDefinitionSLZ, PluginConfigSchemaSLZ, PluginInstanceSLZ, PluginListFilterSlZ, StubCreatePluginSLZ, make_plugin_slz_class, PluginInstanceDetailSLZ, StubUpdatePluginSLZ, make_extra_fields_class, PluginPublisher, PluginInstanceLogoSLZ, PluginDefinitionBasicSLZ, CodeCommitSearchSLZ, MetricsSummarySLZ, OperationRecordSLZ, OperationRecordFilterSLZ, PluginReleaseVersionSLZ, PluginReleaseFilterSLZ, StubCreatePluginReleaseVersionSLZ, make_create_release_version_slz_class, PluginReleaseTypeSLZ, PlainPluginReleaseVersionSLZ, PluginStageStatusSLZ, PluginMarketInfoSLZ, StubUpsertMarketInfoSLZ, make_market_info_slz_class, PluginMemberSLZ, PluginRoleSLZ, PluginLogQueryParamsSLZ, PluginLogQueryBodySLZ, StandardOutputLogsSLZ, StructureLogsSLZ, IngressLogSLZ, DateHistogramSLZ, LogFieldFilterSLZ, StubConfigSLZ, make_config_slz_class, PluginVisibleRangeSLZ, PluginVisibleRangeUpdateSLZ, PluginReleaseStrategySLZ, ReleaseStrategyCreateSLZ | module |
| shim | paasng.bk_plugins.pluginscenter.iam_adaptor.management.shim | build_repository_template, init_plugin_in_view, get_tested_versions | module |
| log | paasng.bk_plugins.pluginscenter.log | 不适用 | module |
| BkDevopsClient | paasng.bk_plugins.pluginscenter.bk_devops.client.BkDevopsClient | 不适用 | module |
| BkDevopsApiError | paasng.bk_plugins.pluginscenter.bk_devops.exceptions.BkDevopsApiError | 不适用 | module |
| BkDevopsGatewayServiceError | paasng.bk_plugins.pluginscenter.bk_devops.exceptions.BkDevopsGatewayServiceError | 不适用 | module |
| get_devops_project_id | paasng.bk_plugins.pluginscenter.bk_devops.utils.get_devops_project_id | 不适用 | module |
| PluginConfigManager | paasng.bk_plugins.pluginscenter.configuration.PluginConfigManager | 不适用 | module |
| error_codes | paasng.bk_plugins.pluginscenter.exceptions.error_codes | PLUGIN_ARCHIVED, THIRD_PARTY_API_ERROR, CANNOT_BE_DELETED, f, CANNOT_ARCHIVED, NOT_SUPPORT_REACTIVATE, CANNOT_REACTIVATE, CANNOT_RELEASE_ONGOING_EXISTS, NOT_SUPPORT_CANCEL_RELEASE, CANNOT_ROLLBACK_RELEASE, CANNOT_RERUN_ONGOING_STEPS, MEMBERSHIP_ADD_FAILED, MEMBERSHIP_UPDATE_FAILED, MEMBERSHIP_DELETE_FAILED, QUERY_REQUEST_ERROR, QUERY_LOG_FAILED, VISIBLE_RANGE_UPDATE_FAIELD, RELEASE_COMPLETED, LAST_GRAY_RELEASE_NOT_APPROVED | module |
| PluginFeatureFlag | paasng.bk_plugins.pluginscenter.features.PluginFeatureFlag | CANCEL_RELEASE | module |
| PluginFeatureFlagsManager | paasng.bk_plugins.pluginscenter.features.PluginFeatureFlagsManager | 不适用 | module |
| PluginInstancePermissionFilter | paasng.bk_plugins.pluginscenter.filters.PluginInstancePermissionFilter | 不适用 | module |
| PluginPermissionActions | paasng.bk_plugins.pluginscenter.iam_adaptor.constants.PluginPermissionActions | 不适用 | module |
| plugin_action_permission_class | paasng.bk_plugins.pluginscenter.iam_adaptor.policy.permissions.plugin_action_permission_class | 不适用 | module |
| is_itsm_ticket_closed | paasng.bk_plugins.pluginscenter.itsm_adaptor.utils.is_itsm_ticket_closed | 不适用 | module |
| submit_canary_release_ticket | paasng.bk_plugins.pluginscenter.itsm_adaptor.utils.submit_canary_release_ticket | 不适用 | module |
| submit_create_approval_ticket | paasng.bk_plugins.pluginscenter.itsm_adaptor.utils.submit_create_approval_ticket | 不适用 | module |
| submit_visible_range_ticket | paasng.bk_plugins.pluginscenter.itsm_adaptor.utils.submit_visible_range_ticket | 不适用 | module |
| BkLogApiError | paasng.bk_plugins.pluginscenter.log.exceptions.BkLogApiError | 不适用 | module |
| OperationRecord | paasng.bk_plugins.pluginscenter.models.OperationRecord | create, objects, all | module |
| PluginBasicInfoDefinition | paasng.bk_plugins.pluginscenter.models.PluginBasicInfoDefinition | get_languages | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | all, objects | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | all, objects | module |
| PluginMarketInfo | paasng.bk_plugins.pluginscenter.models.PluginMarketInfo | update_or_create, objects | module |
| PluginRelease | paasng.bk_plugins.pluginscenter.models.PluginRelease | create, objects, filter, none | module |
| PluginReleaseStrategy | paasng.bk_plugins.pluginscenter.models.PluginReleaseStrategy | create, objects | module |
| PluginVisibleRange | paasng.bk_plugins.pluginscenter.models.PluginVisibleRange | get_or_initialize_with_default | module |
| IsPluginCreator | paasng.bk_plugins.pluginscenter.permissions.IsPluginCreator | 不适用 | module |
| PluginCenterFeaturePermission | paasng.bk_plugins.pluginscenter.permissions.PluginCenterFeaturePermission | 不适用 | module |
| PluginReleaseExecutor | paasng.bk_plugins.pluginscenter.releases.executor.PluginReleaseExecutor | 不适用 | module |
| init_stage_controller | paasng.bk_plugins.pluginscenter.releases.executor.init_stage_controller | 不适用 | module |
| build_master_placeholder | paasng.bk_plugins.pluginscenter.sourcectl.build_master_placeholder | 不适用 | module |
| get_plugin_repo_accessor | paasng.bk_plugins.pluginscenter.sourcectl.get_plugin_repo_accessor | 不适用 | module |
| get_plugin_repo_member_maintainer | paasng.bk_plugins.pluginscenter.sourcectl.get_plugin_repo_member_maintainer | 不适用 | module |
| remove_repo_member | paasng.bk_plugins.pluginscenter.sourcectl.remove_repo_member | 不适用 | module |
| instance | paasng.bk_plugins.pluginscenter.thirdparty.instance | 不适用 | module |
| market | paasng.bk_plugins.pluginscenter.thirdparty.market | 不适用 | module |
| release | paasng.bk_plugins.pluginscenter.thirdparty.release | version, refresh_from_db, type, is_rolled_back, is_latest, save, get, all_stages, stage_id, current_stage, update_status, all, release_strategies, status | module |
| sync_config | paasng.bk_plugins.pluginscenter.thirdparty.configuration.sync_config | 不适用 | module |
| update_instance | paasng.bk_plugins.pluginscenter.thirdparty.instance.update_instance | 不适用 | module |
| sync_members | paasng.bk_plugins.pluginscenter.thirdparty.members.sync_members | 不适用 | module |
| openapi_empty_schema | paasng.utils.api_docs.openapi_empty_schema | 不适用 | module |
| to_translated_field | paasng.utils.i18n.to_translated_field | 不适用 | module |
| action_perms | paasng.utils.views.action_perms | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SchemaViewSet | rest_framework.viewsets.ViewSet | get_plugins_schema, get_market_schema, get_basic_info_schema, get_config_schema | 无 | 无 | 不适用 |
| PluginInstanceMixin | 无 | get_plugin_instance | 无 | 无 | PluginInstanceMixin provide a shortcut method to g... |
| PluginInstanceViewSet | PluginInstanceMixin, rest_framework.mixins.ListModelMixin, rest_framework.viewsets.GenericViewSet | filter_queryset, create, retrieve, update, update_extra_fields, update_publisher, update_logo, destroy, archive, reactivate, get_filter_params, get_code_submit_info, get_feature_flags, get_repo_overview, get_basic_info | queryset, serializer_class, pagination_class, filter_backends, search_fields, permission_classes | 无 | 不适用 |
| OperationRecordViewSet | PluginInstanceMixin, rest_framework.mixins.ListModelMixin, rest_framework.viewsets.GenericViewSet | get_queryset, filter_queryset, list | queryset, serializer_class, pagination_class, permission_classes | 无 | 不适用 |
| PluginReleaseViewSet | PluginInstanceMixin, rest_framework.mixins.ListModelMixin, rest_framework.viewsets.GenericViewSet | filter_queryset, retrieve, get_compare_url, create, enter_next_stage, back_to_previous_stage, re_release, cancel_release, rollback_release, get_release_schema, get_queryset | serializer_class, pagination_class, filter_backends, permission_classes, search_fields, ordering | method_decorator | 不适用 |
| PluginReleaseStageViewSet | PluginInstanceMixin, rest_framework.viewsets.GenericViewSet | retrieve, rerun, update_stage_status | permission_classes | 无 | 不适用 |
| PluginMarketViewSet | PluginInstanceMixin, rest_framework.viewsets.GenericViewSet | retrieve, upsert | permission_classes, serializer_class | 无 | 不适用 |
| PluginMembersViewSet | PluginInstanceMixin, rest_framework.viewsets.GenericViewSet | list, leave, create, update_role, destroy, _check_admin_count | permission_classes, serializer_class | 无 | 不适用 |
| PluginLogViewSet | PluginInstanceMixin, rest_framework.viewsets.GenericViewSet | query_standard_output_logs, query_structure_logs, query_ingress_logs, aggregate_date_histogram, aggregate_fields_filters | permission_classes | 无 | 不适用 |
| PluginConfigViewSet | PluginInstanceMixin, rest_framework.viewsets.GenericViewSet | list, upsert, destroy | permission_classes, pagination_class | 无 | 不适用 |
| PluginVisibleRangeViewSet | PluginInstanceMixin, rest_framework.mixins.RetrieveModelMixin, rest_framework.viewsets.GenericViewSet | retrieve, update | serializer_class, permission_classes | 无 | 不适用 |
| PluginReleaseStrategyViewSet | PluginInstanceMixin, rest_framework.viewsets.GenericViewSet | list, update | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/celery.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | setdefault, environ | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| absolute_import | __future__.absolute_import | 不适用 | module |
| Celery | celery.Celery | 不适用 | module |
| setup_logging | celery.signals.setup_logging | connect | module |
| dictConfig | logging.config.dictConfig | 不适用 | module |
| settings | django.conf.settings | LOGGING | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| app | 不适用 | `app = Celery('paasng')` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| config_loggers | `@setup_logging.connect:` | setup_logging.connect | Re-configure the logging using the django settings... |


---


### 模块: apiserver/paasng/paasng/core/__init__.py







---


### 模块: apiserver/paasng/paasng/core/core/__init__.py







---


### 模块: apiserver/paasng/paasng/core/core/protections/__init__.py







---


### 模块: apiserver/paasng/paasng/core/core/protections/base.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ABCMeta | abc.ABCMeta | 不适用 | module |
| abstractmethod | abc.abstractmethod | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| List | typing.List | 不适用 | module |
| ConditionNotMatched | paasng.core.core.protections.exceptions.ConditionNotMatched | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseCondition | 无 | validate | 无 | 无 | 不适用 |
| FailedCondition | 无 | 无 | 无 | dataclass | 不适用 |
| ProtectionStatus | 无 | __init__, activated, reason, __eq__ | 无 | 无 | 不适用 |
| BaseConditionChecker | 无 | perform, all_matched | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/core/core/protections/exceptions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ConditionNotMatched | Exception | __init__, as_dict | 无 | 无 | Raised if publish condition not matched |

---


### 模块: apiserver/paasng/paasng/core/core/storages/__init__.py







---


### 模块: apiserver/paasng/paasng/core/core/storages/cache.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| SentinelBackend | blue_krill.redis_tools.sentinel.SentinelBackend | 不适用 | module |
| settings | django.conf.settings | REDIS_URL, SENTINEL_MASTER_NAME, SENTINEL_PASSWORD | module |
| make_region | dogpile.cache.make_region | 不适用 | module |
| is_redis_sentinel_backend | paasng.settings.utils.is_redis_sentinel_backend | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| REDIS_URL | 不适用 | `REDIS_URL = settings.REDIS_URL` | module |
| backend | 不适用 | `backend = SentinelBackend(REDIS_URL, settings.SENTINEL_MASTER_NAME, {'password': settings.SENTINEL_PASSWORD})` | module, if |
| region | 不适用 | `region = make_region(key_mangler=key_mangler).configure('dogpile.cache.redis', arguments={'url': REDIS_URL, 'redis_expiration_time': 600, 'distributed_lock': False})` | module, if |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| key_mangler | `def key_mangler(key: str):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/core/core/storages/dbrouter.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| MethodType | types.MethodType | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| apps | django.apps.apps | get_app_config | module |
| connections | django.db.connections | 不适用 | module |
| Migration | django.db.migrations.Migration | 不适用 | module |
| MigrationRecorder | django.db.migrations.loader.MigrationRecorder | 不适用 | module |
| Operation | django.db.migrations.operations.base.Operation | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| skip_if_found_record | `def skip_if_found_record(sentinel: Tuple[str, str]):` | 无 | patch `Migration.operations` to control whether to... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| WorkloadsDBRouter | 无 | db_for_read, db_for_write, allow_relation, allow_migrate, _model_form_wl, _app_from_wl | _workloads_db_name | 无 | 
    A router to control all database operations o... |

---


### 模块: apiserver/paasng/paasng/core/core/storages/object_storage.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | SERVICE_LOGO_BUCKET, APP_LOGO_BUCKET, PLUGIN_LOGO_BUCKET | module |
| LazyObject | django.utils.functional.LazyObject | 不适用 | module |
| get_storage_by_bucket | paasng.utils.blobstore.get_storage_by_bucket | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| service_logo_storage | 不适用 | `service_logo_storage = LazyStorage(bucket=settings.SERVICE_LOGO_BUCKET)` | module |
| app_logo_storage | 不适用 | `app_logo_storage = LazyStorage(bucket=settings.APP_LOGO_BUCKET)` | module |
| plugin_logo_storage | 不适用 | `plugin_logo_storage = LazyStorage(bucket=settings.PLUGIN_LOGO_BUCKET)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LazyStorage | django.utils.functional.LazyObject | __init__, _setup | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/core/core/storages/redisdb.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pickle | dumps, loads | module |
| redis | Redis, from_url | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| SentinelBackend | blue_krill.redis_tools.sentinel.SentinelBackend | 不适用 | module |
| settings | django.conf.settings | SENTINEL_MASTER_NAME, SENTINEL_PASSWORD | module |
| ImproperlyConfigured | django.core.exceptions.ImproperlyConfigured | 不适用 | module |
| is_redis_sentinel_backend | paasng.settings.utils.is_redis_sentinel_backend | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_default_redis | `def get_default_redis(settings_prefix: str = 'REDIS_') -> redis.Redis:` | 无 | Get the default redis database as connection pool ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DefaultRediStore | 无 | __init__, save, get | 无 | 无 | Store snapshot data, use redis as backend. |

---


### 模块: apiserver/paasng/paasng/core/core/storages/sqlalchemy.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | PAAS_LEGACY_DBCONF, BK_CONSOLE_DBCONF | module |
| DeclarativeMeta | sqlalchemy.ext.declarative.DeclarativeMeta | 不适用 | module |
| inspect | sqlalchemy.inspection.inspect | 不适用 | module |
| Mapper | sqlalchemy.orm.mapper.Mapper | 不适用 | module |
| DummyDB | apiserver.paasng.paasng.core.core.storages.utils.DummyDB | 不适用 | module |
| SADBManager | apiserver.paasng.paasng.core.core.storages.utils.SADBManager | get_instance | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| legacy_db | 不适用 | `legacy_db = console_db` | module, if, if |
| console_db | 不适用 | `console_db = legacy_db` | module, if |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| has_column | `def has_column(sa_model: DeclarativeMeta, name: str) -> bool:` | 无 | Check if an auto-mapped model has a column with gi... |
| filter_field_values | `def filter_field_values(sa_model: DeclarativeMeta, field_values: Dict[str, Any]) -> Dict[str, Any]:` | 无 | Filter a pair of field values, remove invalid fiel... |


---


### 模块: apiserver/paasng/paasng/core/core/storages/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger, DEBUG | module |
| urllib.parse | quote, parse | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| ClassVar | typing.ClassVar | 不适用 | module |
| ContextManager | typing.ContextManager | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Iterator | typing.Iterator | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| LazyObject | django.utils.functional.LazyObject | 不适用 | module |
| create_engine | sqlalchemy.create_engine | 不适用 | module |
| Engine | sqlalchemy.engine.Engine | 不适用 | module |
| AutomapBase | sqlalchemy.ext.automap.AutomapBase | 不适用 | module |
| automap_base | sqlalchemy.ext.automap.automap_base | 不适用 | module |
| Session | sqlalchemy.orm.Session | 不适用 | module |
| scoped_session | sqlalchemy.orm.scoped_session | 不适用 | module |
| sessionmaker | sqlalchemy.orm.sessionmaker | 不适用 | module |
| Protocol | typing_extensions.Protocol | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger()` | module |
| DEFAULT_POOL_OPTIONS | {'pool_size': 20, 'max_overflow': 100, 'pool_recycle': 600} | `DEFAULT_POOL_OPTIONS = {'pool_size': 20, 'max_overflow': 100, 'pool_recycle': 600}` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_sa_conn_string | `def make_sa_conn_string(config_dict, driver_type='pymysql'):` | 无 | Convert a django db dict to sqlalchemy string |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DummyObject | django.utils.functional.LazyObject | _setup | 无 | 无 | 不适用 |
| DBManagerProtocol | typing_extensions.Protocol | engine, get_model, get_scoped_session, session_scope | 无 | 无 | 不适用 |
| DummyDB | 无 | engine, get_model, get_scoped_session, session_scope | 无 | 无 | 不适用 |
| SADBManager | 无 | get_instance, engine, __init__, get_model, get_scoped_session, __session_scope__, _prepare_models, _create_engine, make_uni_key | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/core/region/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Region | apiserver.paasng.paasng.core.region.models.Region | 不适用 | module |
| RegionBasicInfo | apiserver.paasng.paasng.core.region.models.RegionBasicInfo | 不适用 | module |
| register_region | apiserver.paasng.paasng.core.region.models.register_region | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/core/region/app.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| BuiltInEnvVarDetail | paasng.platform.engine.models.config_var.BuiltInEnvVarDetail | 不适用 | module |
| get_region | apiserver.paasng.paasng.core.region.models.get_region | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppRegionHelper | 无 | __init__ | 无 | 无 | AppRegionHelper is a helper for connect Applicatio... |
| BuiltInEnvsRegionHelper | 无 | __init__, get_envs | 无 | 无 | Helps getting env vars from region configs, for ex... |
| S3BucketRegionHelper | 无 | __init__, get_logo_bucket | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/core/region/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RegionConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/core/region/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RegionDoesNotExists | Exception | 无 | 无 | 无 | 
    Region Dost Not Exists
     |
| RegionDuplicated | Exception | 无 | 无 | 无 | 
    Region Dost Not Exists
     |

---


### 模块: apiserver/paasng/paasng/core/region/models.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| OrderedDict | collections.OrderedDict | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Protocol | typing.Protocol | 不适用 | module |
| Set | typing.Set | 不适用 | module |
| settings | django.conf.settings | APP_LOGO_BUCKET | module |
| RegionDoesNotExists | apiserver.paasng.paasng.core.region.exceptions.RegionDoesNotExists | 不适用 | module |
| RegionDuplicated | apiserver.paasng.paasng.core.region.exceptions.RegionDuplicated | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_all_regions | `def get_all_regions() -> Dict[str, 'Region']:` | 无 | 不适用 |
| filter_region_by_name | `def filter_region_by_name(name_list):` | 无 | 不适用 |
| register_region | `def register_region(region: 'Region'):` | 无 | Registry a new region |
| get_region | `def get_region(name: str):` | 无 | Get the region class by region name
    :param str... |
| set_service_categories_loader | `def set_service_categories_loader(loader: SvcCategoriesLoader):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RegionList | list | __str__, has_region_by_name, get_region_by_name | 无 | 无 | 不适用 |
| RegionBasicInfo | 无 | __init__, get_extra_logo_bucket_name, get_logo_bucket_name | 无 | 无 | Basic info for region

    :param str description:... |
| RegionMobileConfig | 无 | __init__ | 无 | 无 | 不适用 |
| RegionEntranceConfig | 无 | 无 | 无 | dataclass | 不适用 |
| RegionMulModulesConfig | 无 | 无 | 无 | dataclass | 不适用 |
| SvcCategoriesLoader | typing.Protocol | __call__ | 无 | 无 | The loader for loading service categories |
| Region | 无 | __post_init__, __str__, __hash__, service_categories, load_dynamic_infos, get_built_in_config_var | 无 | dataclass | Region represents a region in current PaaS platfor... |

---


### 模块: apiserver/paasng/paasng/core/region/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| typing | TYPE_CHECKING | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, CharField, IntegerField, BooleanField | module |
| Region | paasng.core.region.models.Region | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RegionSerializer | 无 | __init__, serialize | 无 | 无 | Serializer for Region object |
| BasicInfoSLZ | rest_framework.serializers.Serializer | 无 | description | 无 | 不适用 |
| ServiceCategorySLZ | rest_framework.serializers.Serializer | 无 | id, name, sort_priority | 无 | 不适用 |
| ModuleMobileConfigSLZ | rest_framework.serializers.Serializer | 无 | enabled | 无 | Serializer for application mobile config |
| MulModulesConfigConfigSLZ | rest_framework.serializers.Serializer | 无 | creation_allowed | 无 | 不适用 |
| EntranceConfigSLZ | rest_framework.serializers.Serializer | 无 | manually_upgrade_to_subdomain_allowed | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/core/region/states.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| copy | deepcopy | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | REGION_CONFIGS | module |
| SimpleLazyObject | django.utils.functional.SimpleLazyObject | 不适用 | module |
| Region | paasng.core.region.models.Region | 不适用 | module |
| RegionBasicInfo | paasng.core.region.models.RegionBasicInfo | 不适用 | module |
| RegionEntranceConfig | paasng.core.region.models.RegionEntranceConfig | 不适用 | module |
| RegionMobileConfig | paasng.core.region.models.RegionMobileConfig | 不适用 | module |
| RegionMulModulesConfig | paasng.core.region.models.RegionMulModulesConfig | 不适用 | module |
| register_region | paasng.core.region.models.register_region | 不适用 | module |
| ChoicesEnum | paasng.utils.basic.ChoicesEnum | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| RegionType | 不适用 | `RegionType = SimpleLazyObject(get_region)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| load_regions_from_settings | `def load_regions_from_settings():` | 无 | Load region configs from settings |
| get_region | `def get_region():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RegionTypeContainer | paasng.utils.basic.ChoicesEnum | 无 | _choices_labels | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/core/region/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| REGION | (?P<region>[a-z0-9_-]{1,32}) | `REGION = '(?P<region>[a-z0-9_-]{1,32})'` | module |
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/regions/%s/$' % REGION, views.RegionViewSet.as_view({'get': 'retrieve'}), name='api.regions.retrieve')]` | module |



---


### 模块: apiserver/paasng/paasng/core/region/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| asdict | dataclasses.asdict | 不适用 | module |
| Http404 | django.http.Http404 | 不适用 | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| get_custom_domain_config | paas_wl.workloads.networking.ingress.config.get_custom_domain_config | 不适用 | module |
| allow_resp_patch | paasng.utils.views.allow_resp_patch | 不适用 | module |
| get_all_regions | apiserver.paasng.paasng.core.region.models.get_all_regions | 不适用 | module |
| RegionSerializer | apiserver.paasng.paasng.core.region.serializers.RegionSerializer | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RegionBaseViewSet | rest_framework.viewsets.ViewSet | get_region_or_404 | 无 | 无 | 不适用 |
| RegionViewSet | RegionBaseViewSet | retrieve | permission_classes | 无 | ViewSet for Regions |

---


### 模块: apiserver/paasng/paasng/core/signals.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Signal | django.dispatch.Signal | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| post_change_app_router | 不适用 | `post_change_app_router = Signal()` | module |
| rollback_change_app_router | 不适用 | `rollback_change_app_router = Signal()` | module |



---


### 模块: apiserver/paasng/paasng/infras/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/accounts/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/accounts/admin.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| admin | django.contrib.admin | ModelAdmin, register, site | module |
| UserProfile | apiserver.paasng.paasng.infras.accounts.models.UserProfile | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| UserProfileAdmin | django.contrib.admin.ModelAdmin | 无 | list_per_page, list_display, search_fields | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/accounts/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PlugableAppConfig | paasng.utils.addons.PlugableAppConfig | 不适用 | module |
| patch_middleware_get_user | bkpaas_auth.monkey.patch_middleware_get_user | 不适用 | module |
| register_plugins | paasng.utils.notification_plugins.register_plugins | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppsConfig | paasng.utils.addons.PlugableAppConfig | ready | name, default | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/accounts/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| cast | typing.cast | 不适用 | module |
| extend_enum | aenum.extend_enum | 不适用 | module |
| skip | aenum.skip | 不适用 | module |
| FeatureFlagField | blue_krill.data_types.enum.FeatureFlagField | 不适用 | module |
| settings | django.conf.settings | IS_ALLOW_CREATE_SMART_APP_BY_DEFAULT, IS_ALLOW_PLUGIN_CENTER | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| ChoicesEnum | paasng.utils.basic.ChoicesEnum | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| FUNCTION_TYPE_MAP | 不适用 | `FUNCTION_TYPE_MAP = {FunctionType.SVN.value: 'verification_code', FunctionType.GET_APP_SECRET.value: 'app_secret_vcode_storage_key'}` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SiteRole | paasng.utils.basic.ChoicesEnum | 无 | NOBODY, USER, ADMIN, SUPER_USER, BANNED_USER, PLATFORM_MANAGER, APP_TEMPLATES_MANAGER, PLATFORM_OPERATOR, SYSTEM_API_BASIC_READER, SYSTEM_API_BASIC_MAINTAINER, SYSTEM_API_LIGHT_APP_MAINTAINER, SYSTEM_API_LESSCODE, _choices_labels | 无 | 不适用 |
| AccountFeatureFlag | paasng.utils.basic.ChoicesEnum | get_default_flags, register_ext_feature_flag | ALLOW_ADVANCED_CREATION_OPTIONS, ENABLE_WEB_CONSOLE, ALLOW_CREATE_SMART_APP, ALLOW_PLUGIN_CENTER, _choices_labels, _defaults | 无 | 
    Account feature 常量表
     |
| FunctionType | paasng.utils.basic.ChoicesEnum | 无 | DEFAULT, SVN, GET_APP_SECRET | 无 | 
    用到短信验证码的功能, 避免字符串硬编码
     |

---


### 模块: apiserver/paasng/paasng/infras/accounts/internal/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/accounts/internal/user.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| DatabaseUser | bkpaas_auth.models.DatabaseUser | from_db_obj | module |
| check_client_role | blue_krill.auth.client.check_client_role | 不适用 | module |
| SiteRole | paasng.infras.accounts.constants.SiteRole | value, SYSTEM_API_BASIC_MAINTAINER | module |
| set_database_user | paasng.infras.accounts.middlewares.set_database_user | 不适用 | module |
| User | paasng.infras.accounts.models.User | get_or_create, objects | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | update_or_create, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SysUserFromVerifiedClientMiddleware | 无 | __init__, __call__, get_default_user | _client_role, _default_username, _default_role | 无 | When current request was issued by a verified inte... |

---


### 模块: apiserver/paasng/paasng/infras/accounts/management/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/accounts/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/accounts/management/commands/create_authed_app_user.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| DatabaseUser | bkpaas_auth.models.DatabaseUser | from_db_obj | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| SiteRole | paasng.infras.accounts.constants.SiteRole | value, SYSTEM_API_BASIC_READER, SYSTEM_API_BASIC_MAINTAINER, SYSTEM_API_LIGHT_APP_MAINTAINER, SYSTEM_API_LESSCODE | module |
| AuthenticatedAppAsUser | paasng.infras.accounts.models.AuthenticatedAppAsUser | update_or_create, objects | module |
| User | paasng.infras.accounts.models.User | get_or_create, objects | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | update_or_create, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger('commands')` | module |
| ROLE_CHOICES | 不适用 | `ROLE_CHOICES = [SiteRole.SYSTEM_API_BASIC_READER.value, SiteRole.SYSTEM_API_BASIC_MAINTAINER.value, SiteRole.SYSTEM_API_LIGHT_APP_MAINTAINER.value, SiteRole.SYSTEM_API_LESSCODE.value]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle, _get_default_username | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/accounts/management/commands/encryption_migration_accounts.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ReEncryptCommand | paasng.utils.encrypt_cmd.ReEncryptCommand | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | paasng.utils.encrypt_cmd.ReEncryptCommand | 无 | help, app_label | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/accounts/management/commands/register_to_bk_notice.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Command | bk_notice_sdk.management.commands.register_application.Command | 不适用 | module |
| settings | django.conf.settings | ENABLE_BK_NOTICE | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | BkNoticeBaseCommand | handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/accounts/middlewares.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads, JSONDecodeError, decoder | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Callable | typing.Callable | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| DatabaseUser | bkpaas_auth.models.DatabaseUser | from_db_obj | module |
| validate_jwt_token | blue_krill.auth.utils.validate_jwt_token | 不适用 | module |
| settings | django.conf.settings | REQUEST_ID_HEADER_KEY | module |
| auth | django.contrib.auth | authenticate | module |
| HttpRequest | django.http.HttpRequest | 不适用 | module |
| JsonResponse | django.http.JsonResponse | 不适用 | module |
| MiddlewareMixin | django.utils.deprecation.MiddlewareMixin | 不适用 | module |
| smart_str | django.utils.encoding.smart_str | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| get_authorization_header | rest_framework.authentication.get_authorization_header | 不适用 | module |
| SiteRole | paasng.infras.accounts.constants.SiteRole | value, SYSTEM_API_BASIC_READER | module |
| ForceAllowAuthedApp | paasng.infras.accounts.utils.ForceAllowAuthedApp | check_marked | module |
| get_client_ip | paasng.utils.basic.get_client_ip | 不适用 | module |
| local | paasng.utils.local.local | get_http_request_id, release | module |
| AuthenticatedAppAsUser | apiserver.paasng.paasng.infras.accounts.models.AuthenticatedAppAsUser | get, objects, DoesNotExist, update_or_create | module |
| User | apiserver.paasng.paasng.infras.accounts.models.User | get_or_create, objects | module |
| UserPrivateToken | apiserver.paasng.paasng.infras.accounts.models.UserPrivateToken | get, objects, DoesNotExist | module |
| UserProfile | apiserver.paasng.paasng.infras.accounts.models.UserProfile | update_or_create, objects | module |
| SiteAction | apiserver.paasng.paasng.infras.accounts.permissions.constants.SiteAction | VISIT_SITE | module |
| user_has_site_action_perm | apiserver.paasng.paasng.infras.accounts.permissions.global_site.user_has_site_action_perm | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| set_database_user | `def set_database_user(request: HttpRequest, user: User, set_non_cookies: bool = True):` | 无 | Mark current request authenticated with a user sto... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SiteAccessControlMiddleware | django.utils.deprecation.MiddlewareMixin | process_request | 无 | 无 | Control who can visit which paths in macro way |
| PrivateTokenAuthenticationMiddleware | 无 | __init__, __call__, get_user, get_token_string, get_token_string_from_header | AUTH_HEADER_TYPE | 无 | Authenticate user by private token |
| AuthenticatedAppAsUserMiddleware | 无 | __init__, __call__, process_view, get_user, create_user | 无 | 无 | When an API request forwarded by API Gateway was r... |
| RequestIDProvider | 无 | __init__, __call__ | 无 | 无 | 向 request，response 注入 request_id |
| WrapUsernameAsUserMiddleware | 无 | __init__, get_user, __call__ | BKPAASAPI_AUTHORIZATION_META_KEY | 无 | 用于免用户认证的 apigw 接口, 将头部获取的 bk_username 包装成 request ... |

---


### 模块: apiserver/paasng/paasng/infras/accounts/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| blue_krill.models.fields | EncryptField, fields, models | module |
| django.contrib.auth.models | UnicodeUsernameValidator, validators, auth, contrib, now, timezone, utils, UserManager, models, CASCADE, deletion, db | module |
| jsonfield.fields | JSONField, fields | module |
| paasng.utils.models | BkUserField, models, utils, RegionListField, _default_value, RegionListValidator, validators | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, BooleanField, EmailField, IntegerField, TextField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/accounts/migrations/0002_authenticatedappasuser.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, BooleanField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/accounts/migrations/0003_privatetokenholder.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| blue_krill.models.fields | EncryptField, fields, models | module |
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, CharField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/accounts/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/accounts/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | timedelta, now, datetime | module |
| random | randint | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| EncryptField | blue_krill.models.fields.EncryptField | 不适用 | module |
| settings | django.conf.settings | AUTO_CREATE_REGULAR_USER | module |
| AbstractBaseUser | django.contrib.auth.models.AbstractBaseUser | 不适用 | module |
| UserManager | django.contrib.auth.models.UserManager | 不适用 | module |
| UnicodeUsernameValidator | django.contrib.auth.validators.UnicodeUsernameValidator | 不适用 | module |
| models | django.db.models | CharField, EmailField, BooleanField, DateTimeField, Manager, Model, ForeignKey, CASCADE, IntegerField, TextField, QuerySet | module |
| timezone | django.utils.timezone | now | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| FUNCTION_TYPE_MAP | paasng.infras.accounts.constants.FUNCTION_TYPE_MAP | get | module |
| SiteRole | paasng.infras.accounts.constants.SiteRole | value, USER | module |
| AccountFeatureFlag | paasng.infras.accounts.constants.AccountFeatureFlag | DoesNotExist | module |
| Project | paasng.infras.accounts.oauth.models.Project | 不适用 | module |
| Scope | paasng.infras.accounts.oauth.models.Scope | parse_from_str | module |
| get_backend | paasng.infras.accounts.oauth.utils.get_backend | 不适用 | module |
| AuditedModel | paasng.utils.models.AuditedModel | 不适用 | module |
| BkUserField | paasng.utils.models.BkUserField | 不适用 | module |
| RegionListField | paasng.utils.models.RegionListField | 不适用 | module |
| TimestampedModel | paasng.utils.models.TimestampedModel | 不适用 | module |
| generate_token | paasng.utils.text.generate_token | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_verifier | `def make_verifier(session, func=None):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| User | django.contrib.auth.models.AbstractBaseUser | clean, natural_key | username_validator, username, first_name, last_name, email, is_staff, is_active, date_joined, objects, EMAIL_FIELD, USERNAME_FIELD, REQUIRED_FIELDS | 无 | An user model which stores users in databases, it ... |
| UserPrivateTokenManager | django.db.models.Manager | create_token, get_by_natural_key | 无 | 无 | Custom manager for UserPrivateToken |
| UserPrivateToken | django.db.models.Model | has_expired, natural_key | user, token, expires_at, is_active, objects | 无 | Private token can be used to authenticate an user,... |
| UserProfileManager | django.db.models.Manager | get_profile, get_by_natural_key | 无 | 无 | Custom profile manager for user |
| UserProfile | paasng.utils.models.TimestampedModel | username, __str__, natural_key | user, role, feature_flags, enable_regions, objects | 无 | Profile field for user |
| SessionCodeVerifier | 无 | __init__, generate_code, set_current_code, get_current_code, validate, validate_and_clean | numbers | 无 | A verifier which generate a random code, and valid... |
| Oauth2TokenHolderQS | django.db.models.QuerySet | get_by_project, filter_valid_tokens | 无 | 无 | 不适用 |
| Oauth2TokenHolder | paasng.utils.models.TimestampedModel | refresh, expired, get_scope | provider, access_token, token_type, refresh_token, scope, expire_at, user, objects | 无 | OAuth2 Token for sourcectl |
| PrivateTokenHolder | paasng.utils.models.AuditedModel | refresh, expired, get_scope | provider, private_token, expire_at, user, objects | 无 | Private Token for sourcectl |
| AccountFeatureFlagManager | django.db.models.Manager | has_feature, get_user_features, set_feature | 无 | 无 | 不适用 |
| AccountFeatureFlag | paasng.utils.models.TimestampedModel | 无 | user, effect, name, objects | 无 | 
    针对用户的特性标记
     |
| AuthenticatedAppAsUserManager | django.db.models.Manager | get_by_natural_key | 无 | 无 | 不适用 |
| AuthenticatedAppAsUser | paasng.utils.models.TimestampedModel | natural_key | user, bk_app_code, is_active, objects | 无 | Store relationships which treat an authenticated(b... |

---


### 模块: apiserver/paasng/paasng/infras/accounts/oauth/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/accounts/oauth/backends.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| os | environ | module |
| cattr | unstructure | module |
| requests | post, get | module |
| paasng.utils.masked_curlify | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ClassVar | typing.ClassVar | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| define | attrs.define | 不适用 | module |
| evolve | attrs.evolve | 不适用 | module |
| field | attrs.field | 不适用 | module |
| settings | django.conf.settings | TOKEN_AUTH_ENDPOINT, TOKEN_REFRESH_ENDPOINT, BKAUTH_TOKEN_CHECK_ENDPOINT, CLI_AUTH_CODE, CLI_AUTH_SECRET, AUTH_ENV_NAME, BKAUTH_TOKEN_APP_CODE, BKAUTH_TOKEN_SECRET_KEY, BKAUTH_BACKEND_TYPE | module |
| Response | requests.models.Response | 不适用 | module |
| OAuth2Session | requests_oauthlib.OAuth2Session | 不适用 | module |
| BKAppOauthRequestError | paasng.infras.accounts.oauth.exceptions.BKAppOauthRequestError | 不适用 | module |
| BKAppOauthResponseError | paasng.infras.accounts.oauth.exceptions.BKAppOauthResponseError | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | f, CANNOT_GET_BK_USER_CREDENTIAL | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| empty_display_info | 不适用 | `empty_display_info = BackendDisplayInfo()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_bkapp_oauth_backend_cls | `def get_bkapp_oauth_backend_cls():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BackendDisplayInfo | 无 | to_dict | 无 | define | 不适用 |
| OAuth2Backend | 无 | __attrs_post_init__, __str__, get_oauth_session, get_scope, get_auth_docs, get_authorization_url, fetch_token, refresh_token | 无 | define | 不适用 |
| GitRepoBackend | OAuth2Backend | get_oauth_session | 无 | 无 | Git 仓库，如 GitLab，GitHub，Gitee 等共用 Backend |
| GitLabBackend | GitRepoBackend | 无 | 无 | 无 | 不适用 |
| GitHubBackend | GitRepoBackend | 无 | 无 | 无 | 不适用 |
| GiteeBackend | GitRepoBackend | 无 | 无 | 无 | 不适用 |
| BlueKingApplicationOauthMixin | 无 | from_paasv3cli, from_workbench, get_user_credential_from_request, fetch_token, refresh_token, validate_token, app_info_headers, validate_response | COOKIE_KEY, HEADER_KEY | define | 不适用 |
| APIGateWayBackend | BlueKingApplicationOauthMixin | fetch_token, refresh_token, validate_token | COOKIE_KEY, HEADER_KEY | 无 | 不适用 |
| BKSSMBackend | BlueKingApplicationOauthMixin | fetch_token, refresh_token, validate_token | COOKIE_KEY, HEADER_KEY | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/accounts/oauth/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ChoicesEnum | paasng.utils.basic.ChoicesEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ScopeType | paasng.utils.basic.ChoicesEnum | 无 | USER, GROUP, PROJECT, _choices_labels | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/accounts/oauth/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKAppOauthError | Exception | __init__, __str__ | 无 | 无 | 不适用 |
| BKAppOauthRequestError | BKAppOauthError | 无 | 无 | 无 | 调用 BKApp Oauth 接口异常 |
| BKAppOauthResponseError | BKAppOauthError | 无 | 无 | 无 | BKApp Oauth 接口返回异常 |

---


### 模块: apiserver/paasng/paasng/infras/accounts/oauth/misc.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| wraps | functools.wraps | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| fetch_user_from_request | `def fetch_user_from_request():` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/infras/accounts/oauth/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| re | match | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Protocol | typing.Protocol | 不适用 | module |
| ScopeType | apiserver.paasng.paasng.infras.accounts.oauth.constants.ScopeType | USER, GROUP, PROJECT | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Project | typing.Protocol | path_with_namespace | 无 | 无 | A simple type that provides VCS project name info. |
| Scope | 无 | parse_from_str, cover_project | 无 | dataclass | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/accounts/oauth/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Callable | typing.Callable | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| OAuth2Backend | paasng.infras.accounts.oauth.backends.OAuth2Backend | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| set_get_backends_callback_func | `def set_get_backends_callback_func(func: Callable):` | 无 | 不适用 |
| get_available_backends | `def get_available_backends() -> Iterable[Tuple[str, 'OAuth2Backend']]:` | 无 | 不适用 |
| get_backend | `def get_backend(backend_name: str) -> 'OAuth2Backend':` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/infras/accounts/permissions/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/accounts/permissions/application.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| time | time | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| settings | django.conf.settings | IAM_PERM_EFFECTIVE_TIMEDELTA | module |
| AuthAPIError | iam.exceptions.AuthAPIError | 不适用 | module |
| PermissionDenied | rest_framework.exceptions.PermissionDenied | 不适用 | module |
| BasePermission | rest_framework.permissions.BasePermission | 不适用 | module |
| user_group_apply_url | paasng.infras.iam.helpers.user_group_apply_url | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | 不适用 | module |
| ApplicationPermission | paasng.infras.iam.permissions.resources.application.ApplicationPermission | 不适用 | module |
| AppPermCtx | paasng.infras.iam.permissions.resources.application.AppPermCtx | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |
| action_perms | paasng.utils.views.action_perms | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| app_action_required | `def app_action_required(action: AppAction, policy: str = 'extend'):` | 无 | A decorator to require the user to have the specif... |
| application_perm_class | `def application_perm_class(action: AppAction) -> Type[BasePermission]:` | 无 | 构建 DRF 可用的应用权限类

    :param action: Application op... |
| app_view_actions_perm | `def app_view_actions_perm(view_action_map: Dict[str, AppAction], default_action: Optional[AppAction] = None) -> Type[BasePermission]:` | 无 | Create a permission class for application view, it... |
| check_application_perm | `def check_application_perm(user, application: Application, action: AppAction):` | 无 | 检查指定用户是否对应用的某个操作具有权限。 |
| can_exempt_application_perm | `def can_exempt_application_perm(user, application: Application) -> bool:` | 无 | 不适用 |
| user_has_app_action_perm | `def user_has_app_action_perm(user, application: Application, action: AppAction) -> bool:` | 无 | 
    检查指定用户是否对应用的某个操作具有权限

    # TODO 如果后续需要支持 无权限... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseAppPermission | rest_framework.permissions.BasePermission | 无 | 无 | 无 | The base class for application permission. It does... |

---


### 模块: apiserver/paasng/paasng/infras/accounts/permissions/base.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| OrderedDict | collections.OrderedDict | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| SiteRole | paasng.infras.accounts.constants.SiteRole | NOBODY | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProtectedResource | 无 | __init__, has_permission, add_role, add_nobody_role, get_role, get_role_of_user, _get_role_of_user | 无 | 无 | Resource been protected, it can be referred to any... |
| Permission | 无 | __init__, __str__ | 无 | 无 | 不适用 |
| ObjectRole | 无 | __init__, has_perm | 无 | 无 | Role object |
| ObjectNobodyRole | 无 | has_perm | name | 无 | A special role which has not rights to do anything |

---


### 模块: apiserver/paasng/paasng/infras/accounts/permissions/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SiteAction | blue_krill.data_types.enum.StrStructuredEnum | 无 | VISIT_SITE, VISIT_ADMIN42, SYSAPI_READ_APPLICATIONS, SYSAPI_MANAGE_APPLICATIONS, SYSAPI_READ_SERVICES, SYSAPI_MANAGE_LIGHT_APPLICATIONS, SYSAPI_MANAGE_ACCESS_CONTROL, SYSAPI_READ_DB_CREDENTIAL, SYSAPI_BIND_DB_SERVICE, MANAGE_PLATFORM, MANAGE_APP_TEMPLATES, OPERATE_PLATFORM | 无 | 蓝鲸 PaaS 平台全局功能相关权限 |

---


### 模块: apiserver/paasng/paasng/infras/accounts/permissions/global_site.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| wraps | functools.wraps | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| PermissionDenied | rest_framework.exceptions.PermissionDenied | 不适用 | module |
| BasePermission | rest_framework.permissions.BasePermission | 不适用 | module |
| SiteRole | paasng.infras.accounts.constants.SiteRole | NOBODY, BANNED_USER, ADMIN, SUPER_USER, PLATFORM_MANAGER, APP_TEMPLATES_MANAGER, PLATFORM_OPERATOR, SYSTEM_API_BASIC_READER, SYSTEM_API_BASIC_MAINTAINER, SYSTEM_API_LIGHT_APP_MAINTAINER, SYSTEM_API_LESSCODE, USER | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | get_profile, objects, DoesNotExist | module |
| ProtectedResource | apiserver.paasng.paasng.infras.accounts.permissions.base.ProtectedResource | 不适用 | module |
| SiteAction | apiserver.paasng.paasng.infras.accounts.permissions.constants.SiteAction | VISIT_SITE, VISIT_ADMIN42, SYSAPI_READ_APPLICATIONS, SYSAPI_MANAGE_APPLICATIONS, SYSAPI_READ_SERVICES, SYSAPI_MANAGE_LIGHT_APPLICATIONS, SYSAPI_MANAGE_ACCESS_CONTROL, SYSAPI_READ_DB_CREDENTIAL, SYSAPI_BIND_DB_SERVICE, MANAGE_PLATFORM, MANAGE_APP_TEMPLATES, OPERATE_PLATFORM | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| global_site_resource | 不适用 | `global_site_resource = _init_global_site_resource()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| gen_site_role_perm_map | `def gen_site_role_perm_map(role: SiteRole) -> Dict[SiteAction, bool]:` | 无 | 根据不同的用户角色，生成对应的权限映射表 |
| site_perm_class | `def site_perm_class(action: SiteAction):` | 无 | 构建 DRF 可用的权限类，管理站点访问相关权限。 |
| site_perm_required | `def site_perm_required(action: SiteAction):` | 无 | 平台控制的权限，接入了权限中心的需要使用 admin42 模块中的方法 |
| user_has_site_action_perm | `def user_has_site_action_perm(user, action: SiteAction):` | 无 | 检查指定用户是否有某操作的权限 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| GlobalSiteResource | apiserver.paasng.paasng.infras.accounts.permissions.base.ProtectedResource | _get_role_of_user | permissions | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/accounts/permissions/user.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| permissions | rest_framework.permissions | BasePermission | module |
| AccountFeatureFlag | paasng.infras.accounts.models.AccountFeatureFlag | has_feature, objects | module |
| User | paasng.infras.accounts.models.User | 不适用 | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | get_profile, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| user_has_feature | `def user_has_feature(key: AccountFeatureFlagConst):` | 无 | A factory function which generates a Permission cl... |
| user_can_create_in_region | `def user_can_create_in_region(user: User, region: str) -> bool:` | 无 | Check if user can create applications in the speci... |


---


### 模块: apiserver/paasng/paasng/infras/accounts/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| List | typing.List | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, EmailField, CharField, ChoiceField, BooleanField, URLField, IntegerField | module |
| Region | paasng.core.region.models.Region | 不适用 | module |
| Template | paasng.platform.templates.models.Template | filter_by_region, objects | module |
| TranslatedCharField | paasng.utils.i18n.serializers.TranslatedCharField | 不适用 | module |
| UserField | paasng.utils.serializers.UserField | 不适用 | module |
| VerificationCodeField | paasng.utils.serializers.VerificationCodeField | 不适用 | module |
| AccountFeatureFlag | apiserver.paasng.paasng.infras.accounts.constants.AccountFeatureFlag | get_choices | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| UserSLZ | rest_framework.serializers.Serializer | 无 | email, chinese_name, avatar_url, bkpaas_user_id, phone, username | 无 | 不适用 |
| VerificationCodeSLZ | rest_framework.serializers.Serializer | 无 | verification_code | 无 | 不适用 |
| AccountFeatureFlagSLZ | rest_framework.serializers.Serializer | 无 | user, feature, isEffect | 无 | 不适用 |
| BackendDisplayInfoSLZ | rest_framework.serializers.Serializer | 无 | icon, display_name, address, description, auth_docs | 无 | 不适用 |
| BackendDisplayPropertiesSLZ | rest_framework.serializers.Serializer | 无 | always_show_associated_panel | 无 | 不适用 |
| TokenHolderSLZ | rest_framework.serializers.Serializer | 无 | id, scope, provider | 无 | 不适用 |
| OauthBackendInfoSLZ | rest_framework.serializers.Serializer | 无 | name, auth_url, display_info, display_properties, token_list | 无 | 不适用 |
| OAuthRefreshTokenSLZ | rest_framework.serializers.Serializer | 无 | refresh_token | 无 | 不适用 |
| AllRegionSpecsSLZ | 无 | __init__, serialize | 无 | 无 | 不适用 |
| TmplSLZ | rest_framework.serializers.Serializer | 无 | name, display_name, description, language, market_ready | 无 | 创建应用/模块时，需要的模板信息 |

---


### 模块: apiserver/paasng/paasng/infras/accounts/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/user/$', views.UserInfoViewSet.as_view(), name='api.accounts.user'), re_path('^api/accounts/feature_flags/$', views.AccountFeatureFlagViewSet.as_view({'get': 'list'}), name='api.accounts.feature_flags'), re_path('^api/accounts/userinfo/$', views.UserInfoViewSet.as_view(), name='api.accounts.userinfo'), re_path('^api/accounts/verification/generation/$', views.UserVerificationGenerationView.as_view(), name='api.accounts.verification.generation'), re_path('^api/accounts/verification/validation/$', views.UserVerificationValidationView.as_view(), name='api.accounts.verification.validation'), re_path('^api/accounts/oauth/token/$', views.OauthTokenViewSet.as_view({'get': 'fetch_paasv3cli_token'}), name='api.accounts.oauth.token'), re_path('^api/oauth/backends/$', views.Oauth2BackendsViewSet.as_view({'get': 'list'})), re_path('^api/oauth/backends/(?P<backend>[^/]+)/(?P<pk>[^/]+)/$', views.Oauth2BackendsViewSet.as_view({'delete': 'disconnect'})), re_path('^api/oauth/complete/(?P<backend>[^/]+)/?$', views.Oauth2BackendsViewSet.as_view({'get': 'bind'})), re_path('^api/bkapps/regions/specs', views.RegionSpecsViewSet.as_view({'get': 'retrieve'}), name='api.region.specs')]` | module |



---


### 模块: apiserver/paasng/paasng/infras/accounts/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Set | typing.Set | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| settings | django.conf.settings | AUTH_ENV_NAME, TOKEN_AUTH_ENDPOINT, TOKEN_REFRESH_ENDPOINT, BKAUTH_TOKEN_CHECK_ENDPOINT | module |
| get_bkapp_oauth_backend_cls | paasng.infras.accounts.oauth.backends.get_bkapp_oauth_backend_cls | 不适用 | module |
| get_oauth2_client_secret | paasng.infras.oauth2.utils.get_oauth2_client_secret | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| get_user_avatar_ext | apiserver.paasng.paasng.infras.accounts.utils_ext.get_user_avatar_ext | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_user_avatar | `def get_user_avatar(username):` | 无 | 获取用户头像 |
| id_to_username | `def id_to_username(user_id: str) -> str:` | 无 | Get username by decoding user id |
| create_app_oauth_backend | `def create_app_oauth_backend(application: Application, env_name: str = settings.AUTH_ENV_NAME):` | 无 | 使用指定的应用的身份 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ForceAllowAuthedApp | 无 | mark_view_set, check_marked | 无 | 无 | See `AuthenticatedAppAsUserMiddleware` for related... |

---


### 模块: apiserver/paasng/paasng/infras/accounts/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | ENABLE_VERIFICATION_CODE | module |
| HttpResponse | django.http.HttpResponse | 不适用 | module |
| JsonResponse | django.http.JsonResponse | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_400_BAD_REQUEST, HTTP_500_INTERNAL_SERVER_ERROR | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| UserRateThrottle | rest_framework.throttling.UserRateThrottle | 不适用 | module |
| APIView | rest_framework.views.APIView | 不适用 | module |
| serializers | paasng.infras.accounts.serializers | UserSLZ, VerificationCodeSLZ, OauthBackendInfoSLZ | module |
| AccountFeatureFlag | paasng.infras.accounts.models.AccountFeatureFlag | get_user_features, objects | module |
| Oauth2TokenHolder | paasng.infras.accounts.models.Oauth2TokenHolder | update_or_create, objects, filter | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | get_profile, objects | module |
| make_verifier | paasng.infras.accounts.models.make_verifier | 不适用 | module |
| get_bkapp_oauth_backend_cls | paasng.infras.accounts.oauth.backends.get_bkapp_oauth_backend_cls | 不适用 | module |
| BKAppOauthError | paasng.infras.accounts.oauth.exceptions.BKAppOauthError | 不适用 | module |
| get_available_backends | paasng.infras.accounts.oauth.utils.get_available_backends | 不适用 | module |
| get_backend | paasng.infras.accounts.oauth.utils.get_backend | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AllRegionSpecsSLZ | paasng.infras.accounts.serializers.AllRegionSpecsSLZ | 不适用 | module |
| OAuthRefreshTokenSLZ | paasng.infras.accounts.serializers.OAuthRefreshTokenSLZ | 不适用 | module |
| create_app_oauth_backend | paasng.infras.accounts.utils.create_app_oauth_backend | 不适用 | module |
| get_user_avatar | paasng.infras.accounts.utils.get_user_avatar | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | VIEW_BASIC_INFO | module |
| BkOauthClientDoesNotExist | paasng.infras.oauth2.exceptions.BkOauthClientDoesNotExist | 不适用 | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | f, NOTIFICATION_DISABLED, ERROR_SENDING_NOTIFICATION, CLIENT_CREDENTIALS_MISSING, OAUTH_UNKNOWN_BACKEND_NAME | module |
| get_notification_backend | paasng.utils.notifier.get_notification_backend | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| UserInfoViewSet | rest_framework.views.APIView | get | serializer_class | 无 | 
    用户信息 相关
    get: 当前登录用户信息
    - [测试地址](/api/a... |
| UserVerificationRateThrottle | rest_framework.throttling.UserRateThrottle | 无 | THROTTLE_RATES | 无 | 生成验证码接口调用频率限制 |
| UserVerificationGenerationView | rest_framework.views.APIView | post | throttle_classes | 无 | 不适用 |
| UserVerificationValidationView | rest_framework.views.APIView | put | serializer_class | 无 | 不适用 |
| OauthTokenViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | fetch_paasv3cli_token, fetch_app_token, refresh_app_token, validate_app_token | permission_classes | 无 | 
    以用户身份申请 BKApp 的 AccessToken
     |
| Oauth2BackendsViewSet | rest_framework.viewsets.ViewSet | get_user_from_request, pick_useful_params, list, bind, disconnect | 无 | 无 | Oauth2 backends |
| AccountFeatureFlagViewSet | rest_framework.viewsets.ViewSet | list | 无 | 无 | 不适用 |
| RegionSpecsViewSet | rest_framework.viewsets.ViewSet | retrieve | permission_classes | 无 | ViewSet for region |

---


### 模块: apiserver/paasng/paasng/infras/bk_ci/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/bk_ci/apigw/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/bk_ci/apigw/client.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| APIGatewayClient | bkapi_client_core.apigateway.APIGatewayClient | 不适用 | module |
| Operation | bkapi_client_core.apigateway.Operation | 不适用 | module |
| OperationGroup | bkapi_client_core.apigateway.OperationGroup | 不适用 | module |
| bind_property | bkapi_client_core.apigateway.bind_property | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Group | bkapi_client_core.apigateway.OperationGroup | 无 | v4_app_metrics_summary, v4_app_pipeline_get, v4_app_build_start, v4_app_build_detail, v4_app_build_status, v4_app_build_stop, v4_app_log_more, v4_app_log_line_num | 无 | 不适用 |
| Client | bkapi_client_core.apigateway.APIGatewayClient | 无 | _api_name, api | 无 | devops
    蓝盾devops平台OpenApi
     |

---


### 模块: apiserver/paasng/paasng/infras/bk_ci/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| cattrs | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| APIGatewayResponseError | bkapi_client_core.exceptions.APIGatewayResponseError | 不适用 | module |
| ResponseError | bkapi_client_core.exceptions.ResponseError | 不适用 | module |
| settings | django.conf.settings | BK_API_URL_TMPL, BK_APP_CODE, BK_APP_SECRET | module |
| entities | paasng.infras.bk_ci.entities | Pipeline, PipelineBuild, PipelineBuildDetail, PipelineBuildStatus, PipelineLogModel | module |
| Client | paasng.infras.bk_ci.apigw.client.Client | 不适用 | module |
| Group | paasng.infras.bk_ci.apigw.client.Group | 不适用 | module |
| BkCIApiError | paasng.infras.bk_ci.exceptions.BkCIApiError | 不适用 | module |
| BkCIGatewayServiceError | paasng.infras.bk_ci.exceptions.BkCIGatewayServiceError | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| wrap_request_exc | `@contextmanager:` | contextmanager | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseBkCIClient | 无 | __init__, _prepare_headers | 无 | 无 | bk-devops 通过 APIGW 提供的 API

    :param bk_username... |
| BkCIPipelineClient | BaseBkCIClient | start_build, retrieve_build_detail, retrieve_build_status, stop_build, retrieve_full_log, _retrieve_log, _retrieve_log_num, _validate_resp | 无 | 无 | bk-devops pipeline 控制器 |

---


### 模块: apiserver/paasng/paasng/infras/bk_ci/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PipelineBuildStatus | blue_krill.data_types.enum.StrStructuredEnum | 无 | SUCCEED, FAILED, CANCELED | 无 | 蓝盾流水线构建状态 |

---


### 模块: apiserver/paasng/paasng/infras/bk_ci/entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |
| register | paasng.utils.structure.register | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Pipeline | pydantic.BaseModel | 无 | 无 | register | 流水线对象

    :param projectId: 项目ID
    :param pipel... |
| PipelineBuild | pydantic.BaseModel | 无 | 无 | register | 流水线构建对象

    :param projectId: 项目ID
    :param pip... |
| TimeCost | pydantic.BaseModel | 无 | 无 | register | 构建阶段耗时详情

    :param systemCost: 系统耗时（由总耗时减去其他得出）
... |
| BuildStageStatus | pydantic.BaseModel | 无 | 无 | register | 构建阶段状态

    :param stageId: 阶段ID
    :param name: ... |
| PipelineBuildStatus | pydantic.BaseModel | 无 | 无 | register | 流水线构建状态

    :param buildId: 构建ID
    :param start... |
| PipelineElementModel | pydantic.BaseModel | 无 | 无 | register | 流水线元素模型

    :param type: Element 类型
    :param na... |
| PipelineContainerModel | pydantic.BaseModel | 无 | 无 | register | 流水线容器模型

    :param type: 容器模型类型
    :param contai... |
| PipelineStageModel | pydantic.BaseModel | 无 | 无 | register | 流水线阶段模型

    :param stageId: 阶段ID
    :param name:... |
| PipelineModel | pydantic.BaseModel | 无 | 无 | register | 流水线模型

    :param name: 流水线名称
    :param desc: 流水线... |
| PipelineBuildDetail | pydantic.BaseModel | 无 | 无 | register | 流水线构建详情

    :param buildId: 构建ID
    :param pipel... |
| PipelineLogLine | pydantic.BaseModel | 无 | 无 | register | 流水线构建

    :param lineNo: 日志行号
    :param timestam... |
| PipelineLogModel | pydantic.BaseModel | 无 | 无 | register | 流水线构建日志

    :param buildId: 构建日志
    :param finis... |

---


### 模块: apiserver/paasng/paasng/infras/bk_ci/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkCIGatewayServiceError | Exception | __init__ | 无 | 无 | This error indicates that there's something wrong ... |
| BkCIApiError | BkCIGatewayServiceError | 无 | 无 | 无 | When calling the bk-devops api, bk-devops returns ... |

---


### 模块: apiserver/paasng/paasng/infras/bk_log/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/bk_log/backend/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/bk_log/backend/apigw.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| APIGatewayClient | bkapi_client_core.apigateway.APIGatewayClient | 不适用 | module |
| Operation | bkapi_client_core.apigateway.Operation | 不适用 | module |
| OperationGroup | bkapi_client_core.apigateway.OperationGroup | 不适用 | module |
| bind_property | bkapi_client_core.apigateway.bind_property | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Group | bkapi_client_core.apigateway.OperationGroup | 无 | databus_custom_create, databus_custom_update, databus_list_collectors, esquery_dsl, esquery_scroll, esquery_mapping | 无 | 不适用 |
| Client | bkapi_client_core.apigateway.APIGatewayClient | 无 | _api_name, api | 无 | bk-log日志平台 API |

---


### 模块: apiserver/paasng/paasng/infras/bk_log/backend/esb.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ESBClient | bkapi_client_core.esb.ESBClient | 不适用 | module |
| Operation | bkapi_client_core.esb.Operation | 不适用 | module |
| OperationGroup | bkapi_client_core.esb.OperationGroup | 不适用 | module |
| bind_property | bkapi_client_core.esb.bind_property | 不适用 | module |
| generic_type_partial | bkapi_client_core.esb.generic_type_partial | 不适用 | module |
| get_client_by_username | bkapi_client_core.esb.django_helper.get_client_by_username | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| get_client_by_username | 不适用 | `get_client_by_username = _partial(Client, _get_client_by_username)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Group | bkapi_client_core.esb.OperationGroup | 无 | databus_custom_create, databus_custom_update, databus_list_collectors, esquery_dsl, esquery_scroll, esquery_mapping | 无 | 蓝鲸日志平台在 ESB 上注册的 API

    https://github.com/Tence... |
| Client | bkapi_client_core.esb.ESBClient | 无 | api | 无 | ESB Components |

---


### 模块: apiserver/paasng/paasng/infras/bk_log/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | unstructure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Protocol | typing.Protocol | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| APIGatewayResponseError | bkapi_client_core.exceptions.APIGatewayResponseError | 不适用 | module |
| settings | django.conf.settings | ENABLE_BK_LOG_APIGW, BK_API_URL_TMPL, BK_LOG_APIGW_SERVICE_STAGE, BK_APP_CODE, BK_APP_SECRET | module |
| Client | paasng.infras.bk_log.backend.apigw.Client | 不适用 | module |
| get_client_by_username | paasng.infras.bk_log.backend.esb.get_client_by_username | 不适用 | module |
| CustomCollectorConfig | paasng.infras.bk_log.definitions.CustomCollectorConfig | 不适用 | module |
| PlainCustomCollectorConfig | paasng.infras.bk_log.definitions.PlainCustomCollectorConfig | 不适用 | module |
| BkLogApiError | paasng.infras.bk_log.exceptions.BkLogApiError | 不适用 | module |
| BkLogGatewayServiceError | paasng.infras.bk_log.exceptions.BkLogGatewayServiceError | 不适用 | module |
| CollectorConfigNotPersisted | paasng.infras.bk_log.exceptions.CollectorConfigNotPersisted | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_bk_log_management_client | `def make_bk_log_management_client() -> BkLogManagementClient:` | 无 | 不适用 |
| make_bk_log_esquery_client | `def make_bk_log_esquery_client() -> BKLogQueryAPIProtocol:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKLogQueryAPIProtocol | typing.Protocol | 无 | 无 | 无 | 不适用 |
| BkLogManagementAPIProtocol | typing.Protocol | 无 | 无 | 无 | bk-log api protocol |
| BkLogManagementClient | 无 | __init__, list_custom_collector_config, get_custom_collector_config_by_name_en, create_custom_collector_config, update_custom_collector_config | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/bk_log/constatns.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ETLType | blue_krill.data_types.enum.StrStructuredEnum | 无 | DELIMITER, REGEXP, JSON, TEXT | 无 | 不适用 |
| FieldType | blue_krill.data_types.enum.StrStructuredEnum | 无 | INT, LONG, DOUBLE, STRING, OBJECT, NESTED | 无 | 不适用 |
| BkLogType | blue_krill.data_types.enum.StrStructuredEnum | 无 | JSON, STDOUT | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/bk_log/definitions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Literal | typing.Literal | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| define | attrs.define | 不适用 | module |
| field | attrs.field | 不适用 | module |
| ETLType | paasng.infras.bk_log.constatns.ETLType | TEXT | module |
| FieldType | paasng.infras.bk_log.constatns.FieldType | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ETLField | 无 | 无 | 无 | define | 日志清洗字段配置

    :param field_index: 字段顺序
    :param ... |
| ETLParams | 无 | 无 | 无 | define | 日志清洗参数

    :param retain_original_text: 是否保留原始日志字... |
| ETLConfig | 无 | 无 | 无 | define | 日志清洗规则 |
| StorageConfig | 无 | 无 | 无 | define | 日志存储配置

    :param storage_cluster_id: 存储ES集群，默认会选... |
| PlainCustomCollectorConfig | 无 | 无 | 无 | define | 自定义采集项配置(精简)

    :param name_en: 采集英文名称，重要，5-50个字... |
| CustomCollectorConfig | 无 | 无 | 无 | define | 自定采集项配置

    :param name_en: 采集英文名称，重要，5-50个字符，仅包含... |
| AppLogCollectorConfig | 无 | 无 | 无 | define | 简化的采集项配置

    :param log_paths: 日志文件的绝对路径, 可使用通配符
... |

---


### 模块: apiserver/paasng/paasng/infras/bk_log/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkLogGatewayServiceError | Exception | __init__ | 无 | 无 | This error indicates that there's something wrong ... |
| BkLogApiError | BkLogGatewayServiceError | 无 | 无 | 无 | When calling the bk_log api, bk_log returns an err... |
| BkLogSpaceDoesNotExist | BkLogApiError | 无 | 无 | 无 | The namespace applied to bk_log does not exist |
| CollectorConfigNotPersisted | Exception | 无 | 无 | 无 | Collector config is not persisted |

---


### 模块: apiserver/paasng/paasng/infras/bkmonitorv3/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/bkmonitorv3/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKMonitorAppConfig | django.apps.AppConfig | ready | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/bkmonitorv3/backend/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/bkmonitorv3/backend/apigw.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| APIGatewayClient | bkapi_client_core.apigateway.APIGatewayClient | 不适用 | module |
| Operation | bkapi_client_core.apigateway.Operation | 不适用 | module |
| OperationGroup | bkapi_client_core.apigateway.OperationGroup | 不适用 | module |
| bind_property | bkapi_client_core.apigateway.bind_property | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Group | bkapi_client_core.apigateway.OperationGroup | 无 | create_apm_application, apm_create_application, metadata_create_space, metadata_update_space, metadata_get_space_detail, search_alert, search_alarm_strategy_v3, promql_query, as_code_import_config, quick_import_dashboard | 无 | 不适用 |
| Client | bkapi_client_core.apigateway.APIGatewayClient | 无 | _api_name, api | 无 | bkmonitorv3
    监控平台v3上云版本
     |

---


### 模块: apiserver/paasng/paasng/infras/bkmonitorv3/backend/esb.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ESBClient | bkapi_client_core.esb.ESBClient | 不适用 | module |
| Operation | bkapi_client_core.esb.Operation | 不适用 | module |
| OperationGroup | bkapi_client_core.esb.OperationGroup | 不适用 | module |
| bind_property | bkapi_client_core.esb.bind_property | 不适用 | module |
| generic_type_partial | bkapi_client_core.esb.generic_type_partial | 不适用 | module |
| get_client_by_username | bkapi_client_core.esb.django_helper.get_client_by_username | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| get_client_by_username | 不适用 | `get_client_by_username = _partial(Client, _get_client_by_username)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MonitorV3Group | bkapi_client_core.esb.OperationGroup | 无 | create_apm_application, metadata_create_space, metadata_update_space, metadata_get_space_detail, search_alert, search_alarm_strategy_v3, promql_query, as_code_import_config, quick_import_dashboard | 无 | 蓝鲸监控在 ESB 上注册的 API

    https://github.com/Tencent... |
| Client | bkapi_client_core.esb.ESBClient | 无 | monitor_v3 | 无 | ESB Components |

---


### 模块: apiserver/paasng/paasng/infras/bkmonitorv3/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| APIGatewayResponseError | bkapi_client_core.exceptions.APIGatewayResponseError | 不适用 | module |
| settings | django.conf.settings | BK_MONITORV3_URL, ENABLE_BK_MONITOR_APIGW, BK_API_URL_TMPL, BK_MONITOR_APIGW_SERVICE_STAGE, BK_APP_CODE, BK_APP_SECRET | module |
| Protocol | typing_extensions.Protocol | 不适用 | module |
| Client | paasng.infras.bkmonitorv3.backend.apigw.Client | 不适用 | module |
| get_client_by_username | paasng.infras.bkmonitorv3.backend.esb.get_client_by_username | 不适用 | module |
| BkMonitorSpace | paasng.infras.bkmonitorv3.definitions.BkMonitorSpace | 不适用 | module |
| BkMonitorApiError | paasng.infras.bkmonitorv3.exceptions.BkMonitorApiError | 不适用 | module |
| BkMonitorGatewayServiceError | paasng.infras.bkmonitorv3.exceptions.BkMonitorGatewayServiceError | 不适用 | module |
| BkMonitorSpaceDoesNotExist | paasng.infras.bkmonitorv3.exceptions.BkMonitorSpaceDoesNotExist | 不适用 | module |
| BKMonitorSpace | paasng.infras.bkmonitorv3.models.BKMonitorSpace | 不适用 | module |
| QueryAlarmStrategiesParams | paasng.infras.bkmonitorv3.params.QueryAlarmStrategiesParams | 不适用 | module |
| QueryAlertsParams | paasng.infras.bkmonitorv3.params.QueryAlertsParams | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_bk_monitor_client | `def make_bk_monitor_client() -> BkMonitorClient:` | 无 | 不适用 |
| make_bk_monitor_space_manager | `def make_bk_monitor_space_manager() -> BKMonitorSpaceManager:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkMonitorBackend | typing_extensions.Protocol | metadata_get_space_detail, metadata_create_space, metadata_update_space, search_alert, search_alarm_strategy_v3, promql_query, as_code_import_config, quick_import_dashboard | 无 | 无 | Describes protocols of calling API service |
| BKMonitorSpaceManager | 无 | __init__, create_space, update_space, get_space_detail | 无 | 无 | BK Monitor Space Management API provider |
| BkMonitorClient | 无 | __init__, query_alerts, query_space_biz_id, query_alarm_strategies, promql_query, as_code_import_config, import_dashboard | 无 | 无 | API provided by BK Monitor

    :param backend: cl... |

---


### 模块: apiserver/paasng/paasng/infras/bkmonitorv3/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SpaceType | blue_krill.data_types.enum.StrStructuredEnum | 无 | SAAS, BKCC | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/bkmonitorv3/definitions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| define | attrs.define | 不适用 | module |
| SpaceType | paasng.infras.bkmonitorv3.constants.SpaceType | BKCC, SAAS | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| gen_bk_monitor_space | `def gen_bk_monitor_space(application: Application) -> BkMonitorSpace:` | 无 | 生成蓝鲸监控空间定义 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkMonitorSpace | 无 | iam_resource_id | 无 | define | 蓝鲸监控空间定义

    :param space_type_id: 空间类型id, 枚举范围见 ... |

---


### 模块: apiserver/paasng/paasng/infras/bkmonitorv3/exceptions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkMonitorGatewayServiceError | Exception | __init__ | 无 | 无 | This error indicates that there's something wrong ... |
| BkMonitorApiError | BkMonitorGatewayServiceError | __init__ | 无 | 无 | When calling the bk_monitor api, bk_monitor return... |
| BkMonitorSpaceDoesNotExist | BkMonitorApiError | 无 | 无 | 无 | The namespace applied to BK Monitoring does not ex... |

---


### 模块: apiserver/paasng/paasng/infras/bkmonitorv3/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | SET_NULL, deletion, models, db | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | UUIDField, DateTimeField, IntegerField, CharField, JSONField, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/bkmonitorv3/migrations/0002_alter_bkmonitorspace_application.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/bkmonitorv3/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/bkmonitorv3/models.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| models | django.db.models | OneToOneField, CASCADE, IntegerField, CharField, JSONField | module |
| SpaceType | paasng.infras.bkmonitorv3.constants.SpaceType | BKCC | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| UuidAuditedModel | paasng.utils.models.UuidAuditedModel | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKMonitorSpace | paasng.utils.models.UuidAuditedModel | iam_resource_id | application, id, space_type_id, space_id, space_name, space_uid, extra_info | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/bkmonitorv3/params.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| datetime | datetime.datetime | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| define | attrs.define | 不适用 | module |
| BkMonitorSpaceDoesNotExist | paasng.infras.bkmonitorv3.exceptions.BkMonitorSpaceDoesNotExist | 不适用 | module |
| BKMonitorSpace | paasng.infras.bkmonitorv3.models.BKMonitorSpace | get, objects, DoesNotExist, filter | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_bk_biz_id | `def get_bk_biz_id(app_code: str) -> str:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| QueryAlertsParams | 无 | to_dict, _build_query_string, _build_valid_args, create_by_app_codes | 无 | define | 
    查询告警的参数

    :param start_time: 发生时间. datetim... |
| QueryAlarmStrategiesParams | 无 | to_dict, _build_conditions | 无 | define | 
    查询告警的参数

    :param app_code: 应用 code
    :pa... |

---


### 模块: apiserver/paasng/paasng/infras/bkmonitorv3/shim.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| suppress | contextlib.suppress | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| make_bk_monitor_space_manager | paasng.infras.bkmonitorv3.client.make_bk_monitor_space_manager | 不适用 | module |
| gen_bk_monitor_space | paasng.infras.bkmonitorv3.definitions.gen_bk_monitor_space | 不适用 | module |
| BKMonitorSpace | paasng.infras.bkmonitorv3.models.BKMonitorSpace | update_or_create, objects, DoesNotExist, get | module |
| add_monitoring_space_permission | paasng.infras.iam.tasks.add_monitoring_space_permission | delay | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_bk_monitor_space | `def create_bk_monitor_space(application: Application) -> BKMonitorSpace:` | 无 | create bk monitor space associated to the given ap... |
| get_or_create_bk_monitor_space | `def get_or_create_bk_monitor_space(application: Application) -> Tuple[BKMonitorSpace, bool]:` | 无 | get or create bk monitor space associated to the g... |
| update_or_create_bk_monitor_space | `def update_or_create_bk_monitor_space(application: Application) -> Tuple[BKMonitorSpace, bool]:` | 无 | update the bk monitor space associated to the give... |


---


### 模块: apiserver/paasng/paasng/infras/iam/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/iam/apigw/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/iam/apigw/client.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| APIGatewayClient | bkapi_client_core.apigateway.APIGatewayClient | 不适用 | module |
| Operation | bkapi_client_core.apigateway.Operation | 不适用 | module |
| OperationGroup | bkapi_client_core.apigateway.OperationGroup | 不适用 | module |
| bind_property | bkapi_client_core.apigateway.bind_property | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Group | bkapi_client_core.apigateway.OperationGroup | 无 | management_grade_managers_list, management_grade_managers, management_grade_managers_update, v2_management_delete_grade_manager, management_grade_manager_members, management_add_grade_manager_members, management_delete_grade_manager_members, v2_management_grade_manager_create_groups, v2_management_grade_manager_list_groups, v2_management_grade_manager_update_group, v2_management_grade_manager_delete_group, v2_management_group_members, v2_management_add_group_members, v2_management_delete_group_members, v2_management_groups_policies_grant, v2_management_groups_policies_revoke_by_action | 无 | 不适用 |
| Client | bkapi_client_core.apigateway.APIGatewayClient | 无 | _api_name, api | 无 | 蓝鲸权限中心提供的 OpenAPI |

---


### 模块: apiserver/paasng/paasng/infras/iam/bkpaas_iam_migration/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/iam/bkpaas_iam_migration/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| AppConfig | django.apps.AppConfig | 不适用 | module |
| settings | django.conf.settings | IAM_PAAS_V3_SYSTEM_ID, BK_APP_CODE, BASE_DIR | module |
| safe_jinja2 | paasng.utils.safe_jinja2 | FileEnvironment | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| IAM_CONTEXT | 不适用 | `IAM_CONTEXT = {'IAM_PAAS_V3_SYSTEM_ID': settings.IAM_PAAS_V3_SYSTEM_ID, 'APP_CODE': settings.BK_APP_CODE}` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| render_migrate_json | `def render_migrate_json():` | 无 | 根据模板生成最终的 migrate json 文件 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKPaaSIAMMigrationConfig | django.apps.AppConfig | ready | name, label | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/iam/bkpaas_iam_migration/migrations/0001_initial.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |
| BKPaaSIAMMigrator | paasng.infras.iam.bkpaas_iam_migration.migrator.BKPaaSIAMMigrator | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| forward_func | `def forward_func(apps, schema_editor):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | migration_json, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/iam/bkpaas_iam_migration/migrations/0002_application.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |
| BKPaaSIAMMigrator | paasng.infras.iam.bkpaas_iam_migration.migrator.BKPaaSIAMMigrator | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| forward_func | `def forward_func(apps, schema_editor):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | migration_json, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/iam/bkpaas_iam_migration/migrations/0003_action_groups.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |
| BKPaaSIAMMigrator | paasng.infras.iam.bkpaas_iam_migration.migrator.BKPaaSIAMMigrator | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| forward_func | `def forward_func(apps, schema_editor):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | migration_json, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/iam/bkpaas_iam_migration/migrations/0004_common_actions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |
| BKPaaSIAMMigrator | paasng.infras.iam.bkpaas_iam_migration.migrator.BKPaaSIAMMigrator | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| forward_func | `def forward_func(apps, schema_editor):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | migration_json, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/iam/bkpaas_iam_migration/migrations/0005_resource_creator_actions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |
| BKPaaSIAMMigrator | paasng.infras.iam.bkpaas_iam_migration.migrator.BKPaaSIAMMigrator | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| forward_func | `def forward_func(apps, schema_editor):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | migration_json, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/iam/bkpaas_iam_migration/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/iam/bkpaas_iam_migration/migrator.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| codecs | open | module |
| json | load | module |
| os | join, path | module |
| sys | argv | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | IAM_APP_CODE, IAM_APP_SECRET, BK_IAM_V3_INNER_URL, BASE_DIR | module |
| exceptions | iam.contrib.iam_migration.exceptions | MigrationFailError, NetworkUnreachableError | module |
| renders | iam.contrib.iam_migration.migrator.renders | 不适用 | module |
| do_migrate | iam.contrib.iam_migration.utils.do_migrate | enable_use_apigateway, api_ping, do_migrate | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKPaaSIAMMigrator | 无 | __init__, migrate | 无 | 无 | 
    bkpaas 定制化 IAM Migrator

    由于 bkpaas 配置项与 I... |

---


### 模块: apiserver/paasng/paasng/infras/iam/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| APIGatewayResponseError | bkapi_client_core.exceptions.APIGatewayResponseError | 不适用 | module |
| HTTPResponseError | bkapi_client_core.exceptions.HTTPResponseError | 不适用 | module |
| settings | django.conf.settings | BK_API_URL_TMPL, BK_IAM_APIGW_SERVICE_STAGE, BK_APP_CODE, BK_APP_SECRET, IAM_PAAS_V3_SYSTEM_ID, ADMIN_USERNAME | module |
| utils | paasng.infras.iam.utils | gen_grade_manager_name, gen_grade_manager_desc, get_paas_authorization_scopes, gen_user_group_name, gen_user_group_desc, calc_expired_at, get_bk_monitor_authorization_scope_list, get_bk_log_authorization_scope_list | module |
| Client | paasng.infras.iam.apigw.client.Client | 不适用 | module |
| Group | paasng.infras.iam.apigw.client.Group | 不适用 | module |
| APP_DEFAULT_ROLES | paasng.infras.iam.constants.APP_DEFAULT_ROLES | 不适用 | module |
| BK_LOG_SYSTEM_ID | paasng.infras.iam.constants.BK_LOG_SYSTEM_ID | 不适用 | module |
| BK_MONITOR_SYSTEM_ID | paasng.infras.iam.constants.BK_MONITOR_SYSTEM_ID | 不适用 | module |
| DEFAULT_PAGE | paasng.infras.iam.constants.DEFAULT_PAGE | 不适用 | module |
| FETCH_USER_GROUP_MEMBERS_LIMIT | paasng.infras.iam.constants.FETCH_USER_GROUP_MEMBERS_LIMIT | 不适用 | module |
| LIST_GRADE_MANAGERS_LIMIT | paasng.infras.iam.constants.LIST_GRADE_MANAGERS_LIMIT | 不适用 | module |
| IAMErrorCodes | paasng.infras.iam.constants.IAMErrorCodes | CONFLICT | module |
| BKIAMApiError | paasng.infras.iam.exceptions.BKIAMApiError | 不适用 | module |
| BKIAMGatewayServiceError | paasng.infras.iam.exceptions.BKIAMGatewayServiceError | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | 不适用 | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | ADMINISTRATOR | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKIAMClient | 无 | __init__, _prepare_headers, create_grade_managers, delete_grade_manager, fetch_grade_manager, fetch_grade_manager_members, add_grade_manager_members, delete_grade_manager_members, create_builtin_user_groups, delete_user_groups, fetch_user_group_members, add_user_group_members, delete_user_group_members, grant_user_group_policies, revoke_user_group_policies, update_grade_managers_with_bksaas_space, grant_user_group_policies_in_bk_monitor, grant_user_group_policies_in_bk_log | 无 | 无 | bk-iam 通过 APIGW 提供的 API |

---


### 模块: apiserver/paasng/paasng/infras/iam/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | ADMINISTRATOR, DEVELOPER, OPERATOR | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| NEVER_EXPIRE_DAYS | -1 | `NEVER_EXPIRE_DAYS = -1` | module |
| NEVER_EXPIRE_TIMESTAMP | 4102444800 | `NEVER_EXPIRE_TIMESTAMP = 4102444800` | module |
| ONE_DAY_SECONDS | 86400 | `ONE_DAY_SECONDS = 24 * 60 * 60` | module |
| APP_DEFAULT_ROLES | 不适用 | `APP_DEFAULT_ROLES = [ApplicationRole.ADMINISTRATOR, ApplicationRole.DEVELOPER, ApplicationRole.OPERATOR]` | module |
| DEFAULT_PAGE | 1 | `DEFAULT_PAGE = 1` | module |
| FETCH_USER_GROUP_MEMBERS_LIMIT | 10000 | `FETCH_USER_GROUP_MEMBERS_LIMIT = 10000` | module |
| LIST_GRADE_MANAGERS_LIMIT | 15000 | `LIST_GRADE_MANAGERS_LIMIT = 15000` | module |
| BK_MONITOR_SYSTEM_ID | bk_monitorv3 | `BK_MONITOR_SYSTEM_ID = 'bk_monitorv3'` | module |
| BK_LOG_SYSTEM_ID | bk_log_search | `BK_LOG_SYSTEM_ID = 'bk_log_search'` | module |
| APP_MINI_ACTIONS_IN_BK_MONITOR | {'space': ['view_business_v2', 'explore_metric_v2', 'view_event_v2', 'manage_event_v2', 'view_notify_team_v2', 'manage_notify_team_v2', 'view_rule_v2', 'manage_rule_v2', 'view_downtime_v2', 'manage_downtime_v2', 'view_custom_metric_v2', 'manage_custom_metric_v2', 'view_custom_event_v2', 'manage_custom_event_v2', 'new_dashboard', 'manage_datasource_v2', 'export_config_v2', 'import_config_v2'], 'apm_application': ['view_apm_application_v2', 'manage_apm_application_v2'], 'grafana_dashboard': ['view_single_dashboard', 'edit_single_dashboard']} | `APP_MINI_ACTIONS_IN_BK_MONITOR = {ResourceType.BkMonitorSpace: ['view_business_v2', 'explore_metric_v2', 'view_event_v2', 'manage_event_v2', 'view_notify_team_v2', 'manage_notify_team_v2', 'view_rule_v2', 'manage_rule_v2', 'view_downtime_v2', 'manage_downtime_v2', 'view_custom_metric_v2', 'manage_custom_metric_v2', 'view_custom_event_v2', 'manage_custom_event_v2', 'new_dashboard', 'manage_datasource_v2', 'export_config_v2', 'import_config_v2'], ResourceType.BkMonitorApm: ['view_apm_application_v2', 'manage_apm_application_v2'], ResourceType.BkMonitorDashBoard: ['view_single_dashboard', 'edit_single_dashboard']}` | module |
| APP_MINI_ACTIONS_IN_BK_LOG | {'space': {'resource_system': 'bk_monitorv3', 'actions': ['view_business_v2', 'create_collection_v2', 'create_es_source_v2', 'create_indices_v2', 'manage_extract_config_v2']}, 'indices': {'resource_system': 'bk_log_search', 'actions': ['manage_indices_v2', 'search_log_v2']}, 'collection': {'resource_system': 'bk_log_search', 'actions': ['view_collection_v2', 'manage_collection_v2']}, 'es_source': {'resource_system': 'bk_log_search', 'actions': ['manage_es_source_v2']}} | `APP_MINI_ACTIONS_IN_BK_LOG = {ResourceType.BkMonitorSpace: {'resource_system': BK_MONITOR_SYSTEM_ID, 'actions': ['view_business_v2', 'create_collection_v2', 'create_es_source_v2', 'create_indices_v2', 'manage_extract_config_v2']}, ResourceType.BkLogIndices: {'resource_system': BK_LOG_SYSTEM_ID, 'actions': ['manage_indices_v2', 'search_log_v2']}, ResourceType.BkLogCollection: {'resource_system': BK_LOG_SYSTEM_ID, 'actions': ['view_collection_v2', 'manage_collection_v2']}, ResourceType.BkLogEsSource: {'resource_system': BK_LOG_SYSTEM_ID, 'actions': ['manage_es_source_v2']}}` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ResourceType | blue_krill.data_types.enum.StrStructuredEnum | 无 | Application, BkMonitorSpace, BkMonitorApm, BkMonitorDashBoard, BkLogIndices, BkLogCollection, BkLogEsSource | 无 | 
    iam 上注册的资源类型
     |
| IAMErrorCodes | blue_krill.data_types.enum.IntStructuredEnum | 无 | CONFLICT | 无 | 
    iam api 返回错误码
    https://bk.tencent.com/docs... |

---


### 模块: apiserver/paasng/paasng/infras/iam/exceptions.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| re | search | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKIAMGatewayServiceError | Exception | __init__ | 无 | 无 | This error indicates that there's something wrong ... |
| BKIAMApiError | BKIAMGatewayServiceError | __init__, parse_quota_message | 无 | 无 | When calling the bk-iam api, bk-iam returns an err... |

---


### 模块: apiserver/paasng/paasng/infras/iam/helpers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| user_id_encoder | bkpaas_auth.core.encoder.user_id_encoder | encode | module |
| settings | django.conf.settings | ADMIN_USERNAME, USER_TYPE, format, BK_IAM_USER_GROUP_APPLY_TMPL | module |
| ApplicationGradeManager | paasng.infras.iam.members.models.ApplicationGradeManager | get, objects, filter | module |
| ApplicationUserGroup | paasng.infras.iam.members.models.ApplicationUserGroup | get, objects, filter | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | ADMINISTRATOR, NOBODY, OPERATOR, DEVELOPER | module |
| BKIAMClient | apiserver.paasng.paasng.infras.iam.client.BKIAMClient | 不适用 | module |
| APP_DEFAULT_ROLES | apiserver.paasng.paasng.infras.iam.constants.APP_DEFAULT_ROLES | 不适用 | module |
| NEVER_EXPIRE_DAYS | apiserver.paasng.paasng.infras.iam.constants.NEVER_EXPIRE_DAYS | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| IAM_CLI | 不适用 | `IAM_CLI = BKIAMClient()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| fetch_role_members | `def fetch_role_members(app_code: str, role: ApplicationRole) -> List[str]:` | 无 | 
    通过指定应用与角色，获取对应的用户组信息

    :param app_code: 蓝鲸... |
| add_role_members | `def add_role_members(app_code: str, role: ApplicationRole, usernames: Union[List[str], str], expired_after_days: int = NEVER_EXPIRE_DAYS):` | 无 | 
    将用户添加为某个角色的成员

    :param app_code: 蓝鲸应用 ID
 ... |
| delete_role_members | `def delete_role_members(app_code: str, role: ApplicationRole, usernames: Union[List[str], str]):` | 无 | 
    将用户从某个角色的成员中删除

    :param app_code: 蓝鲸应用 ID
... |
| fetch_user_roles | `def fetch_user_roles(app_code: str, username: str) -> List[ApplicationRole]:` | 无 | 原实现中用户只会有一个角色，但是接入权限中心后，角色表现为用户组，同一用户可能有多个角色 |
| fetch_user_main_role | `def fetch_user_main_role(app_code: str, username: str) -> ApplicationRole:` | 无 | 获取用户在某个应用中最高优先级的角色 |
| remove_user_all_roles | `def remove_user_all_roles(app_code: str, usernames: Union[List[str], str]):` | 无 | 
    删除用户在某个 APP 下的所有权限角色

    :param app_code: 蓝鲸... |
| fetch_application_members | `def fetch_application_members(app_code: str) -> List[Dict]:` | 无 | 
    获取一个蓝鲸应用所有用户（包含角色信息）
    顺序：管理员 - 开发者 - 运营者
 ... |
| delete_builtin_user_groups | `def delete_builtin_user_groups(app_code: str):` | 无 | 删除应用的内建用户组 |
| delete_grade_manager | `def delete_grade_manager(app_code: str):` | 无 | 删除应用的分级管理员 |
| user_group_apply_url | `def user_group_apply_url(app_code: str) -> dict:` | 无 | 应用用户组权限申请链接 |


---


### 模块: apiserver/paasng/paasng/infras/iam/legacy.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| settings | django.conf.settings | IAM_APP_CODE, IAM_APP_SECRET, BK_IAM_V3_INNER_URL, BK_PAAS2_URL, IAM_SYSTEM_ID | module |
| IAM | iam.IAM | 不适用 | module |
| Action | iam.Action | 不适用 | module |
| Request | iam.Request | 不适用 | module |
| Subject | iam.Subject | 不适用 | module |
| SQLConverter | iam.contrib.converter.sql.SQLConverter | 不适用 | module |
| AuthAPIError | iam.exceptions.AuthAPIError | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LegacyAction | blue_krill.data_types.enum.StrStructuredEnum | 无 | DEVELOP_APP, MANAGE_SMART | 无 | 不适用 |
| Permission | 无 | __init__, _make_request_without_resources, allowed_manage_smart, app_filters | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/iam/members/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/iam/members/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MemberConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/iam/members/management/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/iam/members/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/iam/members/management/commands/migrate_bkpaas3_perm.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| traceback | format_exc | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| BKIAMClient | paasng.infras.iam.client.BKIAMClient | 不适用 | module |
| NEVER_EXPIRE_DAYS | paasng.infras.iam.constants.NEVER_EXPIRE_DAYS | 不适用 | module |
| ApplicationGradeManager | paasng.infras.iam.members.models.ApplicationGradeManager | all, objects, create | module |
| ApplicationUserGroup | paasng.infras.iam.members.models.ApplicationUserGroup | all, objects, filter, create | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | ADMINISTRATOR, DEVELOPER, OPERATOR, name | module |
| Application | paasng.platform.applications.models.Application | filter, objects | module |
| ApplicationMembership | paasng.platform.applications.models.ApplicationMembership | select_related, objects | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| PRE_LINE_LIMIT | 15 | `PRE_LINE_LIMIT = 15` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle, _prepare, _migrate, _migrate_single, _store_records | 无 | 无 | 
    蓝鲸应用成员关系迁移到权限中心命令行工具

    使用示例：
    python ma... |

---


### 模块: apiserver/paasng/paasng/infras/iam/members/management/commands/regrant_user_group_policies.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| BKIAMClient | paasng.infras.iam.client.BKIAMClient | 不适用 | module |
| ApplicationUserGroup | paasng.infras.iam.members.models.ApplicationUserGroup | filter, objects | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | get_values | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | ADMINISTRATOR, DEVELOPER, OPERATOR | module |
| Application | paasng.platform.applications.models.Application | filter, objects, all | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle, _regrant_user_group_policies | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/iam/members/management/commands/sync_app_admin_members.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| traceback | format_exc | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| BKIAMClient | paasng.infras.iam.client.BKIAMClient | 不适用 | module |
| ApplicationGradeManager | paasng.infras.iam.members.models.ApplicationGradeManager | all, objects | module |
| ApplicationUserGroup | paasng.infras.iam.members.models.ApplicationUserGroup | all, objects | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | ADMINISTRATOR | module |
| Application | paasng.platform.applications.models.Application | filter, objects | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| PRE_LINE_LIMIT | 15 | `PRE_LINE_LIMIT = 15` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle, _prepare, _sync, _sync_single, _store_records | 无 | 无 | 
    蓝鲸应用成员关系迁移到权限中心命令行工具

    使用示例：
    python ma... |

---


### 模块: apiserver/paasng/paasng/infras/iam/members/migrations/0001_initial.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, CharField, IntegerField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/iam/members/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/iam/members/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| models | django.db.models | CharField, IntegerField | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | value, DEVELOPER, get_choice_label | module |
| AuditedModel | paasng.utils.models.AuditedModel | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationGradeManager | paasng.utils.models.AuditedModel | __str__ | app_code, grade_manager_id | 无 | 
    IAM 分级管理员与开发者中心应用的关系

    分级管理员管理用户加入用户组的申请，理... |
| ApplicationUserGroup | paasng.utils.models.AuditedModel | __str__ | app_code, role, user_group_id | 无 | 
    IAM 用户组与开发者中心应用的关系

    每个应用默认会有 3 个用户组（不可删除）... |

---


### 模块: apiserver/paasng/paasng/infras/iam/open_apis/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/iam/open_apis/authentication.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | IAM_APP_CODE, IAM_APP_SECRET, BK_IAM_V3_INNER_URL, BKPAAS_URL, BK_IAM_APIGATEWAY_URL, IAM_PAAS_V3_SYSTEM_ID | module |
| IAM | iam.IAM | 不适用 | module |
| BasicAuthentication | rest_framework.authentication.BasicAuthentication | 不适用 | module |
| AuthenticationFailed | apiserver.paasng.paasng.infras.iam.open_apis.exceptions.AuthenticationFailed | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| IAMBasicAuthentication | rest_framework.authentication.BasicAuthentication | authenticate, authenticate_credentials | 无 | 无 | 自定义认证逻辑, 对权限中心请求认证 |

---


### 模块: apiserver/paasng/paasng/infras/iam/open_apis/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MethodType | blue_krill.data_types.enum.StrStructuredEnum | 无 | LIST_ATTR, LIST_ATTR_VALUE, LIST_INSTANCE, FETCH_INSTANCE_INFO, LIST_INSTANCE_BY_POLICY, SEARCH_INSTANCE | 无 | 
    权限中心拉取资源的 method 参数值
    字段协议说明 https://bk.te... |

---


### 模块: apiserver/paasng/paasng/infras/iam/open_apis/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AuthenticationFailed | Exception | 无 | 无 | 无 | 权限中心回调认证失败 |

---


### 模块: apiserver/paasng/paasng/infras/iam/open_apis/providers/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/iam/open_apis/providers/application.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Q | django.db.models.Q | 不适用 | module |
| FancyDict | iam.collection.FancyDict | 不适用 | module |
| ListResult | iam.resource.provider.ListResult | 不适用 | module |
| ResourceProvider | iam.resource.provider.ResourceProvider | 不适用 | module |
| Page | iam.resource.utils.Page | 不适用 | module |
| BKIAMClient | paasng.infras.iam.client.BKIAMClient | 不适用 | module |
| ApplicationGradeManager | paasng.infras.iam.members.models.ApplicationGradeManager | filter, objects | module |
| Application | paasng.platform.applications.models.Application | all, objects, filter | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationProvider | iam.resource.provider.ResourceProvider | list_instance, fetch_instance_info, list_instance_by_policy, list_attr, list_attr_value, search_instance, _get_name_field, _fetch_application_approvers | 无 | 无 | 蓝鲸应用 Provider |

---


### 模块: apiserver/paasng/paasng/infras/iam/open_apis/providers/resource.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| FancyDict | iam.collection.FancyDict | 不适用 | module |
| ResourceProvider | iam.resource.provider.ResourceProvider | 不适用 | module |
| Page | iam.resource.utils.Page | 不适用 | module |
| get_filter_obj | iam.resource.utils.get_filter_obj | 不适用 | module |
| get_page_obj | iam.resource.utils.get_page_obj | 不适用 | module |
| ResourceType | paasng.infras.iam.constants.ResourceType | Application | module |
| ApplicationProvider | apiserver.paasng.paasng.infras.iam.open_apis.providers.application.ApplicationProvider | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKPaaSResourceProvider | 无 | __init__, provide, list_attr, list_attr_value, list_instance, fetch_instance_info, list_instance_by_policy, search_instance, _parse_filter_and_page | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/iam/open_apis/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, ChoiceField, JSONField | module |
| ResourceType | paasng.infras.iam.constants.ResourceType | get_choices | module |
| MethodType | apiserver.paasng.paasng.infras.iam.open_apis.constants.MethodType | get_choices | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| QueryResourceSLZ | rest_framework.serializers.Serializer | 无 | method, type, filter, page | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/iam/open_apis/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| resource_types | applications | `resource_types = 'applications'` | module |
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/iam-provider/(?P<resource_type>{})/'.format(resource_types), views.ResourceAPIView.as_view())]` | module |



---


### 模块: apiserver/paasng/paasng/infras/iam/open_apis/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | LANGUAGE_CODE | module |
| Response | rest_framework.response.Response | 不适用 | module |
| APIView | rest_framework.views.APIView | 不适用 | module |
| IAMBasicAuthentication | apiserver.paasng.paasng.infras.iam.open_apis.authentication.IAMBasicAuthentication | 不适用 | module |
| BKPaaSResourceProvider | apiserver.paasng.paasng.infras.iam.open_apis.providers.resource.BKPaaSResourceProvider | 不适用 | module |
| QueryResourceSLZ | apiserver.paasng.paasng.infras.iam.open_apis.serializers.QueryResourceSLZ | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ResourceAPIView | rest_framework.views.APIView | _get_options, post | authentication_classes | 无 | 统一入口: 提供给权限中心拉取各类资源 |

---


### 模块: apiserver/paasng/paasng/infras/iam/permissions/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/iam/permissions/apply_url.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | IAM_APP_CODE, IAM_APP_SECRET, BK_IAM_V3_INNER_URL, BK_PAAS2_URL, BK_IAM_APIGATEWAY_URL, BK_IAM_URL, IAM_PAAS_V3_SYSTEM_ID | module |
| IAM | iam.IAM | 不适用 | module |
| models | iam.apply.models | Application | module |
| ActionResourcesRequest | apiserver.paasng.paasng.infras.iam.permissions.request.ActionResourcesRequest | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplyURLGenerator | 无 | generate_apply_url, _make_application | iam | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/iam/permissions/client.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | IAM_APP_CODE, IAM_APP_SECRET, BK_IAM_V3_INNER_URL, BK_PAAS2_URL, BK_IAM_APIGATEWAY_URL, IAM_PAAS_V3_SYSTEM_ID | module |
| IAM | iam.IAM | 不适用 | module |
| Action | iam.Action | 不适用 | module |
| MultiActionRequest | iam.MultiActionRequest | 不适用 | module |
| Request | iam.Request | 不适用 | module |
| Resource | iam.Resource | 不适用 | module |
| Subject | iam.Subject | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| IAMClient | 无 | resource_type_allowed, resource_inst_allowed, resource_type_multi_actions_allowed, resource_inst_multi_actions_allowed, batch_resource_multi_actions_allowed, _make_request | iam | 无 | 提供基础的 iam client 方法封装 |

---


### 模块: apiserver/paasng/paasng/infras/iam/permissions/exceptions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| ApplyURLGenerator | apiserver.paasng.paasng.infras.iam.permissions.apply_url.ApplyURLGenerator | generate_apply_url | module |
| ActionResourcesRequest | apiserver.paasng.paasng.infras.iam.permissions.request.ActionResourcesRequest | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PermissionDeniedError | Exception | __init__, data, __str__ | message, code | 无 | 不适用 |
| AttrValidationError | Exception | 无 | 无 | 无 | 属性字段校验异常 |

---


### 模块: apiserver/paasng/paasng/infras/iam/permissions/perm.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ABC | abc.ABC | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| asdict | attrs.asdict | 不适用 | module |
| define | attrs.define | 不适用 | module |
| field | attrs.field | 不适用 | module |
| validators | attrs.validators | instance_of | module |
| settings | django.conf.settings | IAM_PAAS_V3_SYSTEM_ID | module |
| ResourceType | paasng.infras.iam.constants.ResourceType | 不适用 | module |
| IAMClient | apiserver.paasng.paasng.infras.iam.permissions.client.IAMClient | 不适用 | module |
| AttrValidationError | apiserver.paasng.paasng.infras.iam.permissions.exceptions.AttrValidationError | 不适用 | module |
| PermissionDeniedError | apiserver.paasng.paasng.infras.iam.permissions.exceptions.PermissionDeniedError | 不适用 | module |
| ActionResourcesRequest | apiserver.paasng.paasng.infras.iam.permissions.request.ActionResourcesRequest | 不适用 | module |
| ResourceRequest | apiserver.paasng.paasng.infras.iam.permissions.request.ResourceRequest | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| validate_empty | `def validate_empty(instance, attribute, value):` | 无 | 用于校验属性是否为空. https://www.attrs.org/en/20.2.0/init.h... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ResCreatorAction | 无 | __attrs_post_init__, to_data | 无 | define | 用于新建关联属性授权接口 |
| PermCtx | 无 | validate_resource_id, resource_id | username, force_raise | define | 
    权限参数上下文
    note: 由于 force_raise 默认值的原因，其子类属性... |
| Permission | abc.ABC, apiserver.paasng.paasng.infras.iam.permissions.client.IAMClient | can_action, can_multi_actions, resources_actions_allowed, grant_resource_creator_actions, make_res_request, _can_action, _can_multi_actions, _raise_permission_denied_error | 无 | 无 | 对接 IAM 的权限基类 |

---


### 模块: apiserver/paasng/paasng/infras/iam/permissions/request.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ABC | abc.ABC | 不适用 | module |
| namedtuple | collections.namedtuple | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| settings | django.conf.settings | IAM_PAAS_V3_SYSTEM_ID | module |
| Resource | iam.Resource | 不适用 | module |
| models | iam.apply.models | ActionWithResources, ActionWithoutResources, ResourceInstance, ResourceNode, RelatedResourceType | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| IAMResource | 不适用 | `IAMResource = namedtuple('IAMResource', 'resource_type resource_id')` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ResourceRequest | abc.ABC | from_dict, make_resources, _make_attribute | resource_type | 无 | 不适用 |
| ActionResourcesRequest | 无 | __init__, to_action | 无 | 无 | 操作资源请求 |

---


### 模块: apiserver/paasng/paasng/infras/iam/permissions/resources/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/iam/permissions/resources/application.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| datetime | datetime.datetime | now | module |
| timedelta | datetime.timedelta | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| define | attrs.define | 不适用 | module |
| field | attrs.field | 不适用 | module |
| validators | attrs.validators | instance_of | module |
| user_id_encoder | bkpaas_auth.core.encoder.user_id_encoder | encode | module |
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| settings | django.conf.settings | USER_TYPE, IAM_PERM_EFFECTIVE_TIMEDELTA | module |
| Q | django.db.models.Q | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| AuthAPIError | iam.exceptions.AuthAPIError | 不适用 | module |
| ResourceType | paasng.infras.iam.constants.ResourceType | Application | module |
| PermCtx | paasng.infras.iam.permissions.perm.PermCtx | 不适用 | module |
| Permission | paasng.infras.iam.permissions.perm.Permission | 不适用 | module |
| ResCreatorAction | paasng.infras.iam.permissions.perm.ResCreatorAction | 不适用 | module |
| validate_empty | paasng.infras.iam.permissions.perm.validate_empty | 不适用 | module |
| ResourceRequest | paasng.infras.iam.permissions.request.ResourceRequest | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppAction | blue_krill.data_types.enum.StrStructuredEnum | 无 | VIEW_BASIC_INFO, EDIT_BASIC_INFO, DELETE_APPLICATION, MANAGE_MEMBERS, MANAGE_ACCESS_CONTROL, MANAGE_APP_MARKET, DATA_STATISTICS, BASIC_DEVELOP, MANAGE_CLOUD_API, VIEW_ALERT_RECORDS, EDIT_ALERT_POLICY, MANAGE_ADDONS_SERVICES, MANAGE_ENV_PROTECTION, MANAGE_MODULE | 无 | 蓝鲸 PaaS 应用相关权限 |
| AppCreatorAction | paasng.infras.iam.permissions.perm.ResCreatorAction | to_data | 无 | define | 不适用 |
| AppPermCtx | paasng.infras.iam.permissions.perm.PermCtx | resource_id | code | define | 不适用 |
| AppRequest | paasng.infras.iam.permissions.request.ResourceRequest | from_dict | code, resource_type | define | 不适用 |
| ApplicationPermission | paasng.infras.iam.permissions.perm.Permission | get_method_by_action, can_view_basic_info, can_edit_basic_info, can_delete_application, can_manage_members, can_manage_access_control, can_manage_app_market, can_data_statistics, can_basic_develop, can_manage_cloud_api, can_view_alert_records, can_edit_alert_policy, can_manage_addons_services, can_manage_env_protection, can_manage_module, gen_user_app_filters, gen_develop_app_filters, _gen_app_filters_by_request | 无 | 无 | 应用权限 |

---


### 模块: apiserver/paasng/paasng/infras/iam/tasks.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| shared_task | celery.shared_task | 不适用 | module |
| BKIAMClient | paasng.infras.iam.client.BKIAMClient | 不适用 | module |
| ApplicationGradeManager | paasng.infras.iam.members.models.ApplicationGradeManager | get, objects | module |
| ApplicationUserGroup | paasng.infras.iam.members.models.ApplicationUserGroup | filter, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| add_monitoring_space_permission | `@shared_task:` | shared_task | 
    给应用添加蓝鲸监控空间相关的权限，目前包括监控平台、日志平台权限

    :param ... |


---


### 模块: apiserver/paasng/paasng/infras/iam/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| time | time | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | IAM_PAAS_V3_SYSTEM_ID | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| constants | paasng.infras.iam.constants | NEVER_EXPIRE_TIMESTAMP, ONE_DAY_SECONDS, Application, ResourceType, items, APP_MINI_ACTIONS_IN_BK_MONITOR, BK_MONITOR_SYSTEM_ID, BkMonitorSpace, APP_MINI_ACTIONS_IN_BK_LOG, BK_LOG_SYSTEM_ID | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | get_values, VIEW_BASIC_INFO, MANAGE_APP_MARKET, DATA_STATISTICS, BASIC_DEVELOP, MANAGE_CLOUD_API, VIEW_ALERT_RECORDS, EDIT_ALERT_POLICY, EDIT_BASIC_INFO, MANAGE_ACCESS_CONTROL | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | ADMINISTRATOR, DEVELOPER, OPERATOR | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| gen_grade_manager_name | `def gen_grade_manager_name(app_code: str) -> str:` | 无 | 
    生成分级管理员名称（最大字符数限制 32）
    中：开发者中心-{app_code}
... |
| gen_grade_manager_desc | `def gen_grade_manager_desc(app_code: str) -> str:` | 无 | 
    生成分级管理员描述
    中：开发者中心应用（{app_code}）分级管理员，拥有审批... |
| gen_user_group_name | `def gen_user_group_name(app_code: str, role: ApplicationRole) -> str:` | 无 | 
    根据指定的用户角色，生成对应的用户组名称（最大字符数限制 32）
    中：开发者中心-... |
| gen_user_group_desc | `def gen_user_group_desc(app_code: str, role: ApplicationRole) -> str:` | 无 | 
    根据指定的用户角色，生成对应的用户组名称
    中：开发者中心应用（{app_code}... |
| calc_expired_at | `def calc_expired_at(expire_after_days: int) -> int:` | 无 | 计算过期的时间戳，若传入的过期天数为负数，则表示永不过期 |
| get_app_actions_by_role | `def get_app_actions_by_role(role: ApplicationRole) -> List[AppAction]:` | 无 | 根据角色类型，获取他们拥有的 APP 权限 |
| get_paas_authorization_scopes | `def get_paas_authorization_scopes(app_code: str, app_name: str, role: ApplicationRole) -> dict:` | 无 | 
    应用在开发者中心的授权信息

    :param app_code: 应用编码
    ... |
| get_bk_monitor_authorization_scope_list | `def get_bk_monitor_authorization_scope_list(bk_space_id: str, app_name: str, include_system: bool = False) -> list:` | 无 | 
    应用在蓝鲸监控平台的授权信息

    :param bk_space_id: 蓝鲸监控的... |
| get_bk_log_authorization_scope_list | `def get_bk_log_authorization_scope_list(bk_space_id: str, app_name: str, include_system: bool = False) -> list:` | 无 | 
    应用在蓝鲸日志平台的授权信息

    :param bk_space_id: 蓝鲸监控的... |


---


### 模块: apiserver/paasng/paasng/infras/legacydb/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/legacydb/adaptors.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | now, datetime, date | module |
| logging | getLogger | module |
| re | search | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| user_id_encoder | bkpaas_auth.models.user_id_encoder | encode | module |
| settings | django.conf.settings | BK_PAAS2_INNER_URL, DEFAULT_REGION_NAME, USER_TYPE | module |
| timezone | django.utils.timezone | now | module |
| func | sqlalchemy.func | count | module |
| or_ | sqlalchemy.or_ | 不适用 | module |
| IntegrityError | paasng.platform.applications.exceptions.IntegrityError | 不适用 | module |
| Session | sqlalchemy.orm.Session | 不适用 | module |
| SaaSPackageInfo | paasng.accessories.publish.sync_market.constant.SaaSPackageInfo | 不适用 | module |
| TagData | paasng.accessories.publish.sync_market.models.TagData | 不适用 | module |
| models | paasng.infras.legacydb.models | 不适用 | module |
| EnvItem | paasng.infras.legacydb.entities.EnvItem | 不适用 | module |
| OAuth2Client | paasng.infras.oauth2.models.OAuth2Client | get, objects, DoesNotExist | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | value, GLOBAL, STAG, PROD | module |
| LegacyAppState | paasng.platform.mgrlegacy.constants.LegacyAppState | value, DEVELOPMENT, OUTLINE | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppAdaptor | 无 | __init__, get, get_by_app_id, get_by_keyword, update, create, sync_oauth, get_saas_package_info, soft_delete | 无 | 无 | 不适用 |
| AppTagAdaptor | 无 | __init__, get_tag_list, get | 无 | 无 | 不适用 |
| AuthUserAdaptor | 无 | __init__, get_or_create | 无 | 无 | 用户信息，主要用于同步成员时，用户不存在时新建用户，若同步成员由 API 实现则可以删除 |
| AppDeveloperAdaptor | 无 | __init__, get_apps_by_developer, get_developer_names, update_developers, _delete_developers, _add_developers, _create_developer_by_username, _get_developer_objs_by_usernames | 无 | 无 | 应用开发者 |
| AppOpsAdaptor | 无 | __init__, get_ops_names, update_ops | 无 | 无 | 应用运营者 |
| AppUseRecordAdaptor | 无 | __init__, get_records | 无 | 无 | 不适用 |
| AppReleaseRecordAdaptor | 无 | __init__, create | 无 | 无 | 不适用 |
| AppEnvVarAdaptor | 无 | __init__, list, get_by_name, get_by_prefix | 无 | 无 | 不适用 |
| AppSecureInfoAdaptor | 无 | __init__, get | 无 | 无 | 不适用 |
| EngineAppAdaptor | 无 | __init__, get | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/legacydb/entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EnvItem | 无 | 无 | 无 | dataclass | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/legacydb/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| itemgetter | operator.itemgetter | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| no_type_check | typing.no_type_check | 不适用 | module |
| or_ | sqlalchemy.or_ | 不适用 | module |
| text | sqlalchemy.text | 不适用 | module |
| Session | sqlalchemy.orm.session.Session | 不适用 | module |
| legacy_db | paasng.core.core.storages.sqlalchemy.legacy_db | get_model, get_scoped_session | module |
| Permission | paasng.infras.iam.legacy.Permission | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| LApplication | 不适用 | `LApplication = legacy_db.get_model('paas_app')` | module |
| LEngineApp | 不适用 | `LEngineApp = legacy_db.get_model('engine_apps')` | module |
| LApplicationSecureInfo | 不适用 | `LApplicationSecureInfo = legacy_db.get_model('paas_app_secureinfo')` | module |
| LApplicationConfigVar | 不适用 | `LApplicationConfigVar = legacy_db.get_model('paas_app_envvars')` | module |
| LApplicationReleaseRecord | 不适用 | `LApplicationReleaseRecord = legacy_db.get_model('paas_release_record')` | module |
| LApplicationUseRecord | 不适用 | `LApplicationUseRecord = legacy_db.get_model('console_analysis_appuserecord')` | module |
| LApplicationTag | 不适用 | `LApplicationTag = legacy_db.get_model('paas_apptags')` | module |
| LAppDeveloper | 不适用 | `LAppDeveloper = legacy_db.get_model('paas_app_developer')` | module |
| LUser | 不适用 | `LUser = legacy_db.get_model('account_bkuser')` | module |
| LSMartApplication | 不适用 | `LSMartApplication = legacy_db.get_model('paas_saas_app')` | module |
| LSMartApplicationVersion | 不适用 | `LSMartApplicationVersion = legacy_db.get_model('paas_saas_app_version')` | module |
| LSMartApplicationPackage | 不适用 | `LSMartApplicationPackage = legacy_db.get_model('paas_saas_upload_file')` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_v2_application_by_developer | `@no_type_check:` | no_type_check | relationship between `account_bkuser` and `paas_ap... |
| get_developers_by_v2_application | `@no_type_check:` | no_type_check | relationship between `account_bkuser` and `paas_ap... |


---


### 模块: apiserver/paasng/paasng/infras/oauth2/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/oauth2/api.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | JSONDecodeError, decoder | module |
| logging | getLogger | module |
| requests | RequestException, Response, post, delete, put, get | module |
| paasng.utils.masked_curlify | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| datetime | datetime.datetime | strptime | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | rstrip, BK_OAUTH_API_URL, BK_APP_CODE, BK_APP_SECRET | module |
| BkOauthApiException | paasng.infras.oauth2.exceptions.BkOauthApiException | 不适用 | module |
| BkOauthApiResponseError | paasng.infras.oauth2.exceptions.BkOauthApiResponseError | 不适用 | module |
| BkOauthClientDoesNotExist | paasng.infras.oauth2.exceptions.BkOauthClientDoesNotExist | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| wrap_request_exc | `@contextmanager:` | contextmanager | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkAppSecret | 无 | __post_init__ | 无 | dataclass | 不适用 |
| BkOauthClient | 无 | __init__, _validate_resp, create_client, create_app_secret, del_app_secret, toggle_app_secret, get_app_secret_list, get_default_app_secret, get_secret_by_id | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/oauth2/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Oauth2Config | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/oauth2/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkOauthApiException | Exception | 无 | 无 | 无 | BaseException for Bk Oauth |
| BkOauthApiResponseError | BkOauthApiException | __init__ | 无 | 无 | Bk Oauth API Response Error |
| BkOauthClientDoesNotExist | Exception | 无 | 无 | 无 | Bk Oauth client not exist |

---


### 模块: apiserver/paasng/paasng/infras/oauth2/management/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/oauth2/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/oauth2/management/commands/encryption_migration_oauth2.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ReEncryptCommand | paasng.utils.encrypt_cmd.ReEncryptCommand | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | paasng.utils.encrypt_cmd.ReEncryptCommand | 无 | help, app_label | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/oauth2/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| blue_krill.models.fields | EncryptField, fields, models | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/oauth2/migrations/0002_bkappsecretinenvvar.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, IntegerField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/oauth2/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/oauth2/models.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EncryptField | blue_krill.models.fields.EncryptField | 不适用 | module |
| models | django.db.models | CharField, IntegerField | module |
| TimestampedModel | paasng.utils.models.TimestampedModel | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| OAuth2Client | paasng.utils.models.TimestampedModel | 无 | client_id, client_secret | 无 | OAuth2 体系中的基本单位：Client

    settings.ENABLE_BK_OAU... |
| BkAppSecretInEnvVar | paasng.utils.models.TimestampedModel | __str__ | bk_app_code, bk_app_secret_id | 无 | 
    环境变量默认密钥：内置环境变量 BKPAAS_APP_SECRET 使用的密钥
     |

---


### 模块: apiserver/paasng/paasng/infras/oauth2/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | ENABLE_BK_OAUTH | module |
| get_random_string | django.utils.crypto.get_random_string | 不适用 | module |
| BkAppSecret | paasng.infras.oauth2.api.BkAppSecret | 不适用 | module |
| BkOauthClient | paasng.infras.oauth2.api.BkOauthClient | 不适用 | module |
| BkOauthClientDoesNotExist | paasng.infras.oauth2.exceptions.BkOauthClientDoesNotExist | 不适用 | module |
| BkAppSecretInEnvVar | paasng.infras.oauth2.models.BkAppSecretInEnvVar | get, objects, DoesNotExist | module |
| OAuth2Client | paasng.infras.oauth2.models.OAuth2Client | get_or_create, objects, get, DoesNotExist | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_random_secret_key | `def get_random_secret_key():` | 无 | 
    Return a 50 character random string usable as... |
| create_oauth2_client | `def create_oauth2_client(bk_app_code: str, region: str) -> bool:` | 无 | Create oauth2 client for application |
| get_app_secret_in_env_var | `def get_app_secret_in_env_var(bk_app_code: str) -> BkAppSecret:` | 无 | 应用部署时，写入环境变量中的密钥
    如果用户未主动设置，则为 BkAuth API 中返回的默... |
| get_oauth2_client_secret | `def get_oauth2_client_secret(bk_app_code: str, region: str) -> str:` | 无 | 获取应用的 OAuth 默认密钥 |


---


### 模块: apiserver/paasng/paasng/infras/perm_insure/__init__.py







---


### 模块: apiserver/paasng/paasng/infras/perm_insure/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |
| ensure_views_perm_configured | apiserver.paasng.paasng.infras.perm_insure.views_perm.ensure_views_perm_configured | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PermInsureConfig | django.apps.AppConfig | ready | default_auto_field, name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/infras/perm_insure/conf.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Set | typing.Set | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | VISIT_ADMIN42, MANAGE_PLATFORM, MANAGE_APP_TEMPLATES, OPERATE_PLATFORM | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| ADMIN42_MODULE_NAMESPACES | ('paasng.plat_admin.admin42.views', 'paas_wl.apis.admin.views') | `ADMIN42_MODULE_NAMESPACES = ('paasng.plat_admin.admin42.views', 'paas_wl.apis.admin.views')` | module |
| ADMIN42_ACTIONS | 不适用 | `ADMIN42_ACTIONS = {SiteAction.VISIT_ADMIN42, SiteAction.MANAGE_PLATFORM, SiteAction.MANAGE_APP_TEMPLATES, SiteAction.OPERATE_PLATFORM}` | module |



---


### 模块: apiserver/paasng/paasng/infras/perm_insure/views_perm.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Callable | typing.Callable | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| List | typing.List | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| settings | django.conf.settings | ROOT_URLCONF | module |
| ImproperlyConfigured | django.core.exceptions.ImproperlyConfigured | 不适用 | module |
| URLPattern | django.urls.URLPattern | 不适用 | module |
| URLResolver | django.urls.URLResolver | 不适用 | module |
| APIView | rest_framework.views.APIView | 不适用 | module |
| ViewSetMixin | rest_framework.viewsets.ViewSetMixin | 不适用 | module |
| ADMIN42_ACTIONS | apiserver.paasng.paasng.infras.perm_insure.conf.ADMIN42_ACTIONS | 不适用 | module |
| ADMIN42_MODULE_NAMESPACES | apiserver.paasng.paasng.infras.perm_insure.conf.ADMIN42_MODULE_NAMESPACES | 不适用 | module |
| INSURE_CHECKING_EXCLUDED_VIEWS | apiserver.paasng.paasng.infras.perm_insure.conf.INSURE_CHECKING_EXCLUDED_VIEWS | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| is_admin42_url | `def is_admin42_url(url: str) -> bool:` | 无 | Check if the url is a admin42 url. |
| is_admin42_view_func | `def is_admin42_view_func(view_func) -> bool:` | 无 | 不适用 |
| is_admin42_permission | `def is_admin42_permission(perm_cls) -> bool:` | 无 | 不适用 |
| ensure_views_perm_configured | `def ensure_views_perm_configured():` | 无 | Check if all views have configured permissions pro... |
| list_view_funcs | `def list_view_funcs() -> Iterable[Tuple[str, Callable]]:` | 无 | List all view functions and url in the project. |
| check_drf_view_perm | `def check_drf_view_perm(view_func, is_admin42: bool):` | 无 | Check if a DRF view function has configured permis... |
| get_unprotected_actions | `def get_unprotected_actions(view_func) -> List[str]:` | 无 | Get all unprotected actions of a DRF view function... |
| check_django_view_perm | `def check_django_view_perm(view_func, is_admin42: bool):` | 无 | Check if a django view function has configured per... |


---


### 模块: apiserver/paasng/paasng/misc/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/audit/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/audit/apps.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger, info | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |
| settings | django.conf.settings | BK_AUDIT_DATA_TOKEN, BK_AUDIT_ENDPOINT | module |
| bk_audit_settings | bk_audit.contrib.bk_audit.settings.bk_audit_settings | bk_data_id, bk_data_token, ot_endpoint | module |
| setup | bk_audit.contrib.opentelemetry.setup.setup | 不适用 | module |
| bk_audit_client | paasng.misc.audit.client.bk_audit_client | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AuditConfig | django.apps.AppConfig | ready | name, verbose_name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/audit/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BkAudit | bk_audit.client.BkAudit | 不适用 | module |
| bk_audit_settings | bk_audit.contrib.bk_audit.settings.bk_audit_settings | log_queue_limit, formatter, exporters, service_name_handler | module |
| settings | django.conf.settings | BK_APP_CODE, BK_APP_SECRET | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| bk_audit_client | 不适用 | `bk_audit_client = BkAudit(bk_app_code=settings.BK_APP_CODE, bk_app_secret=settings.BK_APP_SECRET, settings={'log_queue_limit': bk_audit_settings.log_queue_limit, 'formatter': bk_audit_settings.formatter, 'exporters': bk_audit_settings.exporters, 'service_name_handler': bk_audit_settings.service_name_handler})` | module |



---


### 模块: apiserver/paasng/paasng/misc/audit/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AccessType | blue_krill.data_types.enum.IntStructuredEnum | 无 | WEB, API | 无 | 访问方式 |
| ResultCode | blue_krill.data_types.enum.IntStructuredEnum | get_terminated_codes | SUCCESS, ONGOING, FAILURE, INTERRUPT | 无 | 操作结果 |
| DataType | blue_krill.data_types.enum.StrStructuredEnum | 无 | RAW_DATA, BKAPP_REVERSION, CLOUD_API_RECORD, ESB_API_RECORD | 无 | 记录操作前后数据的数据类型，前端会根据该字段做不同的展示
    前端不需要展示相关的 label,... |
| OperationTarget | blue_krill.data_types.enum.StrStructuredEnum | 无 | APP, MODULE, PROCESS, ENV_VAR, ADD_ON, CLOUD_API, SECRET, APP_DOMAIN, APP_MEMBER, BUILD_CONFIG, VOLUME_MOUNT, SERVICE_DISCOVERY, DOMAIN_RESOLUTION, DEPLOY_RESTRICTION, EXIT_IP, ACCESS_CONTROL, CLUSTER, PROCESS_SPEC_PLAN, BKPLUGIN_TAG, BKPLUGIN_DISTRIBUTOR, BKPLUGIN_MEMBER, DOCUMENT, DEPLOY_FAILURE_TIPS, SOURCE_TYPE_SPEC, SHARED_CERT, ADDON_PLAN, PLAT_USER, FEATURE_FLAG, EGRESS_SPEC, TEMPLATE, DASHBOARD_TEMPLATE, BUILDPACK, SLUGBUILDER, SLUGRUNNER | 无 | 操作对象 |
| OperationEnum | blue_krill.data_types.enum.StrStructuredEnum | 无 | CREATE, DELETE, MODIFY, CREATE_APP, RELEASE_TO_MARKET, OFFLINE_MARKET, MODIFY_MARKET_INFO, MODIFY_MARKET_URL, MODIFY_BASIC_INFO, START, STOP, SCALE, ENABLE, DISABLE, APPLY, RENEW, DEPLOY, OFFLINE, MODIFY_PLAN, MODIFY_USER_FEATURE_FLAG, SWITCH_DEFAULT_CLUSTER, BIND_CLUSTER, MODIFY_LOG_CONFIG, PROVISION_INSTANCE, RECYCLE_RESOURCE | 无 | 操作类型 |

---


### 模块: apiserver/paasng/paasng/misc/audit/handlers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| post_save | django.db.models.signals.post_save | 不适用 | module |
| receiver | django.dispatch.receiver | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| DeployStatus | paas_wl.bk_app.cnative.specs.constants.DeployStatus | PENDING, PROGRESSING, READY, ERROR, UNKNOWN | module |
| AppModelDeploy | paas_wl.bk_app.cnative.specs.models.AppModelDeploy | filter, objects | module |
| post_cnative_env_deploy | paas_wl.bk_app.cnative.specs.signals.post_cnative_env_deploy | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | MANAGE_MODULE, BASIC_DEVELOP | module |
| constants | paasng.misc.audit.constants | SUCCESS, ResultCode, FAILURE, ONGOING, INTERRUPT, CREATE_APP, OperationEnum, APP, OperationTarget, CREATE, MODULE, DEPLOY, BKAPP_REVERSION, DataType | module |
| AppLatestOperationRecord | paasng.misc.audit.models.AppLatestOperationRecord | update_or_create, objects | module |
| AppOperationRecord | paasng.misc.audit.models.AppOperationRecord | 不适用 | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | DEFAULT | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | SUCCESSFUL, FAILED, PENDING, INTERRUPTED | module |
| Deployment | paasng.platform.engine.models.Deployment | 不适用 | module |
| post_appenv_deploy | paasng.platform.engine.signals.post_appenv_deploy | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| JOB_STATUS_TO_RESULT_CODE | 不适用 | `JOB_STATUS_TO_RESULT_CODE = {JobStatus.SUCCESSFUL: constants.ResultCode.SUCCESS, JobStatus.FAILED: constants.ResultCode.FAILURE, JobStatus.PENDING: constants.ResultCode.ONGOING, JobStatus.INTERRUPTED: constants.ResultCode.INTERRUPT}` | module |
| DEPLOY_STATUS_TO_RESULT_CODE | 不适用 | `DEPLOY_STATUS_TO_RESULT_CODE = {DeployStatus.PENDING: constants.ResultCode.ONGOING, DeployStatus.PROGRESSING: constants.ResultCode.ONGOING, DeployStatus.READY: constants.ResultCode.SUCCESS, DeployStatus.ERROR: constants.ResultCode.FAILURE, DeployStatus.UNKNOWN: constants.ResultCode.ONGOING}` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| on_app_operation_created | `@receiver(post_save):` | receiver | When an app operation object was created, we shoul... |
| on_model_post_save | `@receiver(post_save):` | receiver | 记录应用、模块创建操作记录 |
| on_deploy_finished | `@receiver(post_appenv_deploy):` | receiver | 当普通应用部署完成后，记录操作审计记录 |
| on_cnative_deploy_finished | `@receiver(post_cnative_env_deploy):` | receiver | 当云原生应用部署完成后，记录操作审计记录 |


---


### 模块: apiserver/paasng/paasng/misc/audit/management/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/audit/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/audit/management/commands/transfer_operations.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| Max | django.db.models.Max | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | MANAGE_APP_MARKET, BASIC_DEVELOP, DELETE_APPLICATION, MANAGE_MODULE, MANAGE_CLOUD_API, MANAGE_ACCESS_CONTROL | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE_APP, MODIFY_MARKET_INFO, START, STOP, DELETE, OFFLINE, DEPLOY, CREATE, OFFLINE_MARKET, RELEASE_TO_MARKET, APPLY, RENEW, ENABLE, DISABLE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | APP, PROCESS, MODULE, CLOUD_API, ACCESS_CONTROL | module |
| ResultCode | paasng.misc.audit.constants.ResultCode | FAILURE, SUCCESS | module |
| on_app_operation_created | paasng.misc.audit.handlers.on_app_operation_created | 不适用 | module |
| post_save | paasng.misc.audit.handlers.post_save | disconnect | module |
| AppLatestOperationRecord | paasng.misc.audit.models.AppLatestOperationRecord | update_or_create, objects | module |
| AppOperationRecord | paasng.misc.audit.models.AppOperationRecord | create, objects, filter | module |
| OperationType | paasng.misc.operations.constant.OperationType | 不适用 | module |
| Operation | paasng.misc.operations.models.Operation | values, objects, filter | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/audit/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| paasng.infras.iam.constants | BkUserField, models, utils, AccessType, constants, audit, misc, ResultCode, ResourceType, iam, infras | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | UUIDField, DateTimeField, IntegerField, JSONField, CharField, AutoField, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/audit/migrations/0002_transfer_op.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | MANAGE_APP_MARKET, BASIC_DEVELOP, DELETE_APPLICATION, MANAGE_MODULE, MANAGE_CLOUD_API, MANAGE_ACCESS_CONTROL | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE_APP, MODIFY_MARKET_INFO, START, STOP, DELETE, OFFLINE, DEPLOY, CREATE, OFFLINE_MARKET, RELEASE_TO_MARKET, APPLY, RENEW, ENABLE, DISABLE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | APP, PROCESS, MODULE, CLOUD_API, ACCESS_CONTROL | module |
| ResultCode | paasng.misc.audit.constants.ResultCode | FAILURE, SUCCESS | module |
| on_app_operation_created | paasng.misc.audit.handlers.on_app_operation_created | 不适用 | module |
| post_save | paasng.misc.audit.handlers.post_save | disconnect | module |
| AppLatestOperationRecord | paasng.misc.audit.models.AppLatestOperationRecord | update_or_create, objects | module |
| AppOperationRecord | paasng.misc.audit.models.AppOperationRecord | create, objects, filter | module |
| OperationType | paasng.misc.operations.constant.OperationType | 不适用 | module |
| Operation | paasng.misc.operations.models.Operation | values, objects, filter | module |
| Max | django.db.models.Max | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| transfer_operations_to_audit | `def transfer_operations_to_audit(apps, schema_editor):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/audit/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/audit/models.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| models | django.db.models | DateTimeField, IntegerField, JSONField, CharField, Model, OneToOneField, CASCADE | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| ResourceType | paasng.infras.iam.constants.ResourceType | get_choices, Application | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | get_choices | module |
| AccessType | paasng.misc.audit.constants.AccessType | get_choices, WEB | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | get_choices | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | get_choices, APP, CLOUD_API | module |
| ResultCode | paasng.misc.audit.constants.ResultCode | get_choices, SUCCESS, get_terminated_codes | module |
| Application | paasng.platform.applications.models.Application | filter, default_objects | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | get_choices | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |
| BkUserField | paasng.utils.models.BkUserField | 不适用 | module |
| UuidAuditedModel | paasng.utils.models.UuidAuditedModel | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseOperation | paasng.utils.models.UuidAuditedModel | username, scope_type, scope_id, is_terminated, result_display, need_to_report_bk_audit, get_display_text | user, start_time, end_time, access_type, result_code, data_before, data_after, operation, target, attribute, module_name, environment | 无 | 不适用 |
| AdminOperationRecord | BaseOperation | 无 | app_code | 无 | 后台管理操作记录，用于记录平台管理员在 Admin 系统上的操作 |
| AppOperationRecord | BaseOperation | application | app_code, action_id, resource_type_id | 无 | 应用操作记录，用于记录应用开发者的操作，需要同步记录应用的权限数据，并可以选择是否将数据上报到审计中... |
| AppLatestOperationRecord | django.db.models.Model | 无 | application, operation, latest_operated_at | 无 | 应用最近操作的映射表，可方便快速查询应用的最近操作者，并按最近操作时间进行排序等操作
    当 `... |

---


### 模块: apiserver/paasng/paasng/misc/audit/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | ModelSerializer, DateTimeField, ReadOnlyField, SerializerMethodField, Serializer, ChoiceField, CharField, IntegerField | module |
| AccessType | paasng.misc.audit.constants.AccessType | get_choices | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | get_choices | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | get_choices | module |
| ResultCode | paasng.misc.audit.constants.ResultCode | get_choices | module |
| AppOperationRecord | paasng.misc.audit.models.AppOperationRecord | 不适用 | module |
| ApplicationSLZ4Record | paasng.platform.applications.serializers.ApplicationSLZ4Record | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppOperationRecordSLZ | rest_framework.serializers.ModelSerializer | get_detail_type | at, operate, operator, detail_type | 无 | 不适用 |
| AppOperationRecordFilterSlZ | rest_framework.serializers.Serializer | 无 | target, operation, access_type, result_code, module_name, environment, start_time, end_time, operator | 无 | 操作审计筛选条件 |
| QueryRecentOperationsSLZ | rest_framework.serializers.Serializer | 无 | limit, operator | 无 | 不适用 |
| RecordForRecentAppSLZ | AppOperationRecordSLZ | get_module_name | application, module_name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/audit/service.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| asdict | attrs.asdict | 不适用 | module |
| define | attrs.define | 不适用 | module |
| AuditContext | bk_audit.log.models.AuditContext | 不适用 | module |
| AuditInstance | bk_audit.log.models.AuditInstance | 不适用 | module |
| settings | django.conf.settings | ENABLE_BK_AUDIT | module |
| Action | iam.Action | 不适用 | module |
| constants | paasng.misc.audit.constants | DataType, WEB, AccessType, SUCCESS, ResultCode | module |
| bk_audit_client | paasng.misc.audit.client.bk_audit_client | add_event | module |
| AdminOperationRecord | paasng.misc.audit.models.AdminOperationRecord | create, objects | module |
| AppOperationRecord | paasng.misc.audit.models.AppOperationRecord | create, objects | module |
| Application | paasng.platform.applications.models.Application | get, default_objects, DoesNotExist | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| report_event_to_bk_audit | `def report_event_to_bk_audit(record: AppOperationRecord):` | 无 | 将操作记录中的数据上报到审计中心 |
| add_app_audit_record | `def add_app_audit_record(app_code: str, user: str, action_id: str, operation: str, target: str, attribute: Optional[str] = None, module_name: Optional[str] = None, environment: Optional[str] = None, access_type: int = constants.AccessType.WEB, result_code: int = constants.ResultCode.SUCCESS, data_before: Optional[DataDetail] = None, data_after: Optional[DataDetail] = None) -> AppOperationRecord:` | 无 | 
    创建应用审计记录，并根据配置决定是否上报到审计中心。
    说明：已讨论确认在操作过程结... |
| add_admin_audit_record | `def add_admin_audit_record(user: str, operation: str, target: str, app_code: Optional[str] = None, attribute: Optional[str] = None, module_name: Optional[str] = None, environment: Optional[str] = None, access_type: int = constants.AccessType.WEB, result_code: int = constants.ResultCode.SUCCESS, data_before: Optional[DataDetail] = None, data_after: Optional[DataDetail] = None) -> AdminOperationRecord:` | 无 | 
    创建 admin42 审计记录

    :param user: encode 后的用户... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppBaseObj | 无 | 无 | 无 | define | 不适用 |
| DataDetail | 无 | 无 | 无 | define | 不适用 |
| ApplicationInstance | bk_audit.log.models.AuditInstance | __init__, instance_id, instance_name | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/audit/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/bkapps/applications/lists/latest/', views.LatestApplicationsViewSet.as_view(), name='api.applications.latest'), re_path(make_app_pattern('/audit/records/', include_envs=False), views.ApplicationAuditRecordViewSet.as_view({'get': 'list'}), name='api.bkapps.application.audit.records')]` | module |



---


### 模块: apiserver/paasng/paasng/misc/audit/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| user_id_encoder | bkpaas_auth.models.user_id_encoder | encode | module |
| settings | django.conf.settings | USER_TYPE, DISPLAY_BK_PLUGIN_APPS | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| mixins | rest_framework.mixins | ListModelMixin | module |
| viewsets | rest_framework.viewsets | GenericViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| APIView | rest_framework.views.APIView | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | VIEW_BASIC_INFO | module |
| AppLatestOperationRecord | paasng.misc.audit.models.AppLatestOperationRecord | filter, objects | module |
| AppOperationRecord | paasng.misc.audit.models.AppOperationRecord | all, objects | module |
| AppOperationRecordFilterSlZ | paasng.misc.audit.serializers.AppOperationRecordFilterSlZ | 不适用 | module |
| AppOperationRecordSLZ | paasng.misc.audit.serializers.AppOperationRecordSLZ | 不适用 | module |
| QueryRecentOperationsSLZ | paasng.misc.audit.serializers.QueryRecentOperationsSLZ | 不适用 | module |
| RecordForRecentAppSLZ | paasng.misc.audit.serializers.RecordForRecentAppSLZ | 不适用 | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| UserApplicationFilter | paasng.platform.applications.models.UserApplicationFilter | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationAuditRecordViewSet | rest_framework.mixins.ListModelMixin, rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | filter_queryset, list | serializer_class, permission_classes, queryset | 无 | 
    应用的操作审计记录
    list: 单应用的操作记录
    - 接口返回的顺序为按操... |
| LatestApplicationsViewSet | rest_framework.views.APIView | get_queryset, get | 无 | 无 | 
    最近操作的应用列表
    get: 最近操作的应用列表
    - [测试地址](/ap... |

---


### 模块: apiserver/paasng/paasng/misc/changelog/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/changelog/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| InvalidChangelogError | Exception | 无 | 无 | 无 | 无效的 changelog 异常 |

---


### 模块: apiserver/paasng/paasng/misc/changelog/query.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| time | strptime | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| cmp_to_key | functools.cmp_to_key | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| PosixPath | pathlib.PosixPath | 不适用 | module |
| List | typing.List | 不适用 | module |
| define | attrs.define | 不适用 | module |
| settings | django.conf.settings | CHANGELOG_PATH | module |
| get_language | django.utils.translation.get_language | 不适用 | module |
| VersionInfo | semver.VersionInfo | parse | module |
| compare | semver.compare | 不适用 | module |
| InvalidChangelogError | apiserver.paasng.paasng.misc.changelog.exceptions.InvalidChangelogError | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LogDetail | 无 | 无 | 无 | define | 不适用 |
| Changelog | 无 | __init__, list_logs, _parse_log | 无 | 无 | 
    变更(版本)日志

    :param log_path: 版本日志存放目录. 目录下包... |

---


### 模块: apiserver/paasng/paasng/misc/changelog/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LogDetailSLZ | rest_framework.serializers.Serializer | 无 | version, date, content | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/changelog/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| path | django.urls.path | 不适用 | module |
| ChangelogViewSet | apiserver.paasng.paasng.misc.changelog.views.ChangelogViewSet | as_view | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [path('api/changelogs/', ChangelogViewSet.as_view({'get': 'list'}))]` | module |



---


### 模块: apiserver/paasng/paasng/misc/changelog/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| viewsets | rest_framework.viewsets | ViewSet | module |
| Response | rest_framework.response.Response | 不适用 | module |
| Changelog | apiserver.paasng.paasng.misc.changelog.query.Changelog | 不适用 | module |
| LogDetailSLZ | apiserver.paasng.paasng.misc.changelog.serializers.LogDetailSLZ | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ChangelogViewSet | rest_framework.viewsets.ViewSet | list | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/metrics/__init__.py



#### 星号导入

| 模块路径 | 代码块 |
|---------|-------|
| apiserver.paasng.paasng.misc.metrics.basic_services | module |
| apiserver.paasng.paasng.misc.metrics.metrics | module |




---


### 模块: apiserver/paasng/paasng/misc/metrics/authentication.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| secrets | compare_digest | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | get, METRIC_CLIENT_TOKEN_DICT | module |
| authentication | rest_framework.authentication | BaseAuthentication | module |
| AuthenticationFailed | rest_framework.exceptions.AuthenticationFailed | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BasicAuthentication | rest_framework.authentication.BaseAuthentication | authenticate | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/metrics/basic_services/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/metrics/basic_services/base.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| GaugeMetricFamily | prometheus_client.core.GaugeMetricFamily | 不适用 | module |
| Metric | prometheus_client.core.Metric | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| GaugeMetric | 无 | calc_value, calc_metric, describe_metric | name, description | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/metrics/basic_services/blob_store.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ProbeSet | blue_krill.monitoring.probe.base.ProbeSet | 不适用 | module |
| PlatformBlobStoreProbe | paasng.misc.monitoring.healthz.probes.PlatformBlobStoreProbe | 不适用 | module |
| GaugeMetric | apiserver.paasng.paasng.misc.metrics.basic_services.base.GaugeMetric | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BlobStoreAvailableMetric | apiserver.paasng.paasng.misc.metrics.basic_services.base.GaugeMetric | calc_value | name, description | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/metrics/basic_services/mysql.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| ProbeSet | blue_krill.monitoring.probe.base.ProbeSet | 不适用 | module |
| VirtualProbe | blue_krill.monitoring.probe.base.VirtualProbe | 不适用 | module |
| PlatformMysqlProbe | paasng.misc.monitoring.healthz.probes.PlatformMysqlProbe | host, config | module |
| WorkloadsMysqlProbe | paasng.misc.monitoring.healthz.probes.WorkloadsMysqlProbe | host, config | module |
| GaugeMetric | apiserver.paasng.paasng.misc.metrics.basic_services.base.GaugeMetric | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MySQLAvailableMetric | apiserver.paasng.paasng.misc.metrics.basic_services.base.GaugeMetric | calc_value | name, description | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/metrics/basic_services/redis.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ProbeSet | blue_krill.monitoring.probe.base.ProbeSet | 不适用 | module |
| PlatformRedisProbe | paasng.misc.monitoring.healthz.probes.PlatformRedisProbe | 不适用 | module |
| GaugeMetric | apiserver.paasng.paasng.misc.metrics.basic_services.base.GaugeMetric | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RedisAvailableMetric | apiserver.paasng.paasng.misc.metrics.basic_services.base.GaugeMetric | calc_value | name, description | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/metrics/collector.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Iterator | typing.Iterator | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| Metric | prometheus_client.core.Metric | 不适用 | module |
| Protocol | typing_extensions.Protocol | 不适用 | module |
| BlobStoreAvailableMetric | paasng.misc.metrics.basic_services.blob_store.BlobStoreAvailableMetric | 不适用 | module |
| MySQLAvailableMetric | paasng.misc.metrics.basic_services.mysql.MySQLAvailableMetric | 不适用 | module |
| RedisAvailableMetric | paasng.misc.metrics.basic_services.redis.RedisAvailableMetric | 不适用 | module |
| UnavailableDeploymentTotalMetric | paasng.misc.metrics.workloads.deployment.UnavailableDeploymentTotalMetric | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| cb_metric_collector | 不适用 | `cb_metric_collector = CallbackMetricCollector()` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CallbackMetric | typing_extensions.Protocol | calc_metric, describe_metric | 无 | 无 | 
    支持回调求值的 Metric

    :param name: 指标名
    :par... |
| CallbackMetricCollector | 无 | __init__, add, collect, describe | 无 | 无 | 采集器: 采集支持回调求值的 Metric |

---


### 模块: apiserver/paasng/paasng/misc/metrics/metrics.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Counter | prometheus_client.Counter | 不适用 | module |
| Histogram | prometheus_client.Histogram | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| API_VISITED_COUNTER | 不适用 | `API_VISITED_COUNTER = Counter('api_visited_counter', '', ('method', 'endpoint', 'status'))` | module |
| API_VISITED_TIME_CONSUME_HISTOGRAM | 不适用 | `API_VISITED_TIME_CONSUME_HISTOGRAM = Histogram('api_visited_time_consumed', '', ('method', 'endpoint', 'status'), buckets=[50, 100, 200, 500, 1000, 2000, 5000])` | module |
| NEW_APP_COUNTER | 不适用 | `NEW_APP_COUNTER = Counter('new_application', '', ('region', 'language', 'source_init_template'))` | module |
| DEPLOYMENT_TIME_CONSUME_HISTOGRAM | 不适用 | `DEPLOYMENT_TIME_CONSUME_HISTOGRAM = Histogram('time_consumed_by_deployment', '', ('kind', 'status', 'language'), buckets=[1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048, 4096])` | module |
| DEPLOYMENT_STATUS_COUNTER | 不适用 | `DEPLOYMENT_STATUS_COUNTER = Counter('status_counter_of_deployment', '', ('kind', 'status'))` | module |
| DEPLOYMENT_INFO_COUNTER | 不适用 | `DEPLOYMENT_INFO_COUNTER = Counter('deploy_operation', '', ('source_type', 'environment', 'status'))` | module |
| SERVICE_BIND_COUNTER | 不适用 | `SERVICE_BIND_COUNTER = Counter('service_bind', '', ('service', 'region'))` | module |
| SERVICE_PROVISION_COUNTER | 不适用 | `SERVICE_PROVISION_COUNTER = Counter('service_provision', '', ('environment', 'service', 'plan'))` | module |
| PROCESS_OPERATE_COUNTER | 不适用 | `PROCESS_OPERATE_COUNTER = Counter('process_operate', '', ('environment', 'operate_type'))` | module |



---


### 模块: apiserver/paasng/paasng/misc/metrics/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | paasng.utils.basic.re_path | 不适用 | module |
| ExportToDjangoView | apiserver.paasng.paasng.misc.metrics.views.ExportToDjangoView | as_view | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^metrics$', ExportToDjangoView.as_view(), name='prometheus-django-metrics')]` | module |



---


### 模块: apiserver/paasng/paasng/misc/metrics/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| os | environ | module |
| prometheus_client | register, REGISTRY, CollectorRegistry, generate_latest, CONTENT_TYPE_LATEST | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| multiprocess | prometheus_client.multiprocess | MultiProcessCollector | module |
| StaticHTMLRenderer | rest_framework.renderers.StaticHTMLRenderer | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| APIView | rest_framework.views.APIView | 不适用 | module |
| BasicAuthentication | apiserver.paasng.paasng.misc.metrics.authentication.BasicAuthentication | 不适用 | module |
| cb_metric_collector | apiserver.paasng.paasng.misc.metrics.collector.cb_metric_collector | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ExportToDjangoView | rest_framework.views.APIView | get | renderer_classes, authentication_classes, permission_classes | 无 | 参考 django_prometheus.exports.ExportToDjangoView, 增... |

---


### 模块: apiserver/paasng/paasng/misc/metrics/workloads/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/metrics/workloads/deployment.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| cache | django.core.cache.cache | get, set | module |
| now | django.utils.timezone.now | 不适用 | module |
| GaugeMetricFamily | prometheus_client.core.GaugeMetricFamily | 不适用 | module |
| list_unavailable_deployment | paas_wl.bk_app.processes.utils.list_unavailable_deployment | 不适用 | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | all, objects | module |
| get_client_by_cluster_name | paas_wl.infras.resources.base.base.get_client_by_cluster_name | 不适用 | module |
| CoreDynamicClient | paas_wl.infras.resources.base.kube_client.CoreDynamicClient | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| UnavailableDeploymentTotalMetric | 无 | calc_metric, describe_metric | name, description | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/monitoring/healthz/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/monitoring/healthz/probes.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| Issue | blue_krill.monitoring.probe.base.Issue | 不适用 | module |
| VirtualProbe | blue_krill.monitoring.probe.base.VirtualProbe | 不适用 | module |
| BKHttpProbe | blue_krill.monitoring.probe.http.BKHttpProbe | 不适用 | module |
| HttpProbe | blue_krill.monitoring.probe.http.HttpProbe | 不适用 | module |
| MySQLConfig | blue_krill.monitoring.probe.mysql.MySQLConfig | 不适用 | module |
| MySQLProbe | blue_krill.monitoring.probe.mysql.MySQLProbe | 不适用 | module |
| transfer_django_db_settings | blue_krill.monitoring.probe.mysql.transfer_django_db_settings | 不适用 | module |
| RedisProbe | blue_krill.monitoring.probe.redis.RedisProbe | 不适用 | module |
| RedisSentinelProbe | blue_krill.monitoring.probe.redis.RedisSentinelProbe | 不适用 | module |
| settings | django.conf.settings | HEALTHZ_TOKEN, HEALTHZ_PROBES, BK_CONSOLE_DBCONF, get, DATABASES, COMPONENT_SYSTEM_HEALTHZ_URL, APIGW_HEALTHZ_URL, BKDOC_URL, BLOBSTORE_S3_ENDPOINT, BLOBSTORE_BKREPO_CONFIG, BK_IAM_V3_INNER_URL, SERVICE_REMOTE_ENDPOINTS, REDIS_URL, SENTINEL_MASTER_NAME, SENTINEL_PASSWORD | module |
| import_string | django.utils.module_loading.import_string | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| is_redis_sentinel_backend | paasng.settings.utils.is_redis_sentinel_backend | 不适用 | module |
| StoreType | paasng.utils.blobstore.StoreType | S3 | module |
| detect_default_blob_store | paasng.utils.blobstore.detect_default_blob_store | 不适用 | module |
| FetchRemoteSvcError | paasng.accessories.servicehub.remote.collector.FetchRemoteSvcError | 不适用 | module |
| RemoteSvcConfig | paasng.accessories.servicehub.remote.collector.RemoteSvcConfig | from_json | module |
| RemoteSvcFetcher | paasng.accessories.servicehub.remote.collector.RemoteSvcFetcher | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| PlatformRedisProbe | 不适用 | `PlatformRedisProbe = _get_redis_probe_cls()` | module |
| PlatformBlobStoreProbe | 不适用 | `PlatformBlobStoreProbe = _get_blob_store_probe_cls()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_default_healthz_token | `def get_default_healthz_token():` | 无 | 不适用 |
| get_default_probes | `def get_default_probes():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKConsoleProbe | blue_krill.monitoring.probe.mysql.MySQLProbe | __init__ | name, is_core | 无 | 不适用 |
| PlatformMysqlProbe | blue_krill.monitoring.probe.mysql.MySQLProbe | 无 | name, config | 无 | 不适用 |
| WorkloadsMysqlProbe | blue_krill.monitoring.probe.mysql.MySQLProbe | 无 | name, config | 无 | 不适用 |
| ESBProbe | blue_krill.monitoring.probe.http.BKHttpProbe | 无 | name, url, params | 无 | 不适用 |
| APIGWProbe | blue_krill.monitoring.probe.http.BKHttpProbe | 无 | name, url, params, is_core | 无 | 不适用 |
| BKDocsProbe | blue_krill.monitoring.probe.http.HttpProbe | 无 | name, url, is_core | 无 | 不适用 |
| BKIAMProbe | blue_krill.monitoring.probe.http.HttpProbe | 无 | name, iam_host, url, is_core | 无 | 不适用 |
| ServiceHubProbe | blue_krill.monitoring.probe.base.VirtualProbe | diagnose | name, is_core | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/healthz/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('healthz/$', views.HealthViewSet.as_view({'get': 'healthz'}), name='api.healthz'), re_path('readyz/$', views.HealthViewSet.as_view({'get': 'readyz'}), name='api.readyz')]` | module |



---


### 模块: apiserver/paasng/paasng/misc/monitoring/healthz/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ProbeSet | blue_krill.monitoring.probe.base.ProbeSet | 不适用 | module |
| settings | django.conf.settings | HEALTHZ_TOKEN | module |
| serializers | rest_framework.serializers | Serializer, BooleanField, CharField | module |
| status | rest_framework.status | HTTP_400_BAD_REQUEST, HTTP_500_INTERNAL_SERVER_ERROR | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| AllowAny | rest_framework.permissions.AllowAny | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| get_default_probes | paasng.misc.monitoring.healthz.probes.get_default_probes | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| IssueSerializer | rest_framework.serializers.Serializer | 无 | fatal, description | 无 | 不适用 |
| DianosisSerializer | rest_framework.serializers.Serializer | 无 | system_name, alive, issues | 无 | 不适用 |
| HealthViewSet | rest_framework.viewsets.ViewSet | healthz, readyz | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/metrics/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/monitoring/metrics/apps.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MetricConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/metrics/clients/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| MetricClient | apiserver.paasng.paasng.misc.monitoring.metrics.clients.base.MetricClient | 不适用 | module |
| MetricQuery | apiserver.paasng.paasng.misc.monitoring.metrics.clients.base.MetricQuery | 不适用 | module |
| MetricSeriesResult | apiserver.paasng.paasng.misc.monitoring.metrics.clients.base.MetricSeriesResult | 不适用 | module |
| BkMonitorMetricClient | apiserver.paasng.paasng.misc.monitoring.metrics.clients.bkmonitor.BkMonitorMetricClient | 不适用 | module |
| BkPromResult | apiserver.paasng.paasng.misc.monitoring.metrics.clients.bkmonitor.BkPromResult | 不适用 | module |
| PrometheusMetricClient | apiserver.paasng.paasng.misc.monitoring.metrics.clients.prometheus.PrometheusMetricClient | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/misc/monitoring/metrics/clients/base.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Protocol | typing.Protocol | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| MetricsResourceType | paasng.misc.monitoring.metrics.constants.MetricsResourceType | 不适用 | module |
| MetricsSeriesType | paasng.misc.monitoring.metrics.constants.MetricsSeriesType | 不适用 | module |
| MetricSmartTimeRange | paasng.misc.monitoring.metrics.utils.MetricSmartTimeRange | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MetricClient | typing.Protocol | general_query, get_query_promql | 无 | 无 | 不适用 |
| MetricQuery | 无 | is_ranged | 无 | dataclass | Metric Query
    封装 query 提供更快捷的查询
     |
| MetricSeriesResult | 无 | __len__ | 无 | dataclass | metrics series result |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/metrics/clients/bkmonitor.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Factory | attrs.Factory | 不适用 | module |
| define | attrs.define | 不适用 | module |
| make_bk_monitor_client | paasng.infras.bkmonitorv3.client.make_bk_monitor_client | 不适用 | module |
| BkMonitorGatewayServiceError | paasng.infras.bkmonitorv3.exceptions.BkMonitorGatewayServiceError | 不适用 | module |
| MetricQuery | paasng.misc.monitoring.metrics.clients.base.MetricQuery | 不适用 | module |
| MetricSeriesResult | paasng.misc.monitoring.metrics.clients.base.MetricSeriesResult | 不适用 | module |
| BKMONITOR_PROMQL_TMPL | paasng.misc.monitoring.metrics.constants.BKMONITOR_PROMQL_TMPL | 不适用 | module |
| MetricsResourceType | paasng.misc.monitoring.metrics.constants.MetricsResourceType | 不适用 | module |
| MetricsSeriesType | paasng.misc.monitoring.metrics.constants.MetricsSeriesType | 不适用 | module |
| RequestMetricBackendError | paasng.misc.monitoring.metrics.exceptions.RequestMetricBackendError | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkMonitorMetricClient | 无 | __init__, general_query, get_query_promql, _query_range, _request | query_tmpl_config | 无 | 不适用 |
| BkPromRangeSingleMetric | 无 | container_name, from_raw, to_raw | 无 | define | 蓝鲸监控 PromQL 查询指标数据 |
| BkPromResult | 无 | from_series, get_raw_by_container_name | 无 | define | 蓝鲸监控 PromQL 查询时序数据结果解析器 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/metrics/clients/prometheus.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| requests | request | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| HTTPBasicAuth | requests.auth.HTTPBasicAuth | 不适用 | module |
| codes | requests.status_codes.codes | ok | module |
| MetricQuery | paasng.misc.monitoring.metrics.clients.base.MetricQuery | 不适用 | module |
| MetricSeriesResult | paasng.misc.monitoring.metrics.clients.base.MetricSeriesResult | 不适用 | module |
| RAW_PROMQL_TMPL | paasng.misc.monitoring.metrics.constants.RAW_PROMQL_TMPL | 不适用 | module |
| MetricsResourceType | paasng.misc.monitoring.metrics.constants.MetricsResourceType | 不适用 | module |
| MetricsSeriesType | paasng.misc.monitoring.metrics.constants.MetricsSeriesType | 不适用 | module |
| RequestMetricBackendError | paasng.misc.monitoring.metrics.exceptions.RequestMetricBackendError | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PrometheusMetricClient | 无 | __init__, general_query, get_query_promql, _query_range, _request | query_tmpl_config | 无 | 不适用 |
| PromRangeSingleMetric | 无 | container_name, from_raw, to_raw | 无 | dataclass | 不适用 |
| PromResult | 无 | from_resp, get_raw_by_container_name | 无 | dataclass | 原生 Prometheus 结果解析器 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/metrics/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| RAW_PROMQL_TMPL | {'mem': {'current': 'sum by(container_name)(container_memory_working_set_bytes{{pod_name="{instance_name}", container_name!="POD", cluster_id="{cluster_id}"}})', 'request': 'kube_pod_container_resource_requests_memory_bytes{{pod="{instance_name}", cluster_id="{cluster_id}"}}', 'limit': 'kube_pod_container_resource_limits_memory_bytes{{pod="{instance_name}", cluster_id="{cluster_id}"}}'}, 'cpu': {'current': 'sum by (container_name)(rate(container_cpu_usage_seconds_total{{image!="",container_name!="POD",pod_name="{instance_name}", cluster_id="{cluster_id}"}}[1m]))', 'request': 'kube_pod_container_resource_requests_cpu_cores{{pod="{instance_name}", cluster_id="{cluster_id}"}}', 'limit': 'kube_pod_container_resource_limits_cpu_cores{{pod="{instance_name}", cluster_id="{cluster_id}"}}'}} | `RAW_PROMQL_TMPL = {'mem': {'current': 'sum by(container_name)(container_memory_working_set_bytes{{pod_name="{instance_name}", container_name!="POD", cluster_id="{cluster_id}"}})', 'request': 'kube_pod_container_resource_requests_memory_bytes' + '{{pod="{instance_name}", cluster_id="{cluster_id}"}}', 'limit': 'kube_pod_container_resource_limits_memory_bytes{{pod="{instance_name}", cluster_id="{cluster_id}"}}'}, 'cpu': {'current': 'sum by (container_name)(rate(container_cpu_usage_seconds_total{{image!="",container_name!="POD",pod_name="{instance_name}", cluster_id="{cluster_id}"}}[1m]))', 'request': 'kube_pod_container_resource_requests_cpu_cores{{pod="{instance_name}", cluster_id="{cluster_id}"}}', 'limit': 'kube_pod_container_resource_limits_cpu_cores{{pod="{instance_name}", cluster_id="{cluster_id}"}}'}}` | module |
| BKMONITOR_PROMQL_TMPL | {'mem': {'current': 'sum by(container_name)(container_memory_working_set_bytes{{pod_name="{instance_name}",container_name!="POD",bcs_cluster_id="{cluster_id}",bk_biz_id="{bk_biz_id}"}})', 'request': 'kube_pod_container_resource_requests_memory_bytes{{pod="{instance_name}",bcs_cluster_id="{cluster_id}",bk_biz_id="{bk_biz_id}"}}', 'limit': 'kube_pod_container_resource_limits_memory_bytes{{pod="{instance_name}",bcs_cluster_id="{cluster_id}",bk_biz_id="{bk_biz_id}"}}'}, 'cpu': {'current': 'sum by(container_name)(rate(container_cpu_usage_seconds_total{{image!="",pod_name="{instance_name}",container_name!="POD",bcs_cluster_id="{cluster_id}",bk_biz_id="{bk_biz_id}"}}[2m]))', 'request': 'kube_pod_container_resource_requests_cpu_cores{{pod="{instance_name}",bcs_cluster_id="{cluster_id}",bk_biz_id="{bk_biz_id}"}}', 'limit': 'kube_pod_container_resource_limits_cpu_cores{{pod="{instance_name}",bcs_cluster_id="{cluster_id}",bk_biz_id="{bk_biz_id}"}}'}} | `BKMONITOR_PROMQL_TMPL = {'mem': {'current': 'sum by(container_name)(container_memory_working_set_bytes{{pod_name="{instance_name}",container_name!="POD",bcs_cluster_id="{cluster_id}",bk_biz_id="{bk_biz_id}"}})', 'request': 'kube_pod_container_resource_requests_memory_bytes{{pod="{instance_name}",bcs_cluster_id="{cluster_id}",bk_biz_id="{bk_biz_id}"}}', 'limit': 'kube_pod_container_resource_limits_memory_bytes{{pod="{instance_name}",bcs_cluster_id="{cluster_id}",bk_biz_id="{bk_biz_id}"}}'}, 'cpu': {'current': 'sum by(container_name)(rate(container_cpu_usage_seconds_total{{image!="",pod_name="{instance_name}",container_name!="POD",bcs_cluster_id="{cluster_id}",bk_biz_id="{bk_biz_id}"}}[2m]))', 'request': 'kube_pod_container_resource_requests_cpu_cores{{pod="{instance_name}",bcs_cluster_id="{cluster_id}",bk_biz_id="{bk_biz_id}"}}', 'limit': 'kube_pod_container_resource_limits_cpu_cores{{pod="{instance_name}",bcs_cluster_id="{cluster_id}",bk_biz_id="{bk_biz_id}"}}'}}` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MetricsSeriesType | blue_krill.data_types.enum.StrStructuredEnum | 无 | CURRENT, REQUEST, LIMIT | 无 | 不适用 |
| MetricsResourceType | blue_krill.data_types.enum.StrStructuredEnum | choices | MEM, CPU | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/metrics/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RequestMetricBackendError | Exception | __init__, get_error_code, get_error_message, __str__ | 无 | 无 | got exception during requesting to prometheus |
| AppMetricNotSupportedError | Exception | 无 | 无 | 无 | 配置缺失或版本不支持，无法提供应用指标信息 |
| AppInstancesNotFoundError | Exception | 无 | 无 | 无 | 因获取 APP 实例信息失败，无法查询指标信息 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/metrics/management/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/monitoring/metrics/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/monitoring/metrics/management/commands/deploy_stats_diagnoser.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| List | typing.List | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.resource.ResourceInstance | 不适用 | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | all, objects | module |
| get_client_by_cluster_name | paas_wl.infras.resources.base.base.get_client_by_cluster_name | 不适用 | module |
| KNode | paas_wl.infras.resources.base.kres.KNode | 不适用 | module |
| KPod | paas_wl.infras.resources.base.kres.KPod | 不适用 | module |
| RegionClusterState | paas_wl.workloads.networking.egress.models.RegionClusterState | all, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger('commands')` | module |
| BatchProcessStats | 不适用 | `BatchProcessStats = Dict['AppProcess', 'ProcessStat']` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| build_process_stats | `def build_process_stats(clusters: Iterable[Cluster]) -> BatchProcessStats:` | 无 | Build total statistics data of given clusters |
| report_same_host | `def report_same_host(process_stats: BatchProcessStats):` | 无 | Find and report all "prod" processes whose instanc... |
| report_mul_clusters | `def report_mul_clusters(process_stats: BatchProcessStats):` | 无 | Find and report all processes which were deployed ... |
| report_node_state_mismatch | `def report_node_state_mismatch(records: Iterable[NodeMismatchRecord]):` | 无 | Report nodes with wrong state labels |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | Analyze all applications's deployment, highlight p... |
| NodeMismatchRecord | 无 | 无 | 无 | dataclass | 不适用 |
| NodeStateMismatch | 无 | __init__, get_results, _get_desired_labels, _get_current_labels | 无 | 无 | Find nodes with wrong state related labels |
| AppProcess | 无 | from_pod | 无 | dataclass | App's process object |
| ProcessClusterStat | 无 | has_single_host | 无 | dataclass | Process stats in one cluster |
| ProcessStat | 无 | get_stat | 无 | dataclass | Process stats |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/metrics/migrations/0001_initial.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | CharField, IntegerField, FloatField, BigIntegerField, JSONField, DateTimeField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/metrics/migrations/0002_delete_appresourceusagereport.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, DeleteModel | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/metrics/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/monitoring/metrics/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | ENABLE_BK_MONITOR, MONITOR_CONFIG | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| instance_kmodel | paas_wl.bk_app.processes.readers.instance_kmodel | list_by_process_type | module |
| process_kmodel | paas_wl.bk_app.processes.readers.process_kmodel | get_by_type | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | ENABLE_BK_MONITOR | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| BkMonitorMetricClient | paasng.misc.monitoring.metrics.clients.BkMonitorMetricClient | 不适用 | module |
| MetricClient | paasng.misc.monitoring.metrics.clients.MetricClient | 不适用 | module |
| MetricQuery | paasng.misc.monitoring.metrics.clients.MetricQuery | 不适用 | module |
| MetricSeriesResult | paasng.misc.monitoring.metrics.clients.MetricSeriesResult | 不适用 | module |
| PrometheusMetricClient | paasng.misc.monitoring.metrics.clients.PrometheusMetricClient | 不适用 | module |
| MetricsResourceType | paasng.misc.monitoring.metrics.constants.MetricsResourceType | 不适用 | module |
| MetricsSeriesType | paasng.misc.monitoring.metrics.constants.MetricsSeriesType | value, CURRENT, LIMIT | module |
| AppInstancesNotFoundError | paasng.misc.monitoring.metrics.exceptions.AppInstancesNotFoundError | 不适用 | module |
| AppMetricNotSupportedError | paasng.misc.monitoring.metrics.exceptions.AppMetricNotSupportedError | 不适用 | module |
| MetricSmartTimeRange | paasng.misc.monitoring.metrics.utils.MetricSmartTimeRange | 不适用 | module |
| Process | paas_wl.bk_app.processes.kres_entities.Process | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_resource_metric_manager | `def get_resource_metric_manager(app: WlApp, process_type: str):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MetricsResourceResult | 无 | 无 | 无 | dataclass | 不适用 |
| MetricsInstanceResult | 无 | __len__ | 无 | dataclass | 不适用 |
| ResourceMetricManager | 无 | __init__, gen_all_series_query, gen_series_query, get_instance_metrics, get_all_instances_metrics | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/metrics/shim.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| RequestMetricBackendError | paasng.misc.monitoring.metrics.exceptions.RequestMetricBackendError | 不适用 | module |
| get_resource_metric_manager | paasng.misc.monitoring.metrics.models.get_resource_metric_manager | 不适用 | module |
| MetricSmartTimeRange | paasng.misc.monitoring.metrics.utils.MetricSmartTimeRange | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| list_app_proc_metrics | `def list_app_proc_metrics(wl_app: WlApp, process_type: str, instance_name: str, query_metrics: List[str], time_range: MetricSmartTimeRange):` | 无 | 不适用 |
| list_app_proc_all_metrics | `def list_app_proc_all_metrics(wl_app: WlApp, process_type: str, query_metrics: List[str], time_range: MetricSmartTimeRange):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/misc/monitoring/metrics/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | timedelta, strptime, datetime | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| timezone | django.utils.timezone | localtime, make_aware | module |
| get_time_delta | paas_wl.utils.basic.get_time_delta | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MetricSmartTimeRange | 无 | __hash__, from_request_data, _bake_timestamp, range_to_delta, __post_init__, to_dict | time_format | dataclass | 
    A smart model for handling time range

    - ... |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/alert_rules/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/alert_rules/ascode/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/alert_rules/ascode/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| os | dirname, path | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | RABBITMQ_MONITOR_CONF, BKREPO_MONITOR_CONF, GCS_MYSQL_MONITOR_CONF | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| DocumentaryLinkAdvisor | paasng.accessories.smart_advisor.advisor.DocumentaryLinkAdvisor | 不适用 | module |
| get_dynamic_tag | paasng.accessories.smart_advisor.tags.get_dynamic_tag | 不适用 | module |
| make_bk_monitor_client | paasng.infras.bkmonitorv3.client.make_bk_monitor_client | 不适用 | module |
| get_or_create_bk_monitor_space | paasng.infras.bkmonitorv3.shim.get_or_create_bk_monitor_space | 不适用 | module |
| RuleConfig | paasng.misc.monitoring.monitor.alert_rules.config.RuleConfig | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| safe_jinja2 | paasng.utils.safe_jinja2 | FileEnvironment | module |
| AsCodeAPIError | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.ascode.exceptions.AsCodeAPIError | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AsCodeClient | 无 | __init__, apply_notice_group, apply_rule_configs, _validate, _update_metric_name_prefixes, _get_docs_url, _render_rule_configs, _apply_rule_configs | 无 | 无 | AsCodeClient 用于向 bkmonitor 下发告警规则

    :param app_... |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/alert_rules/ascode/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AsCodeAPIError | Exception | 无 | 无 | 无 | ascode 请求错误 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/alert_rules/config/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| RuleConfig | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.app_rule.RuleConfig | 不适用 | module |
| get_supported_alert_codes | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.app_rule.get_supported_alert_codes | 不适用 | module |
| AppRuleConfigGenerator | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.generator.AppRuleConfigGenerator | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/alert_rules/config/app_rule.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| cattrs | unstructure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| NamedTuple | typing.NamedTuple | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| define | attrs.define | 不适用 | module |
| field | attrs.field | 不适用 | module |
| validators | attrs.validators | in_ | module |
| settings | django.conf.settings | get, RABBITMQ_MONITOR_CONF, BKREPO_MONITOR_CONF, GCS_MYSQL_MONITOR_CONF | module |
| Protocol | typing_extensions.Protocol | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | value, CLOUD_NATIVE | module |
| BKMonitorNotSupportedError | paasng.misc.monitoring.monitor.exceptions.BKMonitorNotSupportedError | 不适用 | module |
| AppAlertRule | paasng.misc.monitoring.monitor.models.AppAlertRule | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| DEFAULT_RULE_CONFIGS | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.constants.DEFAULT_RULE_CONFIGS | 不适用 | module |
| RUN_ENVS | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.constants.RUN_ENVS | 不适用 | module |
| AlertCode | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.entities.AlertCode | value, HIGH_CPU_USAGE, HIGH_MEM_USAGE, OOM_KILLED, POD_RESTART, HIGH_RABBITMQ_QUEUE_MESSAGES, HIGH_BKREPO_QUOTA_USAGE, GCS_MYSQL_SLOW_QUERY | module |
| get_metric_labels | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.metric_label.get_metric_labels | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_supported_alert_codes | `def get_supported_alert_codes(app_type: str) -> SupportedAlertCodes:` | 无 | 根据 app 类型返回支持的告警码 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SupportedAlertCodes | typing.NamedTuple | 无 | 无 | 无 | 
    应用支持的告警码
     |
| RuleConfig | typing_extensions.Protocol | from_alert_rule_obj, to_alert_rule_obj, to_dict, is_valid | 无 | 无 | 不适用 |
| AppScopedRuleConfig | 无 | __attrs_post_init__, from_alert_rule_obj, to_alert_rule_obj, to_dict, is_valid | 无 | define | app 维度告警策略配置

    :param alert_code: 告警策略标识
    :p... |
| ModuleScopedRuleConfig | AppScopedRuleConfig | __attrs_post_init__, from_alert_rule_obj, to_alert_rule_obj | 无 | define | app 模块维度的告警策略配置, 如 default 模块的 cpu 使用率过高的告警

    :... |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/alert_rules/config/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | get, RABBITMQ_MONITOR_CONF, BKREPO_MONITOR_CONF, GCS_MYSQL_MONITOR_CONF | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| AppEnvironment | paasng.platform.applications.constants.AppEnvironment | get_values | module |
| AlertCode | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.entities.AlertCode | value, HIGH_CPU_USAGE, HIGH_MEM_USAGE, POD_RESTART, OOM_KILLED, HIGH_RABBITMQ_QUEUE_MESSAGES, HIGH_BKREPO_QUOTA_USAGE, GCS_MYSQL_SLOW_QUERY | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| RUN_ENVS | 不适用 | `RUN_ENVS = AppEnvironment.get_values()` | module |
| RABBITMQ_SERVICE_NAME | 不适用 | `RABBITMQ_SERVICE_NAME = settings.RABBITMQ_MONITOR_CONF.get('service_name', 'rabbitmq')` | module |
| BKREPO_SERVICE_NAME | 不适用 | `BKREPO_SERVICE_NAME = settings.BKREPO_MONITOR_CONF.get('service_name', 'bkrepo')` | module |
| GCS_MYSQL_SERVICE_NAME | 不适用 | `GCS_MYSQL_SERVICE_NAME = settings.GCS_MYSQL_MONITOR_CONF.get('service_name', 'gcs_mysql')` | module |
| DEFAULT_RULE_CONFIGS | 不适用 | `DEFAULT_RULE_CONFIGS = {AlertCode.HIGH_CPU_USAGE.value: {'display_name': _('CPU 使用率过高'), 'metric_label_names': ['namespace', 'bcs_cluster_id'], 'threshold_expr': '>= 0.8'}, AlertCode.HIGH_MEM_USAGE.value: {'display_name': _('内存使用率过高'), 'metric_label_names': ['namespace', 'bcs_cluster_id'], 'threshold_expr': '>= 0.95'}, AlertCode.POD_RESTART.value: {'display_name': _('异常重启'), 'metric_label_names': ['namespace', 'bcs_cluster_id'], 'threshold_expr': '>= 1'}, AlertCode.OOM_KILLED.value: {'display_name': _('OOMKilled 退出'), 'metric_label_names': ['namespace', 'bcs_cluster_id'], 'threshold_expr': '>= 1'}, AlertCode.HIGH_RABBITMQ_QUEUE_MESSAGES.value: {'display_name': _('队列消息数过多'), 'metric_label_names': ['vhost'], 'threshold_expr': '>= 2000'}, AlertCode.HIGH_BKREPO_QUOTA_USAGE.value: {'display_name': _('BKREPO 存储使用量过高'), 'metric_label_names': ['bkrepo_private_bucket', 'bkrepo_public_bucket'], 'threshold_expr': '>= 90'}, AlertCode.GCS_MYSQL_SLOW_QUERY.value: {'display_name': _('GCS-MySQL 慢查询新增'), 'metric_label_names': ['gcs_mysql_user'], 'threshold_expr': '> 0'}}` | module |



---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/alert_rules/config/entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AlertCode | blue_krill.data_types.enum.StrStructuredEnum | 无 | HIGH_CPU_USAGE, HIGH_MEM_USAGE, POD_RESTART, OOM_KILLED, HIGH_RABBITMQ_QUEUE_MESSAGES, GCS_MYSQL_SLOW_QUERY, HIGH_BKREPO_QUOTA_USAGE | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/alert_rules/config/generator.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| AppScopedRuleConfig | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.app_rule.AppScopedRuleConfig | 不适用 | module |
| ModuleScopedRuleConfig | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.app_rule.ModuleScopedRuleConfig | 不适用 | module |
| RuleConfig | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.app_rule.RuleConfig | 不适用 | module |
| get_supported_alert_codes | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.app_rule.get_supported_alert_codes | 不适用 | module |
| DEFAULT_RULE_CONFIGS | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.constants.DEFAULT_RULE_CONFIGS | 不适用 | module |
| RUN_ENVS | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.constants.RUN_ENVS | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppRuleConfigGenerator | 无 | __init__, gen_app_scoped_rule_configs, gen_module_scoped_rule_configs | 无 | 无 | 告警规则配置生成器 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/alert_rules/config/metric_label.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| functools | lru_cache | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Callable | typing.Callable | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| VersionApi | kubernetes.client.apis.VersionApi | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| get_client_by_cluster_name | paas_wl.infras.resources.base.base.get_client_by_cluster_name | 不适用 | module |
| ServiceObjNotFound | paasng.accessories.servicehub.exceptions.ServiceObjNotFound | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | find_by_name, get_env_vars | module |
| BKMonitorNotSupportedError | paasng.misc.monitoring.monitor.exceptions.BKMonitorNotSupportedError | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| ApplicationEnvironment | paasng.platform.applications.models.ApplicationEnvironment | get, objects | module |
| BKREPO_SERVICE_NAME | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.constants.BKREPO_SERVICE_NAME | 不适用 | module |
| GCS_MYSQL_SERVICE_NAME | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.constants.GCS_MYSQL_SERVICE_NAME | 不适用 | module |
| RABBITMQ_SERVICE_NAME | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.constants.RABBITMQ_SERVICE_NAME | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_vhost | `def get_vhost(app_code: str, run_env: str, module_name: Optional[str] = None) -> str:` | 无 | 获取 RabbitMQ 增强服务实例对应的 vhost |
| get_bkrepo_private_bucket | `def get_bkrepo_private_bucket(app_code: str, run_env: str, module_name: Optional[str] = None) -> str:` | 无 | 获取 bkrepo 增强服务实例对应的 private bucket |
| get_bkrepo_public_bucket | `def get_bkrepo_public_bucket(app_code: str, run_env: str, module_name: Optional[str] = None) -> str:` | 无 | 获取 bkrepo 增强服务实例对应的 public bucket |
| get_gcs_mysql_user | `def get_gcs_mysql_user(app_code: str, run_env: str, module_name: Optional[str] = None) -> str:` | 无 | 获取 gcs mysql 增强服务实例对应的 user |
| get_namespace | `def get_namespace(app_code: str, run_env: str, module_name: Optional[str] = None) -> str:` | 无 | 不适用 |
| get_cluster_id | `def get_cluster_id(app_code: str, run_env: str, module_name: Optional[str] = None) -> str:` | 无 | 
    获取集群 ID

    :param app_code: 应用 code
    :pa... |
| get_metric_labels | `def get_metric_labels(metric_names: List[str], app_code: str, run_env: str, module_name: Optional[str] = None) -> Dict[str, str]:` | 无 | Get metric labels based on the provided metric nam... |


---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/alert_rules/handlers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| receiver | django.dispatch.receiver | 不适用 | module |
| create_rules | paasng.misc.monitoring.monitor.alert_rules.tasks.create_rules | 不适用 | module |
| update_notice_group | paasng.misc.monitoring.monitor.alert_rules.tasks.update_notice_group | 不适用 | module |
| ApplicationEnvironment | paasng.platform.applications.models.ApplicationEnvironment | 不适用 | module |
| application_member_updated | paasng.platform.applications.signals.application_member_updated | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| post_appenv_deploy | paasng.platform.engine.signals.post_appenv_deploy | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_rules_after_deploy | `@receiver(post_appenv_deploy):` | receiver | 不适用 |
| update_notice_group | `@receiver(application_member_updated):` | receiver | 不适用 |


---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/alert_rules/manager.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Protocol | typing.Protocol | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| settings | django.conf.settings | ENABLE_BK_MONITOR | module |
| AppAlertRule | paasng.misc.monitoring.monitor.models.AppAlertRule | filter_app_scoped, objects, filter_module_scoped, update_or_create | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| AsCodeClient | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.ascode.client.AsCodeClient | 不适用 | module |
| AppRuleConfigGenerator | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.AppRuleConfigGenerator | 不适用 | module |
| RuleConfig | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.RuleConfig | 不适用 | module |
| get_supported_alert_codes | apiserver.paasng.paasng.misc.monitoring.monitor.alert_rules.config.get_supported_alert_codes | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| alert_rule_manager_cls | 不适用 | `alert_rule_manager_cls = get_alert_rule_manager_cls()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_alert_rule_manager_cls | `def get_alert_rule_manager_cls() -> Type[ManagerProtocol]:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ManagerProtocol | typing.Protocol | __init__, init_rules, create_rules, update_notice_group | 无 | 无 | 不适用 |
| AlertRuleManager | 无 | __init__, init_rules, create_rules, update_notice_group, _get_app_scoped_rules, _get_module_scoped_rules, _apply_rule_configs, _save_rule_configs | 无 | 无 | 告警规则管理器 |
| NullManager | 无 | __init__, init_rules, create_rules, update_notice_group | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/alert_rules/tasks.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| shared_task | celery.shared_task | 不适用 | module |
| alert_rule_manager_cls | paasng.misc.monitoring.monitor.alert_rules.manager.alert_rule_manager_cls | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_rules | `@shared_task:` | shared_task | 不适用 |
| update_notice_group | `@shared_task:` | shared_task | 不适用 |


---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |
| handlers | apiserver.paasng.paasng.misc.monitoring.monitor.dashboards.handlers | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MonitorConfig | django.apps.AppConfig | ready | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/constants.py




#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| TITLE | 【蓝鲸PaaS】应用 {{ app_code }} 内 {{ proc_name }} 进程运行异常通知 | `TITLE = '【蓝鲸PaaS】应用 {{ app_code }} 内 {{ proc_name }} 进程运行异常通知'` | module |
| BASE_MESSAGE_TEMPLATE | 
{% if mail -%}<pre>{% endif %}
应用名称:   {{app_name}}
应用ID:   {{app_code}}
应用环境:   {{app_env}}
异常进程:   {{proc_name}}

 | `BASE_MESSAGE_TEMPLATE = '\n{% if mail -%}<pre>{% endif %}\n应用名称:   {{app_name}}\n应用ID:   {{app_code}}\n应用环境:   {{app_env}}\n异常进程:   {{proc_name}}\n\n'` | module |
| ABNORMAL_APP_MESSAGE_TEMPLATE | 
{% if mail -%}<pre>{% endif %}
应用名称:   {{app_name}}
应用ID:   {{app_code}}
应用环境:   {{app_env}}
异常进程:   {{proc_name}}


应用运行异常，请及时查看<a href="{{bkpaas_url}}/developer-center/apps/{{app_code}}/process">异常日志</a>并进行修复异常！
{% if mail -%}</pre>{% endif %}
 | `ABNORMAL_APP_MESSAGE_TEMPLATE = BASE_MESSAGE_TEMPLATE + '\n应用运行异常，请及时查看<a href="{{bkpaas_url}}/developer-center/apps/{{app_code}}/process">异常日志</a>并进行修复异常！\n{% if mail -%}</pre>{% endif %}\n'` | module |
| SCALE_DOWN_APP_MESSAGE_TEMPLATE | 
{% if mail -%}<pre>{% endif %}
应用名称:   {{app_name}}
应用ID:   {{app_code}}
应用环境:   {{app_env}}
异常进程:   {{proc_name}}


应用<{{app_name}}>重启次数过多，为了不影响平台稳定性，该进程实例副本已被缩减为0，请
<a href="{{bkpaas_url}}/developer-center/apps/{{app_code}}/process">查看详情</a>了解异常原因。在修复异常后，重新部署应用即可
{% if mail -%}</pre>{% endif %}
 | `SCALE_DOWN_APP_MESSAGE_TEMPLATE = BASE_MESSAGE_TEMPLATE + '\n应用<{{app_name}}>重启次数过多，为了不影响平台稳定性，该进程实例副本已被缩减为0，请\n<a href="{{bkpaas_url}}/developer-center/apps/{{app_code}}/process">查看详情</a>了解异常原因。在修复异常后，重新部署应用即可\n{% if mail -%}</pre>{% endif %}\n'` | module |
| APP_INSTANCE_AGE_THRESHOLD | 30 | `APP_INSTANCE_AGE_THRESHOLD = 30` | module |
| RESTART_COUNT_THRESHOLD | 20 | `RESTART_COUNT_THRESHOLD = 20` | module |



---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/dashboards/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/dashboards/handlers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| receiver | django.dispatch.receiver | 不适用 | module |
| bk_dashboard_manager_cls | paasng.misc.monitoring.monitor.dashboards.manager.bk_dashboard_manager_cls | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| ApplicationEnvironment | paasng.platform.applications.models.ApplicationEnvironment | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| post_appenv_deploy | paasng.platform.engine.signals.post_appenv_deploy | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| import_dashboard_after_deploy | `@receiver(post_appenv_deploy):` | receiver | 不适用 |


---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/dashboards/manager.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Protocol | typing.Protocol | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| settings | django.conf.settings | ENABLE_BK_MONITOR | module |
| make_bk_monitor_client | paasng.infras.bkmonitorv3.client.make_bk_monitor_client | 不适用 | module |
| get_or_create_bk_monitor_space | paasng.infras.bkmonitorv3.shim.get_or_create_bk_monitor_space | 不适用 | module |
| AppDashboard | paasng.misc.monitoring.monitor.models.AppDashboard | filter, objects, create | module |
| AppDashboardTemplate | paasng.misc.monitoring.monitor.models.AppDashboardTemplate | filter, objects | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| Module | paasng.platform.modules.models.Module | filter, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| bk_dashboard_manager_cls | 不适用 | `bk_dashboard_manager_cls = get_bk_dashboard_manager_cls()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_bk_dashboard_manager_cls | `def get_bk_dashboard_manager_cls() -> Type[ManagerProtocol]:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ManagerProtocol | typing.Protocol | __init__, init_builtin_dashboard | 无 | 无 | 不适用 |
| BkDashboardManager | 无 | __init__, init_builtin_dashboard | 无 | 无 | 蓝鲸监控仪表盘管理器 |
| NullManager | 无 | __init__, init_builtin_dashboard | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKMonitorGatewayServiceError | Exception | 无 | 无 | 无 | This error indicates that there's something wrong ... |
| BKMonitorNotSupportedError | Exception | 无 | 无 | 无 | This error indicates that there's something wrong ... |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/management/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/management/commands/init_alert_rules.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| time | sleep | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| exceptions | paasng.misc.monitoring.monitor.alert_rules.ascode.exceptions | AsCodeAPIError | module |
| alert_rule_manager_cls | paasng.misc.monitoring.monitor.alert_rules.manager.alert_rule_manager_cls | 不适用 | module |
| BKMonitorNotSupportedError | paasng.misc.monitoring.monitor.exceptions.BKMonitorNotSupportedError | 不适用 | module |
| Application | paasng.platform.applications.models.Application | filter, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle, _write_invalid_codes, _init_rules | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/management/commands/init_dashboards.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| time | sleep | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| bk_dashboard_manager_cls | paasng.misc.monitoring.monitor.dashboards.manager.bk_dashboard_manager_cls | 不适用 | module |
| Application | paasng.platform.applications.models.Application | filter, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle, _write_invalid_codes, _init_dashboards | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, CharField, BooleanField, JSONField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/migrations/0002_appdashboardtemplate_appdashboard.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, CharField, BooleanField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/models.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| models | django.db.models | Manager, CharField, BooleanField, JSONField, ForeignKey, CASCADE | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| AuditedModel | paasng.utils.models.AuditedModel | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppAlertRuleManager | django.db.models.Manager | filter_app_scoped, filter_module_scoped | 无 | 无 | 不适用 |
| AppAlertRule | paasng.utils.models.AuditedModel | __str__ | alert_code, display_name, enabled, threshold_expr, receivers, application, environment, module, objects | 无 | 记录 app 初始的告警规则配置 |
| AppDashboardTemplate | paasng.utils.models.AuditedModel | 无 | name, display_name, version, language, is_plugin_template | 无 | 仪表盘模板，只需要记录名称和版本号，模板的内容在蓝鲸监控侧维护 |
| AppDashboard | paasng.utils.models.AuditedModel | __str__ | application, name, display_name, template_version, language | 无 | 记录 APP 初始化的仪表盘信息 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/monitor.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Monitor | 无 | 无 | 无 | 无 | 
    AppMonitor / ProcessMonitor
     |
| ProcessMonitor | Monitor | 无 | 无 | 无 | 
    Q: 为什么 ProcessMonitor 不从最上层（Application）开始调用，... |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/phalanx.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| requests | Session | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| datetime | datetime.datetime | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Text | typing.Text | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| urljoin | urllib.parse.urljoin | 不适用 | module |
| settings | django.conf.settings | PHALANX_URL, PHALANX_AUTH_TOKEN | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseResult | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| EventGenre | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| EventGenreResult | BaseResult | 无 | 无 | 无 | 不适用 |
| EventRecord | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| EventRecordStatus | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| EventRecordDetails | EventRecord | 无 | 无 | 无 | 不适用 |
| EventRecordResult | BaseResult | 无 | 无 | 无 | 不适用 |
| EventRecordMetrics | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| EventRecordMetricsResult | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| GroupedEventRecord | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| GroupedEventRecordResult | BaseResult | 无 | 无 | 无 | 不适用 |
| Client | 无 | _get_record_filters, request, get_event_records, get_event_record_metrics, get_event_record_details, get_event_genre, get_grouped_records | 无 | dataclass | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/serializer.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, IntegerField, CharField, ListField, DateTimeField, BooleanField, UUIDField, DictField, FloatField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PaginationQuerySLZ | rest_framework.serializers.Serializer | 无 | offset, limit | 无 | 不适用 |
| PaginationSLZ | rest_framework.serializers.Serializer | 无 | count | 无 | 不适用 |
| EventGenreListQuerySLZ | PaginationQuerySLZ | 无 | ordering, uuid, name, source | 无 | 不适用 |
| EventGenreSLZ | rest_framework.serializers.Serializer | 无 | uuid, name, source | 无 | 不适用 |
| EventGenreListSLZ | PaginationSLZ | 无 | results | 无 | 不适用 |
| EventRecordTimeRangeSLZ | rest_framework.serializers.Serializer | 无 | start_after, start_before | 无 | 不适用 |
| EventRecordAppSummaryQuerySLZ | EventRecordTimeRangeSLZ | 无 | 无 | 无 | 不适用 |
| EventRecordListQuerySLZ | PaginationQuerySLZ, EventRecordTimeRangeSLZ | 无 | module, env, uuid, search, is_active, genre, ordering | 无 | 不适用 |
| EventRecordSLZ | rest_framework.serializers.Serializer | 无 | uuid, message, is_active, start, genre, app, module, env | 无 | 不适用 |
| EventRecordListSLZ | PaginationSLZ | 无 | results | 无 | 不适用 |
| EventRecordStatusSLZ | rest_framework.serializers.Serializer | 无 | uuid, executor, status, created, details | 无 | 不适用 |
| EventRecordDetailsSLZ | EventRecordSLZ | 无 | status | 无 | 不适用 |
| EventRecordMetricsQuerySLZ | rest_framework.serializers.Serializer | 无 | start, end, step | 无 | 不适用 |
| EventRecordMetricsSLZ | rest_framework.serializers.Serializer | 无 | metric, values | 无 | 不适用 |
| EventRecordMetricsResultSLZ | rest_framework.serializers.Serializer | 无 | name, operator, threshold, results | 无 | 不适用 |
| AppSummarySLZ | rest_framework.serializers.Serializer | 无 | app_code, app_name, logo_url, count, record_ids | 无 | 不适用 |
| AppSummaryResultSLZ | rest_framework.serializers.Serializer | 无 | results | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| re | compile | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | BK_MONITORV3_URL | module |
| serializers | rest_framework.serializers | Serializer, CharField, ChoiceField, ModelSerializer, ListField, BooleanField, DateTimeField, ValidationError, SerializerMethodField, DictField, IntegerField | module |
| QueryAlarmStrategiesParams | paasng.infras.bkmonitorv3.params.QueryAlarmStrategiesParams | 不适用 | module |
| QueryAlertsParams | paasng.infras.bkmonitorv3.params.QueryAlertsParams | create_by_app_codes | module |
| RUN_ENVS | paasng.misc.monitoring.monitor.alert_rules.config.constants.RUN_ENVS | 不适用 | module |
| ApplicationWithLogoMinimalSLZ | paasng.platform.applications.serializers.ApplicationWithLogoMinimalSLZ | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | get_choices | module |
| HumanizeTimestampField | paasng.utils.serializers.HumanizeTimestampField | 不适用 | module |
| AppAlertRule | apiserver.paasng.paasng.misc.monitoring.monitor.models.AppAlertRule | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| MODULE_NAME_PATTERN | 不适用 | `MODULE_NAME_PATTERN = re.compile('\\s\\[([^\\s:]+):(prod|stag)\\]')` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ListAlertRulesSLZ | rest_framework.serializers.Serializer | 无 | alert_code, environment, keyword | 无 | 不适用 |
| AlertRuleSLZ | rest_framework.serializers.ModelSerializer | 无 | threshold_expr, receivers, enabled | 无 | 不适用 |
| SupportedAlertSLZ | rest_framework.serializers.Serializer | 无 | alert_code, display_name | 无 | 不适用 |
| ListAlertsSLZ | rest_framework.serializers.Serializer | to_internal_value, validate | alert_code, environment, status, keyword, start_time, end_time | 无 | 不适用 |
| AlertSLZ | rest_framework.serializers.Serializer | get_detail_link, get_module_name, get_env | id, alert_name, status, description, start_time, end_time, stage_display, receivers, labels, bk_biz_id, detail_link, module_name, env | 无 | 不适用 |
| AlertListByUserSLZ | rest_framework.serializers.Serializer | get_count, get_slow_query_count, get_alerts | application, alerts, count, slow_query_count | 无 | 不适用 |
| ListAlarmStrategiesSLZ | rest_framework.serializers.Serializer | to_internal_value | alert_code, environment, status, keyword | 无 | 不适用 |
| DetectSLZ | rest_framework.serializers.Serializer | 无 | trigger_config, connector | 无 | 不适用 |
| AlgorithmSLZ | rest_framework.serializers.Serializer | 无 | type, config, level | 无 | 不适用 |
| AlgorithmsSLZ | rest_framework.serializers.Serializer | 无 | algorithms | 无 | 不适用 |
| StrategyConfigSLZ | rest_framework.serializers.Serializer | get_detail_link | id, name, is_enabled, labels, notice_group_ids, detects, items, bk_biz_id, detail_link | 无 | 不适用 |
| UserGroupSLZ | rest_framework.serializers.Serializer | 无 | user_group_id, user_group_name | 无 | 不适用 |
| AlarmStrategySLZ | rest_framework.serializers.Serializer | 无 | strategy_config_list, user_group_list, strategy_config_link | 无 | 不适用 |
| AppDashboardSLZ | rest_framework.serializers.Serializer | get_dashboard_url | name, display_name, language, dashboard_url | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/service_monitor/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/service_monitor/controller.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | ENABLE_BK_MONITOR, BKMONITOR_METRIC_RELABELINGS | module |
| Endpoint | paas_wl.bk_app.monitoring.app_monitor.entities.Endpoint | 不适用 | module |
| ServiceSelector | paas_wl.bk_app.monitoring.app_monitor.entities.ServiceSelector | 不适用 | module |
| ServiceMonitor | paas_wl.bk_app.monitoring.app_monitor.kres_entities.ServiceMonitor | 不适用 | module |
| service_monitor_kmodel | paas_wl.bk_app.monitoring.app_monitor.managers.service_monitor_kmodel | get, save, update, delete_by_name | module |
| PROCESS_NAME_KEY | paas_wl.bk_app.processes.constants.PROCESS_NAME_KEY | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| Metric | paasng.platform.bkapp_model.entities.observability.Metric | 不适用 | module |
| ObservabilityConfig | paasng.platform.bkapp_model.models.ObservabilityConfig | DoesNotExist | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_svc_monitor_controller | `def make_svc_monitor_controller(env: ModuleEnvironment):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ServiceMonitorController | 无 | __init__, sync, _upsert, _delete, _build_service_monitor_name, _build_service_monitor | 无 | 无 | 不适用 |
| NullController | 无 | sync | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| path | django.urls.path | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('api/monitor/applications/(?P<code>[^/]+)/record/query/$', views.EventRecordView.as_view({'post': 'query'})), re_path('api/monitor/applications/(?P<code>[^/]+)/record/(?P<record>[^/]+)/$', views.EventRecordDetailsView.as_view({'get': 'get'})), re_path('api/monitor/applications/(?P<code>[^/]+)/record_metrics/(?P<record>[^/]+)/$', views.EventRecordMetricsView.as_view({'get': 'get'})), re_path('api/monitor/applications/(?P<code>[^/]+)/genre/$', views.EventGenreView.as_view({'get': 'list'})), re_path('api/monitor/record/applications/summary/$', views.EventRecordView.as_view({'get': 'app_summary'})), path('api/monitor/applications/<slug:code>/modules/<slug:module_name>/alert_rules/', views.AlertRulesView.as_view({'get': 'list'})), path('api/monitor/applications/<slug:code>/alert_rules/init/', views.AlertRulesView.as_view({'post': 'init_alert_rules'})), path('api/monitor/supported_alert_rules/', views.AlertRulesView.as_view({'get': 'list_supported_alert_rules'})), path('api/monitor/applications/<slug:code>/alerts/', views.ListAlertsView.as_view({'post': 'list'})), path('api/monitor/user/alerts/', views.ListAlertsView.as_view({'post': 'list_alerts_by_user'})), path('api/monitor/applications/<slug:code>/alarm_strategies/', views.ListAlarmStrategiesView.as_view({'post': 'list'})), path('api/monitor/applications/<slug:code>/dashboard_info/', views.GetDashboardInfoView.as_view({'get': 'get_dashboard_url'})), path('api/monitor/applications/<slug:code>/builtin_dashboards/', views.GetDashboardInfoView.as_view({'get': 'list_builtin_dashboards'}), name='api.modules.monitor.builtin_dashboards')]` | module |



---


### 模块: apiserver/paasng/paasng/misc/monitoring/monitor/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| Text | typing.Text | 不适用 | module |
| settings | django.conf.settings | BK_MONITORV3_URL | module |
| Q | django.db.models.Q | 不适用 | module |
| Http404 | django.http.Http404 | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Request | rest_framework.request.Request | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| ViewSet | rest_framework.viewsets.ViewSet | 不适用 | module |
| app_action_required | paasng.infras.accounts.permissions.application.app_action_required | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| make_bk_monitor_client | paasng.infras.bkmonitorv3.client.make_bk_monitor_client | 不适用 | module |
| BkMonitorGatewayServiceError | paasng.infras.bkmonitorv3.exceptions.BkMonitorGatewayServiceError | 不适用 | module |
| BkMonitorSpaceDoesNotExist | paasng.infras.bkmonitorv3.exceptions.BkMonitorSpaceDoesNotExist | 不适用 | module |
| BKMonitorSpace | paasng.infras.bkmonitorv3.models.BKMonitorSpace | get, objects, DoesNotExist | module |
| QueryAlertsParams | paasng.infras.bkmonitorv3.params.QueryAlertsParams | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | VIEW_ALERT_RECORDS, VIEW_BASIC_INFO, EDIT_ALERT_POLICY | module |
| AsCodeAPIError | paasng.misc.monitoring.monitor.alert_rules.ascode.exceptions.AsCodeAPIError | 不适用 | module |
| DEFAULT_RULE_CONFIGS | paasng.misc.monitoring.monitor.alert_rules.config.constants.DEFAULT_RULE_CONFIGS | items | module |
| alert_rule_manager_cls | paasng.misc.monitoring.monitor.alert_rules.manager.alert_rule_manager_cls | 不适用 | module |
| AppDashboard | paasng.misc.monitoring.monitor.models.AppDashboard | filter, objects | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| UserApplicationFilter | paasng.platform.applications.models.UserApplicationFilter | 不适用 | module |
| Module | paasng.platform.modules.models.Module | filter, objects | module |
| error_codes | paasng.utils.error_codes.error_codes | f, INIT_ALERT_RULES_FAILED, QUERY_ALERTS_FAILED, QUERY_ALARM_STRATEGIES_FAILED | module |
| BKMonitorNotSupportedError | apiserver.paasng.paasng.misc.monitoring.monitor.exceptions.BKMonitorNotSupportedError | 不适用 | module |
| AppAlertRule | apiserver.paasng.paasng.misc.monitoring.monitor.models.AppAlertRule | all, objects | module |
| Client | apiserver.paasng.paasng.misc.monitoring.monitor.phalanx.Client | 不适用 | module |
| AppSummaryResultSLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializer.AppSummaryResultSLZ | 不适用 | module |
| EventGenreListQuerySLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializer.EventGenreListQuerySLZ | 不适用 | module |
| EventGenreListSLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializer.EventGenreListSLZ | 不适用 | module |
| EventRecordAppSummaryQuerySLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializer.EventRecordAppSummaryQuerySLZ | 不适用 | module |
| EventRecordDetailsSLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializer.EventRecordDetailsSLZ | 不适用 | module |
| EventRecordListQuerySLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializer.EventRecordListQuerySLZ | 不适用 | module |
| EventRecordListSLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializer.EventRecordListSLZ | 不适用 | module |
| EventRecordMetricsQuerySLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializer.EventRecordMetricsQuerySLZ | 不适用 | module |
| EventRecordMetricsResultSLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializer.EventRecordMetricsResultSLZ | 不适用 | module |
| AlarmStrategySLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializers.AlarmStrategySLZ | 不适用 | module |
| AlertListByUserSLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializers.AlertListByUserSLZ | 不适用 | module |
| AlertRuleSLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializers.AlertRuleSLZ | 不适用 | module |
| AlertSLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializers.AlertSLZ | 不适用 | module |
| AppDashboardSLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializers.AppDashboardSLZ | 不适用 | module |
| ListAlarmStrategiesSLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializers.ListAlarmStrategiesSLZ | 不适用 | module |
| ListAlertRulesSLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializers.ListAlertRulesSLZ | 不适用 | module |
| ListAlertsSLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializers.ListAlertsSLZ | 不适用 | module |
| SupportedAlertSLZ | apiserver.paasng.paasng.misc.monitoring.monitor.serializers.SupportedAlertSLZ | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EventRecordView | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | query, app_summary | permission_classes | 无 | 不适用 |
| EventRecordDetailsView | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get | permission_classes | 无 | 不适用 |
| EventRecordMetricsView | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get | permission_classes | 无 | 不适用 |
| EventGenreView | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list | permission_classes | 无 | 不适用 |
| AlertRulesView | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list, update, list_supported_alert_rules, init_alert_rules | queryset, serializer_class, pagination_class, permission_classes | 无 | 不适用 |
| ListAlertsView | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list, list_alerts_by_user | permission_classes | 无 | 不适用 |
| ListAlarmStrategiesView | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list | permission_classes | 无 | 不适用 |
| GetDashboardInfoView | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get_dashboard_url, list_builtin_dashboards | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/operations/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/operations/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| OperationsConfig | django.apps.AppConfig | 无 | name, verbose_name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/operations/constant.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| ChoicesEnum | paasng.utils.basic.ChoicesEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| OperationType | paasng.utils.basic.ChoicesEnum | 无 | CREATE_APPLICATION, REGISTER_PRODUCT, MODIFY_PRODUCT_ATTRIBUTES, PROCESS_START, PROCESS_STOP, RECYCLE_ONLINE_RESOURCE, DELETE_APPLICATION, OFFLINE_APPLICATION_STAG_ENVIRONMENT, OFFLINE_APPLICATION_PROD_ENVIRONMENT, DEPLOY_APPLICATION, CREATE_MODULE, DELETE_MODULE, DEPLOY_CNATIVE_APP, OFFLINE_MARKET, RELEASE_TO_MARKET, APPLY_PERM_FOR_CLOUD_API, RENEW_PERM_FOR_CLOUD_API, ENABLE_ACCESS_CONTROL, DISABLE_ACCESS_CONTROL, DEPLOY_STAGE, DEPLOY_PRODUCT, OFFLINE_APPLICATION_PROD_ENVIRONMENT_WITH_MARKET, _choices_labels | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/operations/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| jsonfield.fields | JSONField, fields | module |
| paasng.utils.models | BkUserField, models, utils | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, SmallIntegerField, BooleanField, ForeignKey, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/operations/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/operations/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| namedtuple | collections.namedtuple | 不适用 | module |
| asdict | dataclasses.asdict | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| models | django.db.models | Model, CharField, DateTimeField, ForeignKey, CASCADE, SmallIntegerField, BooleanField, OneToOneField | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| AppModelDeploy | paas_wl.bk_app.cnative.specs.models.AppModelDeploy | 不适用 | module |
| OperationType | paasng.misc.operations.constant.OperationType | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | get_choice_label | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | SUCCESSFUL, FAILED, INTERRUPTED | module |
| Deployment | paasng.platform.engine.models.Deployment | 不适用 | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |
| BkUserField | paasng.utils.models.BkUserField | 不适用 | module |
| OfflineOperation | paasng.platform.engine.models.offline.OfflineOperation | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_operation_obj | `def get_operation_obj(operation: Operation) -> OperationObj:` | 无 | Return an operation object by operation db object |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Operation | django.db.models.Model | get_operator, get_operate_display | region, created, user, application, type, is_hidden, source_object_id, module_name, extra_values | 无 | 不适用 |
| ApplicationLatestOp | django.db.models.Model | 无 | application, operation_type, operation, latest_operated_at | 无 | A mapper table which saves application's latest op... |
| OperationObj | 无 | __init__, get_text_display | 无 | 无 | Common operation object |
| UnknownTypeOperationObj | OperationObj | __init__, get_text_display | 无 | 无 | 不适用 |
| ProcessOperationObj | OperationObj | get_text_display | _text_tmpls | 无 | Operation object: processs start/stop |
| DeployOpValues | 无 | 无 | 无 | dataclass | 不适用 |
| AppDeploymentOperationObj | OperationObj | __init__, create_from_deployment, get_text_display, get_tmpl_from_status | default_op_type, values_type | 无 | Operation object: app deployment |
| CNativeAppDeployOperationObj | OperationObj | __init__, create_from_deploy, get_text_display | default_op_type, values_type | 无 | Operation object: paas_wl.bk_app.cnative.specs.mod... |
| AppOfflineOperationObj | OperationObj | __init__, get_operation_type, assemble_operation_params, update_operation, create_operation, get_text_display | values_type | 无 | 不适用 |
| CreateModuleOperationObj | OperationObj | get_text_display | 无 | 无 | Operation object: create a new module |
| ApplyCloudApiOperationObj | OperationObj | get_text_display | _text_tmpls | 无 | Operation object: apply for or renew ApiGateway AP... |

---


### 模块: apiserver/paasng/paasng/misc/operations/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | ModelSerializer, DateTimeField, ReadOnlyField, DictField, Serializer, CharField, IntegerField, PrimaryKeyRelatedField, JSONField | module |
| Operation | paasng.misc.operations.models.Operation | 不适用 | module |
| Application | paasng.platform.applications.models.Application | all, objects | module |
| ApplicationMinimalSLZ | paasng.platform.applications.serializers.ApplicationMinimalSLZ | 不适用 | module |
| ApplicationSLZ4Record | paasng.platform.applications.serializers.ApplicationSLZ4Record | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| OperationSLZ | rest_framework.serializers.ModelSerializer | 无 | application, at, operator, operate, operate_type | 无 | 不适用 |
| OperationForRencentApp | OperationSLZ | 无 | application, at, operate, operate_type, represent_info | 无 | 不适用 |
| RecentOperationsByAppSLZ | rest_framework.serializers.Serializer | 无 | results | 无 | 不适用 |
| ApplicationOperationSLZ | rest_framework.serializers.ModelSerializer | 无 | application, module_name, at, operator, operate, operate_type | 无 | 不适用 |
| QueryRecentOperatedApplications | rest_framework.serializers.Serializer | 无 | limit | 无 | 不适用 |
| SysOperationSLZ | rest_framework.serializers.Serializer | 无 | application, operator, operate_type, module_name, source_object_id, extra_values | 无 | Serializer for `Operation` model, on "system-api" ... |

---


### 模块: apiserver/paasng/paasng/misc/operations/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/bkapps/applications/lists/latest/deprecated/', views.LatestApplicationsViewSet.as_view(), name='api.applications.latest.deprecated'), re_path(make_app_pattern('/operations/', include_envs=False), views.ApplicationOperationsViewSet.as_view({'get': 'list'}), name='api.bkapps.application.operations')]` | module |



---


### 模块: apiserver/paasng/paasng/misc/operations/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| namedtuple | collections.namedtuple | 不适用 | module |
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | DISPLAY_BK_PLUGIN_APPS | module |
| viewsets | rest_framework.viewsets | ModelViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| APIView | rest_framework.views.APIView | 不适用 | module |
| get_module_exposed_links | paasng.accessories.publish.entrance.exposer.get_module_exposed_links | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | VIEW_BASIC_INFO | module |
| serializers | paasng.misc.operations.serializers | OperationSLZ, ApplicationOperationSLZ | module |
| RecentOperationsByAppSLZ | paasng.misc.operations.serializers.RecentOperationsByAppSLZ | 不适用 | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| UserApplicationFilter | paasng.platform.applications.models.UserApplicationFilter | 不适用 | module |
| OperationType | apiserver.paasng.paasng.misc.operations.constant.OperationType | 不适用 | module |
| ApplicationLatestOp | apiserver.paasng.paasng.misc.operations.models.ApplicationLatestOp | filter, objects | module |
| Operation | apiserver.paasng.paasng.misc.operations.models.Operation | all, objects, filter | module |
| QueryRecentOperatedApplications | apiserver.paasng.paasng.misc.operations.serializers.QueryRecentOperatedApplications | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| EventRepresentProps | 不适用 | `EventRepresentProps = namedtuple('EventRepresentProps', 'display_module provide_links provide_actions')` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| OperationRepresentHelper | 无 | get_supported_types, get_event_props | _type_props_map, type_props_map | 无 | Helps representing an application operation to use... |
| LatestApplicationsViewSet | rest_framework.views.APIView | get_queryset, _transform_op, _attach_represent_info, get | serializer_class, lookup_field, ordering_fields, pagination_class | 无 | 
    最近操作的应用列表
    get: 最近操作的应用列表
    - [测试地址](/ap... |
| ApplicationOperationsViewSet | rest_framework.viewsets.ModelViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get_queryset, list | serializer_class, permission_classes, queryset, lookup_field, ordering_fields | 无 | 
    单应用的操作记录
    list: 单应用的操作记录
    - [测试地址](/api... |

---


### 模块: apiserver/paasng/paasng/misc/plat_config/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/plat_config/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| path | django.urls.path | 不适用 | module |
| FrontendFeatureViewSet | paasng.misc.plat_config.views.FrontendFeatureViewSet | as_view | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [path('api/platform/frontend_features/', FrontendFeatureViewSet.as_view({'get': 'get_features'}))]` | module |



---


### 模块: apiserver/paasng/paasng/misc/plat_config/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | FE_FEATURE_SETTINGS_ANALYTICS, FE_FEATURE_SETTINGS_IMAGE_APP_BIND_REPO, FE_FEATURE_SETTINGS_REGION_DISPLAY, FE_FEATURE_SETTINGS_DEVELOPMENT_TIME_RECORD, FE_FEATURE_SETTINGS_DOCUMENT_MANAGEMENT, FE_FEATURE_SETTINGS_AGGREGATE_SEARCH, FE_FEATURE_SETTINGS_MARKET_VISIBILITY, FE_FEATURE_SETTINGS_MGRLEGACY, FE_FEATURE_SETTINGS_CNATIVE_MGRLEGACY, FE_FEATURE_SETTINGS_APP_ACCESS_TOKEN, ENABLE_VERIFICATION_CODE, ENABLE_BK_MONITOR, ENABLE_BK_NOTICE, CODE_CHECK_CONFIGS, BK_CI_PAAS_PROJECT_ID, BK_CI_BUILD_PIPELINE_ID, IS_ALLOW_CREATE_BK_PLUGIN_APP, ENABLE_BCS, ENABLE_BK_LESSCODE | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| ViewSet | rest_framework.viewsets.ViewSet | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| FrontendFeatureViewSet | rest_framework.viewsets.ViewSet | get_features | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/search/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/search/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SearchAppConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/search/backends.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| itertools | zip_longest | module |
| logging | getLogger | module |
| requests | Response, get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| datetime | datetime.datetime | 不适用 | module |
| JSONDecodeError | json.decoder.JSONDecodeError | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | BKDOC_URL | module |
| DocumentSLZ | apiserver.paasng.paasng.misc.search.serializers.DocumentSLZ | 不适用 | module |
| update_searcher_cls | apiserver.paasng.paasng.misc.search.backends_ext.update_searcher_cls | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| SEARCHER_CLS | 不适用 | `SEARCHER_CLS = update_searcher_cls(SEARCHER_CLS)` | module, try |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_json_response | `def get_json_response(resp: requests.Response, only_allow_ok_status=True) -> Any:` | 无 | Return response as JSON object if it's a valid JSO... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SearchDocumentary | 无 | 无 | 无 | dataclass | search documentary object |
| SearchDocResults | 无 | 无 | 无 | dataclass | Search results |
| BaseSearcher | 无 | search | 无 | 无 | 不适用 |
| BKDocumentSearcher | BaseSearcher | search | BKDOC_SEARCH_BASE_URL | 无 | 不适用 |
| MixSearcher | 无 | __init__, to_simple_payload, search | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/search/constants.py




#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| HL_TAG_START | <bk-highlight-mark> | `HL_TAG_START = '<bk-highlight-mark>'` | module |
| HL_TAG_END | </bk-highlight-mark> | `HL_TAG_END = '</bk-highlight-mark>'` | module |



---


### 模块: apiserver/paasng/paasng/misc/search/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, URLField, CharField, IntegerField, DateTimeField, ListField | module |
| ApplicationWithDeployInfoSLZ | paasng.platform.applications.serializers.ApplicationWithDeployInfoSLZ | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DocumentSLZ | rest_framework.serializers.Serializer | 无 | url, title, source_type | 无 | 不适用 |
| DocumentSearchWordSLZ | rest_framework.serializers.Serializer | 无 | keyword | 无 | 不适用 |
| UniversalSearchSLZ | rest_framework.serializers.Serializer | 无 | keyword, limit, offset | 无 | An universal search serializer |
| SearchDocumentarySLZ | rest_framework.serializers.Serializer | 无 | source_type, title, url, digest, author_name, updated_at | 无 | Serializer for SearchDocumentary object |
| AppSearchResultSLZ | rest_framework.serializers.Serializer | 无 | results, count | 无 | Return applications as search result |
| DocSearchResultSLZ | rest_framework.serializers.Serializer | 无 | results, count | 无 | Return documentaries as search result |

---


### 模块: apiserver/paasng/paasng/misc/search/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | paasng.utils.basic.re_path | 不适用 | module |
| urlpatterns | apiserver.paasng.paasng.misc.search.urls_ext.urlpatterns | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/document/search/$', views.MixDocumentSearch.as_view({'get': 'search'}), name='document-search'), re_path('^api/search/applications/$', views.ApplicationsSearchViewset.as_view({'get': 'search'}), name='search.applications'), re_path('^api/search/bk_docs/$', views.BkDocsSearchViewset.as_view({'get': 'search'}), name='search.bk_docs')]` | module |



---


### 模块: apiserver/paasng/paasng/misc/search/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| LimitOffsetPagination | rest_framework.pagination.LimitOffsetPagination | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| ViewSet | rest_framework.viewsets.ViewSet | 不适用 | module |
| get_exposed_links | paasng.accessories.publish.entrance.exposer.get_exposed_links | 不适用 | module |
| UserApplicationFilter | paasng.platform.applications.models.UserApplicationFilter | 不适用 | module |
| BKDocumentSearcher | apiserver.paasng.paasng.misc.search.backends.BKDocumentSearcher | 不适用 | module |
| MixSearcher | apiserver.paasng.paasng.misc.search.backends.MixSearcher | 不适用 | module |
| AppSearchResultSLZ | apiserver.paasng.paasng.misc.search.serializers.AppSearchResultSLZ | 不适用 | module |
| DocSearchResultSLZ | apiserver.paasng.paasng.misc.search.serializers.DocSearchResultSLZ | 不适用 | module |
| DocumentSearchWordSLZ | apiserver.paasng.paasng.misc.search.serializers.DocumentSearchWordSLZ | 不适用 | module |
| DocumentSLZ | apiserver.paasng.paasng.misc.search.serializers.DocumentSLZ | 不适用 | module |
| UniversalSearchSLZ | apiserver.paasng.paasng.misc.search.serializers.UniversalSearchSLZ | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MixDocumentSearch | rest_framework.viewsets.ViewSet | search | 无 | 无 | 不适用 |
| ApplicationsSearchViewset | rest_framework.viewsets.ViewSet | paginator, search | 无 | 无 | 不适用 |
| BkDocsSearchViewset | rest_framework.viewsets.ViewSet | search | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/tools/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/tools/app_desc.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| re | sub | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| OrderedDict | collections.OrderedDict | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| settings | django.conf.settings | CONTAINER_PORT | module |
| snake_to_camel | paasng.utils.camel_converter.snake_to_camel | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| transform_app_desc_spec2_to_spec3 | `def transform_app_desc_spec2_to_spec3(spec2):` | 无 | 
    Converts an application description file from... |
| transform_app_section | `def transform_app_section(app):` | 无 | 
    Transforms the 'app' section.

    :param app... |
| transform_display_options | `def transform_display_options(display_options):` | 无 | 
    Transforms the 'displayOptions' section withi... |
| transform_modules_section | `def transform_modules_section(modules):` | 无 | 
    Transforms the 'modules' section.

    :param... |
| transform_module | `def transform_module(module):` | 无 | 
    Transforms a single module.

    :param modul... |
| transform_module_spec | `def transform_module_spec(spec, key, value):` | 无 | 
    Transforms module fields like 'services', 'en... |
| transform_services | `def transform_services(services):` | 无 | 
    Transforms the 'services' field of module.

 ... |
| transform_env_variables | `def transform_env_variables(env_vars):` | 无 | 
    Transforms the 'env_variables' field of modul... |
| transform_processes | `def transform_processes(processes):` | 无 | 
    Transforms the 'processes' field of module.

... |
| transform_process | `def transform_process(process_name, process_info):` | 无 | 
    Transforms a single process, adding associate... |
| create_service | `def create_service(process_name):` | 无 | 
    Creates service information for the given pro... |
| transform_process_probes | `def transform_process_probes(probes):` | 无 | 
    Transforms the process probes in process.

  ... |
| transform_bk_saas | `def transform_bk_saas(bk_saas):` | 无 | 
    Transforms the 'bk_saas' section in 'svc_disc... |


---


### 模块: apiserver/paasng/paasng/misc/tools/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/tools/app_desc/transform/', views.AppDescTransformAPIView.as_view(), name='api.tools.app_desc.transform')]` | module |



---


### 模块: apiserver/paasng/paasng/misc/tools/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| yaml | safe_load, YAMLError, add_representer, dump | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| OrderedDict | collections.OrderedDict | 不适用 | module |
| settings | django.conf.settings | DEFAULT_CHARSET | module |
| HttpResponse | django.http.HttpResponse | 不适用 | module |
| HttpResponseBadRequest | django.http.HttpResponseBadRequest | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| APIView | rest_framework.views.APIView | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| IndentDumper | paasng.utils.yaml.IndentDumper | 不适用 | module |
| transform_app_desc_spec2_to_spec3 | apiserver.paasng.paasng.misc.tools.app_desc.transform_app_desc_spec2_to_spec3 | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppDescTransformAPIView | rest_framework.views.APIView | post | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/tracing/__init__.py







---


### 模块: apiserver/paasng/paasng/misc/tracing/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| worker_process_init | celery.signals.worker_process_init | connect | module |
| AppConfig | django.apps.AppConfig | 不适用 | module |
| setup_by_settings | apiserver.paasng.paasng.misc.tracing.setup.setup_by_settings | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| worker_process_init_otel_trace_setup | `@worker_process_init.connect(weak=False):` | worker_process_init.connect | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TracingConfig | django.apps.AppConfig | ready | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/tracing/instrumentor.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pymysql | connect | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Collection | typing.Collection | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | REQUEST_ID_HEADER_KEY | module |
| dbapi | opentelemetry.instrumentation.dbapi | wrap_connect | module |
| CeleryInstrumentor | opentelemetry.instrumentation.celery.CeleryInstrumentor | 不适用 | module |
| DjangoInstrumentor | opentelemetry.instrumentation.django.DjangoInstrumentor | 不适用 | module |
| BaseInstrumentor | opentelemetry.instrumentation.instrumentor.BaseInstrumentor | 不适用 | module |
| LoggingInstrumentor | opentelemetry.instrumentation.logging.LoggingInstrumentor | 不适用 | module |
| RedisInstrumentor | opentelemetry.instrumentation.redis.RedisInstrumentor | 不适用 | module |
| RequestsInstrumentor | opentelemetry.instrumentation.requests.RequestsInstrumentor | 不适用 | module |
| Span | opentelemetry.trace.Span | 不适用 | module |
| Status | opentelemetry.trace.Status | 不适用 | module |
| StatusCode | opentelemetry.trace.StatusCode | OK, ERROR | module |
| Response | requests.models.Response | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| requests_callback | `def requests_callback(span: Span, response: Optional[Response]):` | 无 | 
    处理蓝鲸标准协议响应
     |
| django_response_hook | `def django_response_hook(span: Span, request, response):` | 无 | 
    处理 PaasNG Django 响应
     |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKAppInstrumentor | opentelemetry.instrumentation.instrumentor.BaseInstrumentor | instrumentation_dependencies, _instrument, _uninstrument | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/misc/tracing/setup.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | OTEL_SERVICE_NAME, OTEL_BK_DATA_TOKEN, OTEL_SAMPLER, OTEL_GRPC_URL, ENABLE_OTEL_TRACE | module |
| trace | opentelemetry.trace | set_tracer_provider, get_tracer_provider | module |
| OTLPSpanExporter | opentelemetry.exporter.otlp.proto.grpc.trace_exporter.OTLPSpanExporter | 不适用 | module |
| Resource | opentelemetry.sdk.resources.Resource | create | module |
| TracerProvider | opentelemetry.sdk.trace.TracerProvider | 不适用 | module |
| BatchSpanProcessor | opentelemetry.sdk.trace.export.BatchSpanProcessor | 不适用 | module |
| _KNOWN_SAMPLERS | opentelemetry.sdk.trace.sampling._KNOWN_SAMPLERS | 不适用 | module |
| BKAppInstrumentor | apiserver.paasng.paasng.misc.tracing.instrumentor.BKAppInstrumentor | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| setup_trace_config | `def setup_trace_config():` | 无 | 不适用 |
| setup_by_settings | `def setup_by_settings():` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/plat_admin/__init__.py







---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/__init__.py







---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PlugableAppConfig | paasng.utils.addons.PlugableAppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AdminConfig | paasng.utils.addons.PlugableAppConfig | 无 | name, default | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/context_processors.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | getenv | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | BKPAAS_URL | module |
| RegionType | paasng.core.region.states.RegionType | get_choices | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| BKPAAS_BUILD_VERSION | 不适用 | `BKPAAS_BUILD_VERSION = os.getenv('BKPAAS_BUILD_VERSION', 'unset')` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| admin_config | `def admin_config(request):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/models.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| models | django.db.models | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/__init__.py







---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/accountmgr.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ProviderType | bkpaas_auth.core.constants.ProviderType | value, UIN, RTX, BK, DATABASE | module |
| serializers | rest_framework.serializers | Serializer, ChoiceField, ListField, CharField, BooleanField, DateTimeField, SerializerMethodField | module |
| SiteRole | paasng.infras.accounts.constants.SiteRole | get_choices | module |
| UserPrivateToken | paasng.infras.accounts.models.UserPrivateToken | filter, objects | module |
| UserField | paasng.utils.serializers.UserField | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| PROVIDER_TYPE_CHCOISE | 不适用 | `PROVIDER_TYPE_CHCOISE = ((ProviderType.UIN.value, 'UIN'), (ProviderType.RTX.value, 'RTX'), (ProviderType.BK.value, 'BK'), (ProviderType.DATABASE.value, 'DATABASE'))` | module |
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| UserField | BaseUserField | to_representation | 无 | 无 | 不适用 |
| UserProfileBulkCreateFormSLZ | rest_framework.serializers.Serializer | 无 | role, provider_type, username_list, enable_regions | 无 | 不适用 |
| UserProfileUpdateFormSLZ | rest_framework.serializers.Serializer | 无 | role, enable_regions, user | 无 | 不适用 |
| UserProfileQueryParamSLZ | rest_framework.serializers.Serializer | 无 | display_regular_users, filter_key | 无 | 不适用 |
| UserProfileSLZ | rest_framework.serializers.Serializer | get_enable_regions | user, role, updated, enable_regions | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/application.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| arrow | get | module |
| pytz | timezone | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | TIME_ZONE | module |
| serializers | rest_framework.serializers | ModelSerializer, CharField, DictField, SerializerMethodField, Serializer, BooleanField, ListField, IntegerField, DateTimeField, JSONField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | get_or_create_by_app, objects | module |
| MarketAvailableAddressHelper | paasng.accessories.publish.market.utils.MarketAvailableAddressHelper | 不适用 | module |
| ModuleSLZ | paasng.plat_admin.admin42.serializers.module.ModuleSLZ | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | get_choice_label | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| BatchTaskStatus | paasng.platform.evaluation.constants.BatchTaskStatus | get_choice_label | module |
| AppOperationReport | paasng.platform.evaluation.models.AppOperationReport | 不适用 | module |
| AppOperationReportCollectionTask | paasng.platform.evaluation.models.AppOperationReportCollectionTask | 不适用 | module |
| humanize_timedelta | paasng.utils.datetime.humanize_timedelta | 不适用 | module |
| OrderByField | paasng.utils.models.OrderByField | from_string | module |
| HumanizeDateTimeField | paasng.utils.serializers.HumanizeDateTimeField | 不适用 | module |
| UserNameField | paasng.utils.serializers.UserNameField | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationSLZ | rest_framework.serializers.ModelSerializer | get_app_type, get_resource_quotas | region_name, logo_url, config_info, owner, creator, created_humanized, updated_humanized, app_type, resource_quotas | 无 | 不适用 |
| ApplicationDetailSLZ | ApplicationSLZ | get_modules, get_market_availabled_address | modules, market_availabled_address | 无 | 不适用 |
| BindEnvClusterSLZ | rest_framework.serializers.Serializer | 无 | cluster_name | 无 | 绑定应用部署环境集群配置 |
| ApplicationFilterSLZ | rest_framework.serializers.Serializer | validate_order_by | valid_order_by_fields, include_inactive, regions, languages, search_term, source_origin, market_enabled, order_by | 无 | Serializer for application query filter |
| LegacyApplicationFilterSLZ | rest_framework.serializers.Serializer | 无 | only_include_legacy_v1_app, only_include_not_migrated_app, include_downed_app, search_term | 无 | 不适用 |
| AppOperationReportListInputSLZ | rest_framework.serializers.Serializer | 无 | search_term, issue_type, order_by | 无 | 应用运营评估报告列表查询参数 |
| AppOperationReportCollectionTaskOutputSLZ | rest_framework.serializers.Serializer | get_duration, get_status | start_at, duration, total_count, succeed_count, failed_count, failed_app_codes, status | 无 | 应用运营评估报告采集任务 |
| EnvDeploySummarySLZ | rest_framework.serializers.Serializer | get_latest_deployed_at | latest_deployer, latest_deployed_at | 无 | 不适用 |
| ModuleDeploySummarySLZ | rest_framework.serializers.Serializer | 无 | envs | 无 | 不适用 |
| DeploySummarySLZ | rest_framework.serializers.Serializer | 无 | app_code, app_type, modules | 无 | 不适用 |
| AppOperationReportOutputSLZ | rest_framework.serializers.Serializer | get_mem_requests, get_mem_limits, get_mem_usage_avg, get_cpu_requests, get_cpu_limits, get_cpu_usage_avg, get_issues | app_code, app_name, mem_requests, mem_limits, mem_usage_avg, cpu_requests, cpu_limits, cpu_usage_avg, res_summary, pv, uv, visit_summary, latest_deployed_at, latest_deployer, latest_operated_at, latest_operator, latest_operation, deploy_summary, issue_type, issues, evaluate_result, collected_at | 无 | 应用运营评估报告 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/audit.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, UUIDField, CharField, DateTimeField, ChoiceField, JSONField | module |
| AccessType | paasng.misc.audit.constants.AccessType | get_choices | module |
| ResultCode | paasng.misc.audit.constants.ResultCode | get_choices | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | get_choices | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AuditOperationListOutputSLZ | rest_framework.serializers.Serializer | 无 | uuid, operation, target, attribute, at, result_code, operator | 无 | 不适用 |
| AuditOperationRetrieveOutputSLZ | rest_framework.serializers.Serializer | 无 | operation, target, attribute, at, result_code, operator, access_type, data_before, data_after | 无 | 不适用 |
| AppAuditOperationListInputSLZ | rest_framework.serializers.Serializer | 无 | filter_key | 无 | 不适用 |
| AppAuditOperationListOutputSLZ | rest_framework.serializers.Serializer | 无 | uuid, operation, app_code, target, module_name, environment, at, result_code, operator | 无 | 不适用 |
| AppAuditOperationRetrieveOutputSLZ | rest_framework.serializers.Serializer | 无 | operation, app_code, target, module_name, environment, at, result_code, operator, access_type, data_before, data_after | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/bk_plugins.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | ModelSerializer, Serializer, CharField, ChoiceField, ValidationError | module |
| BkPluginDistributor | paasng.bk_plugins.bk_plugins.models.BkPluginDistributor | 不适用 | module |
| BkPluginTag | paasng.bk_plugins.bk_plugins.models.BkPluginTag | 不适用 | module |
| constants | paasng.bk_plugins.pluginscenter.constants | get_choices, PluginRole | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKPluginTagSLZ | rest_framework.serializers.ModelSerializer | 无 | 无 | 无 | 不适用 |
| BkPluginDistributorSLZ | rest_framework.serializers.ModelSerializer | 无 | 无 | 无 | 不适用 |
| BKPluginMembersManageReqSLZ | rest_framework.serializers.Serializer | validate_action | action, role | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/config_vars.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | CONFIGVAR_SYSTEM_PREFIX | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | RegexField, Serializer, CharField, IntegerField, DateTimeField, SerializerMethodField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| ModuleSLZ | paasng.plat_admin.admin42.serializers.module.ModuleSLZ | 不适用 | module |
| BuiltinConfigVar | paasng.platform.engine.models.config_var.BuiltinConfigVar | filter, objects | module |
| ConfigVarSLZ | paasng.platform.engine.serializers.ConfigVarSLZ | 不适用 | module |
| RE_CONFIG_VAR_KEY | paasng.utils.validators.RE_CONFIG_VAR_KEY | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ConfigVarSLZ | BaseConfigVarSLZ | 无 | module_display, key | 无 | 不适用 |
| BuiltinConfigVarCreateInputSLZ | rest_framework.serializers.Serializer | validate_key | key, value, description | 无 | 不适用 |
| BuiltinConfigVarUpdateInputSLZ | rest_framework.serializers.Serializer | 无 | value, description | 无 | 不适用 |
| BuiltinConfigVarListOutputSLZ | rest_framework.serializers.Serializer | get_operator | id, key, value, description, updated, operator | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/dashboard_templates.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | ModelSerializer | module |
| AppDashboardTemplate | paasng.misc.monitoring.monitor.models.AppDashboardTemplate | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DashboardTemplateSLZ | rest_framework.serializers.ModelSerializer | 无 | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/egress.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext | django.utils.translation.gettext | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, CharField, IntegerField, ChoiceField, ListField | module |
| NetworkProtocol | paas_wl.workloads.networking.constants.NetworkProtocol | get_django_choices | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EgressRuleSLZ | rest_framework.serializers.Serializer | 无 | host, port, protocol | 无 | 不适用 |
| EgressSpecSLZ | rest_framework.serializers.Serializer | 无 | replicas, cpu_limit, memory_limit, rules | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/engine.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| serializers | rest_framework.serializers | ModelSerializer, SerializerMethodField, CharField | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | value, SUCCESSFUL | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| ModuleEnvironmentOperations | paasng.platform.engine.models.operations.ModuleEnvironmentOperations | DoesNotExist | module |
| OperationSLZ | paasng.platform.engine.serializers.OperationSLZ | 不适用 | module |
| HumanizeDateTimeField | paasng.utils.serializers.HumanizeDateTimeField | 不适用 | module |
| UserNameField | paasng.utils.serializers.UserNameField | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ModuleEnvironmentOperationsSLZ | BaseModuleEnvironmentOperationsSLZ | 无 | operator, created_humanized | 无 | 不适用 |
| EnvironmentSLZ | rest_framework.serializers.ModelSerializer | get_latest_operation, get_latest_successful_operation, get_cluster_name | latest_operation, latest_successful_operation, cluster_name | 无 | 不适用 |
| DeploymentForListSLZ | rest_framework.serializers.ModelSerializer | 无 | f_application_id, f_application_name, f_module_name, f_environment | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/module.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ModuleSLZ | paasng.platform.modules.serializers.ModuleSLZ | 不适用 | module |
| HumanizeDateTimeField | paasng.utils.serializers.HumanizeDateTimeField | 不适用 | module |
| UserNameField | paasng.utils.serializers.UserNameField | 不适用 | module |
| EnvironmentSLZ | apiserver.paasng.paasng.plat_admin.admin42.serializers.engine.EnvironmentSLZ | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ModuleSLZ | BaseModuleSLZ | get_envs | creator, owner, envs, created_humanized | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/packages.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | ModelSerializer, FileField | module |
| ModuleSLZ | paasng.plat_admin.admin42.serializers.module.ModuleSLZ | 不适用 | module |
| SourcePackage | paasng.platform.sourcectl.models.SourcePackage | 不适用 | module |
| UserNameField | paasng.utils.serializers.UserNameField | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SourcePackageSLZ | rest_framework.serializers.ModelSerializer | 无 | logo, module, owner | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/runtime.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | ModelSerializer, JSONField | module |
| AppBuildPack | paasng.platform.modules.models.AppBuildPack | 不适用 | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | 不适用 | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | 不适用 | module |
| TranslatedCharField | paasng.utils.i18n.serializers.TranslatedCharField | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppSlugBuilderSLZ | rest_framework.serializers.ModelSerializer | 无 | display_name, description, environments, labels | 无 | 不适用 |
| AppSlugRunnerSLZ | rest_framework.serializers.ModelSerializer | 无 | display_name, description, environments, labels | 无 | 不适用 |
| AppBuildPackSLZ | rest_framework.serializers.ModelSerializer | 无 | display_name, description, environments | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/runtimes.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| serializers | rest_framework.serializers | ModelSerializer, ChoiceField, CharField, JSONField, BooleanField, Serializer, PrimaryKeyRelatedField, ListField, ValidationError | module |
| RegionType | paasng.core.region.states.RegionType | get_choices | module |
| AppImageType | paasng.platform.modules.constants.AppImageType | get_choices | module |
| BuildPackType | paasng.platform.modules.constants.BuildPackType | get_choices, get_buildpack_builder_type_map | module |
| AppBuildPack | paasng.platform.modules.models.AppBuildPack | filter, objects | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | filter, objects, exclude | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | filter, objects, exclude | module |
| TranslatedCharField | paasng.utils.i18n.serializers.TranslatedCharField | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BuildPackCreateInputSLZ | rest_framework.serializers.ModelSerializer | 无 | region, name, language, type, address, version, env_vars, is_hidden | 无 | 不适用 |
| BuildPackUpdateInputSLZ | BuildPackCreateInputSLZ | 无 | 无 | 无 | 不适用 |
| BuildPackListInputSLZ | rest_framework.serializers.Serializer | 无 | region | 无 | 不适用 |
| BuildPackListOutputSLZ | rest_framework.serializers.ModelSerializer | 无 | display_name, description, env_vars, slugbuilders | 无 | 不适用 |
| BuildPackBindInputSLZ | rest_framework.serializers.Serializer | validate_slugbuilder_ids | slugbuilder_ids | 无 | 用于给单个 Buildpack 绑定 slugbuilder 列表
    需要传入 context... |
| AppSlugBuilderCreateInputSLZ | rest_framework.serializers.ModelSerializer | validate_name | region, name, type, image, tag, env_vars, labels, is_hidden, is_default | 无 | 不适用 |
| AppSlugBuilderUpdateInputSLZ | AppSlugBuilderCreateInputSLZ | validate_name | 无 | 无 | 不适用 |
| AppSlugBuilderListInputSLZ | rest_framework.serializers.Serializer | 无 | region | 无 | 不适用 |
| AppSlugBuilderListOutputSLZ | rest_framework.serializers.ModelSerializer | 无 | display_name, description, env_vars, labels, buildpacks | 无 | 不适用 |
| AppSlugBuilderBindInputSLZ | rest_framework.serializers.Serializer | validate_buildpack_ids | buildpack_ids | 无 | 用于给 slugbuilder 绑定 buildpack 列表
    需要传入 context["... |
| AppSlugRunnerListInputSLZ | rest_framework.serializers.Serializer | 无 | region | 无 | 不适用 |
| AppSlugRunnerListOutputSLZ | rest_framework.serializers.ModelSerializer | 无 | display_name, description, env_vars, labels | 无 | 不适用 |
| AppSlugRunnerCreateInputSLZ | rest_framework.serializers.ModelSerializer | validate_name | region, name, type, image, tag, env_vars, labels, is_hidden, is_default | 无 | 不适用 |
| AppSlugRunnerUpdateInputSLZ | AppSlugRunnerCreateInputSLZ | validate_name | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/services.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| re | compile, fullmatch | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_language | django.utils.translation.get_language | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, CharField, IntegerField, JSONField, BooleanField, SerializerMethodField, ModelSerializer, UUIDField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| LocalServiceObj | paasng.accessories.servicehub.local.manager.LocalServiceObj | 不适用 | module |
| RemoteServiceObj | paasng.accessories.servicehub.remote.manager.RemoteServiceObj | 不适用 | module |
| ServiceSpecificationDefinition | paasng.accessories.servicehub.services.ServiceSpecificationDefinition | 不适用 | module |
| Plan | paasng.accessories.services.models.Plan | 不适用 | module |
| PreCreatedInstance | paasng.accessories.services.models.PreCreatedInstance | 不适用 | module |
| EnvironmentSLZ | paasng.plat_admin.admin42.serializers.engine.EnvironmentSLZ | 不适用 | module |
| to_translated_field | paasng.utils.i18n.to_translated_field | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| ADDONS_SERVICE_NAME_REGEX | 不适用 | `ADDONS_SERVICE_NAME_REGEX = re.compile('^[a-zA-Z][a-zA-Z0-9_-]{1,30}[a-zA-Z0-9]$')` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ServiceSpecificationDefinitionSLZ | rest_framework.serializers.Serializer | to_representation, to_internal_value | 无 | 无 | 不适用 |
| ServiceObjSLZ | rest_framework.serializers.Serializer | get_origin, to_internal_value, validate_name | uuid, region, name, category_id, display_name, logo, description, long_description, instance_tutorial, available_languages, config, is_active, is_visible, specifications, provider_name, origin | 无 | 不适用 |
| PlanObjSLZ | rest_framework.serializers.Serializer | 无 | service_name, service_id, uuid, region, name, description, config, is_active, specifications, properties | 无 | 不适用 |
| PlanSLZ | rest_framework.serializers.ModelSerializer | 无 | service_name, region | 无 | 不适用 |
| PreCreatedInstanceSLZ | rest_framework.serializers.ModelSerializer | 无 | config | 无 | 不适用 |
| PlanWithPreCreatedInstanceSLZ | PlanSLZ | 无 | pre_created_instances | 无 | 不适用 |
| ServiceInstanceSLZ | rest_framework.serializers.Serializer | 无 | uuid, config, credentials | 无 | 不适用 |
| ServiceInstanceBindInfoSLZ | rest_framework.serializers.Serializer | 无 | instance, environment, module, plan, service | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/smart_advisor.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | ModelSerializer, JSONField | module |
| DeployFailurePattern | paasng.accessories.smart_advisor.models.DeployFailurePattern | 不适用 | module |
| DocumentaryLink | paasng.accessories.smart_advisor.models.DocumentaryLink | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DocumentaryLinkSLZ | rest_framework.serializers.ModelSerializer | 无 | affinity_tags | 无 | 不适用 |
| DeployFailurePatternSLZ | rest_framework.serializers.ModelSerializer | 无 | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/sourcectl.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| import_string | django.utils.module_loading.import_string | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | ModelSerializer | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| SourceTypeSpecConfig | paasng.platform.sourcectl.models.SourceTypeSpecConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SourceTypeSpecConfigSLZ | rest_framework.serializers.ModelSerializer | validate_server_config, validate_display_info_zh_cn, validate_display_info_en, validate_oauth_display_info_zh_cn, validate_oauth_display_info_en, validate, _validate_display_info, _validate_oauth_display_info | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/statistics.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| datetime | datetime.datetime | now | module |
| timedelta | datetime.timedelta | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, DateTimeField, BooleanField, CharField, IntegerField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppDeploymentFilterSlz | rest_framework.serializers.Serializer | validate | start_time, end_time, only_prod | 无 | 不适用 |
| AppDeploymentSlz | rest_framework.serializers.Serializer | 无 | name, code, last_operator, total, monthly_summary | 无 | 不适用 |
| DeveloperDeploymentSlz | rest_framework.serializers.Serializer | 无 | developer, total, monthly_summary | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/serializers/templates.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | ModelSerializer | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | PLUGIN | module |
| Template | paasng.platform.templates.models.Template | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TemplateSLZ | rest_framework.serializers.ModelSerializer | validate_preset_services_config, validate_required_buildpacks, validate_processes, validate_tags, validate | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/templatetags/__init__.py







---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/templatetags/admin_utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| template | django.template | Library | module |
| mark_safe | django.utils.safestring.mark_safe | 不适用 | module |
| JSONRenderer | rest_framework.renderers.JSONRenderer | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM, MANAGE_APP_TEMPLATES, OPERATE_PLATFORM | module |
| user_has_site_action_perm | paasng.infras.accounts.permissions.global_site.user_has_site_action_perm | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| register | 不适用 | `register = template.Library()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| to_json | `@register.filter(is_safe=True):` | register.filter | 不适用 |
| get_user_site_perms | `@register.simple_tag(takes_context=True):` | register.simple_tag | 不适用 |


---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| absolute_import | __future__.absolute_import | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |
| accountmgr | apiserver.paasng.paasng.plat_admin.admin42.views.accountmgr | as_view, UserProfilesManageView, UserProfilesManageViewSet, AccountFeatureFlagManageView, AccountFeatureFlagManageViewSet | module |
| applications | apiserver.paasng.paasng.plat_admin.admin42.views.applications | as_view, ApplicationListView, ApplicationOperationEvaluationView, ApplicationOperationReportExportView, ApplicationOverviewView, AppEnvConfManageView, ApplicationMembersManageView, ApplicationMembersManageViewSet, ApplicationFeatureFlagsView, ApplicationFeatureFlagsViewset | module |
| audit | apiserver.paasng.paasng.plat_admin.admin42.views.audit | as_view, AdminOperationAuditManageView, AdminAppOperationAuditManageView, AdminOperationAuditViewSet, AdminAppOperationAuditViewSet | module |
| bk_plugins | apiserver.paasng.paasng.plat_admin.admin42.views.bk_plugins | as_view, BKPluginMembersManageViewSet, BKPluginTagManageView, BKPluginTagView, BKPluginDistributorsManageView, BKPluginDistributorsView | module |
| builtin_config_vars | apiserver.paasng.paasng.plat_admin.admin42.views.builtin_config_vars | as_view, BuiltinConfigVarView, BuiltinConfigVarViewSet | module |
| dashboard_templates | apiserver.paasng.paasng.plat_admin.admin42.views.dashboard_templates | as_view, DashboardTemplateManageView, DashboardTemplateViewSet | module |
| runtimes | apiserver.paasng.paasng.plat_admin.admin42.views.runtimes | as_view, BuildPackManageView, BuildPackAPIViewSet, SlugBuilderManageView, SlugBuilderAPIViewSet, AppSlugRunnerManageView, SlugRunnerAPIViewSet | module |
| services | apiserver.paasng.paasng.plat_admin.admin42.views.services | as_view, PlatformServicesView, PlatformServicesManageViewSet, PlatformPlanView, PlatformPlanManageViewSet, PreCreatedInstanceView, PreCreatedInstanceManageViewSet, ApplicationServicesView, ApplicationServicesManageViewSet | module |
| smart_advisor | apiserver.paasng.paasng.plat_admin.admin42.views.smart_advisor | as_view, DocumentaryLinkView, DocumentaryLinkManageViewSet, DeployFailurePatternView, DeployFailurePatternManageViewSet | module |
| sourcectl | apiserver.paasng.paasng.plat_admin.admin42.views.sourcectl | as_view, SourceTypeSpecManageView, SourceTypeSpecViewSet | module |
| templates | apiserver.paasng.paasng.plat_admin.admin42.views.templates | as_view, TemplateManageView, TemplateViewSet | module |
| certs | apiserver.paasng.paasng.plat_admin.admin42.views.engine.certs | as_view, SharedCertsManageView | module |
| clusters | apiserver.paasng.paasng.plat_admin.admin42.views.engine.clusters | as_view, ClusterManageView, ClusterComponentManageView | module |
| config_vars | apiserver.paasng.paasng.plat_admin.admin42.views.engine.config_vars | as_view, ConfigVarManageView, ConfigVarViewSet | module |
| custom_domain | apiserver.paasng.paasng.plat_admin.admin42.views.engine.custom_domain | as_view, CustomDomainManageView | module |
| deployments | apiserver.paasng.paasng.plat_admin.admin42.views.engine.deployments | as_view, DeploymentListView | module |
| egress | apiserver.paasng.paasng.plat_admin.admin42.views.engine.egress | as_view, EgressManageView, EgressManageViewSet | module |
| log_config | apiserver.paasng.paasng.plat_admin.admin42.views.engine.log_config | as_view, LogConfigView | module |
| operator | apiserver.paasng.paasng.plat_admin.admin42.views.engine.operator | as_view, OperatorManageView | module |
| package | apiserver.paasng.paasng.plat_admin.admin42.views.engine.package | as_view, SourcePackageManageView, SourcePackageManageViewSet | module |
| proc_spec | apiserver.paasng.paasng.plat_admin.admin42.views.engine.proc_spec | as_view, ProcessSpecPlanManageView, ProcessSpecManageView | module |
| runtime | apiserver.paasng.paasng.plat_admin.admin42.views.engine.runtime | as_view, RuntimeManageView, RuntimeManageViewSet | module |
| deploy | apiserver.paasng.paasng.plat_admin.admin42.views.operation.deploy | as_view, AppDeployStatisticsView, DevelopersDeployStatisticsView | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| PART_MODULE | modules/(?P<module_name>[^/]+) | `PART_MODULE = 'modules/(?P<module_name>[^/]+)'` | module |
| PART_MODULE_WITH_ENV | modules/(?P<module_name>[^/]+)/envs/(?P<environment>[^/]+) | `PART_MODULE_WITH_ENV = 'modules/(?P<module_name>[^/]+)/envs/(?P<environment>[^/]+)'` | module |
| urlpatterns | 不适用 | `urlpatterns = [re_path('^$', views.FrontPageView.as_view(), name='admin.front_page'), re_path('^platform/$', applications.ApplicationListView.as_view(), name='admin.platform.index'), re_path('^platform/process_spec_plan/manage/$', proc_spec.ProcessSpecPlanManageView.as_view(), name='admin.process_spec_plan.manage'), re_path('^platform/services/manage$', services.PlatformServicesView.as_view(), name='admin.services.manage'), re_path('^platform/services/$', services.PlatformServicesManageViewSet.as_view(dict(post='create', get='list')), name='admin.services'), re_path('^platform/services/(?P<pk>[^/]+)/$', services.PlatformServicesManageViewSet.as_view(dict(put='update', delete='destroy')), name='admin.services.detail'), re_path('^platform/plans/manage$', services.PlatformPlanView.as_view(), name='admin.plans.manage'), re_path('^platform/plans/$', services.PlatformPlanManageViewSet.as_view(dict(get='list')), name='admin.plans.list'), re_path('^platform/services/(?P<service_id>[^/]+)/plans/$', services.PlatformPlanManageViewSet.as_view(dict(post='create')), name='admin.plans.create'), re_path('^platform/services/(?P<service_id>[^/]+)/plans/(?P<plan_id>[^/]+)/$', services.PlatformPlanManageViewSet.as_view(dict(delete='destroy', put='update')), name='admin.plans.detail'), re_path('^platform/pre-created-instances/manage$', services.PreCreatedInstanceView.as_view(), name='admin.pre_created_instances.manage'), re_path('^platform/pre-created-instances/$', services.PreCreatedInstanceManageViewSet.as_view(dict(post='create', get='list')), name='admin.pre_created_instances'), re_path('^platform/pre-created-instances/(?P<plan_id>[^/]+)/(?P<uuid>[^/]+)/$', services.PreCreatedInstanceManageViewSet.as_view(dict(delete='destroy', put='update')), name='admin.pre_created_instances.detail'), re_path('^platform/smart-advisor/documents/manage$', smart_advisor.DocumentaryLinkView.as_view(), name='admin.smart_advisor.documents.manage'), re_path('^platform/smart-advisor/documents/$', smart_advisor.DocumentaryLinkManageViewSet.as_view(dict(post='create', get='list')), name='admin.smart_advisor.documents'), re_path('^platform/smart-advisor/documents/(?P<pk>[^/]+)/$', smart_advisor.DocumentaryLinkManageViewSet.as_view(dict(delete='destroy', put='update')), name='admin.smart_advisor.documents.detail'), re_path('^platform/smart-advisor/deploy_failure_tips/manage$', smart_advisor.DeployFailurePatternView.as_view(), name='admin.smart_advisor.deploy_failure_tips.manage'), re_path('^platform/smart-advisor/deploy_failure_tips/$', smart_advisor.DeployFailurePatternManageViewSet.as_view(dict(post='create', get='list')), name='admin.smart_advisor.deploy_failure_tips'), re_path('^platform/smart-advisor/deploy_failure_tips/(?P<pk>[^/]+)/', smart_advisor.DeployFailurePatternManageViewSet.as_view(dict(delete='destroy', put='update')), name='admin.smart_advisor.deploy_failure_tips.detail'), re_path('^platform/runtimes/buildpack/manage/$', runtimes.BuildPackManageView.as_view(), name='admin.runtimes.buildpack.manage'), re_path('^platform/runtimes/buildpack/$', runtimes.BuildPackAPIViewSet.as_view(dict(post='create', get='list')), name='admin.runtimes.buildpack'), re_path('^platform/runtimes/buildpack/(?P<pk>[^/]+)/$', runtimes.BuildPackAPIViewSet.as_view(dict(put='update', delete='destroy')), name='admin.runtimes.buildpack.detail'), re_path('^platform/runtimes/buildpack/(?P<pk>[^/]+)/bind/$', runtimes.BuildPackAPIViewSet.as_view(dict(post='set_bound_builders', get='get_bound_builders')), name='admin.runtimes.buildpack.detail.bind'), re_path('^platform/runtimes/slugbuilder/manage/$', runtimes.SlugBuilderManageView.as_view(), name='admin.runtimes.slugbuilder.manage'), re_path('^platform/runtimes/slugbuilder/$', runtimes.SlugBuilderAPIViewSet.as_view(dict(post='create', get='list')), name='admin.runtimes.slugbuilder'), re_path('^platform/runtimes/slugbuilder/(?P<pk>[^/]+)/$', runtimes.SlugBuilderAPIViewSet.as_view(dict(put='update', delete='destroy')), name='admin.runtimes.slugbuilder.detail'), re_path('^platform/runtime/slugbuilder/(?P<pk>[^/]+)/bind/$', runtimes.SlugBuilderAPIViewSet.as_view(dict(post='set_bound_buildpacks', get='get_bound_buildpacks')), name='admin.runtimes.slugbuilder.detail.bind'), re_path('^platform/runtimes/slugrunner/manage$', runtimes.AppSlugRunnerManageView.as_view(), name='admin.runtimes.slugrunner.manage'), re_path('^platform/runtimes/slugrunner/$', runtimes.SlugRunnerAPIViewSet.as_view(dict(post='create', get='list')), name='admin.runtimes.slugrunner'), re_path('^platform/runtimes/slugrunner/(?P<pk>[^/]+)/$', runtimes.SlugRunnerAPIViewSet.as_view(dict(put='update', delete='destroy')), name='admin.runtimes.slugrunner.detail'), re_path('^platform/clusters/manage/$', clusters.ClusterManageView.as_view(), name='admin.clusters.manage'), re_path('^platform/clusters/components/manage/$', clusters.ClusterComponentManageView.as_view(), name='admin.cluster_components.manage'), re_path('^platform/operators/manage/$', operator.OperatorManageView.as_view(), name='admin.operators.manage'), re_path('^platform/certs/shared/manage/$', certs.SharedCertsManageView.as_view(), name='admin.shared.certs.manage'), re_path('^platform/sourcectl/source_type_spec/manage/$', sourcectl.SourceTypeSpecManageView.as_view(), name='admin.sourcectl.source_type_spec.manage'), re_path('^platform/sourcectl/source_type_spec/$', sourcectl.SourceTypeSpecViewSet.as_view(dict(post='create', get='list')), name='admin.sourcectl.source_type_spec'), re_path('^platform/sourcectl/source_type_spec/(?P<pk>[^/]+)/', sourcectl.SourceTypeSpecViewSet.as_view(dict(delete='destroy', put='update')), name='admin.sourcectl.source_type_spec.detail'), re_path('^applications/$', applications.ApplicationListView.as_view(), name='admin.applications.list'), re_path('^applications/evaluations/$', applications.ApplicationOperationEvaluationView.as_view(), name='admin.applications.operation_evaluation.list'), re_path('^applications/evaluations/export/$', applications.ApplicationOperationReportExportView.as_view({'get': 'export'}), name='admin.applications.operation_evaluation.export'), re_path('^applications/(?P<code>[^/]+)/overview/$', applications.ApplicationOverviewView.as_view(), name='admin.applications.detail.overview'), re_path(f'^applications/(?P<code>[^/]+)/{PART_MODULE_WITH_ENV}/engine/bind_cluster/$', applications.AppEnvConfManageView.as_view({'post': 'bind_cluster'}), name='admin.applications.engine.env_conf.bind_cluster'), re_path('^applications/(?P<code>[^/]+)/engine/process_specs/$', proc_spec.ProcessSpecManageView.as_view(), name='admin.applications.engine.process_specs'), re_path('^applications/(?P<code>[^/]+)/engine/source_packages/manage/$', package.SourcePackageManageView.as_view(), name='admin.applications.engine.source_packages.manage'), re_path('^applications/(?P<code>[^/]+)/engine/source_packages/$', package.SourcePackageManageViewSet.as_view(dict(get='list')), name='admin.applications.engine.source_packages.list'), re_path(f'^applications/(?P<code>[^/]+)/{PART_MODULE}/engine/source_packages/(?P<pk>[^/]+)/$', package.SourcePackageManageViewSet.as_view(dict(get='download')), name='admin.applications.engine.source_packages.detail'), re_path('^applications/(?P<code>[^/]+)/engine/egress/manage/$', egress.EgressManageView.as_view(), name='admin.applications.engine.egress.manage'), re_path(f'^applications/(?P<code>[^/]+)/{PART_MODULE_WITH_ENV}/engine/egress/$', egress.EgressManageViewSet.as_view(dict(get='get', post='create', delete='destroy')), name='admin.applications.engine.egress.detail'), re_path(f'^applications/(?P<code>[^/]+)/{PART_MODULE_WITH_ENV}/engine/egress/ips/$', egress.EgressManageViewSet.as_view(dict(get='get_egress_ips')), name='admin.applications.engine.egress.ips'), re_path('^applications/(?P<code>[^/]+)/engine/config_vars/manage/$', config_vars.ConfigVarManageView.as_view(), name='admin.applications.engine.config_vars.manage'), re_path('^application/(?P<code>[^/]+)/engine/config_vars$', config_vars.ConfigVarViewSet.as_view(dict(get='list')), name='admin.applications.engine.config_vars.list'), re_path(f'^application/(?P<code>[^/]+)/{PART_MODULE}/engine/config_vars$', config_vars.ConfigVarViewSet.as_view(dict(post='create')), name='admin.applications.engine.config_vars.create'), re_path(f'^application/(?P<code>[^/]+)/{PART_MODULE}/engine/config_vars/(?P<id>[^/]+)/$', config_vars.ConfigVarViewSet.as_view(dict(put='update', delete='destroy')), name='admin.applications.engine.config_vars.detail'), re_path('^applications/(?P<code>[^/]+)/engine/runtime/manage/$', runtime.RuntimeManageView.as_view(), name='admin.applications.engine.runtime.manage'), re_path('^applications/(?P<code>[^/]+)/engine/runtime/$', runtime.RuntimeManageViewSet.as_view(dict(get='list')), name='admin.applications.engine.runtime.list'), re_path(f'^applications/(?P<code>[^/]+)/{PART_MODULE}/engine/runtime$', runtime.RuntimeManageViewSet.as_view(dict(post='bind')), name='admin.applications.engine.runtime.bind'), re_path('^applications/(?P<code>[^/]+)/services/$', services.ApplicationServicesView.as_view(), name='admin.applications.services'), re_path('^api/applications/(?P<code>[^/]+)/services/$', services.ApplicationServicesManageViewSet.as_view({'get': 'list'}), name='admin.applications.services.list'), re_path('^api/applications/(?P<code>[^/]+)/modules/(?P<module_name>[^/]+)/env/(?P<environment>[^/]+)/services/(?P<service_id>[^/]+)/provision/$', services.ApplicationServicesManageViewSet.as_view({'post': 'provision_instance'}), name='admin.applications.services.provision'), re_path('^api/applications/(?P<code>[^/]+)/modules/(?P<module_name>[^/]+)/services/(?P<service_id>[^/]+)/instances/(?P<instance_id>[^/]+)/$', services.ApplicationServicesManageViewSet.as_view({'delete': 'recycle_resource'}), name='admin.applications.services.recycle_resource'), re_path('^applications/(?P<code>[^/]+)/base_info/memberships/$', applications.ApplicationMembersManageView.as_view(), name='admin.applications.detail.base_info.members'), re_path('^api/applications/(?P<code>[^/]+)/base_info/memberships/$', applications.ApplicationMembersManageViewSet.as_view({'get': 'list', 'post': 'update'}), name='admin.applications.detail.base_info.members.api'), re_path('^api/applications/(?P<code>[^/]+)/base_info/memberships/(?P<username>[^/]+)/$', applications.ApplicationMembersManageViewSet.as_view({'delete': 'destroy'}), name='admin.applications.detail.base_info.members.api'), re_path('^api/applications/(?P<code>[^/]+)/base_info/plugin/memberships/$', bk_plugins.BKPluginMembersManageViewSet.as_view({'post': 'update'}), name='admin.applications.detail.base_info.plugin.members.api'), re_path('^applications/(?P<code>[^/]+)/base_info/feature_flags/$', applications.ApplicationFeatureFlagsView.as_view(), name='admin.applications.detail.base_info.feature_flags'), re_path('^api/applications/(?P<code>[^/]+)/base_info/feature_flags/$', applications.ApplicationFeatureFlagsViewset.as_view({'get': 'list', 'post': 'update'}), name='admin.applications.detail.base_info.feature_flags.api'), re_path('^applications/(?P<code>[^/]+)/engine/custom_domain/$', custom_domain.CustomDomainManageView.as_view(), name='admin.applications.engine.custom_domain'), re_path('^applications/(?P<code>[^/]+)/engine/log_config/$', log_config.LogConfigView.as_view(), name='admin.applications.engine.log_config.manage'), re_path('^accountmgr/$', accountmgr.UserProfilesManageView.as_view(), name='admin.accountmgr.index'), re_path('^accountmgr/userprofiles/$', accountmgr.UserProfilesManageView.as_view(), name='admin.accountmgr.userprofiles.index'), re_path('^api/accountmgr/userprofiles/$', accountmgr.UserProfilesManageViewSet.as_view({'post': 'bulk_create', 'put': 'update', 'delete': 'destroy'}), name='admin.accountmgr.userprofile.api'), re_path('^accountmgr/account_feature_flags/$', accountmgr.AccountFeatureFlagManageView.as_view(), name='admin.accountmgr.account_feature_flags.index'), re_path('^api/accountmgr/account_feature_flags/$', accountmgr.AccountFeatureFlagManageViewSet.as_view({'get': 'list', 'post': 'update_or_create'}), name='admin.accountmgr.account_feature_flags.api'), re_path('^deployments/$', deployments.DeploymentListView.as_view(), name='admin.deployments.list'), re_path('^operation/statistics/deploy/apps/$', deploy.AppDeployStatisticsView.as_view({'get': 'get', 'post': 'export'}), name='admin.operation.statistics.deploy.apps'), re_path('^operation/statistics/deploy/apps/export/$', deploy.AppDeployStatisticsView.as_view({'get': 'export'}), name='admin.operation.statistics.deploy.apps.export'), re_path('^operation/statistics/deploy/developers/$', deploy.DevelopersDeployStatisticsView.as_view({'get': 'get'}), name='admin.operation.statistics.deploy.developers'), re_path('^operation/statistics/deploy/developers/export/$', deploy.DevelopersDeployStatisticsView.as_view({'get': 'export'}), name='admin.operation.statistics.deploy.developers.export')]` | module |



---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/utils/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| HttpResponse | django.shortcuts.HttpResponse | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| View | django.views.generic.View | 不适用 | module |

#### 星号导入

| 模块路径 | 代码块 |
|---------|-------|
| apiserver.paasng.paasng.plat_admin.admin42.utils.filters | module |


#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| unsupported_view | `def unsupported_view(reason: str) -> View:` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/utils/filters.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| reduce | functools.reduce | 不适用 | module |
| or_ | operator.or_ | 不适用 | module |
| ProviderType | bkpaas_auth.core.constants.ProviderType | 不适用 | module |
| user_id_encoder | bkpaas_auth.models.user_id_encoder | encode | module |
| Q | django.db.models.Q | 不适用 | module |
| BaseFilterBackend | rest_framework.filters.BaseFilterBackend | 不适用 | module |
| SiteRole | paasng.infras.accounts.constants.SiteRole | value, USER | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | 不适用 | module |
| UserProfileQueryParamSLZ | paasng.plat_admin.admin42.serializers.accountmgr.UserProfileQueryParamSLZ | 不适用 | module |
| ApplicationFilterSLZ | paasng.plat_admin.admin42.serializers.application.ApplicationFilterSLZ | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| BaseApplicationFilter | paasng.platform.applications.models.BaseApplicationFilter | filter_queryset | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationFilterBackend | rest_framework.filters.BaseFilterBackend | filter_queryset | 无 | 无 | Application filter |
| UserProfileFilterBackend | rest_framework.filters.BaseFilterBackend | filter_queryset | 无 | 无 | 用户信息列表过滤器 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/utils/mixins.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TemplateView | django.views.generic.TemplateView | 不适用 | module |
| GenericAPIView | rest_framework.generics.GenericAPIView | 不适用 | module |
| LimitOffsetPagination | rest_framework.pagination.LimitOffsetPagination | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | VISIT_ADMIN42 | module |
| site_perm_required | paasng.infras.accounts.permissions.global_site.site_perm_required | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RetrieveModelMixin | 无 | retrieve | 无 | 无 | 
    Retrieve a model instance.
     |
| ListModelMixin | 无 | list | 无 | 无 | 
    List model instances.
     |
| PaginationMixin | 无 | get_pagination_context | 无 | 无 | 获取分页上下文的mixin |
| GenericTemplateView | django.views.generic.TemplateView, RetrieveModelMixin, ListModelMixin, PaginationMixin, rest_framework.generics.GenericAPIView | get | schema, http_method_names | 无 | 一个继承了 DRF GenericAPIView 的模板视图, 支持通过 list、retrieve... |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/utils/organization.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| ComponentResponseInvalid | paasng.infras.bk_components.tof.ComponentResponseInvalid | 不适用 | module |
| get_center_info_by_groupid | paasng.infras.bk_components.tof.get_center_info_by_groupid | 不适用 | module |
| tof_get_bg_info_by_dept_id | paasng.infras.bk_components.tof.tof_get_bg_info_by_dept_id | 不适用 | module |
| tof_get_staff_info | paasng.infras.bk_components.tof.tof_get_staff_info | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_user_organization | `def get_user_organization(username):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| UserOrganization | 无 | 无 | 无 | dataclass | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | VISIT_ADMIN42 | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| FrontPageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 无 | template_name, permission_classes | 无 | Welcome to admin42 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/accountmgr.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| ProviderType | bkpaas_auth.core.constants.ProviderType | DATABASE | module |
| user_id_encoder | bkpaas_auth.models.user_id_encoder | encode | module |
| settings | django.conf.settings | USER_TYPE | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| status | rest_framework.status | HTTP_204_NO_CONTENT | module |
| viewsets | rest_framework.viewsets | GenericViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| AccountFeatureFlag | paasng.infras.accounts.models.AccountFeatureFlag | all, objects, get_user_features, set_feature | module |
| SiteRole | paasng.infras.accounts.constants.SiteRole | get_choices, value, BANNED_USER | module |
| User | paasng.infras.accounts.models.User | get_or_create, objects | module |
| UserPrivateToken | paasng.infras.accounts.models.UserPrivateToken | create_token, objects | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | order_by, objects, update_or_create, get | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| AccountFeatureFlagSLZ | paasng.infras.accounts.serializers.AccountFeatureFlagSLZ | 不适用 | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE, MODIFY, MODIFY_USER_FEATURE_FLAG | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | PLAT_USER | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_admin_audit_record | paasng.misc.audit.service.add_admin_audit_record | 不适用 | module |
| PROVIDER_TYPE_CHCOISE | paasng.plat_admin.admin42.serializers.accountmgr.PROVIDER_TYPE_CHCOISE | 不适用 | module |
| UserProfileBulkCreateFormSLZ | paasng.plat_admin.admin42.serializers.accountmgr.UserProfileBulkCreateFormSLZ | 不适用 | module |
| UserProfileSLZ | paasng.plat_admin.admin42.serializers.accountmgr.UserProfileSLZ | 不适用 | module |
| UserProfileUpdateFormSLZ | paasng.plat_admin.admin42.serializers.accountmgr.UserProfileUpdateFormSLZ | 不适用 | module |
| UserProfileFilterBackend | paasng.plat_admin.admin42.utils.filters.UserProfileFilterBackend | 不适用 | module |
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| UserProfilesManageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data, get | name, queryset, serializer_class, permission_classes, template_name, filter_backends | 无 | 不适用 |
| UserProfilesManageViewSet | rest_framework.viewsets.GenericViewSet | bulk_create, update, destroy | serializer_class, permission_classes | 无 | 不适用 |
| AccountFeatureFlagManageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get, get_context_data | template_name, permission_classes, name | 无 | 不适用 |
| AccountFeatureFlagManageViewSet | rest_framework.viewsets.GenericViewSet | list, update_or_create | schema, permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/applications.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| rest_framework.request | Request, request | module |
| xlwt | Workbook | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Q | django.db.models.Q | 不适用 | module |
| HttpResponse | django.http.HttpResponse | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| status | rest_framework.status | HTTP_204_NO_CONTENT | module |
| viewsets | rest_framework.viewsets | GenericViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| RegionClusterService | paas_wl.infras.cluster.shim.RegionClusterService | 不适用 | module |
| get_exposed_url | paasng.accessories.publish.entrance.exposer.get_exposed_url | 不适用 | module |
| DefaultRediStore | paasng.core.core.storages.redisdb.DefaultRediStore | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| BKIAMGatewayServiceError | paasng.infras.iam.exceptions.BKIAMGatewayServiceError | 不适用 | module |
| add_role_members | paasng.infras.iam.helpers.add_role_members | 不适用 | module |
| fetch_application_members | paasng.infras.iam.helpers.fetch_application_members | 不适用 | module |
| fetch_role_members | paasng.infras.iam.helpers.fetch_role_members | 不适用 | module |
| fetch_user_roles | paasng.infras.iam.helpers.fetch_user_roles | 不适用 | module |
| remove_user_all_roles | paasng.infras.iam.helpers.remove_user_all_roles | 不适用 | module |
| constants | paasng.misc.audit.constants | RAW_DATA, DataType | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | BIND_CLUSTER, DELETE, MODIFY | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | APP, APP_MEMBER, FEATURE_FLAG | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_admin_audit_record | paasng.misc.audit.service.add_admin_audit_record | 不适用 | module |
| ApplicationDetailSLZ | paasng.plat_admin.admin42.serializers.application.ApplicationDetailSLZ | 不适用 | module |
| ApplicationSLZ | paasng.plat_admin.admin42.serializers.application.ApplicationSLZ | 不适用 | module |
| AppOperationReportCollectionTaskOutputSLZ | paasng.plat_admin.admin42.serializers.application.AppOperationReportCollectionTaskOutputSLZ | 不适用 | module |
| AppOperationReportListInputSLZ | paasng.plat_admin.admin42.serializers.application.AppOperationReportListInputSLZ | 不适用 | module |
| AppOperationReportOutputSLZ | paasng.plat_admin.admin42.serializers.application.AppOperationReportOutputSLZ | 不适用 | module |
| BindEnvClusterSLZ | paasng.plat_admin.admin42.serializers.application.BindEnvClusterSLZ | 不适用 | module |
| ApplicationFilterBackend | paasng.plat_admin.admin42.utils.filters.ApplicationFilterBackend | 不适用 | module |
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |
| is_plugin_instance_exist | paasng.plat_admin.admin42.views.bk_plugins.is_plugin_instance_exist | 不适用 | module |
| is_user_plugin_admin | paasng.plat_admin.admin42.views.bk_plugins.is_user_plugin_admin | 不适用 | module |
| AppFeatureFlag | paasng.platform.applications.constants.AppFeatureFlag | get_django_choices | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | ADMINISTRATOR, value, DEVELOPER, OPERATOR, get_django_choices | module |
| Application | paasng.platform.applications.models.Application | all, objects | module |
| ApplicationFeatureFlag | paasng.platform.applications.models.ApplicationFeatureFlag | get_application_features, objects | module |
| ApplicationFeatureFlagSLZ | paasng.platform.applications.serializers.ApplicationFeatureFlagSLZ | 不适用 | module |
| ApplicationMemberSLZ | paasng.platform.applications.serializers.ApplicationMemberSLZ | 不适用 | module |
| application_member_updated | paasng.platform.applications.signals.application_member_updated | send | module |
| cal_app_resource_quotas | paasng.platform.applications.tasks.cal_app_resource_quotas | delay | module |
| sync_developers_to_sentry | paasng.platform.applications.tasks.sync_developers_to_sentry | delay | module |
| ClusterType | paasng.platform.engine.constants.ClusterType | get_choice_label | module |
| OperationIssueType | paasng.platform.evaluation.constants.OperationIssueType | get_choice_label | module |
| AppOperationReport | paasng.platform.evaluation.models.AppOperationReport | all, objects | module |
| AppOperationReportCollectionTask | paasng.platform.evaluation.models.AppOperationReportCollectionTask | order_by, objects | module |
| error_codes | paasng.utils.error_codes.error_codes | f, DELETE_APP_MEMBERS_ERROR, UPDATE_APP_MEMBERS_ERROR | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationListView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data, get_app_resource_context_data | name, queryset, serializer_class, template_name, permission_classes, filter_backends | 无 | Application列表 的模板视图 |
| ApplicationOperationReportMixin | 无 | get_queryset | 无 | 无 | 不适用 |
| ApplicationOperationEvaluationView | ApplicationOperationReportMixin, paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data | name, template_name, permission_classes | 无 | 不适用 |
| ApplicationOperationReportExportView | ApplicationOperationReportMixin, rest_framework.viewsets.GenericViewSet | export, get_sheet_headers, get_sheet_data | permission_classes | 无 | 导出应用运营报告 |
| ApplicationDetailBaseView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data, get, get_application | template_name, permission_classes | 无 | Application详情概览页 |
| ApplicationOverviewView | ApplicationDetailBaseView | get_context_data | queryset, serializer_class, template_name, name | 无 | 应用详情概览页 |
| AppEnvConfManageView | rest_framework.viewsets.GenericViewSet | bind_cluster | permission_classes | 无 | 应用部署环境配置管理 |
| ApplicationMembersManageView | ApplicationDetailBaseView | get_context_data | template_name, name | 无 | Application 应用成员管理页 |
| ApplicationMembersManageViewSet | rest_framework.viewsets.GenericViewSet | _gen_data_detail, list, destroy, update, sync_membership | permission_classes | 无 | Application应用成员 CRUD 接口 |
| ApplicationFeatureFlagsView | ApplicationDetailBaseView | get_context_data | template_name, name | 无 | Application应用特性管理页 |
| ApplicationFeatureFlagsViewset | rest_framework.viewsets.GenericViewSet | list, update | serializer_class, permission_classes | 无 | Application应用特性 CRUD 接口 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/audit.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| generics | rest_framework.generics | RetrieveAPIView | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| AccessType | paasng.misc.audit.constants.AccessType | get_choices | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | get_choices | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | get_choices | module |
| ResultCode | paasng.misc.audit.constants.ResultCode | get_choices | module |
| AdminOperationRecord | paasng.misc.audit.models.AdminOperationRecord | filter, objects, all, exclude | module |
| AppAuditOperationListInputSLZ | paasng.plat_admin.admin42.serializers.audit.AppAuditOperationListInputSLZ | 不适用 | module |
| AppAuditOperationListOutputSLZ | paasng.plat_admin.admin42.serializers.audit.AppAuditOperationListOutputSLZ | 不适用 | module |
| AppAuditOperationRetrieveOutputSLZ | paasng.plat_admin.admin42.serializers.audit.AppAuditOperationRetrieveOutputSLZ | 不适用 | module |
| AuditOperationListOutputSLZ | paasng.plat_admin.admin42.serializers.audit.AuditOperationListOutputSLZ | 不适用 | module |
| AuditOperationRetrieveOutputSLZ | paasng.plat_admin.admin42.serializers.audit.AuditOperationRetrieveOutputSLZ | 不适用 | module |
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | get_choices | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AdminOperationAuditManageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data | name, queryset, serializer_class, permission_classes, template_name | 无 | 后台管理审计页面 |
| AdminOperationAuditViewSet | rest_framework.generics.RetrieveAPIView | 无 | serializer_class, queryset, permission_classes | 无 | 获取单个 AdminOperationRecord 信息，该记录不是 app 操作 |
| AdminAppOperationAuditManageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data, filter_queryset | name, queryset, serializer_class, permission_classes, template_name | 无 | 应用操作审计页面 |
| AdminAppOperationAuditViewSet | rest_framework.generics.RetrieveAPIView | 无 | serializer_class, queryset, permission_classes | 无 | 获取单个 AdminOperationRecord 信息，该记录是 app 操作 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/bk_plugins.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_204_NO_CONTENT, HTTP_200_OK | module |
| ListModelMixin | rest_framework.mixins.ListModelMixin | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| ViewSet | rest_framework.viewsets.ViewSet | 不适用 | module |
| BkPluginDistributor | paasng.bk_plugins.bk_plugins.models.BkPluginDistributor | all, objects | module |
| BkPluginTag | paasng.bk_plugins.bk_plugins.models.BkPluginTag | all, objects | module |
| constants | paasng.misc.audit.constants | RAW_DATA, DataType | module |
| shim | paasng.bk_plugins.pluginscenter.iam_adaptor.management.shim | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | filter, objects | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_APP_TEMPLATES, MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE, MODIFY, DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | BKPLUGIN_TAG, BKPLUGIN_DISTRIBUTOR, BKPLUGIN_MEMBER | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_admin_audit_record | paasng.misc.audit.service.add_admin_audit_record | 不适用 | module |
| BkPluginDistributorSLZ | paasng.plat_admin.admin42.serializers.bk_plugins.BkPluginDistributorSLZ | 不适用 | module |
| BKPluginMembersManageReqSLZ | paasng.plat_admin.admin42.serializers.bk_plugins.BKPluginMembersManageReqSLZ | 不适用 | module |
| BKPluginTagSLZ | paasng.plat_admin.admin42.serializers.bk_plugins.BKPluginTagSLZ | 不适用 | module |
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| is_plugin_instance_exist | `def is_plugin_instance_exist(code: str) -> bool:` | 无 | 不适用 |
| is_user_plugin_admin | `def is_user_plugin_admin(code: str, username: str) -> bool:` | 无 | 判断用户是否是插件管理员 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKPluginTagManageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 无 | template_name, permission_classes, name | 无 | 平台服务管理-插件分类配置 |
| BKPluginTagView | rest_framework.viewsets.GenericViewSet, rest_framework.mixins.ListModelMixin | create, update, destroy | queryset, serializer_class, permission_classes | 无 | 平台服务管理-插件分类配置API |
| BKPluginDistributorsManageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 无 | template_name, permission_classes, name | 无 | 平台服务管理-插件使用方配置 |
| BKPluginDistributorsView | rest_framework.viewsets.GenericViewSet, rest_framework.mixins.ListModelMixin | create, update, destroy | queryset, serializer_class, permission_classes | 无 | 平台服务管理-插件使用方配置API |
| BKPluginMembersManageViewSet | rest_framework.viewsets.ViewSet | _gen_data_detail, update | permission_classes | 无 | 插件成员管理接口 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/builtin_config_vars.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | CONFIGVAR_SYSTEM_PREFIX | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| status | rest_framework.status | HTTP_204_NO_CONTENT | module |
| viewsets | rest_framework.viewsets | GenericViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE, MODIFY, DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | ENV_VAR | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_admin_audit_record | paasng.misc.audit.service.add_admin_audit_record | 不适用 | module |
| BuiltinConfigVarCreateInputSLZ | paasng.plat_admin.admin42.serializers.config_vars.BuiltinConfigVarCreateInputSLZ | 不适用 | module |
| BuiltinConfigVarListOutputSLZ | paasng.plat_admin.admin42.serializers.config_vars.BuiltinConfigVarListOutputSLZ | 不适用 | module |
| BuiltinConfigVarUpdateInputSLZ | paasng.plat_admin.admin42.serializers.config_vars.BuiltinConfigVarUpdateInputSLZ | 不适用 | module |
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |
| BuiltinConfigVar | paasng.platform.engine.models.config_var.BuiltinConfigVar | order_by, objects, create | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BuiltinConfigVarView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data, get | name, permission_classes, template_name | 无 | 不适用 |
| BuiltinConfigVarViewSet | rest_framework.viewsets.GenericViewSet | list, create, update, destroy | permission_classes | 无 | 环境变量管理 API 接口 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/dashboard_templates.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| status | rest_framework.status | HTTP_201_CREATED, HTTP_204_NO_CONTENT | module |
| ListModelMixin | rest_framework.mixins.ListModelMixin | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_APP_TEMPLATES | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE, MODIFY, DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | DASHBOARD_TEMPLATE | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_admin_audit_record | paasng.misc.audit.service.add_admin_audit_record | 不适用 | module |
| AppDashboardTemplate | paasng.misc.monitoring.monitor.models.AppDashboardTemplate | all, objects | module |
| DashboardTemplateSLZ | paasng.plat_admin.admin42.serializers.dashboard_templates.DashboardTemplateSLZ | 不适用 | module |
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |
| AppLanguage | paasng.platform.applications.constants.AppLanguage | get_choices | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DashboardTemplateManageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data | template_name, permission_classes, name | 无 | 平台服务管理-仪表盘模板配置 |
| DashboardTemplateViewSet | rest_framework.mixins.ListModelMixin, rest_framework.viewsets.GenericViewSet | create, update, destroy | queryset, serializer_class, permission_classes | 无 | 平台服务管理-仪表盘模板配置API |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/engine/__init__.py







---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/engine/certs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SharedCertsManageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data | name, template_name, permission_classes | 无 | 共享证书管理页 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/engine/clusters.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | BKPAAS_K8S_CLUSTER_COMPONENTS | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | get_django_choices | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |
| ClusterType | paasng.platform.engine.constants.ClusterType | get_choices | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ClusterManageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data | name, template_name, permission_classes | 无 | Cluster 管理页 |
| ClusterComponentManageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data | name, template_name, permission_classes | 无 | 集群组件页面 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/engine/config_vars.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| copy | deepcopy | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_204_NO_CONTENT | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE, MODIFY, DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | ENV_VAR | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_admin_audit_record | paasng.misc.audit.service.add_admin_audit_record | 不适用 | module |
| ConfigVarSLZ | paasng.plat_admin.admin42.serializers.config_vars.ConfigVarSLZ | 不适用 | module |
| ModuleSLZ | paasng.plat_admin.admin42.serializers.module.ModuleSLZ | 不适用 | module |
| ApplicationDetailBaseView | paasng.plat_admin.admin42.views.applications.ApplicationDetailBaseView | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | get_choices | module |
| ENVIRONMENT_ID_FOR_GLOBAL | paasng.platform.engine.models.config_var.ENVIRONMENT_ID_FOR_GLOBAL | 不适用 | module |
| ENVIRONMENT_NAME_FOR_GLOBAL | paasng.platform.engine.models.config_var.ENVIRONMENT_NAME_FOR_GLOBAL | 不适用 | module |
| ConfigVar | paasng.platform.engine.models.config_var.ConfigVar | filter, objects | module |
| ConfigVarViewSet | paasng.platform.engine.views.ConfigVarViewSet | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ConfigVarManageView | paasng.plat_admin.admin42.views.applications.ApplicationDetailBaseView | get_context_data | name, template_name | 无 | 不适用 |
| ConfigVarViewSet | BaseConfigVarViewSet | get_queryset, get_serializer_context, _gen_data_detail, create, update, destroy | schema, serializer_class, permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/engine/custom_domain.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ModuleSLZ | paasng.plat_admin.admin42.serializers.module.ModuleSLZ | 不适用 | module |
| ApplicationDetailBaseView | paasng.plat_admin.admin42.views.applications.ApplicationDetailBaseView | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | get_choices | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CustomDomainManageView | paasng.plat_admin.admin42.views.applications.ApplicationDetailBaseView | get_context_data | name, template_name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/engine/deployments.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| DeploymentForListSLZ | paasng.plat_admin.admin42.serializers.engine.DeploymentForListSLZ | 不适用 | module |
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | all, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeploymentListView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_queryset, list, get_context_data, get | name, serializer_class, permission_classes, template_name | 无 | 查看当前应用部署数据 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/engine/egress.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_204_NO_CONTENT | module |
| ListModelMixin | rest_framework.mixins.ListModelMixin | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | ENABLE_BCS_EGRESS | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| Egress | paas_wl.infras.resources.base.crd.Egress | 不适用 | module |
| KPod | paas_wl.infras.resources.base.kres.KPod | 不适用 | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |
| EgressRule | paas_wl.workloads.networking.egress.models.EgressRule | filter, objects, bulk_create | module |
| EgressSpec | paas_wl.workloads.networking.egress.models.EgressSpec | filter, objects, create | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | MODIFY, CREATE, DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | EGRESS_SPEC | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_admin_audit_record | paasng.misc.audit.service.add_admin_audit_record | 不适用 | module |
| EgressSpecSLZ | paasng.plat_admin.admin42.serializers.egress.EgressSpecSLZ | 不适用 | module |
| ApplicationDetailBaseView | paasng.plat_admin.admin42.views.applications.ApplicationDetailBaseView | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | f, FEATURE_FLAG_DISABLED, EGRESS_SPEC_NOT_FOUND | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EgressManageView | paasng.plat_admin.admin42.views.applications.ApplicationDetailBaseView | 无 | name, template_name | 无 | 不适用 |
| EgressManageViewSet | rest_framework.mixins.ListModelMixin, rest_framework.viewsets.GenericViewSet | _gen_spec_data, get, create, destroy, get_egress_ips, _get_wl_app | permission_classes | 无 | Egress 管理 API |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/engine/log_config.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ApplicationDetailBaseView | paasng.plat_admin.admin42.views.applications.ApplicationDetailBaseView | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | get_choices | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LogConfigView | paasng.plat_admin.admin42.views.applications.ApplicationDetailBaseView | get_context_data | name, template_name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/engine/operator.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| RegionClusterService | paas_wl.infras.cluster.shim.RegionClusterService | 不适用 | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| OperatorManageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data | name, template_name, permission_classes | 无 | PaaS Operator 管理页 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/engine/package.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| HttpResponse | django.http.response.HttpResponse | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| ListModelMixin | rest_framework.mixins.ListModelMixin | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| ModuleSLZ | paasng.plat_admin.admin42.serializers.module.ModuleSLZ | 不适用 | module |
| SourcePackageSLZ | paasng.plat_admin.admin42.serializers.packages.SourcePackageSLZ | 不适用 | module |
| ApplicationDetailBaseView | paasng.plat_admin.admin42.views.applications.ApplicationDetailBaseView | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | get_choices | module |
| SourcePackage | paasng.platform.sourcectl.models.SourcePackage | filter, objects, all | module |
| download_package | paasng.platform.sourcectl.package.downloader.download_package | 不适用 | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SourcePackageManageView | paasng.plat_admin.admin42.views.applications.ApplicationDetailBaseView | get_context_data | name, template_name | 无 | 不适用 |
| SourcePackageManageViewSet | rest_framework.mixins.ListModelMixin, rest_framework.viewsets.GenericViewSet | get_queryset, download | schema, queryset, serializer_class, permission_classes | 无 | 包版本管理API |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/engine/proc_spec.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | FORCE_SCRIPT_NAME | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Request | rest_framework.request.Request | 不适用 | module |
| InstanceSerializer | paas_wl.apis.admin.serializers.processes.InstanceSerializer | 不适用 | module |
| ProcessSpecPlanSLZ | paas_wl.apis.admin.serializers.processes.ProcessSpecPlanSLZ | 不适用 | module |
| ProcessSpecPlan | paas_wl.bk_app.processes.models.ProcessSpecPlan | all, objects, get_by_name | module |
| ProcessManager | paas_wl.bk_app.processes.processes.ProcessManager | 不适用 | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |
| ApplicationDetailBaseView | paasng.plat_admin.admin42.views.applications.ApplicationDetailBaseView | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | filter, objects | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | get_choices | module |
| remove_prefix | paasng.utils.text.remove_prefix | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_path | `def get_path(request: Request) -> str:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessSpecPlanManageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data, get | name, serializer_class, queryset, permission_classes, template_name | 无 | ProcessSpecPlan 管理页 |
| ProcessSpecManageView | paasng.plat_admin.admin42.views.applications.ApplicationDetailBaseView | get_context_data, get | name, template_name | 无 | 应用 ProcessSpec 管理页 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/engine/runtime.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| transaction | django.db.transaction | atomic | module |
| Http404 | django.http.response.Http404 | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| HTTP_204_NO_CONTENT | rest_framework.status.HTTP_204_NO_CONTENT | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| ModuleSLZ | paasng.plat_admin.admin42.serializers.module.ModuleSLZ | 不适用 | module |
| AppBuildPackSLZ | paasng.plat_admin.admin42.serializers.runtime.AppBuildPackSLZ | 不适用 | module |
| AppSlugBuilderSLZ | paasng.plat_admin.admin42.serializers.runtime.AppSlugBuilderSLZ | 不适用 | module |
| AppSlugRunnerSLZ | paasng.plat_admin.admin42.serializers.runtime.AppSlugRunnerSLZ | 不适用 | module |
| ApplicationDetailBaseView | paasng.plat_admin.admin42.views.applications.ApplicationDetailBaseView | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| BPNotFound | paasng.platform.modules.exceptions.BPNotFound | 不适用 | module |
| ModuleRuntimeBinder | paasng.platform.modules.helpers.ModuleRuntimeBinder | 不适用 | module |
| ModuleRuntimeManager | paasng.platform.modules.helpers.ModuleRuntimeManager | 不适用 | module |
| AppBuildPack | paasng.platform.modules.models.AppBuildPack | filter, objects | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | filter, objects | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | get, objects | module |
| ModuleRuntimeBindSLZ | paasng.platform.modules.serializers.ModuleRuntimeBindSLZ | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ModuleRuntimeSLZ | 无 | __init__, to_dict | 无 | 无 | 不适用 |
| RuntimeStack | 无 | __init__, to_dict | 无 | 无 | 不适用 |
| RuntimeManageView | paasng.plat_admin.admin42.views.applications.ApplicationDetailBaseView | get_context_data | name, template_name | 无 | 不适用 |
| RuntimeManageViewSet | rest_framework.viewsets.GenericViewSet | list, bind | schema, permission_classes | 无 | 运行时管理 API |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/operation/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| OperationIndexView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 无 | name, template_name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/operation/deploy.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| arrow | span_range, Arrow | module |
| xlwt | Workbook | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Count | django.db.models.Count | 不适用 | module |
| F | django.db.models.F | 不适用 | module |
| HttpResponse | django.http.HttpResponse | 不适用 | module |
| TemplateView | django.views.generic.TemplateView | 不适用 | module |
| viewsets | rest_framework.viewsets | GenericViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | OPERATE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| AppDeploymentFilterSlz | paasng.plat_admin.admin42.serializers.statistics.AppDeploymentFilterSlz | 不适用 | module |
| AppDeploymentSlz | paasng.plat_admin.admin42.serializers.statistics.AppDeploymentSlz | 不适用 | module |
| DeveloperDeploymentSlz | paasng.plat_admin.admin42.serializers.statistics.DeveloperDeploymentSlz | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | all, objects, filter | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |
| UserOrganization | paasng.plat_admin.admin42.utils.organization.UserOrganization | keys, __annotations__ | module |
| get_user_organization | paasng.plat_admin.admin42.utils.organization.get_user_organization | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployStatisticsView | django.views.generic.TemplateView, rest_framework.viewsets.GenericViewSet | get_context_data, get_months, filter_queryset, get, export | permission_classes | 无 | 不适用 |
| AppDeployStatisticsView | DeployStatisticsView | get_data, get_sheet_headers, get_sheet_data | name, export_suffix, template_name, queryset, serializer_class | 无 | 不适用 |
| DevelopersDeployStatisticsView | DeployStatisticsView | get_data, get_sheet_headers, get_sheet_data | name, export_suffix, template_name, queryset, serializer_class | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/runtimes.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| transaction | django.db.transaction | atomic | module |
| status | rest_framework.status | HTTP_204_NO_CONTENT, HTTP_201_CREATED | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | MODIFY, CREATE, DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | BUILDPACK, SLUGBUILDER, SLUGRUNNER | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_admin_audit_record | paasng.misc.audit.service.add_admin_audit_record | 不适用 | module |
| AppSlugBuilderBindInputSLZ | paasng.plat_admin.admin42.serializers.runtimes.AppSlugBuilderBindInputSLZ | 不适用 | module |
| AppSlugBuilderCreateInputSLZ | paasng.plat_admin.admin42.serializers.runtimes.AppSlugBuilderCreateInputSLZ | 不适用 | module |
| AppSlugBuilderListInputSLZ | paasng.plat_admin.admin42.serializers.runtimes.AppSlugBuilderListInputSLZ | 不适用 | module |
| AppSlugBuilderListOutputSLZ | paasng.plat_admin.admin42.serializers.runtimes.AppSlugBuilderListOutputSLZ | 不适用 | module |
| AppSlugBuilderUpdateInputSLZ | paasng.plat_admin.admin42.serializers.runtimes.AppSlugBuilderUpdateInputSLZ | 不适用 | module |
| AppSlugRunnerCreateInputSLZ | paasng.plat_admin.admin42.serializers.runtimes.AppSlugRunnerCreateInputSLZ | 不适用 | module |
| AppSlugRunnerListInputSLZ | paasng.plat_admin.admin42.serializers.runtimes.AppSlugRunnerListInputSLZ | 不适用 | module |
| AppSlugRunnerListOutputSLZ | paasng.plat_admin.admin42.serializers.runtimes.AppSlugRunnerListOutputSLZ | 不适用 | module |
| AppSlugRunnerUpdateInputSLZ | paasng.plat_admin.admin42.serializers.runtimes.AppSlugRunnerUpdateInputSLZ | 不适用 | module |
| BuildPackBindInputSLZ | paasng.plat_admin.admin42.serializers.runtimes.BuildPackBindInputSLZ | 不适用 | module |
| BuildPackCreateInputSLZ | paasng.plat_admin.admin42.serializers.runtimes.BuildPackCreateInputSLZ | 不适用 | module |
| BuildPackListInputSLZ | paasng.plat_admin.admin42.serializers.runtimes.BuildPackListInputSLZ | 不适用 | module |
| BuildPackListOutputSLZ | paasng.plat_admin.admin42.serializers.runtimes.BuildPackListOutputSLZ | 不适用 | module |
| BuildPackUpdateInputSLZ | paasng.plat_admin.admin42.serializers.runtimes.BuildPackUpdateInputSLZ | 不适用 | module |
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |
| StepMetaSet | paasng.platform.engine.models.steps.StepMetaSet | all, objects | module |
| AppImageType | paasng.platform.modules.constants.AppImageType | get_choices, get_builder_buildpack_type_map | module |
| BuildPackType | paasng.platform.modules.constants.BuildPackType | get_choices, get_buildpack_builder_type_map | module |
| SlugbuilderBinder | paasng.platform.modules.helpers.SlugbuilderBinder | 不适用 | module |
| AppBuildPack | paasng.platform.modules.models.AppBuildPack | order_by, objects, get, filter | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | filter, objects, get, order_by | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | order_by, objects, get | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BuildPackManageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data | name, template_name, permission_classes | 无 | 不适用 |
| BuildPackAPIViewSet | rest_framework.viewsets.GenericViewSet | list, get_bound_builders, set_bound_builders, create, update, destroy | permission_classes | 无 | BuildPack 管理 API 接口 |
| SlugBuilderManageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data | name, template_name, permission_classes | 无 | 不适用 |
| SlugBuilderAPIViewSet | rest_framework.viewsets.GenericViewSet | get_bound_buildpacks, set_bound_buildpacks, list, create, update, destroy | permission_classes | 无 | SlugBuilder 管理 API 接口 |
| AppSlugRunnerManageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data | name, template_name, permission_classes | 无 | 不适用 |
| SlugRunnerAPIViewSet | rest_framework.viewsets.GenericViewSet | list, create, update, destroy | permission_classes | 无 | SlugRunner 管理 API 接口 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/services.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| atomic | django.db.transaction.atomic | 不适用 | module |
| Http404 | django.http.response.Http404 | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_204_NO_CONTENT | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| ModelViewSet | rest_framework.viewsets.ModelViewSet | 不适用 | module |
| LEGACY_PLAN_ID | paasng.accessories.servicehub.constants.LEGACY_PLAN_ID | 不适用 | module |
| ServiceObjNotFound | paasng.accessories.servicehub.exceptions.ServiceObjNotFound | 不适用 | module |
| SvcAttachmentDoesNotExist | paasng.accessories.servicehub.exceptions.SvcAttachmentDoesNotExist | 不适用 | module |
| LocalServiceMgr | paasng.accessories.servicehub.manager.LocalServiceMgr | 不适用 | module |
| mixed_plan_mgr | paasng.accessories.servicehub.manager.mixed_plan_mgr | list, create, delete, update | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | list_all_rels, get_or_404, list_unprovisioned_rels, get_instance_rel_by_instance_id, list, get_without_region, destroy, update | module |
| UnsupportedOperationError | paasng.accessories.servicehub.remote.exceptions.UnsupportedOperationError | 不适用 | module |
| EngineAppInstanceRel | paasng.accessories.servicehub.services.EngineAppInstanceRel | 不适用 | module |
| Plan | paasng.accessories.services.models.Plan | filter, objects, get | module |
| PreCreatedInstance | paasng.accessories.services.models.PreCreatedInstance | all, objects | module |
| Service | paasng.accessories.services.models.Service | all, objects | module |
| ServiceCategory | paasng.accessories.services.models.ServiceCategory | all, objects | module |
| get_instance_schema_by_service_name | paasng.accessories.services.providers.get_instance_schema_by_service_name | 不适用 | module |
| get_plan_schema_by_provider_name | paasng.accessories.services.providers.get_plan_schema_by_provider_name | 不适用 | module |
| get_provider_choices | paasng.accessories.services.providers.get_provider_choices | 不适用 | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | PROVISION_INSTANCE, RECYCLE_RESOURCE, CREATE, DELETE, MODIFY | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | APP, ADD_ON, ADDON_PLAN | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_admin_audit_record | paasng.misc.audit.service.add_admin_audit_record | 不适用 | module |
| PlanObjSLZ | paasng.plat_admin.admin42.serializers.services.PlanObjSLZ | 不适用 | module |
| PlanWithPreCreatedInstanceSLZ | paasng.plat_admin.admin42.serializers.services.PlanWithPreCreatedInstanceSLZ | 不适用 | module |
| PreCreatedInstanceSLZ | paasng.plat_admin.admin42.serializers.services.PreCreatedInstanceSLZ | 不适用 | module |
| ServiceInstanceBindInfoSLZ | paasng.plat_admin.admin42.serializers.services.ServiceInstanceBindInfoSLZ | 不适用 | module |
| ServiceInstanceSLZ | paasng.plat_admin.admin42.serializers.services.ServiceInstanceSLZ | 不适用 | module |
| ServiceObjSLZ | paasng.plat_admin.admin42.serializers.services.ServiceObjSLZ | 不适用 | module |
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |
| ApplicationDetailBaseView | paasng.plat_admin.admin42.views.applications.ApplicationDetailBaseView | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | f, CANNOT_PROVISION_INSTANCE, FEATURE_FLAG_DISABLED | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationServicesView | paasng.plat_admin.admin42.views.applications.ApplicationDetailBaseView | get_context_data | template_name, permission_classes, name | 无 | Application应用增强服务页 |
| ApplicationServicesManageViewSet | rest_framework.viewsets.GenericViewSet | _gen_service_data_detail, list, provision_instance, recycle_resource | schema, serializer_class, permission_classes | 无 | 应用增强服务管理-服务管理API |
| PlatformServicesView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data | template_name, permission_classes, name | 无 | 平台增强服务管理-增强服务页 |
| PlatformServicesManageViewSet | rest_framework.viewsets.GenericViewSet | create, list, destroy, update | schema, permission_classes | 无 | 平台增强服务管理-服务管理API |
| PlatformPlanView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data | template_name, permission_classes, name | 无 | 平台增强服务管理-方案管理页 |
| PlatformPlanManageViewSet | rest_framework.viewsets.GenericViewSet | create, list, destroy, update | schema, permission_classes | 无 | 平台增强服务管理-方案管理API |
| PreCreatedInstanceView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_queryset, get_context_data | template_name, serializer_class, permission_classes, name | 无 | 平台增强服务管理-方案管理页 |
| PreCreatedInstanceManageViewSet | rest_framework.viewsets.ModelViewSet | get_plan, get_queryset, list | schema, serializer_class, permission_classes, lookup_field | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/smart_advisor.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| status | rest_framework.status | HTTP_201_CREATED, HTTP_204_NO_CONTENT | module |
| ListModelMixin | rest_framework.mixins.ListModelMixin | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| DeployFailurePattern | paasng.accessories.smart_advisor.models.DeployFailurePattern | all, objects | module |
| DocumentaryLink | paasng.accessories.smart_advisor.models.DocumentaryLink | all, objects | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE, MODIFY, DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | DOCUMENT, DEPLOY_FAILURE_TIPS | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_admin_audit_record | paasng.misc.audit.service.add_admin_audit_record | 不适用 | module |
| DeployFailurePatternSLZ | paasng.plat_admin.admin42.serializers.smart_advisor.DeployFailurePatternSLZ | 不适用 | module |
| DocumentaryLinkSLZ | paasng.plat_admin.admin42.serializers.smart_advisor.DocumentaryLinkSLZ | 不适用 | module |
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DocumentaryLinkView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data | template_name, queryset, serializer_class, permission_classes, name | 无 | 文档链接管理页 |
| DocumentaryLinkManageViewSet | rest_framework.mixins.ListModelMixin, rest_framework.viewsets.GenericViewSet | create, update, destroy | serializer_class, permission_classes, queryset | 无 | 智能顾问-文档管理API |
| DeployFailurePatternView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data | template_name, queryset, serializer_class, permission_classes, name | 无 | 失败提示管理 |
| DeployFailurePatternManageViewSet | rest_framework.mixins.ListModelMixin, rest_framework.viewsets.GenericViewSet | create, update, destroy | serializer_class, permission_classes, queryset | 无 | 智能顾问-失败提示管理API |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/sourcectl.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | PAAS_DOCS_URL_PREFIX, BKPAAS_URL | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_204_NO_CONTENT | module |
| ListModelMixin | rest_framework.mixins.ListModelMixin | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_PLATFORM | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE, MODIFY, DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | SOURCE_TYPE_SPEC | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_admin_audit_record | paasng.misc.audit.service.add_admin_audit_record | 不适用 | module |
| SourceTypeSpecConfigSLZ | paasng.plat_admin.admin42.serializers.sourcectl.SourceTypeSpecConfigSLZ | 不适用 | module |
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |
| SourceTypeSpecConfig | paasng.platform.sourcectl.models.SourceTypeSpecConfig | all, objects | module |
| TcGitSourceTypeSpec | paasng.platform.sourcectl.type_specs.TcGitSourceTypeSpec | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SourceTypeSpecManageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data | template_name, permission_classes, name | 无 | 平台服务管理-代码库配置 |
| SourceTypeSpecViewSet | rest_framework.mixins.ListModelMixin, rest_framework.viewsets.GenericViewSet | create, update, destroy | queryset, serializer_class, permission_classes | 无 | 平台服务管理-代码库配置API |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin42/views/templates.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| status | rest_framework.status | HTTP_201_CREATED, HTTP_204_NO_CONTENT | module |
| ListModelMixin | rest_framework.mixins.ListModelMixin | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| GenericViewSet | rest_framework.viewsets.GenericViewSet | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | MANAGE_APP_TEMPLATES | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE, MODIFY, DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | TEMPLATE | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_admin_audit_record | paasng.misc.audit.service.add_admin_audit_record | 不适用 | module |
| TemplateSLZ | paasng.plat_admin.admin42.serializers.templates.TemplateSLZ | 不适用 | module |
| GenericTemplateView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | 不适用 | module |
| AppLanguage | paasng.platform.applications.constants.AppLanguage | get_choices | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | get_choices | module |
| Template | paasng.platform.templates.models.Template | all, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TemplateManageView | paasng.plat_admin.admin42.utils.mixins.GenericTemplateView | get_context_data | template_name, permission_classes, name | 无 | 平台服务管理-模板配置 |
| TemplateViewSet | rest_framework.mixins.ListModelMixin, rest_framework.viewsets.GenericViewSet | create, update, destroy | queryset, serializer_class, permission_classes, schema | 无 | 平台服务管理-模板配置API |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin_cli/__init__.py







---


### 模块: apiserver/paasng/paasng/plat_admin/admin_cli/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AdminCliConfig | django.apps.AppConfig | 无 | default_auto_field, name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin_cli/cmd_utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| sys | exit | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CommandBasicMixin | 无 | exit_with_error, print | 无 | 无 | Provide some basic functionalities for adm cli com... |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin_cli/deploy.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| time | time, sleep | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Callable | typing.Callable | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Release | paas_wl.bk_app.applications.models.release.Release | 不适用 | module |
| ProcessesHandler | paas_wl.bk_app.deploy.app_res.controllers.ProcessesHandler | get_default_services | module |
| ProcessManager | paas_wl.bk_app.processes.processes.ProcessManager | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | get, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| list_proc_types | `def list_proc_types(env: ModuleEnvironment) -> List[str]:` | 无 | List the process types for the given environment. |
| refresh_services | `def refresh_services(env: ModuleEnvironment):` | 无 | Refresh the service resource for the given environ... |
| wait_for_release | `def wait_for_release(release: Release, timeout_seconds: int = 120, interval_callback: Optional[Callable] = None) -> bool:` | 无 | Wait for the release to become ready.

    :param ... |


---


### 模块: apiserver/paasng/paasng/plat_admin/admin_cli/management/__init__.py







---


### 模块: apiserver/paasng/paasng/plat_admin/admin_cli/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/plat_admin/admin_cli/management/commands/adm_archive.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| CommandBasicMixin | paasng.plat_admin.admin_cli.cmd_utils.CommandBasicMixin | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects, DoesNotExist | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| start_archive_step | paasng.platform.engine.deploy.archive.start_archive_step | 不适用 | module |
| OfflineOperationExistError | paasng.platform.engine.exceptions.OfflineOperationExistError | 不适用 | module |
| DeploymentGetter | paasng.platform.engine.utils.query.DeploymentGetter | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand, paasng.plat_admin.admin_cli.cmd_utils.CommandBasicMixin | add_arguments, handle, _archive_app | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin_cli/management/commands/adm_mapper_v1.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| sys | write, stdout, flush | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| get_latest_build_id | paas_wl.bk_app.applications.api.get_latest_build_id | 不适用 | module |
| get_metadata | paas_wl.bk_app.applications.managers.get_metadata | 不适用 | module |
| update_metadata | paas_wl.bk_app.applications.managers.update_metadata | 不适用 | module |
| Release | paas_wl.bk_app.applications.models.release.Release | get, objects | module |
| ProcessesHandler | paas_wl.bk_app.deploy.app_res.controllers.ProcessesHandler | new_by_app | module |
| get_mapper_proc_config_latest | paas_wl.infras.resources.generation.mapper.get_mapper_proc_config_latest | 不适用 | module |
| CommandBasicMixin | paasng.plat_admin.admin_cli.cmd_utils.CommandBasicMixin | 不适用 | module |
| list_proc_types | paasng.plat_admin.admin_cli.deploy.list_proc_types | 不适用 | module |
| refresh_services | paasng.plat_admin.admin_cli.deploy.refresh_services | 不适用 | module |
| wait_for_release | paasng.plat_admin.admin_cli.deploy.wait_for_release | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | get, objects | module |
| release_by_engine | paasng.platform.engine.deploy.release.legacy.release_by_engine | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| SUPPORTED_ACTIONS | 不适用 | `SUPPORTED_ACTIONS = [opt.value for opt in CommandAction]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CommandAction | blue_krill.data_types.enum.StrStructuredEnum | 无 | UPGRADE, ROLLBACK, CLEAN_V1 | 无 | A command action. |
| Command | django.core.management.base.BaseCommand, paasng.plat_admin.admin_cli.cmd_utils.CommandBasicMixin | add_arguments, handle, _handle_upgrade, _upgrade_env, _handle_rollback, _handle_clean_v1 | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin_cli/management/commands/adm_stats.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Enum | enum.Enum | 不适用 | module |
| attrgetter | operator.attrgetter | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| CommandBasicMixin | paasng.plat_admin.admin_cli.cmd_utils.CommandBasicMixin | 不适用 | module |
| get_mapper_v1_envs | paasng.plat_admin.admin_cli.mapper_version.get_mapper_v1_envs | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger('commands')` | module |
| SUPPORTED_TYPES | 不适用 | `SUPPORTED_TYPES = [t.value for t in CommandType]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CommandType | enum.Enum | 无 | RES_MAPPER_V1 | 无 | 不适用 |
| Command | django.core.management.base.BaseCommand, paasng.plat_admin.admin_cli.cmd_utils.CommandBasicMixin | add_arguments, handle, handle_res_mapper_v1 | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/admin_cli/mapper_version.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | datetime | module |
| uuid | UUID | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| settings | django.conf.settings | GLOBAL_DEFAULT_MAPPER_VERSION | module |
| TypeAlias | typing_extensions.TypeAlias | 不适用 | module |
| Config | paas_wl.bk_app.applications.models.config.Config | all, objects | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | get, objects, DoesNotExist | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_mapper_v1_envs | `def get_mapper_v1_envs() -> Iterable[ModuleEnvironment]:` | 无 | Get all environments that use resource mapper "v1"... |


---


### 模块: apiserver/paasng/paasng/plat_admin/api_doc/__init__.py







---


### 模块: apiserver/paasng/paasng/plat_admin/api_doc/extended_auto_schema.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| openapi | drf_yasg.openapi | Schema, ReferenceResolver, OR_REF | module |
| SwaggerAutoSchema | drf_yasg.inspectors.SwaggerAutoSchema | 不适用 | module |
| FileUploadParser | drf_yasg.utils.FileUploadParser | 不适用 | module |
| force_serializer_instance | drf_yasg.utils.force_serializer_instance | 不适用 | module |
| get_object_classes | drf_yasg.utils.get_object_classes | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_consumes | `def get_consumes(parser_classes):` | 无 | Extract ``consumes`` MIME types from a list of par... |
| registry_definitions | `def registry_definitions(schema: openapi.Schema, global_components: openapi.ReferenceResolver):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ExtraDefinitionsInspectorMixin | 无 | get_response_serializers | 无 | 无 | 把自定义Responses中的schema definition添加到全局的Definitions |
| BaseModelRequestBodyInspectorMixin | 无 | _get_request_body_override | 无 | 无 | 将 swagger_auto_schema 中继承自 pydantic.BaseModel 的 re... |
| ExtendedSwaggerAutoSchema | BaseModelRequestBodyInspectorMixin, ExtraDefinitionsInspectorMixin, drf_yasg.inspectors.SwaggerAutoSchema | get_consumes, get_default_response_serializer | 无 | 无 | 自定义的 schema 生成器 |

---


### 模块: apiserver/paasng/paasng/plat_admin/api_doc/generators.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| re | compile | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| views | django.contrib.admindocs.views | 不适用 | module |
| EndpointEnumerator | drf_yasg.generators.EndpointEnumerator | 不适用 | module |
| OpenAPISchemaGenerator | drf_yasg.generators.OpenAPISchemaGenerator | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| patch_replace_unnamed_groups | `@contextmanager:` | contextmanager | 
    patch django.contrib.admindocs.views.replace_... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EndpointEnumerator | _EndpointEnumerator | get_path_from_regex, get_variables_from_path | 无 | 无 | 不适用 |
| OpenAPISchemaGenerator | _OpenAPISchemaGenerator | 无 | endpoint_enumerator_class | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/api_doc/permissions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| permissions | rest_framework.permissions | BasePermission | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| IsOwner | rest_framework.permissions.BasePermission | has_object_permission | 无 | 无 | 
    Object-level permission to allow only owners ... |

---


### 模块: apiserver/paasng/paasng/plat_admin/api_doc/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^docs/$', views.FullSwaggerConfigurationView.with_ui('swagger', cache_timeout=0), name='full-swagger-ui'), re_path('^docs/swagger/$', views.FullSwaggerConfigurationView.with_ui('swagger', cache_timeout=0), name='full-swagger-ui'), re_path('^docs/redoc/$', views.FullSwaggerConfigurationView.with_ui('redoc', cache_timeout=0), name='full-redoc'), re_path('^docs/swagger(?P<format>\\.json|\\.yaml)$', views.FullSwaggerConfigurationView.without_ui(cache_timeout=0), name='full-schema'), re_path('^docs/auto/swagger(?P<format>\\.json|\\.yaml)$', views.schema_view.without_ui(cache_timeout=0), name='schema'), re_path('^docs/auto/swagger/$', views.schema_view.with_ui('swagger', cache_timeout=0), name='schema-swagger-ui'), re_path('^docs/auto/redoc/$', views.schema_view.with_ui('redoc', cache_timeout=0), name='schema-redoc')]` | module |



---


### 模块: apiserver/paasng/paasng/plat_admin/api_doc/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | BKPAAS_URL | module |
| get_template | django.template.loader.get_template | 不适用 | module |
| openapi | drf_yasg.openapi | Info, Contact, License | module |
| get_schema_view | drf_yasg.views.get_schema_view | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | VISIT_ADMIN42 | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| schema_view | 不适用 | `schema_view = get_schema_view(openapi.Info(title='PaaS V3 API', default_version='vx', description='PaaS V3 API Document', terms_of_service=settings.BKPAAS_URL, contact=openapi.Contact(email='blueking@tencent.com'), license=openapi.License(name='BSD License')), public=False, permission_classes=(site_perm_class(SiteAction.VISIT_ADMIN42), ))` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| FullSwaggerConfigurationView | schema_view | get, _merge_paths, _merge_definitions | 无 | 无 | A swagger view base on auto generate docs, and mer... |

---


### 模块: apiserver/paasng/paasng/plat_admin/initialization/__init__.py







---


### 模块: apiserver/paasng/paasng/plat_admin/initialization/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| InitializationConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/initialization/management/__init__.py







---


### 模块: apiserver/paasng/paasng/plat_admin/initialization/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/plat_admin/initialization/management/commands/init_bkrepo.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| BKGenericRepo | blue_krill.storages.blobstore.bkrepo.BKGenericRepo | 不适用 | module |
| BKRepoManager | blue_krill.storages.blobstore.bkrepo.BKRepoManager | 不适用 | module |
| RepositoryType | blue_krill.storages.blobstore.bkrepo.RepositoryType | GENERIC, DOCKER, PYPI, NPM, MAVEN | module |
| RequestError | blue_krill.storages.blobstore.bkrepo.RequestError | 不适用 | module |
| settings | django.conf.settings | SERVICE_LOGO_BUCKET, APP_LOGO_BUCKET, BLOBSTORE_BUCKET_APP_SOURCE, BLOBSTORE_BUCKET_TEMPLATES, BLOBSTORE_BUCKET_AP_PACKAGES, BLOBSTORE_BKREPO_CONFIG | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| str2bool | paasng.utils.validators.str2bool | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| assets_path | 不适用 | `assets_path = Path(__file__).parents[5] / 'assets'` | module |
| BUILTIN_REPOS | 不适用 | `BUILTIN_REPOS = [Repo(name=settings.SERVICE_LOGO_BUCKET, type=RepositoryType.GENERIC, public=True), Repo(name=settings.APP_LOGO_BUCKET, type=RepositoryType.GENERIC, public=True), Repo(name=settings.BLOBSTORE_BUCKET_APP_SOURCE, type=RepositoryType.GENERIC, public=False), Repo(name=settings.BLOBSTORE_BUCKET_TEMPLATES, type=RepositoryType.GENERIC, public=False), Repo(name=settings.BLOBSTORE_BUCKET_AP_PACKAGES, type=RepositoryType.GENERIC, public=False), Repo(name='docker', type=RepositoryType.DOCKER, public=True), Repo(name='pypi', type=RepositoryType.PYPI, public=True), Repo(name='npm', type=RepositoryType.NPM, public=True), Repo(name='maven', type=RepositoryType.MAVEN, public=True), Repo(name='generic', type=RepositoryType.GENERIC, public=True)]` | module |
| BUILTIN_APP_TMPLS | 不适用 | `BUILTIN_APP_TMPLS = {assets_path / 'dj_auth_template_blueapps_dj2.tar.gz': 'open/dj_auth_template_blueapps_dj2.tar.gz', assets_path / 'node-js-bk-magic-vue-spa.tar.gz': 'open/node-js-bk-magic-vue-spa.tar.gz', assets_path / 'dj_with_hello_world_dj2.tar.gz': 'open/dj_with_hello_world_dj2.tar.gz'}` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| allow_resource_exists | `@contextmanager:` | contextmanager | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Repo | 无 | 无 | 无 | dataclass | 不适用 |
| Command | django.core.management.base.BaseCommand | add_arguments, handle, get_manager, get_tmpls_repo, bkpaas_project | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/initialization/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/plat_admin/numbers/__init__.py







---


### 模块: apiserver/paasng/paasng/plat_admin/numbers/app.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| abc | abstractmethod | module |
| itertools | chain | module |
| logging | getLogger | module |
| re | compile | module |
| sys | stdout | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Counter | collections.Counter | 不适用 | module |
| defaultdict | collections.defaultdict | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| date | datetime.date | today | module |
| datetime | datetime.datetime | now | module |
| timedelta | datetime.timedelta | 不适用 | module |
| lru_cache | functools.lru_cache | 不适用 | module |
| reduce | functools.reduce | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Collection | typing.Collection | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Set | typing.Set | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| cast | typing.cast | 不适用 | module |
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| user_id_encoder | bkpaas_auth.models.user_id_encoder | encode | module |
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |
| settings | django.conf.settings | USER_TYPE | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| get_attribute | rest_framework.fields.get_attribute | 不适用 | module |
| func | sqlalchemy.func | count | module |
| Query | sqlalchemy.orm.Query | 不适用 | module |
| Session | sqlalchemy.orm.Session | 不适用 | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | get_or_create_by_app, objects | module |
| Tag | paasng.accessories.publish.market.models.Tag | filter, objects | module |
| legacy_db | paasng.core.core.storages.sqlalchemy.legacy_db | session_scope, get_scoped_session | module |
| get_region | paasng.core.region.models.get_region | 不适用 | module |
| Oauth2TokenHolder | paasng.infras.accounts.models.Oauth2TokenHolder | DoesNotExist | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | get, objects, DoesNotExist | module |
| ApplicationPermission | paasng.infras.iam.permissions.resources.application.ApplicationPermission | 不适用 | module |
| SimpleAppSource | paasng.plat_admin.system.constants.SimpleAppSource | DEFAULT, LEGACY | module |
| LegacyAppNormalizer | paasng.plat_admin.system.legacy.LegacyAppNormalizer | 不适用 | module |
| query_concrete_apps | paasng.plat_admin.system.legacy.query_concrete_apps | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, ENGINELESS_APP | module |
| Application | paasng.platform.applications.models.Application | filter, objects | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | value, AUTHORIZED_VCS, get_choice_label | module |
| SvnRepoController | paasng.platform.sourcectl.controllers.bk_svn.SvnRepoController | 不适用 | module |
| GitProject | paasng.platform.sourcectl.models.GitProject | parse_from_repo_url | module |
| BaseGitRepoController | paasng.platform.sourcectl.repo_controller.BaseGitRepoController | 不适用 | module |
| get_sourcectl_names | paasng.platform.sourcectl.source_types.get_sourcectl_names | 不适用 | module |
| get_sourcectl_type | paasng.platform.sourcectl.source_types.get_sourcectl_type | 不适用 | module |
| get_bksvn_config | paasng.platform.sourcectl.svn.server_config.get_bksvn_config | 不适用 | module |
| basic_str_format | paasng.utils.text.basic_str_format | 不适用 | module |
| LApplication | paasng.infras.legacydb.models.LApplication | code, desc, created_date | module |
| LApplicationUseRecord | paasng.infras.legacydb.models.LApplicationUseRecord | id, use_time | module |
| get_pv_uv_for_env | paasng.accessories.paas_analysis.services.get_pv_uv_for_env | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| RE_QQ | 不适用 | `RE_QQ = re.compile('^\\d{5,}$')` | module |
| PV_UV_COUNT_PERIOD_LENGTH | 90 | `PV_UV_COUNT_PERIOD_LENGTH = 90` | module |
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_pv_uv_for_env | `def get_pv_uv_for_env(*args, **kwargs) -> Tuple[int, int]:` | 无 | Return a fake value when paas_analysis module is n... |
| count_all_app_visit_record_30days | `@lru_cache():` | lru_cache | 统计所有应用的访问次数 |
| uniq_apps | `def uniq_apps(apps: Iterable[SimpleApp]) -> Generator[SimpleApp, None, None]:` | 无 | Return de-duplicated apps, check uniqueness by app... |
| group_apps_by_developers | `def group_apps_by_developers(filter_developers: Optional[List[str]] = None) -> Generator[Tuple[str, Dict[str, Any], List[SimpleApp]], None, None]:` | 无 | Return apps grouped by user, include both legacy a... |
| calculate_user_contribution_in_app | `def calculate_user_contribution_in_app(username: str, app: SimpleApp):` | 无 | 不适用 |
| make_table_apps_grouped_by_developer | `def make_table_apps_grouped_by_developer(filter_developers: Optional[List[str]] = None) -> Table:` | 无 | 导出特定开发者的应用详情信息，按开发者与应用总数降序排列

    :param filter_de... |
| make_table_apps_grouped_by_developer_simple | `def make_table_apps_grouped_by_developer_simple(filter_developers: Optional[List[str]] = None) -> Table:` | 无 | 导出特定开发者的应用详情信息，按开发者与应用总数降序排列

    - 不包含应用源码与贡献度相关
... |
| make_table_apps_basic_info | `def make_table_apps_basic_info(filter_app_codes: Optional[Collection[str]] = None, include_pv_uv: bool = False) -> Table:` | 无 | 导出特定应用的基本信息，包括创建者、开发者、创建时间等

    :param filter_app... |
| print_table | `def print_table(table: Table, sep: str = '\t', stream=sys.stdout):` | 无 | Print table to console |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployStatus | blue_krill.data_types.enum.IntStructuredEnum | 无 | PRODUCTION, STAGING, DEVELOPING, OFFLINED | 无 | 不适用 |
| SimpleApp | 无 | app_visit_count_30days | 无 | dataclass | An universal app model which is compatible with bo... |
| Contribution | 无 | 无 | 无 | dataclass | 不适用 |
| AppDataBuilder | 无 | set_filter_developers, set_filter_app_codes, get_results | 无 | 无 | Abstract class of AppDataBuilder |
| DefaultAppDataBuilder | AppDataBuilder | __init__, get_deploy_status, get_pv_uv, get_tag_display_name, get_market_address, set_filter_developers, set_filter_app_codes, exclude_unqualified, get_results | 无 | 无 | Build app data for default platform |
| LegacyAppDataBuilder | AppDataBuilder | __init__, get_default_qs, get_deploy_status, get_market_address, get_tag_display_name, set_filter_developers, set_filter_app_codes, get_results | 无 | 无 | Build app data for legacy platform |
| Table | 无 | __init__, set_indent, add_row | 无 | 无 | Table for data representation |
| Column | 无 | format_value | 无 | 无 | 不适用 |
| AutoMapperColumn | Column | 无 | 无 | 无 | 不适用 |
| AppColumn | AutoMapperColumn | 无 | row_attr_name | 无 | 不适用 |
| ColUsername | Column | 无 | display_name | 无 | 不适用 |
| ColCreatedAppsCnt | Column | 无 | display_name | 无 | 不适用 |
| ColDevAppsCnt | Column | 无 | display_name | 无 | 不适用 |
| ColAppName | AppColumn | 无 | field_name, display_name | 无 | 不适用 |
| ColAppType | AppColumn | 无 | field_name, display_name | 无 | 不适用 |
| ColAppCode | AppColumn | 无 | field_name, display_name | 无 | 不适用 |
| ColAppSource | AppColumn | format_value | field_name, display_name | 无 | 不适用 |
| ColAppRegion | AppColumn | 无 | field_name, display_name | 无 | 不适用 |
| ColAppEngineEnabled | AppColumn | format_value | field_name, display_name | 无 | 不适用 |
| ColAppSourceOrigin | AppColumn | format_value | field_name, display_name | 无 | 不适用 |
| ColAppSourceRepoType | AppColumn | format_value | field_name, display_name | 无 | 不适用 |
| ColAppSourceUrl | AppColumn | 无 | field_name, display_name | 无 | 不适用 |
| ColAppDeployStatus | AppColumn | format_value | field_name, display_name | 无 | 不适用 |
| ColAppMarketAddress | AppColumn | 无 | field_name, display_name | 无 | 不适用 |
| ColAppMarketTag | AppColumn | 无 | field_name, display_name | 无 | 不适用 |
| ColAppCreator | AppColumn | 无 | field_name, display_name | 无 | 不适用 |
| ColAppDevelopers | AppColumn | format_value | field_name, display_name | 无 | 不适用 |
| ColAppCreatedAt | AppColumn | format_value | field_name, display_name | 无 | 不适用 |
| ColAppUseRecord | AppColumn | 无 | field_name, display_name | 无 | 不适用 |
| ColAppPV | AppColumn | 无 | field_name, display_name | 无 | 不适用 |
| ColAppUV | AppColumn | 无 | field_name, display_name | 无 | 不适用 |
| ColAppLastDeployTime | AppColumn | format_value | field_name, display_name | 无 | 不适用 |
| ContributionColumn | AutoMapperColumn | 无 | row_attr_name | 无 | 不适用 |
| ColProjectCodeLineNumsColumn | ContributionColumn | 无 | field_name, display_name | 无 | 不适用 |
| ColUserCodeLineNumsColumn | ContributionColumn | 无 | field_name, display_name | 无 | 不适用 |
| ColProjectCommitNumsColumn | ContributionColumn | 无 | field_name, display_name | 无 | 不适用 |
| ColUserCommitNumsColumn | ContributionColumn | 无 | field_name, display_name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/system/__init__.py







---


### 模块: apiserver/paasng/paasng/plat_admin/system/applications.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | datetime | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Collection | typing.Collection | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| BasicUser | bkpaas_auth.models.BasicUser | 不适用 | module |
| User | bkpaas_auth.models.User | 不适用 | module |
| settings | django.conf.settings | USER_TYPE | module |
| Q | django.db.models.Q | 不适用 | module |
| get_language | django.utils.translation.get_language | 不适用 | module |
| AppDeveloperManger | paasng.accessories.publish.sync_market.managers.AppDeveloperManger | 不适用 | module |
| legacy_db | paasng.core.core.storages.sqlalchemy.legacy_db | session_scope | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, DEFAULT | module |
| Application | paasng.platform.applications.models.Application | filter, objects, all | module |
| UserApplicationFilter | paasng.platform.applications.models.UserApplicationFilter | 不适用 | module |
| SimpleAppSource | apiserver.paasng.paasng.plat_admin.system.constants.SimpleAppSource | DEFAULT, LEGACY | module |
| LegacyAppNormalizer | apiserver.paasng.paasng.plat_admin.system.legacy.LegacyAppNormalizer | 不适用 | module |
| query_concrete_apps | apiserver.paasng.paasng.plat_admin.system.legacy.query_concrete_apps | 不适用 | module |
| AppAdaptor | paasng.infras.legacydb.adaptors.AppAdaptor | 不适用 | module |
| LApplication | paasng.infras.legacydb.models.LApplication | in_, code, state | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| str_username | `def str_username(user: User):` | 无 | Util function for get username from User obj |
| query_uni_apps_by_ids | `def query_uni_apps_by_ids(ids: List[str], include_inactive_apps, include_developers_info) -> Dict[str, UniSimpleApp]:` | 无 | Query universal applications by app ids, it will c... |
| query_default_apps_by_ids | `def query_default_apps_by_ids(ids: Collection[str], include_inactive_apps, include_developers_info) -> Dict[str, UniSimpleApp]:` | 无 | Query applications by application ids, returns uni... |
| query_legacy_apps_by_ids | `def query_legacy_apps_by_ids(ids: Collection[str], include_inactive_apps: bool, include_developers_info: bool) -> Dict[str, UniSimpleApp]:` | 无 | Query legacy applications by application ids, retu... |
| query_uni_apps_by_username | `def query_uni_apps_by_username(username: str) -> List[UniSimpleApp]:` | 无 | Query universal applications by username, it will ... |
| query_default_apps_by_username | `def query_default_apps_by_username(username: str) -> List[UniSimpleApp]:` | 无 | 不适用 |
| query_legacy_apps_by_username | `def query_legacy_apps_by_username(username: str) -> List[UniSimpleApp]:` | 无 | 不适用 |
| query_uni_apps_by_keyword | `def query_uni_apps_by_keyword(keyword: str, offset: int, limit: int, include_inactive_apps: bool) -> List[UniMinimalApp]:` | 无 | Query application basic info by keywords (APP ID, ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| UniSimpleApp | 无 | get_source, from_default_app, from_legacy_app | 无 | dataclass | An universal app model which is compatible with bo... |
| UniMinimalApp | 无 | 无 | 无 | dataclass | Minimal information for application |

---


### 模块: apiserver/paasng/paasng/plat_admin/system/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PlugableAppConfig | paasng.utils.addons.PlugableAppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SystemConfig | paasng.utils.addons.PlugableAppConfig | 无 | name, default | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/system/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SimpleAppSource | blue_krill.data_types.enum.IntStructuredEnum | 无 | DEFAULT, LEGACY | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/system/legacy.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| re | compile | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME, APPLICATION_DEFAULT_LOGO | module |
| SimpleLazyObject | django.utils.functional.SimpleLazyObject | 不适用 | module |
| Query | sqlalchemy.orm.Query | 不适用 | module |
| Session | sqlalchemy.orm.Session | 不适用 | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| get_developers_by_v2_application | paasng.infras.legacydb.models.get_developers_by_v2_application | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| RE_QQ | 不适用 | `RE_QQ = re.compile('^\\d{5,}$')` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| build_legacy_region_maps | `def build_legacy_region_maps():` | 无 | 不适用 |
| query_concrete_apps | `def query_concrete_apps(session: Session, model: Any) -> Query:` | 无 | Return a sqlalchemy query for querying concrete ap... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LegacyAppNormalizer | 无 | __init__, get_region, get_developers, get_creator, get_logo_url | 无 | 无 | Normalize legacy application object |

---


### 模块: apiserver/paasng/paasng/plat_admin/system/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, ListField, CharField, BooleanField, IntegerField, DateTimeField, ListSerializer, UUIDField, ModelSerializer, DictField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| ServiceSpecificationHelper | paasng.accessories.servicehub.services.ServiceSpecificationHelper | from_service_public_specifications | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| UserNameField | paasng.utils.serializers.UserNameField | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| QueryUniApplicationsByID | rest_framework.serializers.Serializer | 无 | id, include_deploy_info, include_inactive_apps, include_developers_info, include_contact_info | 无 | Serializer for query universal applications by ID |
| QueryUniApplicationsByUserName | rest_framework.serializers.Serializer | 无 | username | 无 | Serializer for query universal applications by use... |
| UniversalAppSLZ | rest_framework.serializers.Serializer | 无 | source, name, name_en, code, region, creator, created, type, logo_url, developers | 无 | Serializer for universal apps |
| ContactInfoSLZ | rest_framework.serializers.Serializer | 无 | latest_operator, recent_deployment_operators | 无 | Serializer for app's contact info |
| QueryApplicationsSLZ | rest_framework.serializers.Serializer | validate | uuid, code, module_id, env_id, engine_app_id | 无 | Serializer for querying applications by uuid or co... |
| AppBasicSLZ | rest_framework.serializers.ModelSerializer | 无 | 无 | 无 | 不适用 |
| ModuleBasicSLZ | rest_framework.serializers.ModelSerializer | 无 | 无 | 无 | 不适用 |
| ModuleEnvBasicSLZ | rest_framework.serializers.ModelSerializer | 无 | engine_app_id | 无 | 不适用 |
| AddonCredentialsSLZ | rest_framework.serializers.Serializer | 无 | credentials | 无 | 不适用 |
| SearchApplicationSLZ | rest_framework.serializers.Serializer | 无 | keyword, include_inactive_apps | 无 | 不适用 |
| MinimalAppSLZ | rest_framework.serializers.Serializer | 无 | code, name | 无 | 不适用 |
| AddonSpecsSLZ | rest_framework.serializers.Serializer | validate_specs | specs | 无 | 不适用 |
| ClusterNamespaceSLZ | rest_framework.serializers.Serializer | 无 | bcs_cluster_id, namespace | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/plat_admin/system/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ClusterNamespaceInfoView | paasng.plat_admin.system.views.ClusterNamespaceInfoView | as_view | module |
| LessCodeSystemAPIViewSet | paasng.plat_admin.system.views.LessCodeSystemAPIViewSet | as_view | module |
| SysAddonsAPIViewSet | paasng.plat_admin.system.views.SysAddonsAPIViewSet | as_view | module |
| SysUniApplicationViewSet | paasng.plat_admin.system.views.SysUniApplicationViewSet | as_view | module |
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^sys/api/uni_applications/query/by_id/$', SysUniApplicationViewSet.as_view({'get': 'query_by_id'}), name='sys.api.uni_applications.list_by_ids'), re_path('^sys/api/uni_applications/query/by_username/$', SysUniApplicationViewSet.as_view({'get': 'query_by_username'}), name='sys.api.uni_applications.list_by_username'), re_path('^sys/api/uni_applications/list/minimal/$', SysUniApplicationViewSet.as_view({'get': 'list_minimal_app'}), name='sys.api.uni_applications.list_minimal_app'), re_path('^sys/api/bkapps/applications/(?P<code>[^/]+)/cluster_namespaces/$', ClusterNamespaceInfoView.as_view({'get': 'list_by_app_code'}), name='sys.api.applications.cluster_namespace.list_by_app_code'), re_path(make_app_pattern(suffix='/lesscode/query_db_credentials', prefix='sys/api/bkapps/applications/'), LessCodeSystemAPIViewSet.as_view({'get': 'query_db_credentials'}), name='sys.api.lesscode.query_db_credentials'), re_path(make_app_pattern(suffix='/lesscode/bind_db_service', prefix='sys/api/bkapps/applications/', include_envs=False), LessCodeSystemAPIViewSet.as_view({'post': 'bind_db_service'}), name='sys.api.lesscode.bind_db_service'), re_path(make_app_pattern(suffix='/addons/(?P<service_name>[^/]+)/$', prefix='sys/api/bkapps/applications/'), SysAddonsAPIViewSet.as_view({'get': 'query_credentials', 'post': 'provision_service'}), name='sys.api.applications.addons'), re_path(make_app_pattern(suffix='/addons/$', prefix='sys/api/bkapps/applications/'), SysAddonsAPIViewSet.as_view({'get': 'list_services'}), name='sys.api.applications.list_addons'), re_path(make_app_pattern(suffix='/services/(?P<service_id>[0-9a-f-]{32,36})/specs/', include_envs=False, prefix='sys/api/bkapps/applications/'), SysAddonsAPIViewSet.as_view({'get': 'retrieve_specs_by_uuid'}), name='sys.api.applications.retrieve_specs_by_uuid')]` | module |



---


### 模块: apiserver/paasng/paasng/plat_admin/system/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| LimitOffsetPagination | rest_framework.pagination.LimitOffsetPagination | 不适用 | module |
| _positive_int | rest_framework.pagination._positive_int | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MaxLimitOffsetPagination | rest_framework.pagination.LimitOffsetPagination | get_offset | max_limit, max_offset | 无 | 限制最大分页数 |

---


### 模块: apiserver/paasng/paasng/plat_admin/system/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| cast | typing.cast | 不适用 | module |
| Http404 | django.http.response.Http404 | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_200_OK | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| Response | rest_framework.response.Response | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| get_exposed_links | paasng.accessories.publish.entrance.exposer.get_exposed_links | 不适用 | module |
| ServiceObjNotFound | paasng.accessories.servicehub.manager.ServiceObjNotFound | 不适用 | module |
| SvcAttachmentDoesNotExist | paasng.accessories.servicehub.manager.SvcAttachmentDoesNotExist | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | find_by_name, get_env_vars, get_module_rel, bind_service, list_unprovisioned_rels, get_or_404, module_is_bound_with, list_all_rels | module |
| ServiceObj | paasng.accessories.servicehub.services.ServiceObj | 不适用 | module |
| ServiceSpecificationHelper | paasng.accessories.servicehub.services.ServiceSpecificationHelper | from_service_public_specifications | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | SYSAPI_READ_APPLICATIONS, SYSAPI_READ_SERVICES, SYSAPI_READ_DB_CREDENTIAL, SYSAPI_BIND_DB_SERVICE | module |
| site_perm_required | paasng.infras.accounts.permissions.global_site.site_perm_required | 不适用 | module |
| ForceAllowAuthedApp | paasng.infras.accounts.utils.ForceAllowAuthedApp | mark_view_set | module |
| SimpleAppSource | paasng.plat_admin.system.applications.SimpleAppSource | DEFAULT | module |
| UniSimpleApp | paasng.plat_admin.system.applications.UniSimpleApp | 不适用 | module |
| query_uni_apps_by_ids | paasng.plat_admin.system.applications.query_uni_apps_by_ids | 不适用 | module |
| query_uni_apps_by_keyword | paasng.plat_admin.system.applications.query_uni_apps_by_keyword | 不适用 | module |
| query_uni_apps_by_username | paasng.plat_admin.system.applications.query_uni_apps_by_username | 不适用 | module |
| AddonCredentialsSLZ | paasng.plat_admin.system.serializers.AddonCredentialsSLZ | 不适用 | module |
| AddonSpecsSLZ | paasng.plat_admin.system.serializers.AddonSpecsSLZ | 不适用 | module |
| ClusterNamespaceSLZ | paasng.plat_admin.system.serializers.ClusterNamespaceSLZ | 不适用 | module |
| ContactInfoSLZ | paasng.plat_admin.system.serializers.ContactInfoSLZ | 不适用 | module |
| MinimalAppSLZ | paasng.plat_admin.system.serializers.MinimalAppSLZ | 不适用 | module |
| QueryUniApplicationsByID | paasng.plat_admin.system.serializers.QueryUniApplicationsByID | 不适用 | module |
| QueryUniApplicationsByUserName | paasng.plat_admin.system.serializers.QueryUniApplicationsByUserName | 不适用 | module |
| SearchApplicationSLZ | paasng.plat_admin.system.serializers.SearchApplicationSLZ | 不适用 | module |
| UniversalAppSLZ | paasng.plat_admin.system.serializers.UniversalAppSLZ | 不适用 | module |
| MaxLimitOffsetPagination | paasng.plat_admin.system.utils.MaxLimitOffsetPagination | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| get_contact_info_by_appids | paasng.platform.applications.operators.get_contact_info_by_appids | 不适用 | module |
| ServicesInfo | paasng.platform.engine.phases_steps.display_blocks.ServicesInfo | get_detail | module |
| error_codes | paasng.utils.error_codes.error_codes | f, CANNOT_READ_INSTANCE_INFO, CANNOT_PROVISION_INSTANCE, CANNOT_BIND_SERVICE | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SysUniApplicationViewSet | rest_framework.viewsets.ViewSet | get_contact_info_data, get_deploy_info_data, serialize_app_details, query_by_id, query_by_username, list_minimal_app | 无 | ForceAllowAuthedApp.mark_view_set | System universal application view sets |
| SysAddonsAPIViewSet | rest_framework.viewsets.ViewSet | query_credentials, provision_service, list_services, retrieve_specs_by_uuid, _get_pub_recommended_specs | 无 | 无 | System api for managing Application Addons |
| LessCodeSystemAPIViewSet | rest_framework.viewsets.ViewSet | query_db_credentials, bind_db_service, get_db_service | 无 | 无 | System api for lesscode |
| ClusterNamespaceInfoView | rest_framework.viewsets.ViewSet | list_by_app_code | 无 | 无 | System api for query app cluster/namespace info |

---


### 模块: apiserver/paasng/paasng/plat_mgt/infras/services/serializers/services.py







---


### 模块: apiserver/paasng/paasng/platform/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/applications/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/applications/admin.py







---


### 模块: apiserver/paasng/paasng/platform/applications/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |
| init_sentry_sdk | paasng.utils.monitoring.sentry.init_sentry_sdk | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationConfig | django.apps.AppConfig | ready | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/cleaner.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| delete_builtin_user_groups | paasng.infras.iam.helpers.delete_builtin_user_groups | 不适用 | module |
| delete_grade_manager | paasng.infras.iam.helpers.delete_grade_manager | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | MANAGE_MODULE | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | MODULE | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleCleaner | paasng.platform.modules.manager.ModuleCleaner | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| delete_all_modules | `def delete_all_modules(application: Application, operator: str):` | 无 | 删除应用下的所有 Module |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationCleaner | 无 | __init__, clean, delete_iam_resources, delete_application | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Type | typing.Type | 不适用 | module |
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| FeatureFlag | blue_krill.data_types.enum.FeatureFlag | 不适用 | module |
| FeatureFlagField | blue_krill.data_types.enum.FeatureFlagField | 不适用 | module |
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| LEVEL_PARAM_DICT | {'20x': ['200', '201', '202', '204', '205', '206'], '30x': ['300', '301', '302', '303', '304', '305', '307'], '40x': ['400', '401', '402', '403', '404', '405'], '50x': ['500', '501', '502', '503', '504']} | `LEVEL_PARAM_DICT = {'20x': ['200', '201', '202', '204', '205', '206'], '30x': ['300', '301', '302', '303', '304', '305', '307'], '40x': ['400', '401', '402', '403', '404', '405'], '50x': ['500', '501', '502', '503', '504']}` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationType | blue_krill.data_types.enum.StrStructuredEnum | 无 | DEFAULT, ENGINELESS_APP, CLOUD_NATIVE | 无 | 不适用 |
| ApplicationRole | blue_krill.data_types.enum.IntStructuredEnum | get_roles | NOBODY, COLLABORATOR, ADMINISTRATOR, DEVELOPER, OPERATOR | 无 | 不适用 |
| AppLanguage | blue_krill.data_types.enum.StrStructuredEnum | _missing_, __str__ | PYTHON, PHP, GO, NODEJS, JAVA | 无 | 不适用 |
| AppEnvironment | blue_krill.data_types.enum.StrStructuredEnum | 无 | STAGING, PRODUCTION | 无 | 不适用 |
| AppFeatureFlag | blue_krill.data_types.enum.FeatureFlag | 无 | RELEASE_TO_WEIXIN_QIYE, ACCESS_CONTROL_EXEMPT_MODE, PA_WEBSITE_ANALYTICS, PA_CUSTOM_EVENT_ANALYTICS, PA_INGRESS_ANALYTICS, APPLICATION_DESCRIPTION, MODIFY_ENVIRONMENT_VARIABLE, ENABLE_BK_LOG_COLLECTOR, ENABLE_BK_LOG_CLIENT, TOGGLE_EGRESS_BINDING, ENABLE_PERSISTENT_STORAGE | 无 | App feature 常量表 |
| LightApplicationViewSetErrorCode | blue_krill.data_types.enum.StrStructuredEnum | 无 | SUCCESS, PARAM_NOT_VALID, CREATE_APP_ERROR, EDIT_APP_ERROR, ESB_NOT_VALID, APP_NOT_EXIST, NO_PERMISSION | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/exceptions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| IntegrityError | Exception | __init__, get_field_display | _fields_display | 无 | 不适用 |
| AppFieldValidationError | Exception | __init__ | REASONS | 无 | Error when external app field validation failed |
| AppResourceProtected | Exception | 无 | 无 | 无 | Raised when application's resources were protected... |
| LightAppAPIError | Exception | __init__ | 无 | 无 | 轻应用错误接口 |

---


### 模块: apiserver/paasng/paasng/platform/applications/handlers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| boto3 | resource | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| RGWBoto3Storage | bkstorages.backends.rgw.RGWBoto3Storage | 不适用 | module |
| ClientError | botocore.exceptions.ClientError | 不适用 | module |
| settings | django.conf.settings | APP_LOGO_MAX_AGE | module |
| Storage | django.core.files.storage.Storage | 不适用 | module |
| post_save | django.db.models.signals.post_save | 不适用 | module |
| receiver | django.dispatch.receiver | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | ENABLE_BK_LOG_COLLECTOR | module |
| get_application_cluster | paas_wl.infras.cluster.shim.get_application_cluster | 不适用 | module |
| S3BucketRegionHelper | paasng.core.region.app.S3BucketRegionHelper | 不适用 | module |
| get_region | paasng.core.region.models.get_region | 不适用 | module |
| BKIAMGatewayServiceError | paasng.infras.iam.exceptions.BKIAMGatewayServiceError | 不适用 | module |
| NEW_APP_COUNTER | paasng.misc.metrics.NEW_APP_COUNTER | labels | module |
| AppFeatureFlag | paasng.platform.applications.constants.AppFeatureFlag | 不适用 | module |
| register_builtin_user_groups_and_grade_manager | paasng.platform.applications.helpers.register_builtin_user_groups_and_grade_manager | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get_field, _meta | module |
| application_logo_updated | paasng.platform.applications.signals.application_logo_updated | 不适用 | module |
| before_finishing_application_creation | paasng.platform.applications.signals.before_finishing_application_creation | send | module |
| module_environment_offline_success | paasng.platform.applications.signals.module_environment_offline_success | 不适用 | module |
| post_create_application | paasng.platform.applications.signals.post_create_application | 不适用 | module |
| AppSpecs | paasng.platform.applications.specs.AppSpecs | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | value, SUCCESSFUL | module |
| Deployment | paasng.platform.engine.models.Deployment | 不适用 | module |
| get_storage_by_bucket | paasng.utils.blobstore.get_storage_by_bucket | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | f, INITIALIZE_APP_MEMBERS_ERROR | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| initialize_application_members | `@receiver(post_create_application):` | receiver | 
    默认为每个新建的蓝鲸应用创建三个用户组（管理者，开发者，运营者），以及该应用对应的分级管理... |
| turn_on_bk_log_feature_for_app | `@receiver(post_create_application):` | receiver | 将符合灰度条件的应用采集/查询日志的链路切换至日志平台 |
| extra_setup_tasks | `@receiver(post_create_application):` | receiver | Extra tasks to create an application |
| update_app_counter | `@receiver(post_create_application):` | receiver | Update new application counter |
| on_environment_offlined | `@receiver(module_environment_offline_success):` | receiver | 当应用某环境成功下架后触发。判断该应用是否所有环境都已经处于下架状态，如果是。将应用置为不可用 |
| on_model_post_save | `@receiver(post_save, sender=Deployment):` | receiver | 当 Deployment 数据被创建或修改时触发。如果应用该次部署已经成功，将应用由不可用状态置为可... |
| extra_setup_logo | `@receiver(application_logo_updated):` | receiver | Do some extra setup works for logo, such as set ob... |
| duplicate_logo_to_extra_bucket | `@receiver(application_logo_updated):` | receiver | Duplicate app logo to another bucket if an extra b... |
| initialize_app_logo_metadata | `def initialize_app_logo_metadata(storage: Storage, bucket_name: str, key: str):` | 无 | Initialize app logo's S3 metadata, set it as publi... |
| turn_on_bk_log_feature | `def turn_on_bk_log_feature(application: Application):` | 无 | 根据集群特性开启应用的日志采集 FeatureFlag

    目前的调用场景：
    - 创建... |


---


### 模块: apiserver/paasng/paasng/platform/applications/helpers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BKIAMClient | paasng.infras.iam.client.BKIAMClient | 不适用 | module |
| NEVER_EXPIRE_DAYS | paasng.infras.iam.constants.NEVER_EXPIRE_DAYS | 不适用 | module |
| ApplicationGradeManager | paasng.infras.iam.members.models.ApplicationGradeManager | create, objects | module |
| ApplicationUserGroup | paasng.infras.iam.members.models.ApplicationUserGroup | bulk_create, objects | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| register_builtin_user_groups_and_grade_manager | `def register_builtin_user_groups_and_grade_manager(application: Application):` | 无 | 
    默认为每个新建的蓝鲸应用创建三个用户组（管理者，开发者，运营者），以及该应用对应的分级管理... |


---


### 模块: apiserver/paasng/paasng/platform/applications/management/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/applications/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/applications/management/commands/create_3rd_party_apps.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64decode | module |
| logging | getLogger | module |
| os | expandvars, path | module |
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| settings | django.conf.settings | ENABLE_BK_OAUTH | module |
| ContentFile | django.core.files.base.ContentFile | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| IntegrityError | paasng.platform.applications.exceptions.IntegrityError | 不适用 | module |
| post_save | django.db.models.signals.post_save | disconnect, connect | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| AppState | paasng.accessories.publish.market.constant.AppState | value, RELEASED | module |
| AppType | paasng.accessories.publish.market.constant.AppType | value, THIRD_PARTY | module |
| OpenMode | paasng.accessories.publish.market.constant.OpenMode | value, NEW_TAB | module |
| ProductSourceUrlType | paasng.accessories.publish.market.constant.ProductSourceUrlType | value, THIRD_PARTY | module |
| DisplayOptions | paasng.accessories.publish.market.models.DisplayOptions | update_or_create, objects | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | update_or_create, objects | module |
| Product | paasng.accessories.publish.market.models.Product | update_or_create, objects | module |
| Tag | paasng.accessories.publish.market.models.Tag | get, objects | module |
| product_create_or_update_by_operator | paasng.accessories.publish.market.signals.product_create_or_update_by_operator | send | module |
| application_oauth_handler | paasng.accessories.publish.sync_market.handlers.application_oauth_handler | 不适用 | module |
| market_config_update_handler | paasng.accessories.publish.sync_market.handlers.market_config_update_handler | 不适用 | module |
| sync_external_url_to_market | paasng.accessories.publish.sync_market.handlers.sync_external_url_to_market | 不适用 | module |
| AppManger | paasng.accessories.publish.sync_market.managers.AppManger | 不适用 | module |
| console_db | paasng.core.core.storages.sqlalchemy.console_db | get_scoped_session | module |
| BKIAMGatewayServiceError | paasng.infras.iam.exceptions.BKIAMGatewayServiceError | 不适用 | module |
| delete_builtin_user_groups | paasng.infras.iam.helpers.delete_builtin_user_groups | 不适用 | module |
| delete_grade_manager | paasng.infras.iam.helpers.delete_grade_manager | 不适用 | module |
| OAuth2Client | paasng.infras.oauth2.models.OAuth2Client | get_or_create, objects | module |
| create_oauth2_client | paasng.infras.oauth2.utils.create_oauth2_client | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | ENGINELESS_APP | module |
| application_logo_updated | paasng.platform.applications.handlers.application_logo_updated | send | module |
| register_builtin_user_groups_and_grade_manager | paasng.platform.applications.helpers.register_builtin_user_groups_and_grade_manager | 不适用 | module |
| Application | paasng.platform.applications.models.Application | update_or_create, objects, filter | module |
| before_finishing_application_creation | paasng.platform.applications.signals.before_finishing_application_creation | send | module |
| AppSpecs | paasng.platform.applications.specs.AppSpecs | 不适用 | module |
| create_default_module | paasng.platform.applications.utils.create_default_module | 不适用 | module |
| str2bool | paasng.utils.validators.str2bool | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Simple3rdAppDesc | 无 | 无 | 无 | dataclass | 不适用 |
| Command | django.core.management.base.BaseCommand | add_arguments, handle, get_app_secret_key, create_oauth_client_by_code, create_3rd_app | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/management/commands/force_del_app.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| AppManger | paasng.accessories.publish.sync_market.managers.AppManger | 不适用 | module |
| console_db | paasng.core.core.storages.sqlalchemy.console_db | session_scope | module |
| delete_builtin_user_groups | paasng.infras.iam.helpers.delete_builtin_user_groups | 不适用 | module |
| delete_grade_manager | paasng.infras.iam.helpers.delete_grade_manager | 不适用 | module |
| Application | paasng.platform.applications.models.Application | filter, default_objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DelKeyType | blue_krill.data_types.enum.StrStructuredEnum | 无 | CODE, NAME | 无 | Source origin defines the origin of module's sourc... |
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/management/commands/publish_app.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| DomainSLZ | paas_wl.workloads.networking.entrance.serializers.DomainSLZ | 不适用 | module |
| validate_domain_payload | paas_wl.workloads.networking.entrance.serializers.validate_domain_payload | 不适用 | module |
| get_custom_domain_mgr | paas_wl.workloads.networking.ingress.domains.manager.get_custom_domain_mgr | 不适用 | module |
| ProductSourceUrlType | paasng.accessories.publish.market.constant.ProductSourceUrlType | CUSTOM_DOMAIN | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | get_or_create_by_app, objects | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| paasng.utils.models | BkUserField, models, utils | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | UUIDField, CharField, DateTimeField, IntegerField, BooleanField, AutoField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/migrations/0002_auto_20201127_1050.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterUniqueTogether | module |
| models | django.db.models | OneToOneField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/migrations/0003_auto_20210809_1610.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.platform.applications.constants | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RemoveField, AddField | module |
| models | django.db.models | BooleanField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/migrations/0004_update_engineless.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, ENGINELESS_APP | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| forwards | `def forwards(apps, schema_editor):` | 无 | Find all applications with engine disabled, update... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | operations, dependencies | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/migrations/0005_auto_20210817_1518.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/migrations/0006_application_logo.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.platform.applications.models | ProcessedImageField, models, utils, rename_logo_with_extra_prefix, applications, platform | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/migrations/0007_move_app_logo.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| forwards | `def forwards(apps, schema_editor):` | 无 | Migrate all app logo data from Product to Applicat... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | operations, dependencies | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/migrations/0008_auto_20220507_1113.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, RunPython | module |
| models | django.db.models | CharField | module |
| copy_field | paasng.utils.i18n.migrate.copy_field | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/migrations/0009_application_is_scene_app.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/migrations/0010_application_is_plugin_app.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, RunPython | module |
| models | django.db.models | BooleanField | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, DEFAULT | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| forwards | `def forwards(apps, schema_editor):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/migrations/0011_alter_application_type.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/migrations/0012_application_is_ai_agent_app.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/migrations/0013_applicationdeploymentmoduleorder.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, IntegerField, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/applications/mixins.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Http404 | django.http.Http404 | 不适用 | module |
| HttpRequest | django.http.HttpRequest | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| BaseAppPermission | paasng.infras.accounts.permissions.application.BaseAppPermission | 不适用 | module |
| EngineApp | paasng.platform.engine.models.EngineApp | 不适用 | module |
| Module | paasng.platform.modules.models.Module | DoesNotExist | module |
| Application | apiserver.paasng.paasng.platform.applications.models.Application | 不适用 | module |
| ModuleEnvironment | apiserver.paasng.paasng.platform.applications.models.ModuleEnvironment | DoesNotExist | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationCodeInPathMixin | 无 | get_application_without_perm, get_application, get_module_via_path, get_env_via_path, get_engine_app_via_path, get_wl_app_via_path, _get_param_from_kwargs | 无 | 无 | 
    Provide a shortcut to get current application... |

---


### 模块: apiserver/paasng/paasng/platform/applications/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| os | dirname, path, splitext, join | module |
| time | time | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Set | typing.Set | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| RequestError | bkstorages.backends.bkrepo.RequestError | 不适用 | module |
| settings | django.conf.settings | IAM_PERM_EFFECTIVE_TIMEDELTA, APPLICATION_DEFAULT_LOGO, PLUGIN_APP_DEFAULT_LOGO | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| SuspiciousOperation | django.core.exceptions.SuspiciousOperation | 不适用 | module |
| models | django.db.models | QuerySet, Manager, UUIDField, CharField, BooleanField, DateTimeField, ForeignKey, CASCADE, IntegerField, OneToOneField, Model | module |
| Q | django.db.models.Q | 不适用 | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| ResizeToFill | pilkit.processors.ResizeToFill | 不适用 | module |
| app_logo_storage | paasng.core.core.storages.object_storage.app_logo_storage | 不适用 | module |
| get_default_redis | paasng.core.core.storages.redisdb.get_default_redis | 不适用 | module |
| get_region | paasng.core.region.models.get_region | 不适用 | module |
| fetch_role_members | paasng.infras.iam.helpers.fetch_role_members | 不适用 | module |
| ApplicationPermission | paasng.infras.iam.permissions.resources.application.ApplicationPermission | 不适用 | module |
| AppFeatureFlag | paasng.platform.applications.constants.AppFeatureFlag | get_default_flags, get_django_choices, PA_INGRESS_ANALYTICS | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | ADMINISTRATOR, OPERATOR, DEVELOPER, value, get_choice_label | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, DEFAULT | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | 不适用 | module |
| Module | paasng.platform.modules.models.Module | filter, objects | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |
| BkUserField | paasng.utils.models.BkUserField | 不适用 | module |
| OrderByField | paasng.utils.models.OrderByField | from_string | module |
| OwnerTimestampedModel | paasng.utils.models.OwnerTimestampedModel | 不适用 | module |
| ProcessedImageField | paasng.utils.models.ProcessedImageField | 不适用 | module |
| TimestampedModel | paasng.utils.models.TimestampedModel | 不适用 | module |
| WithOwnerManager | paasng.utils.models.WithOwnerManager | 不适用 | module |
| RepositoryInstance | paasng.platform.sourcectl.models.RepositoryInstance | 不适用 | module |
| AppSpecs | apiserver.paasng.paasng.platform.applications.specs.AppSpecs | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | filter_by_env, objects, DoesNotExist | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| LOGO_SIZE | (144, 144) | `LOGO_SIZE = (144, 144)` | module |
| ModuleEnvironment | 不适用 | `ModuleEnvironment = ApplicationEnvironment` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| rename_logo_with_extra_prefix | `def rename_logo_with_extra_prefix(instance: 'Application', filename: str) -> str:` | 无 | Generate uploaded logo filename with extra prefix |
| get_default_feature_flags | `def get_default_feature_flags(application: 'Application') -> Dict[str, bool]:` | 无 | get default_feature_flags mapping for an applicati... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationQuerySet | django.db.models.QuerySet | get_user_id, get_username, _filter_by_user, search_by_code_or_name, only_active, filter_by_regions, filter_by_languages, filter_by_user, filter_by_source_origin | 无 | 无 | QuerySet for Applications |
| ApplicationManager | django.db.models.Manager | get_queryset | 无 | 无 | Manager for Applications |
| BaseApplicationFilter | 无 | filter_queryset, process_order_by | 无 | 无 | Base Application Filter |
| JustLeaveAppManager | 无 | __init__, add, list | 无 | 无 | 
    刚退出的应用管理器

    Q：为什么需要有这个管理器
    A：开发者中心接入权限中... |
| UserApplicationFilter | 无 | __init__, filter | 无 | 无 | List user applications |
| Application | paasng.utils.models.OwnerTimestampedModel | has_deployed, config_info, engine_enabled, get_source_obj, get_engine_app, get_module_with_lock, get_default_module_with_lock, default_module, get_default_module, get_module, get_app_envs, get_product, get_administrators, get_devopses, get_developers, has_customized_logo, get_logo_url, delete, __str__ | id, code, name, name_en, type, is_smart_app, is_scene_app, is_plugin_app, is_ai_agent_app, language, creator, is_active, is_deleted, last_deployed_date, logo, default_objects | 无 | 蓝鲸应用 |
| ApplicationMembership | paasng.utils.models.TimestampedModel | __str__ | user, application, role | 无 | [deprecated] 切换为权限中心用户组存储用户信息

    Members for one... |
| ApplicationEnvironment | paasng.utils.models.TimestampedModel | __str__, get_engine_app, wl_app, is_production, is_running, restore_archived | application, module, engine_app, environment, is_offlined | 无 | 记录蓝鲸应用在不同部署环境下对应的 Engine App |
| ApplicationFeatureFlagManager | django.db.models.Manager | get_application_features, set_feature, has_feature, _build_queryset | 无 | 无 | 所有方法均同时兼容两种调用方式:

    - 通过外键对象查询, 例如 application.f... |
| ApplicationFeatureFlag | paasng.utils.models.TimestampedModel | 无 | application, effect, name, objects | 无 | 
    移动端、应用市场白名单等app特性标记
     |
| UserMarkedApplication | paasng.utils.models.OwnerTimestampedModel | __str__, code | application, objects | 无 | 不适用 |
| ApplicationDeploymentModuleOrder | django.db.models.Model | 无 | module, order | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/operators.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | timedelta | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| User | bkpaas_auth.models.User | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| timezone | django.utils.timezone | now | module |
| Application | paasng.platform.applications.models.Application | prefetch_related, objects | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | filter, objects | module |
| ModuleEnvironmentOperations | paasng.platform.engine.models.operations.ModuleEnvironmentOperations | filter, objects, DoesNotExist | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_contact_info_by_appids | `def get_contact_info_by_appids(ids: List[str], days_range: int = 31) -> Dict[str, AppContactInfo]:` | 无 | Gets the contact infos for multiple applications. |
| get_contact_info | `def get_contact_info(application: Application) -> AppContactInfo:` | 无 | Retrieve app's contact info; each app performs 4 S... |
| get_env_recent_deployment_ops | `def get_env_recent_deployment_ops(env: ModuleEnvironment) -> List[User]:` | 无 | Get environment's recent deployment operators |
| query_recent_deployment_operators | `def query_recent_deployment_operators(operations: QuerySet, days_range: int) -> List[User]:` | 无 | Query latest deployment operators within given day... |
| get_last_operator | `def get_last_operator(application: Application):` | 无 | Query latest deployment operator |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppContactInfo | 无 | 无 | 无 | dataclass | Information for contacting application |

---


### 模块: apiserver/paasng/paasng/platform/applications/pagination.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| OrderedDict | collections.OrderedDict | 不适用 | module |
| LimitOffsetPagination | rest_framework.pagination.LimitOffsetPagination | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationListPagination | rest_framework.pagination.LimitOffsetPagination | get_paginated_response | default_limit | 无 | 应用列表分页器，用于添加各种应用类型数量等参数 |

---


### 模块: apiserver/paasng/paasng/platform/applications/permissions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| permissions | rest_framework.permissions | BasePermission | module |
| AppFeatureFlag | paasng.platform.applications.constants.AppFeatureFlag | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| app_has_feature | `def app_has_feature(key: AppFeatureFlagConst):` | 无 | A factory function which generates a Permission cl... |


---


### 模块: apiserver/paasng/paasng/platform/applications/protections.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| Enum | enum.Enum | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| permissions | rest_framework.permissions | BasePermission | module |
| BaseCondition | paasng.core.core.protections.base.BaseCondition | 不适用 | module |
| ProtectionStatus | paasng.core.core.protections.base.ProtectionStatus | 不适用 | module |
| ConditionNotMatched | paasng.core.core.protections.exceptions.ConditionNotMatched | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | f, APP_RES_PROTECTED | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| raise_if_protected | `def raise_if_protected(application: Application, res_type: ProtectedRes):` | 无 | Raise error if app resource is protected

    :rai... |
| res_must_not_be_protected_perm | `def res_must_not_be_protected_perm(res_type: ProtectedRes) -> Type[permissions.BasePermission]:` | 无 | Check if application's resource was protected |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseAppResProtectCondition | paasng.core.core.protections.base.BaseCondition | __init__, validate | 无 | 无 | 不适用 |
| ProtectedRes | enum.Enum | 无 | BASIC_INFO_MODIFICATIONS, SERVICES_MODIFICATIONS, DISABLE_APP_DESC | 无 | Protected application resources, it is usually a v... |
| AppDescDisableProtectCondition | BaseAppResProtectCondition | validate | action | 无 | 不适用 |
| AppResProtector | 无 | __init__, list_status, get_status, register_precondition, override_preconditions | 无 | 无 | protects application's related resource |

---


### 模块: apiserver/paasng/paasng/platform/applications/serializers/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ApplicationDeploymentModuleOrderReqSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationDeploymentModuleOrderReqSLZ | 不适用 | module |
| ApplicationDeploymentModuleOrderSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationDeploymentModuleOrderSLZ | 不适用 | module |
| ApplicationEvaluationIssueCountListResultSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationEvaluationIssueCountListResultSLZ | 不适用 | module |
| ApplicationEvaluationListQuerySLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationEvaluationListQuerySLZ | 不适用 | module |
| ApplicationEvaluationListResultSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationEvaluationListResultSLZ | 不适用 | module |
| ApplicationEvaluationSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationEvaluationSLZ | 不适用 | module |
| ApplicationFeatureFlagSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationFeatureFlagSLZ | 不适用 | module |
| ApplicationGroupFieldSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationGroupFieldSLZ | 不适用 | module |
| ApplicationListDetailedSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationListDetailedSLZ | 不适用 | module |
| ApplicationListMinimalSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationListMinimalSLZ | 不适用 | module |
| ApplicationLogoSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationLogoSLZ | 不适用 | module |
| ApplicationMarkedSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationMarkedSLZ | 不适用 | module |
| ApplicationMembersInfoSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationMembersInfoSLZ | 不适用 | module |
| ApplicationMinimalSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationMinimalSLZ | 不适用 | module |
| ApplicationRelationSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationRelationSLZ | 不适用 | module |
| ApplicationSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationSLZ | 不适用 | module |
| ApplicationSLZ4Record | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationSLZ4Record | 不适用 | module |
| ApplicationWithDeployInfoSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationWithDeployInfoSLZ | 不适用 | module |
| ApplicationWithLogoMinimalSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationWithLogoMinimalSLZ | 不适用 | module |
| ApplicationWithMarketMinimalSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationWithMarketMinimalSLZ | 不适用 | module |
| ApplicationWithMarketSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationWithMarketSLZ | 不适用 | module |
| ApplicationWithMarkMinimalSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ApplicationWithMarkMinimalSLZ | 不适用 | module |
| CreateAIAgentAppSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.CreateAIAgentAppSLZ | 不适用 | module |
| CreateApplicationV2SLZ | apiserver.paasng.paasng.platform.applications.serializers.app.CreateApplicationV2SLZ | 不适用 | module |
| CreateCloudNativeApplicationSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.CreateCloudNativeApplicationSLZ | 不适用 | module |
| CreateThirdPartyApplicationSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.CreateThirdPartyApplicationSLZ | 不适用 | module |
| EnvironmentDeployInfoSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.EnvironmentDeployInfoSLZ | 不适用 | module |
| IdleApplicationListOutputSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.IdleApplicationListOutputSLZ | 不适用 | module |
| IdleModuleEnvSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.IdleModuleEnvSLZ | 不适用 | module |
| MarketAppMinimalSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.MarketAppMinimalSLZ | 不适用 | module |
| MarketConfigSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.MarketConfigSLZ | 不适用 | module |
| ModuleEnvSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ModuleEnvSLZ | 不适用 | module |
| ProductSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ProductSLZ | 不适用 | module |
| ProtectionStatusSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.ProtectionStatusSLZ | 不适用 | module |
| SearchApplicationSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.SearchApplicationSLZ | 不适用 | module |
| SysThirdPartyApplicationSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.SysThirdPartyApplicationSLZ | 不适用 | module |
| UpdateApplicationSLZ | apiserver.paasng.paasng.platform.applications.serializers.app.UpdateApplicationSLZ | 不适用 | module |
| CreateCloudNativeAppSLZ | apiserver.paasng.paasng.platform.applications.serializers.cnative.CreateCloudNativeAppSLZ | 不适用 | module |
| AppIDField | apiserver.paasng.paasng.platform.applications.serializers.fields.AppIDField | 不适用 | module |
| AppIDSMartField | apiserver.paasng.paasng.platform.applications.serializers.fields.AppIDSMartField | 不适用 | module |
| ApplicationField | apiserver.paasng.paasng.platform.applications.serializers.fields.ApplicationField | 不适用 | module |
| AppNameField | apiserver.paasng.paasng.platform.applications.serializers.fields.AppNameField | 不适用 | module |
| LightAppCreateSLZ | apiserver.paasng.paasng.platform.applications.serializers.light_app.LightAppCreateSLZ | 不适用 | module |
| LightAppDeleteSLZ | apiserver.paasng.paasng.platform.applications.serializers.light_app.LightAppDeleteSLZ | 不适用 | module |
| LightAppEditSLZ | apiserver.paasng.paasng.platform.applications.serializers.light_app.LightAppEditSLZ | 不适用 | module |
| LightAppQuerySLZ | apiserver.paasng.paasng.platform.applications.serializers.light_app.LightAppQuerySLZ | 不适用 | module |
| ApplicationMemberRoleOnlySLZ | apiserver.paasng.paasng.platform.applications.serializers.member_role.ApplicationMemberRoleOnlySLZ | 不适用 | module |
| ApplicationMemberSLZ | apiserver.paasng.paasng.platform.applications.serializers.member_role.ApplicationMemberSLZ | 不适用 | module |
| RoleField | apiserver.paasng.paasng.platform.applications.serializers.member_role.RoleField | 不适用 | module |
| AppIDUniqueValidator | apiserver.paasng.paasng.platform.applications.serializers.validators.AppIDUniqueValidator | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/platform/applications/serializers/app.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | ALLOW_THIRD_APP_SYS_ID_LIST | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| get_language | django.utils.translation.get_language | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | ChoiceField, BooleanField, CharField, Serializer, ReadOnlyField, RegexField, IntegerField, FloatField, JSONField, ListField, DateTimeField, ValidationError, URLField, ModelSerializer, DictField, SerializerMethodField, HyperlinkedIdentityField, ImageField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| get_region | paasng.core.region.states.get_region | 不适用 | module |
| AppLanguage | paasng.platform.applications.constants.AppLanguage | get_django_choices | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | get_django_choices, value, DEFAULT, ENGINELESS_APP, CLOUD_NATIVE | module |
| IntegrityError | paasng.platform.applications.exceptions.IntegrityError | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| UserMarkedApplication | paasng.platform.applications.models.UserMarkedApplication | 不适用 | module |
| get_last_operator | paasng.platform.applications.operators.get_last_operator | 不适用 | module |
| application_logo_updated | paasng.platform.applications.signals.application_logo_updated | send | module |
| prepare_change_application_name | paasng.platform.applications.signals.prepare_change_application_name | send | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | get_choices | module |
| OperationIssueType | paasng.platform.evaluation.constants.OperationIssueType | get_choices | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | get_choices | module |
| Module | paasng.platform.modules.models.module.Module | filter, objects | module |
| MinimalModuleSLZ | paasng.platform.modules.serializers.MinimalModuleSLZ | 不适用 | module |
| ModuleSLZ | paasng.platform.modules.serializers.ModuleSLZ | 不适用 | module |
| ModuleSourceConfigSLZ | paasng.platform.modules.serializers.ModuleSourceConfigSLZ | 不适用 | module |
| I18NExtend | paasng.utils.i18n.serializers.I18NExtend | 不适用 | module |
| TranslatedCharField | paasng.utils.i18n.serializers.TranslatedCharField | 不适用 | module |
| i18n | paasng.utils.i18n.serializers.i18n | 不适用 | module |
| UserNameField | paasng.utils.serializers.UserNameField | 不适用 | module |
| RE_APP_SEARCH | paasng.utils.validators.RE_APP_SEARCH | 不适用 | module |
| ApplicationField | apiserver.paasng.paasng.platform.applications.serializers.fields.ApplicationField | 不适用 | module |
| AppNameField | apiserver.paasng.paasng.platform.applications.serializers.fields.AppNameField | 不适用 | module |
| AdvancedCreationParamsMixin | apiserver.paasng.paasng.platform.applications.serializers.mixins.AdvancedCreationParamsMixin | 不适用 | module |
| AppBasicInfoMixin | apiserver.paasng.paasng.platform.applications.serializers.mixins.AppBasicInfoMixin | 不适用 | module |
| MarketParamsMixin | apiserver.paasng.paasng.platform.applications.serializers.mixins.MarketParamsMixin | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CreateApplicationV2SLZ | apiserver.paasng.paasng.platform.applications.serializers.mixins.AppBasicInfoMixin | validate | type, engine_enabled, engine_params, advanced_options, is_plugin_app, is_ai_agent_app | 无 | 普通应用创建应用表单，目前产品上已经没有入口，但是暂时先保留 API |
| CreateCloudNativeApplicationSLZ | CreateApplicationV2SLZ | to_internal_value | 无 | 无 | 不适用 |
| CreateAIAgentAppSLZ | apiserver.paasng.paasng.platform.applications.serializers.mixins.AppBasicInfoMixin | to_internal_value | 无 | 无 | 不适用 |
| CreateThirdPartyApplicationSLZ | apiserver.paasng.paasng.platform.applications.serializers.mixins.AppBasicInfoMixin | validate | engine_enabled, market_params | 无 | 创建外链应用的表单 |
| SysThirdPartyApplicationSLZ | apiserver.paasng.paasng.platform.applications.serializers.mixins.AppBasicInfoMixin | validate_code | operator | 无 | 创建系统外链应用 |
| UpdateApplicationSLZ | rest_framework.serializers.Serializer | _validate_duplicated_field, validate, update | name, logo_url | i18n | Serializer for update application |
| SearchApplicationSLZ | rest_framework.serializers.Serializer | 无 | keyword, include_inactive, prefer_marked | 无 | 不适用 |
| IdleModuleEnvSLZ | rest_framework.serializers.Serializer | 无 | module_name, env_name, cpu_quota, memory_quota, cpu_usage_avg, latest_deployed_at | 无 | 不适用 |
| IdleApplicationSLZ | rest_framework.serializers.Serializer | 无 | code, name, type, is_plugin_app, logo_url, administrators, developers, module_envs | 无 | 不适用 |
| IdleApplicationListOutputSLZ | rest_framework.serializers.Serializer | 无 | collected_at, applications | 无 | 不适用 |
| ApplicationEvaluationSLZ | rest_framework.serializers.Serializer | 无 | code, name, type, is_plugin_app, logo_url, cpu_limits, mem_limits, cpu_usage_avg, mem_usage_avg, pv, uv, latest_operated_at, issue_type | 无 | 不适用 |
| ApplicationEvaluationListQuerySLZ | rest_framework.serializers.Serializer | validate_order | issue_type, order | 无 | 不适用 |
| ApplicationEvaluationListResultSLZ | rest_framework.serializers.Serializer | 无 | collected_at, applications | 无 | 不适用 |
| ApplicationEvaluationIssueCountSLZ | rest_framework.serializers.Serializer | 无 | issue_type, count | 无 | 不适用 |
| ApplicationEvaluationIssueCountListResultSLZ | rest_framework.serializers.Serializer | 无 | collected_at, issue_type_counts, total | 无 | 不适用 |
| EnvironmentDeployInfoSLZ | rest_framework.serializers.Serializer | 无 | deployed, url | 无 | 不适用 |
| ApplicationSLZ | rest_framework.serializers.ModelSerializer | get_modules | name, region_name, logo_url, config_info, modules, creator, owner | 无 | 不适用 |
| ApplicationWithDeployInfoSLZ | ApplicationSLZ | 无 | deploy_info | 无 | 不适用 |
| ApplicationRelationSLZ | rest_framework.serializers.Serializer | to_internal_value | id, code, name | 无 | 不适用 |
| ApplicationListDetailedSLZ | rest_framework.serializers.Serializer | validate_order_by, _validate_choice, validate_region, validate_language, validate_source_origin, validate_type | valid_order_by_fields, exclude_collaborated, include_inactive, region, language, search_term, source_origin, type, order_by, prefer_marked | 无 | Serializer for detailed app list |
| ApplicationListMinimalSLZ | rest_framework.serializers.Serializer | 无 | include_inactive, source_origin | 无 | 不适用 |
| ApplicationGroupFieldSLZ | rest_framework.serializers.Serializer | validate_field | include_inactive, field | 无 | Serializer for detailed app list |
| ProductSLZ | rest_framework.serializers.Serializer | 无 | name, logo | 无 | 不适用 |
| MarketConfigSLZ | rest_framework.serializers.Serializer | 无 | source_tp_url | 无 | 不适用 |
| ApplicationWithMarketSLZ | rest_framework.serializers.Serializer | 无 | application, product, marked, market_config, migration_status | 无 | 不适用 |
| ApplicationMinimalSLZ | rest_framework.serializers.ModelSerializer | 无 | name | 无 | 不适用 |
| ApplicationWithMarkMinimalSLZ | rest_framework.serializers.Serializer | 无 | application, marked | 无 | 用于显示带收藏标记的应用列表 |
| ApplicationSLZ4Record | rest_framework.serializers.ModelSerializer | 无 | name, logo_url, config_info | 无 | 用于操作记录 |
| ApplicationWithLogoMinimalSLZ | rest_framework.serializers.ModelSerializer | 无 | name, logo_url | 无 | 用于带Logo URL的简化应用列表 |
| MarketAppMinimalSLZ | rest_framework.serializers.Serializer | 无 | name | 无 | 不适用 |
| ApplicationWithMarketMinimalSLZ | rest_framework.serializers.Serializer | 无 | application, product | 无 | 不适用 |
| ApplicationMarkedSLZ | rest_framework.serializers.ModelSerializer | validate, create, __repr__ | url, application_code, application_name, application | 无 | 不适用 |
| ModuleEnvSLZ | rest_framework.serializers.Serializer | 无 | module, environment | 无 | 不适用 |
| ApplicationFeatureFlagSLZ | rest_framework.serializers.Serializer | 无 | name, effect | 无 | 不适用 |
| ProtectionStatusSLZ | rest_framework.serializers.Serializer | 无 | activated, reason | 无 | Serialize app resource protection status |
| ApplicationLogoSLZ | rest_framework.serializers.ModelSerializer | update | logo, logo_url, code | 无 | Serializer for representing and modifying Logo |
| ApplicationMembersInfoSLZ | rest_framework.serializers.ModelSerializer | get_administrators, get_devopses, get_developers, get_last_operator | name, administrators, devopses, developers, last_operator | 无 | 不适用 |
| ApplicationDeploymentModuleOrderSLZ | rest_framework.serializers.Serializer | 无 | module_name, order | 无 | 不适用 |
| ApplicationDeploymentModuleOrderReqSLZ | rest_framework.serializers.Serializer | validate | module_orders | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/serializers/cnative.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | BooleanField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | CUSTOM_IMAGE | module |
| BkAppSpecSLZ | paasng.platform.modules.serializers.BkAppSpecSLZ | 不适用 | module |
| ModuleSourceConfigSLZ | paasng.platform.modules.serializers.ModuleSourceConfigSLZ | 不适用 | module |
| validate_build_method | paasng.platform.modules.serializers.validate_build_method | 不适用 | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | PLUGIN | module |
| Template | paasng.platform.templates.models.Template | filter, objects | module |
| AdvancedCreationParamsMixin | apiserver.paasng.paasng.platform.applications.serializers.mixins.AdvancedCreationParamsMixin | 不适用 | module |
| AppBasicInfoMixin | apiserver.paasng.paasng.platform.applications.serializers.mixins.AppBasicInfoMixin | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CreateCloudNativeAppSLZ | apiserver.paasng.paasng.platform.applications.serializers.mixins.AppBasicInfoMixin | validate, _validate_image_credential | source_config, bkapp_spec, advanced_options, is_plugin_app | 无 | 创建云原生架构应用的表单 |

---


### 模块: apiserver/paasng/paasng/platform/applications/serializers/fields.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| re | compile | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | RegexField, SlugRelatedField | module |
| Application | paasng.platform.applications.models.Application | filter_by_user, objects | module |
| NickNameField | paasng.utils.serializers.NickNameField | 不适用 | module |
| SafePathField | paasng.utils.serializers.SafePathField | 不适用 | module |
| RE_APP_CODE | paasng.utils.validators.RE_APP_CODE | 不适用 | module |
| DnsSafeNameValidator | paasng.utils.validators.DnsSafeNameValidator | 不适用 | module |
| ReservedWordValidator | paasng.utils.validators.ReservedWordValidator | 不适用 | module |
| AppIDUniqueValidator | apiserver.paasng.paasng.platform.applications.serializers.validators.AppIDUniqueValidator | 不适用 | module |
| AppNameUniqueValidator | apiserver.paasng.paasng.platform.applications.serializers.validators.AppNameUniqueValidator | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppIDField | rest_framework.serializers.RegexField | __init__ | 无 | 无 | Field for validating application ID |
| AppIDSMartField | rest_framework.serializers.RegexField | __init__ | pattern | 无 | Field for validating S-mart applications's ID, the... |
| ApplicationField | rest_framework.serializers.SlugRelatedField | get_queryset | 无 | 无 | 不适用 |
| AppNameField | paasng.utils.serializers.NickNameField | __init__ | 无 | 无 | Field for validating application name |
| SourceDirField | paasng.utils.serializers.SafePathField | __init__ | default_error_messages | 无 | Field for validating source directory |
| DockerfilePathField | paasng.utils.serializers.SafePathField | __init__ | default_error_messages | 无 | Field for validating Dockerfile path |

---


### 模块: apiserver/paasng/paasng/platform/applications/serializers/light_app.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, CharField, URLField, ListField, IntegerField | module |
| Base64Validator | paasng.utils.validators.Base64Validator | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LightAppCreateSLZ | rest_framework.serializers.Serializer | 无 | parent_app_code, app_name, app_url, developers, app_tag, creator, logo, introduction, width, height | 无 | 不适用 |
| LightAppDeleteSLZ | rest_framework.serializers.Serializer | 无 | light_app_code | 无 | 不适用 |
| LightAppEditSLZ | rest_framework.serializers.Serializer | 无 | light_app_code, app_name, app_url, developers, app_tag, logo, introduction, width, height | 无 | 不适用 |
| LightAppQuerySLZ | rest_framework.serializers.Serializer | 无 | light_app_code | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/serializers/member_role.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | Field, Serializer, ListField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | 不适用 | module |
| UserField | paasng.utils.serializers.UserField | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RoleField | rest_framework.serializers.Field | to_representation, to_internal_value | 无 | 无 | Role field for present role object friendly |
| ApplicationMemberSLZ | rest_framework.serializers.Serializer | 无 | user, roles | 无 | 不适用 |
| ApplicationMemberRoleOnlySLZ | rest_framework.serializers.Serializer | 无 | role | 无 | Serializer for update, only role |

---


### 模块: apiserver/paasng/paasng/platform/applications/serializers/mixins.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, ChoiceField, URLField, CharField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| RegionClusterService | paas_wl.infras.cluster.shim.RegionClusterService | 不适用 | module |
| get_region | paasng.core.region.states.get_region | 不适用 | module |
| I18NExtend | paasng.utils.i18n.serializers.I18NExtend | 不适用 | module |
| i18n | paasng.utils.i18n.serializers.i18n | 不适用 | module |
| AppIDField | apiserver.paasng.paasng.platform.applications.serializers.fields.AppIDField | 不适用 | module |
| AppNameField | apiserver.paasng.paasng.platform.applications.serializers.fields.AppNameField | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppBasicInfoMixin | rest_framework.serializers.Serializer | 无 | region, code, name | i18n | 不适用 |
| MarketParamsMixin | rest_framework.serializers.Serializer | 无 | source_tp_url | 无 | 蓝鲸市场相关参数 |
| AdvancedCreationParamsMixin | rest_framework.serializers.Serializer | validate_cluster_name | cluster_name | 无 | 高级应用创建选项 |

---


### 模块: apiserver/paasng/paasng/platform/applications/serializers/validators.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| Signal | django.dispatch.dispatcher.Signal | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| UniqueValidator | rest_framework.validators.UniqueValidator | 不适用 | module |
| ValidationError | rest_framework.validators.ValidationError | 不适用 | module |
| qs_exists | rest_framework.validators.qs_exists | 不适用 | module |
| AppFieldValidationError | paasng.platform.applications.exceptions.AppFieldValidationError | 不适用 | module |
| Application | paasng.platform.applications.models.Application | all, default_objects | module |
| prepare_use_application_code | paasng.platform.applications.signals.prepare_use_application_code | 不适用 | module |
| prepare_use_application_name | paasng.platform.applications.signals.prepare_use_application_name | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppUniqueValidator | rest_framework.validators.UniqueValidator | __init__, __call__, signal_external, get_message | field_name, field_label | 无 | Similar to the original UniqueValidator with some ... |
| AppNameUniqueValidator | AppUniqueValidator | 无 | field_name, field_label, signal | 无 | 不适用 |
| AppIDUniqueValidator | AppUniqueValidator | __call__ | field_name, field_label, signal | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/signals.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Signal | django.dispatch.Signal | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| prepare_use_application_code | 不适用 | `prepare_use_application_code = Signal()` | module |
| prepare_use_application_name | 不适用 | `prepare_use_application_name = Signal()` | module |
| post_create_application | 不适用 | `post_create_application = Signal()` | module |
| before_finishing_application_creation | 不适用 | `before_finishing_application_creation = Signal()` | module |
| prepare_change_application_name | 不适用 | `prepare_change_application_name = Signal()` | module |
| module_environment_offline_success | 不适用 | `module_environment_offline_success = Signal()` | module |
| application_member_updated | 不适用 | `application_member_updated = Signal()` | module |
| application_default_module_switch | 不适用 | `application_default_module_switch = Signal()` | module |
| application_logo_updated | 不适用 | `application_logo_updated = Signal()` | module |



---


### 模块: apiserver/paasng/paasng/platform/applications/specs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ABC | abc.ABC | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| get_region | paasng.core.region.models.get_region | 不适用 | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | NORMAL | module |
| Template | paasng.platform.templates.models.Template | get, objects | module |
| ApplicationType | apiserver.paasng.paasng.platform.applications.constants.ApplicationType | DEFAULT, ENGINELESS_APP, CLOUD_NATIVE | module |
| Application | apiserver.paasng.paasng.platform.applications.models.Application | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppSpecs | 无 | __init__, engine_enabled, can_create_extra_modules, confirm_required_when_publish, market_published, to_dict | 无 | 无 | Read application's specifications which were deter... |
| AppTypeSpecs | abc.ABC | __init_subclass__, get_by_type | 无 | 无 | App's specifications derived from type |
| DefaultTypeSpecs | AppTypeSpecs | 无 | type_, engine_enabled, can_create_extra_modules | 无 | Specs for default type |
| EnginelessAppTypeSpecs | AppTypeSpecs | 无 | type_, engine_enabled, can_create_extra_modules | 无 | Specs for engineless_app type |
| CloudNativeTypeSpecs | AppTypeSpecs | 无 | type_, engine_enabled, can_create_extra_modules | 无 | Specs for cloud-native type |

---


### 模块: apiserver/paasng/paasng/platform/applications/tasks.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| OrderedDict | collections.OrderedDict | 不适用 | module |
| cast | typing.cast | 不适用 | module |
| shared_task | celery.shared_task | 不适用 | module |
| LocalServiceObj | paasng.accessories.servicehub.manager.LocalServiceObj | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | find_by_name, list_provisioned_rels | module |
| ServiceEngineAppAttachment | paasng.accessories.servicehub.models.ServiceEngineAppAttachment | get, objects | module |
| DefaultRediStore | paasng.core.core.storages.redisdb.DefaultRediStore | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects, all | module |
| ResQuotasAggregation | paasng.platform.applications.utils.ResQuotasAggregation | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sync_developers_to_sentry | `@shared_task:` | shared_task | Sync the developers list to sentry |
| cal_app_resource_quotas | `@shared_task:` | shared_task | Calculate resource quotas for all apps for sorting... |


---


### 模块: apiserver/paasng/paasng/platform/applications/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| OauthTokenViewSet | paasng.infras.accounts.views.OauthTokenViewSet | as_view | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |
| urlpatterns | apiserver.paasng.paasng.platform.applications.urls_ext.urlpatterns | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/bkapps/applications/v2/$', views.ApplicationCreateViewSet.as_view({'post': 'create_v2'}), name='api.applications.create_v2'), re_path('^api/bkapps/third-party/$', views.ApplicationCreateViewSet.as_view({'post': 'create_third_party'}), name='api.applications.create.third_party'), re_path('^api/bkapps/cloud-native/$', views.ApplicationCreateViewSet.as_view({'post': 'create_cloud_native'}), name='api.applications.create.cloud_native'), re_path('^api/bkapps/applications/creation/options/$', views.ApplicationCreateViewSet.as_view({'get': 'get_creation_options'}), name='api.applications.creation.options'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/$', views.ApplicationViewSet.as_view({'get': 'retrieve', 'delete': 'destroy', 'put': 'update'}), name='api.applications.detail'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/overview/$', views.ApplicationViewSet.as_view({'get': 'get_overview'}), name='api.applications.overview'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/logo/$', views.ApplicationLogoViewSet.as_view({'get': 'retrieve', 'put': 'update'}), name='api.applications.logo'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/secret_verifications/$', views.ApplicationExtraInfoViewSet.as_view({'post': 'get_secret'}), name='api.applications.detail.secret'), re_path('^api/bkapps/applications/lists/detailed$', views.ApplicationListViewSet.as_view({'get': 'list_detailed'}), name='api.applications.lists.detailed'), re_path('^api/bkapps/applications/lists/minimal$', views.ApplicationListViewSet.as_view({'get': 'list_minimal'}), name='api.applications.lists.minimal'), re_path('^api/bkapps/applications/lists/search$', views.ApplicationListViewSet.as_view({'get': 'list_search'}), name='api.applications.lists.search'), re_path('^api/bkapps/applications/lists/evaluation/$', views.ApplicationListViewSet.as_view({'get': 'list_evaluation'}), name='api.applications.lists.evaluation'), re_path('^api/bkapps/applications/lists/evaluation/issue_count/$', views.ApplicationListViewSet.as_view({'get': 'list_evaluation_issue_count'}), name='api.applications.lists.evaluation.issue_count'), re_path('^api/bkapps/applications/lists/idle/$', views.ApplicationListViewSet.as_view({'get': 'list_idle'}), name='api.applications.lists.idle'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/members/$', views.ApplicationMembersViewSet.as_view({'get': 'list', 'post': 'create'}), name='api.applications.members'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/members/(?P<user_id>[0-9a-z]+)/?$', views.ApplicationMembersViewSet.as_view({'delete': 'destroy', 'put': 'update'}), name='api.applications.members.detail'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/leave/?$', views.ApplicationMembersViewSet.as_view({'post': 'leave'}), name='api.applications.members.leave'), re_path('^api/bkapps/applications/members/roles/$', views.ApplicationMembersViewSet.as_view({'get': 'get_roles'}), name='api.applications.members.get_roles')]` | module |



---


### 模块: apiserver/paasng/paasng/platform/applications/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| AppModelDeploy | paas_wl.bk_app.cnative.specs.models.AppModelDeploy | filter_by_env, objects, DoesNotExist | module |
| ProcessManager | paas_wl.bk_app.processes.processes.ProcessManager | 不适用 | module |
| env_is_deployed | paasng.accessories.publish.entrance.exposer.env_is_deployed | 不适用 | module |
| get_exposed_url | paasng.accessories.publish.entrance.exposer.get_exposed_url | 不适用 | module |
| ProductSourceUrlType | paasng.accessories.publish.market.constant.ProductSourceUrlType | THIRD_PARTY | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | create, objects | module |
| get_region | paasng.core.region.models.get_region | 不适用 | module |
| create_oauth2_client | paasng.infras.oauth2.utils.create_oauth2_client | 不适用 | module |
| AppEnvironment | paasng.platform.applications.constants.AppEnvironment | get_values | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, ENGINELESS_APP, CLOUD_NATIVE | module |
| Application | paasng.platform.applications.models.Application | create, objects | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| post_create_application | paasng.platform.applications.signals.post_create_application | send | module |
| AppSpecs | paasng.platform.applications.specs.AppSpecs | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | filter_by_env, objects, DoesNotExist | module |
| ModuleName | paasng.platform.modules.constants.ModuleName | value, DEFAULT | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | AUTHORIZED_VCS | module |
| Module | paasng.platform.modules.models.Module | create, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_default_module | `def create_default_module(application: Application, language: str = '', source_init_template: str = '', source_origin: SourceOrigin = SourceOrigin.AUTHORIZED_VCS) -> Module:` | 无 | Create the default module for application

    :pa... |
| create_application | `def create_application(region: str, code: str, name: str, name_en: str, type_: str, operator: str, is_plugin_app: bool, is_ai_agent_app: bool = False):` | 无 | 创建 Application 模型 |
| create_market_config | `def create_market_config(application: Application, source_url_type: ProductSourceUrlType, source_tp_url: Optional[str] = None, prefer_https: bool = False) -> MarketConfig:` | 无 | 创建市场模型 |
| create_third_app | `@transaction.atomic:` | transaction.atomic | 创建第三方（外链）应用 |
| get_app_overview | `def get_app_overview(application: Application) -> dict:` | 无 | 普通应用、云原生应用的概览信息
    包含：每个模块下各个环境的访问地址和进程信息

    :r... |
| get_latest_deployment_basic_info | `def get_latest_deployment_basic_info(application: Application, env: ModuleEnvironment) -> Optional[dict]:` | 无 | 获取应用的最近部署信息 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ResQuotasAggregation | 无 | get_resource_quotas | 无 | dataclass | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/applications/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64decode | module |
| logging | getLogger | module |
| random | choices | module |
| string | digits, ascii_lowercase | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Counter | collections.Counter | 不适用 | module |
| defaultdict | collections.defaultdict | 不适用 | module |
| BytesIO | io.BytesIO | 不适用 | module |
| itemgetter | operator.itemgetter | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Set | typing.Set | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| user_id_encoder | bkpaas_auth.models.user_id_encoder | encode | module |
| settings | django.conf.settings | DISPLAY_BK_PLUGIN_APPS, IS_ALLOW_CREATE_BK_PLUGIN_APP, BK_COOKIE_NAME, LESSCODE_APP_USE_CLOUD_NATIVE_TYPE, ENABLE_VERIFICATION_CODE, DEFAULT_REGION_NAME, APP_LOGO_BUCKET, USER_TYPE | module |
| IntegrityError | paasng.platform.applications.exceptions.IntegrityError | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| Count | django.db.models.Count | 不适用 | module |
| F | django.db.models.F | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| timezone | django.utils.timezone | now | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_204_NO_CONTENT, HTTP_201_CREATED | module |
| viewsets | rest_framework.viewsets | ViewSet, ModelViewSet | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| LimitOffsetPagination | rest_framework.pagination.LimitOffsetPagination | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| APIView | rest_framework.views.APIView | 不适用 | module |
| delete_bkapp | paas_wl.bk_app.cnative.specs.resource.delete_bkapp | 不适用 | module |
| delete_networking | paas_wl.bk_app.cnative.specs.resource.delete_networking | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | ENABLE_AUTOSCALING | module |
| RegionClusterService | paas_wl.infras.cluster.shim.RegionClusterService | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| AppUserCredential | paas_wl.workloads.images.models.AppUserCredential | create, objects | module |
| get_exposed_links | paasng.accessories.publish.entrance.exposer.get_exposed_links | 不适用 | module |
| AppState | paasng.accessories.publish.market.constant.AppState | value, RELEASED | module |
| ProductSourceUrlType | paasng.accessories.publish.market.constant.ProductSourceUrlType | ENGINE_PROD_ENV | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | get_or_create_by_app, objects | module |
| Product | paasng.accessories.publish.market.models.Product | filter, objects | module |
| AppDeveloperManger | paasng.accessories.publish.sync_market.managers.AppDeveloperManger | 不适用 | module |
| app_logo_storage | paasng.core.core.storages.object_storage.app_logo_storage | save, url | module |
| legacy_db | paasng.core.core.storages.sqlalchemy.legacy_db | session_scope | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| AccountFeatureFlag | paasng.infras.accounts.models.AccountFeatureFlag | has_feature, objects | module |
| FunctionType | paasng.infras.accounts.constants.FunctionType | value, GET_APP_SECRET | module |
| make_verifier | paasng.infras.accounts.models.make_verifier | 不适用 | module |
| app_action_required | paasng.infras.accounts.permissions.application.app_action_required | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | SYSAPI_MANAGE_LIGHT_APPLICATIONS, SYSAPI_MANAGE_APPLICATIONS | module |
| site_perm_required | paasng.infras.accounts.permissions.global_site.site_perm_required | 不适用 | module |
| user_can_create_in_region | paasng.infras.accounts.permissions.user.user_can_create_in_region | 不适用 | module |
| VerificationCodeSLZ | paasng.infras.accounts.serializers.VerificationCodeSLZ | 不适用 | module |
| BkMonitorApiError | paasng.infras.bkmonitorv3.exceptions.BkMonitorApiError | 不适用 | module |
| BkMonitorGatewayServiceError | paasng.infras.bkmonitorv3.exceptions.BkMonitorGatewayServiceError | 不适用 | module |
| update_or_create_bk_monitor_space | paasng.infras.bkmonitorv3.shim.update_or_create_bk_monitor_space | 不适用 | module |
| BKIAMGatewayServiceError | paasng.infras.iam.exceptions.BKIAMGatewayServiceError | 不适用 | module |
| add_role_members | paasng.infras.iam.helpers.add_role_members | 不适用 | module |
| fetch_application_members | paasng.infras.iam.helpers.fetch_application_members | 不适用 | module |
| fetch_role_members | paasng.infras.iam.helpers.fetch_role_members | 不适用 | module |
| fetch_user_main_role | paasng.infras.iam.helpers.fetch_user_main_role | 不适用 | module |
| remove_user_all_roles | paasng.infras.iam.helpers.remove_user_all_roles | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | VIEW_BASIC_INFO, DELETE_APPLICATION, EDIT_BASIC_INFO, MANAGE_MEMBERS, BASIC_DEVELOP | module |
| get_oauth2_client_secret | paasng.infras.oauth2.utils.get_oauth2_client_secret | 不适用 | module |
| constants | paasng.misc.audit.constants | RAW_DATA, DataType | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | DELETE, MODIFY_BASIC_INFO, MODIFY | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | APP, MODULE | module |
| ResultCode | paasng.misc.audit.constants.ResultCode | FAILURE, SUCCESS | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| serializers | paasng.platform.applications.serializers | 不适用 | module |
| ApplicationCleaner | paasng.platform.applications.cleaner.ApplicationCleaner | 不适用 | module |
| delete_all_modules | paasng.platform.applications.cleaner.delete_all_modules | 不适用 | module |
| AppFeatureFlag | paasng.platform.applications.constants.AppFeatureFlag | APPLICATION_DESCRIPTION | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | ADMINISTRATOR, get_django_choices | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | DEFAULT, ENGINELESS_APP, CLOUD_NATIVE, value | module |
| LightApplicationViewSetErrorCode | paasng.platform.applications.constants.LightApplicationViewSetErrorCode | PARAM_NOT_VALID, CREATE_APP_ERROR, SUCCESS | module |
| LightAppAPIError | paasng.platform.applications.exceptions.LightAppAPIError | 不适用 | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| Application | paasng.platform.applications.models.Application | filter, objects, filter_by_user, get_field, _meta | module |
| ApplicationDeploymentModuleOrder | paasng.platform.applications.models.ApplicationDeploymentModuleOrder | filter, objects, update_or_create | module |
| ApplicationEnvironment | paasng.platform.applications.models.ApplicationEnvironment | filter, objects | module |
| JustLeaveAppManager | paasng.platform.applications.models.JustLeaveAppManager | 不适用 | module |
| UserApplicationFilter | paasng.platform.applications.models.UserApplicationFilter | 不适用 | module |
| UserMarkedApplication | paasng.platform.applications.models.UserMarkedApplication | filter, objects, all | module |
| ApplicationListPagination | paasng.platform.applications.pagination.ApplicationListPagination | 不适用 | module |
| AppResProtector | paasng.platform.applications.protections.AppResProtector | 不适用 | module |
| ProtectedRes | paasng.platform.applications.protections.ProtectedRes | BASIC_INFO_MODIFICATIONS, DISABLE_APP_DESC | module |
| raise_if_protected | paasng.platform.applications.protections.raise_if_protected | 不适用 | module |
| ApplicationMemberRoleOnlySLZ | paasng.platform.applications.serializers.ApplicationMemberRoleOnlySLZ | 不适用 | module |
| ApplicationMemberSLZ | paasng.platform.applications.serializers.ApplicationMemberSLZ | 不适用 | module |
| application_member_updated | paasng.platform.applications.signals.application_member_updated | send | module |
| post_create_application | paasng.platform.applications.signals.post_create_application | send | module |
| sync_developers_to_sentry | paasng.platform.applications.tasks.sync_developers_to_sentry | delay | module |
| create_application | paasng.platform.applications.utils.create_application | 不适用 | module |
| create_default_module | paasng.platform.applications.utils.create_default_module | 不适用 | module |
| create_market_config | paasng.platform.applications.utils.create_market_config | 不适用 | module |
| create_third_app | paasng.platform.applications.utils.create_third_app | 不适用 | module |
| get_app_overview | paasng.platform.applications.utils.get_app_overview | 不适用 | module |
| make_bk_lesscode_client | paasng.platform.bk_lesscode.client.make_bk_lesscode_client | 不适用 | module |
| LessCodeApiError | paasng.platform.bk_lesscode.exceptions.LessCodeApiError | 不适用 | module |
| LessCodeGatewayServiceError | paasng.platform.bk_lesscode.exceptions.LessCodeGatewayServiceError | 不适用 | module |
| ControllerError | paasng.platform.declarative.exceptions.ControllerError | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| OperationIssueType | paasng.platform.evaluation.constants.OperationIssueType | IDLE | module |
| AppOperationReport | paasng.platform.evaluation.models.AppOperationReport | filter, objects | module |
| AppOperationReportCollectionTask | paasng.platform.evaluation.models.AppOperationReportCollectionTask | order_by, objects | module |
| IdleAppNotificationMuteRule | paasng.platform.evaluation.models.IdleAppNotificationMuteRule | filter, objects | module |
| LegacyAppState | paasng.platform.mgrlegacy.constants.LegacyAppState | value, ONLINE | module |
| get_migration_process_status | paasng.platform.mgrlegacy.migrate.get_migration_process_status | 不适用 | module |
| ExposedURLType | paasng.platform.modules.constants.ExposedURLType | SUBDOMAIN | module |
| ModuleName | paasng.platform.modules.constants.ModuleName | value, DEFAULT | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | SCENE, BK_LESS_CODE, CNATIVE_IMAGE, AI_AGENT | module |
| init_module_in_view | paasng.platform.modules.manager.init_module_in_view | 不适用 | module |
| Module | paasng.platform.modules.models.module.Module | filter, objects | module |
| ModuleDeletionPreparer | paasng.platform.modules.protections.ModuleDeletionPreparer | 不适用 | module |
| SceneAPPInitializer | paasng.platform.scene_app.initializer.SceneAPPInitializer | 不适用 | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | normal_app_types | module |
| Template | paasng.platform.templates.models.Template | get, objects | module |
| dictx | paasng.utils.dictx | get_items | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | f, CANNOT_DELETE_APP, CANNOT_CREATE_APP, CREATE_LESSCODE_APP_ERROR, SCENE_TMPL_DESC_ERROR, CREATE_CREDENTIALS_FAILED, CREATE_APP_MEMBERS_ERROR, UPDATE_APP_MEMBERS_ERROR, DELETE_APP_MEMBERS_ERROR, MEMBERSHIP_DELETE_FAILED | module |
| AppAdaptor | paasng.infras.legacydb.adaptors.AppAdaptor | 不适用 | module |
| AppTagAdaptor | paasng.infras.legacydb.adaptors.AppTagAdaptor | 不适用 | module |
| get_developers_by_v2_application | paasng.infras.legacydb.models.get_developers_by_v2_application | 不适用 | module |
| initialize_app_logo_metadata | paasng.platform.applications.handlers.initialize_app_logo_metadata | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationListViewSet | rest_framework.viewsets.ViewSet | list_detailed, list_minimal, list_search, list_idle, _list_idle_module_envs, list_evaluation, list_evaluation_issue_count | 无 | 无 | View class for application lists. |
| ApplicationViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | retrieve, destroy, _delete_all_module, _delete_application, update, get_overview | 无 | 无 | View class for a single application. |
| ApplicationCreateViewSet | rest_framework.viewsets.ViewSet | create_third_party, create_v2, create_lesscode_app, _create_app_in_lesscode, create_cloud_native, create_ai_agent_app, get_creation_options, validate_region_perm, _get_cluster_entrance_https_enabled, _init_normal_app, _init_scene_app, _init_image_credential | serializer_class, permission_classes | 无 | 不适用 |
| ApplicationMembersViewSet | rest_framework.viewsets.ModelViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list, create, update, leave, destroy, check_admin_count, get_roles | pagination_class, permission_classes | 无 | Viewset for application members management |
| ApplicationMarkedViewSet | rest_framework.viewsets.ModelViewSet | get_queryset, get_object | lookup_field, serializer_class, queryset, pagination_class | 无 | 
    用户标记的应用
    list: 获取用户标记的应用列表
    - [测试地址](/a... |
| ApplicationGroupByStateStatisticsView | rest_framework.views.APIView | get | 无 | 无 | 不适用 |
| ApplicationGroupByFieldStatisticsView | rest_framework.views.APIView | get | 无 | 无 | 不适用 |
| ApplicationExtraInfoViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get_secret | permission_classes | 无 | 不适用 |
| ApplicationFeatureFlagViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list, list_with_env, switch_app_desc_flag | 无 | 无 | 不适用 |
| ApplicationResProtectionsViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list | permission_classes | 无 | 查看应用的资源保护情况 |
| LightAppViewSet | rest_framework.viewsets.ViewSet | create, delete, edit, query, handle_exception, generate_app_maker_code, get_available_light_app_code, store_logo, make_app_response, make_feedback_response, validate_app | 无 | 无 | 为标准运维提供轻应用管理接口，部分代码迁移自 open—paas |
| ApplicationLogoViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | retrieve, update | serializer_class | 无 | Viewset for managing application's Logo |
| SysAppViewSet | rest_framework.viewsets.ViewSet | create_sys_third_app | 无 | 无 | 不适用 |
| ApplicationDeploymentModuleOrderViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | upsert, list | permission_classes | 无 | 部署管理-进程列表，模块的排序 |

---


### 模块: apiserver/paasng/paasng/platform/bk_lesscode/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/bk_lesscode/apigw/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/bk_lesscode/apigw/client.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| APIGatewayClient | bkapi_client_core.apigateway.APIGatewayClient | 不适用 | module |
| Operation | bkapi_client_core.apigateway.Operation | 不适用 | module |
| OperationGroup | bkapi_client_core.apigateway.OperationGroup | 不适用 | module |
| bind_property | bkapi_client_core.apigateway.bind_property | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Group | bkapi_client_core.apigateway.OperationGroup | 无 | create_project_by_app, find_project_by_app, project_release_package, project_releases | 无 | 不适用 |
| Client | bkapi_client_core.apigateway.APIGatewayClient | 无 | _api_name, api | 无 | bk-lesscode
    蓝鲸可视化平台提供的openapi
     |

---


### 模块: apiserver/paasng/paasng/platform/bk_lesscode/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| APIGatewayResponseError | bkapi_client_core.exceptions.APIGatewayResponseError | 不适用 | module |
| settings | django.conf.settings | BK_COOKIE_NAME, BK_API_URL_TMPL, BK_PLUGIN_APIGW_SERVICE_STAGE, BK_APP_CODE, BK_APP_SECRET, BK_LESSCODE_URL, ENABLE_BK_LESSCODE | module |
| get_language | django.utils.translation.get_language | 不适用 | module |
| Client | paasng.platform.bk_lesscode.apigw.client.Client | 不适用 | module |
| Group | paasng.platform.bk_lesscode.apigw.client.Group | 不适用 | module |
| LessCodeApiError | paasng.platform.bk_lesscode.exceptions.LessCodeApiError | 不适用 | module |
| LessCodeGatewayServiceError | paasng.platform.bk_lesscode.exceptions.LessCodeGatewayServiceError | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_bk_lesscode_client | `def make_bk_lesscode_client(login_cookie: str, client: Optional[LessCodeGroup] = None):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DummyLessCodeClient | 无 | create_app, get_address | 无 | 无 | 不适用 |
| LessCodeClient | 无 | __init__, _make_api_client, _prepare_headers, create_app, get_address | 无 | 无 | bk_lesscode 通过 APIGW 提供的 API |

---


### 模块: apiserver/paasng/paasng/platform/bk_lesscode/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LessCodeGatewayServiceError | Exception | __init__ | 无 | 无 | This error indicates that there's something wrong ... |
| LessCodeApiError | LessCodeGatewayServiceError | 无 | 无 | 无 | When calling the lesscode api, lesscode returns an... |

---


### 模块: apiserver/paasng/paasng/platform/bk_lesscode/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/bkapps/lesscode/(?P<code>[^/]+)/modules/(?P<module_name>[^/]+)/$', views.LesscodeModuleViewSet.as_view({'get': 'retrieve'}), name='api.lesscode.info')]` | module |



---


### 模块: apiserver/paasng/paasng/platform/bk_lesscode/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | BK_COOKIE_NAME, BK_LESSCODE_TIPS | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | VIEW_BASIC_INFO | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| make_bk_lesscode_client | paasng.platform.bk_lesscode.client.make_bk_lesscode_client | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | BK_LESS_CODE | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LesscodeModuleViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | retrieve | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CNativeConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| DEFAULT_SLUG_RUNNER_ENTRYPOINT | ['bash', '/runner/init'] | `DEFAULT_SLUG_RUNNER_ENTRYPOINT = ['bash', '/runner/init']` | module |
| PORT_PLACEHOLDER | ${PORT} | `PORT_PLACEHOLDER = '${PORT}'` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ExposedTypeName | blue_krill.data_types.enum.StrStructuredEnum | 无 | BK_HTTP | 无 | 与 paas_wl.workloads.networking.constants.ExposedTy... |
| NetworkProtocol | blue_krill.data_types.enum.StrStructuredEnum | 无 | TCP, UDP | 无 | 与 paas_wl.workloads.networking.constants.NetworkPr... |
| ImagePullPolicy | blue_krill.data_types.enum.StrStructuredEnum | 无 | ALWAYS, IF_NOT_PRESENT, NEVER | 无 | duplicated from paas_wl.workloads.release_controll... |
| ResQuotaPlan | blue_krill.data_types.enum.StrStructuredEnum | 无 | P_DEFAULT, P_4C1G, P_4C2G, P_4C4G | 无 | duplicated from paas_wl.bk_app.cnative.specs.const... |
| ScalingPolicy | blue_krill.data_types.enum.StrStructuredEnum | 无 | DEFAULT | 无 | duplicated from paas_wl.bk_app.cnative.specs.const... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Addon | apiserver.paasng.paasng.platform.bkapp_model.entities.addons.Addon | 不适用 | module |
| AddonSpec | apiserver.paasng.paasng.platform.bkapp_model.entities.addons.AddonSpec | 不适用 | module |
| AppBuildConfig | apiserver.paasng.paasng.platform.bkapp_model.entities.build.AppBuildConfig | 不适用 | module |
| DomainResolution | apiserver.paasng.paasng.platform.bkapp_model.entities.domain_resolution.DomainResolution | 不适用 | module |
| HostAlias | apiserver.paasng.paasng.platform.bkapp_model.entities.domain_resolution.HostAlias | 不适用 | module |
| EnvVar | apiserver.paasng.paasng.platform.bkapp_model.entities.env_vars.EnvVar | 不适用 | module |
| EnvVarOverlay | apiserver.paasng.paasng.platform.bkapp_model.entities.env_vars.EnvVarOverlay | 不适用 | module |
| HookCmd | apiserver.paasng.paasng.platform.bkapp_model.entities.hooks.HookCmd | 不适用 | module |
| Hooks | apiserver.paasng.paasng.platform.bkapp_model.entities.hooks.Hooks | 不适用 | module |
| ConfigMapSource | apiserver.paasng.paasng.platform.bkapp_model.entities.mounts.ConfigMapSource | 不适用 | module |
| Mount | apiserver.paasng.paasng.platform.bkapp_model.entities.mounts.Mount | 不适用 | module |
| MountOverlay | apiserver.paasng.paasng.platform.bkapp_model.entities.mounts.MountOverlay | 不适用 | module |
| PersistentStorage | apiserver.paasng.paasng.platform.bkapp_model.entities.mounts.PersistentStorage | 不适用 | module |
| VolumeSource | apiserver.paasng.paasng.platform.bkapp_model.entities.mounts.VolumeSource | 不适用 | module |
| Metric | apiserver.paasng.paasng.platform.bkapp_model.entities.observability.Metric | 不适用 | module |
| Monitoring | apiserver.paasng.paasng.platform.bkapp_model.entities.observability.Monitoring | 不适用 | module |
| Observability | apiserver.paasng.paasng.platform.bkapp_model.entities.observability.Observability | 不适用 | module |
| ExecAction | apiserver.paasng.paasng.platform.bkapp_model.entities.probes.ExecAction | 不适用 | module |
| HTTPGetAction | apiserver.paasng.paasng.platform.bkapp_model.entities.probes.HTTPGetAction | 不适用 | module |
| HTTPHeader | apiserver.paasng.paasng.platform.bkapp_model.entities.probes.HTTPHeader | 不适用 | module |
| Probe | apiserver.paasng.paasng.platform.bkapp_model.entities.probes.Probe | 不适用 | module |
| ProbeHandler | apiserver.paasng.paasng.platform.bkapp_model.entities.probes.ProbeHandler | 不适用 | module |
| ProbeSet | apiserver.paasng.paasng.platform.bkapp_model.entities.probes.ProbeSet | 不适用 | module |
| TCPSocketAction | apiserver.paasng.paasng.platform.bkapp_model.entities.probes.TCPSocketAction | 不适用 | module |
| AutoscalingOverlay | apiserver.paasng.paasng.platform.bkapp_model.entities.proc_env_overlays.AutoscalingOverlay | 不适用 | module |
| ReplicasOverlay | apiserver.paasng.paasng.platform.bkapp_model.entities.proc_env_overlays.ReplicasOverlay | 不适用 | module |
| ResQuotaOverlay | apiserver.paasng.paasng.platform.bkapp_model.entities.proc_env_overlays.ResQuotaOverlay | 不适用 | module |
| ProcService | apiserver.paasng.paasng.platform.bkapp_model.entities.proc_service.ProcService | 不适用 | module |
| Process | apiserver.paasng.paasng.platform.bkapp_model.entities.processes.Process | 不适用 | module |
| AutoscalingConfig | apiserver.paasng.paasng.platform.bkapp_model.entities.scaling_config.AutoscalingConfig | 不适用 | module |
| SvcDiscConfig | apiserver.paasng.paasng.platform.bkapp_model.entities.svc_discovery.SvcDiscConfig | 不适用 | module |
| SvcDiscEntryBkSaaS | apiserver.paasng.paasng.platform.bkapp_model.entities.svc_discovery.SvcDiscEntryBkSaaS | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities/addons.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AddonSpec | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| Addon | pydantic.BaseModel | 无 | 无 | 无 | Addon for app module

    :param name: The name of... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities/build.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| ImagePullPolicy | paasng.platform.bkapp_model.constants.ImagePullPolicy | value, IF_NOT_PRESENT | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppBuildConfig | pydantic.BaseModel | 无 | 无 | 无 | 
    构建配置

    :param image: 镜像名称
    :param image... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities/domain_resolution.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |
| prepare_json_field | paasng.utils.structure.prepare_json_field | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| HostAlias | pydantic.BaseModel | __hash__, __eq__ | 无 | prepare_json_field | 域名解析

    :param ip: ip 地址
    :param hostnames: 域... |
| DomainResolution | pydantic.BaseModel | 无 | 无 | 无 | Domain resolution

    :param nameservers: 域名服务器列表... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities/env_vars.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseModel | pydantic.BaseModel | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EnvVar | pydantic.BaseModel | 无 | 无 | 无 | Environment variable key-value pair |
| EnvVarOverlay | EnvVar | 无 | 无 | 无 | Overwrite or add application's environment vars by... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities/hooks.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| shlex | split | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |
| set_alias_field | apiserver.paasng.paasng.platform.bkapp_model.entities.utils.set_alias_field | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| HookCmd | pydantic.BaseModel | __init__ | 无 | 无 | The HookCmd describes a hook command. |
| Hooks | pydantic.BaseModel | __init__ | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities/mounts.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ConfigMapSource | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| PersistentStorage | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| VolumeSource | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| Mount | pydantic.BaseModel | 无 | 无 | 无 | 
    Mount

    :param mount_path: 挂载路径
    :param... |
| MountOverlay | Mount | 无 | 无 | 无 | 
    Mount Overlay

    :param env_name: 生效环境名
   ... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities/observability.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| prepare_json_field | paasng.utils.structure.prepare_json_field | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Metric | pydantic.BaseModel | 无 | 无 | 无 | Metric is monitor metric config for process servic... |
| Monitoring | pydantic.BaseModel | 无 | 无 | prepare_json_field | 不适用 |
| Observability | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities/probes.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Literal | typing.Literal | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| settings | django.conf.settings | CONTAINER_PORT | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |
| PORT_PLACEHOLDER | paasng.platform.bkapp_model.constants.PORT_PLACEHOLDER | 不适用 | module |
| prepare_json_field | paasng.utils.structure.prepare_json_field | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ExecAction | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| HTTPHeader | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| HTTPGetAction | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| TCPSocketAction | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| ProbeHandler | pydantic.BaseModel | 无 | 无 | prepare_json_field | 不适用 |
| Probe | pydantic.BaseModel | get_probe_handler, render_port | 无 | 无 | 
    健康探针

    :param exec: 命令行执行探测
    :param htt... |
| ProbeSet | pydantic.BaseModel | render_port | 无 | prepare_json_field | 
    健康探针集

    :param liveness: 存活探针
    :param r... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities/proc_env_overlays.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseModel | pydantic.BaseModel | 不适用 | module |
| AutoscalingConfig | apiserver.paasng.paasng.platform.bkapp_model.entities.scaling_config.AutoscalingConfig | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ResQuotaOverlay | pydantic.BaseModel | 无 | 无 | 无 | 
    资源配额 Overlay

    :param env_name: 生效环境名
    ... |
| ReplicasOverlay | pydantic.BaseModel | 无 | 无 | 无 | 
    副本数 Overlay

    :param env_name: 生效环境名
    :... |
| AutoscalingOverlay | apiserver.paasng.paasng.platform.bkapp_model.entities.scaling_config.AutoscalingConfig | 无 | 无 | 无 | 
    自动扩缩容 Overlay

    :param env_name: 生效环境名
   ... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities/proc_service.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Literal | typing.Literal | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| settings | django.conf.settings | CONTAINER_PORT | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| PORT_PLACEHOLDER | paasng.platform.bkapp_model.constants.PORT_PLACEHOLDER | 不适用 | module |
| ExposedTypeName | paasng.platform.bkapp_model.constants.ExposedTypeName | BK_HTTP | module |
| prepare_json_field | paasng.utils.structure.prepare_json_field | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ExposedType | pydantic.BaseModel | 无 | 无 | 无 | ExposedType is the exposed type of the ProcService... |
| ProcService | pydantic.BaseModel | render_port | 无 | prepare_json_field | 
    ProcService is a process service which used t... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities/processes.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| shlex | split | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |
| ResQuotaPlan | paasng.platform.bkapp_model.constants.ResQuotaPlan | 不适用 | module |
| generate_bash_command_with_tokens | paasng.utils.procfile.generate_bash_command_with_tokens | 不适用 | module |
| NOTSET | paasng.utils.structure.NOTSET | 不适用 | module |
| AllowNotsetModel | paasng.utils.structure.AllowNotsetModel | 不适用 | module |
| NotSetType | paasng.utils.structure.NotSetType | 不适用 | module |
| ProbeSet | apiserver.paasng.paasng.platform.bkapp_model.entities.probes.ProbeSet | 不适用 | module |
| ProcService | apiserver.paasng.paasng.platform.bkapp_model.entities.proc_service.ProcService | 不适用 | module |
| AutoscalingConfig | apiserver.paasng.paasng.platform.bkapp_model.entities.scaling_config.AutoscalingConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Process | paasng.utils.structure.AllowNotsetModel | __init__, get_proc_command | 无 | 无 | 
    模块进程

    :param name: 进程名称
    :param comman... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities/scaling_config.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |
| prepare_json_field | paasng.utils.structure.prepare_json_field | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AutoscalingConfig | pydantic.BaseModel | 无 | 无 | prepare_json_field | 
    自动扩缩容配置

    :param min_replicas: 最小副本数量
    ... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities/svc_discovery.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |
| prepare_json_field | paasng.utils.structure.prepare_json_field | 不适用 | module |
| set_alias_field | apiserver.paasng.paasng.platform.bkapp_model.entities.utils.set_alias_field | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SvcDiscEntryBkSaaS | pydantic.BaseModel | __init__, __hash__, __eq__ | 无 | prepare_json_field | A service discovery entry that represents an appli... |
| SvcDiscConfig | pydantic.BaseModel | 无 | 无 | 无 | Service discovery config |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| set_alias_field | `def set_alias_field(data: Dict, origin: str, to: str):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities/v1alpha2.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |
| NOTSET | paasng.utils.structure.NOTSET | 不适用 | module |
| AllowNotsetModel | paasng.utils.structure.AllowNotsetModel | 不适用 | module |
| NotSetType | paasng.utils.structure.NotSetType | 不适用 | module |
| prepare_json_field | paasng.utils.structure.prepare_json_field | 不适用 | module |
| Addon | apiserver.paasng.paasng.platform.bkapp_model.entities.addons.Addon | 不适用 | module |
| AppBuildConfig | apiserver.paasng.paasng.platform.bkapp_model.entities.build.AppBuildConfig | 不适用 | module |
| DomainResolution | apiserver.paasng.paasng.platform.bkapp_model.entities.domain_resolution.DomainResolution | 不适用 | module |
| EnvVar | apiserver.paasng.paasng.platform.bkapp_model.entities.env_vars.EnvVar | 不适用 | module |
| EnvVarOverlay | apiserver.paasng.paasng.platform.bkapp_model.entities.env_vars.EnvVarOverlay | 不适用 | module |
| Hooks | apiserver.paasng.paasng.platform.bkapp_model.entities.hooks.Hooks | 不适用 | module |
| Mount | apiserver.paasng.paasng.platform.bkapp_model.entities.mounts.Mount | 不适用 | module |
| MountOverlay | apiserver.paasng.paasng.platform.bkapp_model.entities.mounts.MountOverlay | 不适用 | module |
| Observability | apiserver.paasng.paasng.platform.bkapp_model.entities.observability.Observability | 不适用 | module |
| AutoscalingOverlay | apiserver.paasng.paasng.platform.bkapp_model.entities.proc_env_overlays.AutoscalingOverlay | 不适用 | module |
| ReplicasOverlay | apiserver.paasng.paasng.platform.bkapp_model.entities.proc_env_overlays.ReplicasOverlay | 不适用 | module |
| ResQuotaOverlay | apiserver.paasng.paasng.platform.bkapp_model.entities.proc_env_overlays.ResQuotaOverlay | 不适用 | module |
| Process | apiserver.paasng.paasng.platform.bkapp_model.entities.processes.Process | 不适用 | module |
| SvcDiscConfig | apiserver.paasng.paasng.platform.bkapp_model.entities.svc_discovery.SvcDiscConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkAppConfiguration | pydantic.BaseModel | 无 | 无 | 无 | Configuration for BkApp |
| BkAppEnvOverlay | paasng.utils.structure.AllowNotsetModel | 无 | 无 | 无 | Defines environment specified configs |
| BkAppSpec | paasng.utils.structure.AllowNotsetModel | 无 | 无 | prepare_json_field | BkAppSpec(snake-case format)

    :param build: 构建... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities_syncer/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| sync_addons | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.addons.sync_addons | 不适用 | module |
| sync_build | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.build.sync_build | 不适用 | module |
| sync_domain_resolution | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.domain_resolution.sync_domain_resolution | 不适用 | module |
| sync_env_vars | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.env_vars.sync_env_vars | 不适用 | module |
| sync_hooks | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.hooks.sync_hooks | 不适用 | module |
| sync_mounts | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.mounts.sync_mounts | 不适用 | module |
| sync_observability | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.observability.sync_observability | 不适用 | module |
| clean_empty_overlays | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.proc_env_overlays.clean_empty_overlays | 不适用 | module |
| sync_env_overlays_autoscalings | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.proc_env_overlays.sync_env_overlays_autoscalings | 不适用 | module |
| sync_env_overlays_replicas | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.proc_env_overlays.sync_env_overlays_replicas | 不适用 | module |
| sync_env_overlays_res_quotas | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.proc_env_overlays.sync_env_overlays_res_quotas | 不适用 | module |
| sync_processes | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.processes.sync_processes | 不适用 | module |
| sync_svc_discovery | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.svc_discovery.sync_svc_discovery | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities_syncer/addons.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Addon | paasng.platform.bkapp_model.entities.Addon | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| CommonSyncResult | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.result.CommonSyncResult | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sync_addons | `def sync_addons(module: Module, addons: List[Addon]) -> CommonSyncResult:` | 无 | Sync addon configs to db model, existing services ... |


---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities_syncer/build.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| parse_image | moby_distribution.registry.utils.parse_image | 不适用 | module |
| AppBuildConfig | paasng.platform.bkapp_model.entities.AppBuildConfig | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sync_build | `def sync_build(module: Module, build: AppBuildConfig):` | 无 | Sync build data to db model

    :param module: ap... |


---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities_syncer/domain_resolution.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| fieldmgr | paasng.platform.bkapp_model.fieldmgr | FieldMgrName, FieldManager, F_DOMAIN_RESOLUTION | module |
| DomainResolution | paasng.platform.bkapp_model.models.DomainResolution | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| NOTSET | paasng.utils.structure.NOTSET | 不适用 | module |
| NotSetType | paasng.utils.structure.NotSetType | 不适用 | module |
| CommonSyncResult | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.result.CommonSyncResult | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sync_domain_resolution | `def sync_domain_resolution(module: Module, domain_res: DomainResolution | NotSetType | None, manager: fieldmgr.FieldMgrName) -> CommonSyncResult:` | 无 | Sync domain resolution relations to db model, exis... |


---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities_syncer/env_vars.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| EnvVar | paasng.platform.bkapp_model.entities.EnvVar | 不适用 | module |
| EnvVarOverlay | paasng.platform.bkapp_model.entities.EnvVarOverlay | 不适用 | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | GLOBAL | module |
| PresetEnvVariable | paasng.platform.engine.models.preset_envvars.PresetEnvVariable | filter, objects, update_or_create | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| NotSetType | paasng.utils.structure.NotSetType | 不适用 | module |
| CommonSyncResult | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.result.CommonSyncResult | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sync_env_vars | `def sync_env_vars(module: Module, env_vars: List[EnvVar], overlay_env_vars: List[EnvVarOverlay] | NotSetType) -> CommonSyncResult:` | 无 | Sync environment variables to db model, existing d... |


---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities_syncer/hooks.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| fieldmgr | paasng.platform.bkapp_model.fieldmgr | FieldMgrName, FieldManager, F_HOOKS | module |
| Hooks | paasng.platform.bkapp_model.entities.Hooks | 不适用 | module |
| DeployHookType | paasng.platform.bkapp_model.models.DeployHookType | PRE_RELEASE_HOOK | module |
| ModuleDeployHook | paasng.platform.bkapp_model.models.ModuleDeployHook | filter, objects, update_or_create | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| NOTSET | paasng.utils.structure.NOTSET | 不适用 | module |
| NotSetType | paasng.utils.structure.NotSetType | 不适用 | module |
| CommonSyncResult | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.result.CommonSyncResult | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sync_hooks | `def sync_hooks(module: Module, hooks: Hooks | NotSetType | None, manager: fieldmgr.FieldMgrName) -> CommonSyncResult:` | 无 | Sync hooks data to db model

    :param module: Th... |


---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities_syncer/mounts.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| MountEnvName | paas_wl.bk_app.cnative.specs.constants.MountEnvName | value, GLOBAL | module |
| bk_app | paas_wl.bk_app.cnative.specs.crd.bk_app | VolumeSource | module |
| Mount | paasng.platform.bkapp_model.entities.Mount | 不适用 | module |
| MountOverlay | paasng.platform.bkapp_model.entities.MountOverlay | 不适用 | module |
| FieldMgrName | paasng.platform.bkapp_model.fieldmgr.FieldMgrName | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| dict_to_camel | paasng.utils.camel_converter.dict_to_camel | 不适用 | module |
| NotSetType | paasng.utils.structure.NotSetType | 不适用 | module |
| CommonSyncResult | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.result.CommonSyncResult | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sync_mounts | `def sync_mounts(module: Module, mounts: List[Mount], overlay_mounts: List[MountOverlay] | NotSetType, manager: FieldMgrName) -> CommonSyncResult:` | 无 | Sync mount relations to db model, existing data th... |


---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities_syncer/observability.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| Observability | paasng.platform.bkapp_model.entities.Observability | 不适用 | module |
| ObservabilityConfig | paasng.platform.bkapp_model.models.ObservabilityConfig | upsert_by_module, objects | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| CommonSyncResult | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.result.CommonSyncResult | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sync_observability | `def sync_observability(module: Module, observability: Optional[Observability]) -> CommonSyncResult:` | 无 | Sync observability config to db model. only create... |


---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities_syncer/proc_env_overlays.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| abc | ABC, abstractmethod | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| List | typing.List | 不适用 | module |
| Set | typing.Set | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| fieldmgr | paasng.platform.bkapp_model.fieldmgr | FieldMgrName, FieldManager, f_overlay_replicas, f_overlay_res_quotas, f_overlay_autoscaling | module |
| AutoscalingOverlay | paasng.platform.bkapp_model.entities.AutoscalingOverlay | 不适用 | module |
| Process | paasng.platform.bkapp_model.entities.Process | 不适用 | module |
| ReplicasOverlay | paasng.platform.bkapp_model.entities.ReplicasOverlay | 不适用 | module |
| ResQuotaOverlay | paasng.platform.bkapp_model.entities.ResQuotaOverlay | 不适用 | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | filter, objects | module |
| ProcessSpecEnvOverlay | paasng.platform.bkapp_model.models.ProcessSpecEnvOverlay | fields, _meta, filter, objects, update_or_create | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| NotSetType | paasng.utils.structure.NotSetType | 不适用 | module |
| CommonSyncResult | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.result.CommonSyncResult | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sync_env_overlays_replicas | `def sync_env_overlays_replicas(module: Module, overlay_replicas: List[ReplicasOverlay] | NotSetType, manager: fieldmgr.FieldMgrName, processes: List[Process] | None = None) -> CommonSyncResult:` | 无 | Sync replicas overlay data to db. |
| sync_env_overlays_res_quotas | `def sync_env_overlays_res_quotas(module: Module, overlay_res_quotas: List[ResQuotaOverlay] | NotSetType, manager: fieldmgr.FieldMgrName, processes: List[Process] | None = None) -> CommonSyncResult:` | 无 | Sync res_quota overlay data to db. |
| sync_env_overlays_autoscalings | `def sync_env_overlays_autoscalings(module: Module, overlay_autoscalings: List[AutoscalingOverlay] | NotSetType, manager: fieldmgr.FieldMgrName, processes: List[Process] | None = None) -> CommonSyncResult:` | 无 | Sync autoscaling overlay data to db model |
| clean_empty_overlays | `def clean_empty_overlays(module):` | 无 | Clean up overlay records that contains empty data. |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| OverlayDataSyncer | 无 | __init__, sync, _sync_notset, _build_specs_and_index, _get_not_managed_proc_envs, _is_already_empty | 无 | 无 | Sync overlay data to db model.

    :param algo: T... |
| SyncerFieldAlgo | abc.ABC | get_empty_values, get_values, get_field_mgr_key | 无 | 无 | The algorithm to sync the overlay data to the db m... |
| ReplicasSyncerFieldAlgo | SyncerFieldAlgo | get_empty_values, get_values, get_field_mgr_key | 无 | 无 | 不适用 |
| ResQuotasSyncerFieldAlgo | SyncerFieldAlgo | get_empty_values, get_values, get_field_mgr_key | 无 | 无 | 不适用 |
| AutoscalingSyncerFieldAlgo | SyncerFieldAlgo | get_empty_values, get_values, get_field_mgr_key | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities_syncer/processes.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| List | typing.List | 不适用 | module |
| fieldmgr | paasng.platform.bkapp_model.fieldmgr | FieldMgrName, FieldManager, f_proc_replicas, MultiFieldsManager, f_proc_autoscaling | module |
| ResQuotaPlan | paasng.platform.bkapp_model.constants.ResQuotaPlan | P_DEFAULT | module |
| Process | paasng.platform.bkapp_model.entities.Process | 不适用 | module |
| AutoscalingConfig | paasng.platform.bkapp_model.entities.scaling_config.AutoscalingConfig | 不适用 | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | filter, objects, update_or_create | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| NOTSET | paasng.utils.structure.NOTSET | 不适用 | module |
| NotSetType | paasng.utils.structure.NotSetType | 不适用 | module |
| CommonSyncResult | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.result.CommonSyncResult | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sync_processes | `def sync_processes(module: Module, processes: List[Process], manager: fieldmgr.FieldMgrName, use_proc_command: bool = False) -> CommonSyncResult:` | 无 | sync processes data to ModuleProcessSpec(db model)... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ManagedFieldValues | 无 | __init__, get_target_replicas, set_field_mgr_target_replicas, reset_field_mgr_target_replicas, get_autoscaling, set_field_mgr_autoscaling, reset_field_mgr_autoscaling | default_replicas | 无 | This class helps to get the values of the fields t... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities_syncer/result.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| define | attrs.define | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CommonSyncResult | 无 | incr_by_created_flag | 无 | define | A common type that representing the result of an s... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/entities_syncer/svc_discovery.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| fieldmgr | paasng.platform.bkapp_model.fieldmgr | FieldMgrName, FieldManager, F_SVC_DISCOVERY | module |
| SvcDiscConfig | paasng.platform.bkapp_model.models.SvcDiscConfig | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| NOTSET | paasng.utils.structure.NOTSET | 不适用 | module |
| NotSetType | paasng.utils.structure.NotSetType | 不适用 | module |
| CommonSyncResult | apiserver.paasng.paasng.platform.bkapp_model.entities_syncer.result.CommonSyncResult | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sync_svc_discovery | `def sync_svc_discovery(module: Module, svc_disc: SvcDiscConfig | NotSetType | None, manager: fieldmgr.FieldMgrName) -> CommonSyncResult:` | 无 | Sync svc discovery relations to db model, existing... |


---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/exceptions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| stringify_validation_error | blue_krill.web.drf_utils.stringify_validation_error | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ManifestConstructorError | Exception | 无 | 无 | 无 | Error when building the manifest of bkapp model. |
| ManifestImportError | Exception | __init__, build_message_by_detail, from_validation_error | 无 | 无 | Error importing a manifest data.

    :param detai... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/fieldmgr/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| FieldMgrName | apiserver.paasng.paasng.platform.bkapp_model.fieldmgr.constants.FieldMgrName | 不适用 | module |
| F_DOMAIN_RESOLUTION | apiserver.paasng.paasng.platform.bkapp_model.fieldmgr.fields.F_DOMAIN_RESOLUTION | 不适用 | module |
| F_HOOKS | apiserver.paasng.paasng.platform.bkapp_model.fieldmgr.fields.F_HOOKS | 不适用 | module |
| F_SVC_DISCOVERY | apiserver.paasng.paasng.platform.bkapp_model.fieldmgr.fields.F_SVC_DISCOVERY | 不适用 | module |
| f_overlay_autoscaling | apiserver.paasng.paasng.platform.bkapp_model.fieldmgr.fields.f_overlay_autoscaling | 不适用 | module |
| f_overlay_mounts | apiserver.paasng.paasng.platform.bkapp_model.fieldmgr.fields.f_overlay_mounts | 不适用 | module |
| f_overlay_replicas | apiserver.paasng.paasng.platform.bkapp_model.fieldmgr.fields.f_overlay_replicas | 不适用 | module |
| f_overlay_res_quotas | apiserver.paasng.paasng.platform.bkapp_model.fieldmgr.fields.f_overlay_res_quotas | 不适用 | module |
| f_proc_autoscaling | apiserver.paasng.paasng.platform.bkapp_model.fieldmgr.fields.f_proc_autoscaling | 不适用 | module |
| f_proc_replicas | apiserver.paasng.paasng.platform.bkapp_model.fieldmgr.fields.f_proc_replicas | 不适用 | module |
| FieldManager | apiserver.paasng.paasng.platform.bkapp_model.fieldmgr.managers.FieldManager | 不适用 | module |
| MultiFieldsManager | apiserver.paasng.paasng.platform.bkapp_model.fieldmgr.managers.MultiFieldsManager | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/fieldmgr/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| FieldMgrName | blue_krill.data_types.enum.StrStructuredEnum | 无 | WEB_FORM, APP_DESC | 无 | Different types of field managers |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/fieldmgr/fields.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| TypeAlias | typing.TypeAlias | 不适用 | module |
| define | attrs.define | 不适用 | module |
| field | attrs.field | 不适用 | module |
| FieldMgrName | apiserver.paasng.paasng.platform.bkapp_model.fieldmgr.constants.FieldMgrName | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| f_proc_replicas | `def f_proc_replicas(process: str) -> Field:` | 无 | 不适用 |
| f_proc_autoscaling | `def f_proc_autoscaling(process: str) -> Field:` | 无 | 不适用 |
| f_overlay_replicas | `def f_overlay_replicas(process: str, env_name: str) -> Field:` | 无 | 不适用 |
| f_overlay_autoscaling | `def f_overlay_autoscaling(process: str, env_name: str) -> Field:` | 无 | 不适用 |
| f_overlay_res_quotas | `def f_overlay_res_quotas(process: str, env_name: str) -> Field:` | 无 | 不适用 |
| f_overlay_mounts | `def f_overlay_mounts(process: str, env_name: str) -> Field:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ManagerFieldsRow | 无 | contains, add, remove | 无 | define | A simple row data structure that contains a manage... |
| ManagerFieldsRowGroup | 无 | __init__, _validate_rows, get_manager, set_manager, reset_manager, get_updated_rows, clean_updated | 无 | 无 | A group of `ManagerFieldsRow` containing data from... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/fieldmgr/managers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| BkAppManagedFields | paasng.platform.bkapp_model.models.BkAppManagedFields | update_or_create, objects | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| FieldMgrName | apiserver.paasng.paasng.platform.bkapp_model.fieldmgr.constants.FieldMgrName | 不适用 | module |
| Field | apiserver.paasng.paasng.platform.bkapp_model.fieldmgr.fields.Field | 不适用 | module |
| ManagerFieldsRow | apiserver.paasng.paasng.platform.bkapp_model.fieldmgr.fields.ManagerFieldsRow | 不适用 | module |
| ManagerFieldsRowGroup | apiserver.paasng.paasng.platform.bkapp_model.fieldmgr.fields.ManagerFieldsRowGroup | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| FieldManager | 无 | __init__, is_managed_by, get, set, reset | 无 | 无 | This class helps manage the management status of a... |
| MultiFieldsManager | 无 | __init__, set_many, reset_many | 无 | 无 | This class helps manage the management status of a... |
| RowGroupStore | 无 | __init__, get, save | 无 | 无 | The managed fields row group store.

    :param mo... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/importer.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| v1alpha2 | paasng.platform.bkapp_model.serializers.v1alpha2 | 不适用 | module |
| clean_empty_overlays | paasng.platform.bkapp_model.entities_syncer.clean_empty_overlays | 不适用 | module |
| sync_addons | paasng.platform.bkapp_model.entities_syncer.sync_addons | 不适用 | module |
| sync_build | paasng.platform.bkapp_model.entities_syncer.sync_build | 不适用 | module |
| sync_domain_resolution | paasng.platform.bkapp_model.entities_syncer.sync_domain_resolution | 不适用 | module |
| sync_env_overlays_autoscalings | paasng.platform.bkapp_model.entities_syncer.sync_env_overlays_autoscalings | 不适用 | module |
| sync_env_overlays_replicas | paasng.platform.bkapp_model.entities_syncer.sync_env_overlays_replicas | 不适用 | module |
| sync_env_overlays_res_quotas | paasng.platform.bkapp_model.entities_syncer.sync_env_overlays_res_quotas | 不适用 | module |
| sync_env_vars | paasng.platform.bkapp_model.entities_syncer.sync_env_vars | 不适用 | module |
| sync_hooks | paasng.platform.bkapp_model.entities_syncer.sync_hooks | 不适用 | module |
| sync_mounts | paasng.platform.bkapp_model.entities_syncer.sync_mounts | 不适用 | module |
| sync_observability | paasng.platform.bkapp_model.entities_syncer.sync_observability | 不适用 | module |
| sync_processes | paasng.platform.bkapp_model.entities_syncer.sync_processes | 不适用 | module |
| sync_svc_discovery | paasng.platform.bkapp_model.entities_syncer.sync_svc_discovery | 不适用 | module |
| FieldMgrName | paasng.platform.bkapp_model.fieldmgr.FieldMgrName | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| NOTSET | paasng.utils.structure.NOTSET | 不适用 | module |
| NotSetType | paasng.utils.structure.NotSetType | 不适用 | module |
| ManifestImportError | apiserver.paasng.paasng.platform.bkapp_model.exceptions.ManifestImportError | from_validation_error | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| import_manifest_yaml | `def import_manifest_yaml(module: Module, input_yaml_data: str, manager: FieldMgrName):` | 无 | Import a BkApp manifest to the current module in Y... |
| import_manifest | `def import_manifest(module: Module, input_data: Dict, manager: FieldMgrName):` | 无 | Import a BkApp manifest to the current module, wil... |
| import_bkapp_spec_entity | `def import_bkapp_spec_entity(module: Module, spec_entity: v1alpha2_entity.BkAppSpec, manager: FieldMgrName):` | 无 | Import a BkApp spec entity to the current module, ... |
| import_bkapp_spec_entity_non_cnative | `def import_bkapp_spec_entity_non_cnative(module: Module, spec_entity: v1alpha2_entity.BkAppSpec, manager: FieldMgrName):` | 无 | Import a BkApp spec entity to the current module, ... |


---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/management/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/management/commands/sanitize_autoscaling.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| ProcessSpec | paas_wl.bk_app.processes.models.ProcessSpec | all, objects | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | all, objects | module |
| ProcessSpecEnvOverlay | paasng.platform.bkapp_model.models.ProcessSpecEnvOverlay | all, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger('commands')` | module |
| ACTION_DISPLAY | display | `ACTION_DISPLAY = 'display'` | module |
| ACTION_UPDATE | update | `ACTION_UPDATE = 'update'` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle, handle_update, handle_display, sanitize_config | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/manager.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| asdict | dataclasses.asdict | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| AutoscalingConfig | paas_wl.workloads.autoscaling.entities.AutoscalingConfig | 不适用 | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | get, objects | module |
| ProcessSpecEnvOverlay | paasng.platform.bkapp_model.models.ProcessSpecEnvOverlay | update_or_create, objects | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ModuleProcessSpecManager | 无 | __init__, set_replicas, set_autoscaling | 无 | 无 | The manager for ModuleProcessSpec objects. |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/manifest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| shlex | split | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ABC | abc.ABC | 不适用 | module |
| abstractmethod | abc.abstractmethod | 不适用 | module |
| itemgetter | operator.itemgetter | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| settings | django.conf.settings | CONTAINER_PORT | module |
| parse_quantity | kubernetes.utils.quantity.parse_quantity | 不适用 | module |
| get_metadata | paas_wl.bk_app.applications.managers.get_metadata | 不适用 | module |
| ACCESS_CONTROL_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.ACCESS_CONTROL_ANNO_KEY | 不适用 | module |
| BKAPP_CODE_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.BKAPP_CODE_ANNO_KEY | 不适用 | module |
| BKAPP_NAME_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.BKAPP_NAME_ANNO_KEY | 不适用 | module |
| BKAPP_REGION_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.BKAPP_REGION_ANNO_KEY | 不适用 | module |
| BKPAAS_DEPLOY_ID_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.BKPAAS_DEPLOY_ID_ANNO_KEY | 不适用 | module |
| EGRESS_CLUSTER_STATE_NAME_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.EGRESS_CLUSTER_STATE_NAME_ANNO_KEY | 不适用 | module |
| ENVIRONMENT_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.ENVIRONMENT_ANNO_KEY | 不适用 | module |
| IMAGE_CREDENTIALS_REF_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.IMAGE_CREDENTIALS_REF_ANNO_KEY | 不适用 | module |
| LOG_COLLECTOR_TYPE_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.LOG_COLLECTOR_TYPE_ANNO_KEY | 不适用 | module |
| MODULE_NAME_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.MODULE_NAME_ANNO_KEY | 不适用 | module |
| PA_SITE_ID_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.PA_SITE_ID_ANNO_KEY | 不适用 | module |
| USE_CNB_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.USE_CNB_ANNO_KEY | 不适用 | module |
| WLAPP_NAME_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.WLAPP_NAME_ANNO_KEY | 不适用 | module |
| ApiVersion | paas_wl.bk_app.cnative.specs.constants.ApiVersion | V1ALPHA2 | module |
| MountEnvName | paas_wl.bk_app.cnative.specs.constants.MountEnvName | value, GLOBAL | module |
| bk_app | paas_wl.bk_app.cnative.specs.crd.bk_app | 不适用 | module |
| SecretSource | paas_wl.bk_app.cnative.specs.crd.bk_app.SecretSource | 不适用 | module |
| VolumeSource | paas_wl.bk_app.cnative.specs.crd.bk_app.VolumeSource | 不适用 | module |
| ObjectMetadata | paas_wl.bk_app.cnative.specs.crd.metadata.ObjectMetadata | 不适用 | module |
| Mount | paas_wl.bk_app.cnative.specs.models.Mount | filter, objects | module |
| PLAN_TO_LIMIT_QUOTA_MAP | paas_wl.bk_app.cnative.specs.procs.quota.PLAN_TO_LIMIT_QUOTA_MAP | items | module |
| ProcessSpecPlan | paas_wl.bk_app.processes.models.ProcessSpecPlan | get_by_name, objects, DoesNotExist | module |
| generate_bkapp_name | paas_wl.core.resource.generate_bkapp_name | 不适用 | module |
| RCStateAppBinding | paas_wl.workloads.networking.egress.models.RCStateAppBinding | get, objects, DoesNotExist | module |
| get_log_collector_type | paasng.accessories.log.shim.get_log_collector_type | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | list_binded | module |
| ServiceSharingManager | paasng.accessories.servicehub.sharing.ServiceSharingManager | 不适用 | module |
| list_provisioned_tls_enabled_rels | paasng.accessories.servicehub.tls.list_provisioned_tls_enabled_rels | 不适用 | module |
| gen_addons_cert_mount_dir | paasng.accessories.services.utils.gen_addons_cert_mount_dir | 不适用 | module |
| gen_addons_cert_secret_name | paasng.accessories.services.utils.gen_addons_cert_secret_name | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| DEFAULT_SLUG_RUNNER_ENTRYPOINT | paasng.platform.bkapp_model.constants.DEFAULT_SLUG_RUNNER_ENTRYPOINT | 不适用 | module |
| PORT_PLACEHOLDER | paasng.platform.bkapp_model.constants.PORT_PLACEHOLDER | 不适用 | module |
| ResQuotaPlan | paasng.platform.bkapp_model.constants.ResQuotaPlan | P_DEFAULT | module |
| Process | paasng.platform.bkapp_model.entities.Process | 不适用 | module |
| DomainResolution | paasng.platform.bkapp_model.models.DomainResolution | get, objects, DoesNotExist | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | filter, objects | module |
| ObservabilityConfig | paasng.platform.bkapp_model.models.ObservabilityConfig | get, objects, DoesNotExist | module |
| ProcessServicesFlag | paasng.platform.bkapp_model.models.ProcessServicesFlag | get_or_create, objects | module |
| ProcessSpecEnvOverlay | paasng.platform.bkapp_model.models.ProcessSpecEnvOverlay | filter, objects | module |
| SvcDiscConfig | paasng.platform.bkapp_model.models.SvcDiscConfig | get, objects, DoesNotExist | module |
| MergeStrategy | paasng.platform.bkapp_model.utils.MergeStrategy | OVERRIDE | module |
| merge_env_vars | paasng.platform.bkapp_model.utils.merge_env_vars | 不适用 | module |
| merge_env_vars_overlay | paasng.platform.bkapp_model.utils.merge_env_vars_overlay | 不适用 | module |
| override_env_vars_overlay | paasng.platform.bkapp_model.utils.override_env_vars_overlay | 不适用 | module |
| get_env_variables | paasng.platform.engine.configurations.config_var.get_env_variables | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | STAG, PROD | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | GLOBAL | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | CUSTOM_IMAGE, BUILDPACK | module |
| Deployment | paasng.platform.engine.models.Deployment | 不适用 | module |
| ENVIRONMENT_ID_FOR_GLOBAL | paasng.platform.engine.models.config_var.ENVIRONMENT_ID_FOR_GLOBAL | 不适用 | module |
| ConfigVar | paasng.platform.engine.models.config_var.ConfigVar | filter, objects | module |
| PresetEnvVariable | paasng.platform.engine.models.preset_envvars.PresetEnvVariable | filter, objects | module |
| DeployHookType | paasng.platform.modules.constants.DeployHookType | PRE_RELEASE_HOOK | module |
| ModuleRuntimeManager | paasng.platform.modules.helpers.ModuleRuntimeManager | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| dict_to_camel | paasng.utils.camel_converter.dict_to_camel | 不适用 | module |
| ApplicationAccessControlSwitch | paasng.security.access_control.models.ApplicationAccessControlSwitch | is_enabled, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_manifest | `def get_manifest(module: Module) -> List[Dict]:` | 无 | Get the manifest of current module, the result mig... |
| get_bkapp_resource | `def get_bkapp_resource(module: Module) -> crd.BkAppResource:` | 无 | Get the manifest of current module.

    :param mo... |
| get_bkapp_resource_for_deploy | `def get_bkapp_resource_for_deploy(env: ModuleEnvironment, deploy_id: str, force_image: Optional[str] = None, image_pull_policy: Optional[str] = None, use_cnb: bool = False, deployment: Optional[Deployment] = None) -> crd.BkAppResource:` | 无 | Get the BkApp manifest for deploy.

    :param env... |
| apply_env_annots | `def apply_env_annots(model_res: crd.BkAppResource, env: ModuleEnvironment, deploy_id: Optional[str] = None):` | 无 | Apply environment-specified annotations to the res... |
| apply_builtin_env_vars | `def apply_builtin_env_vars(model_res: crd.BkAppResource, env: ModuleEnvironment):` | 无 | Apply the builtin environment vars to the resource... |
| apply_proc_svc_if_implicit_needed | `def apply_proc_svc_if_implicit_needed(model_res: crd.BkAppResource, env: ModuleEnvironment):` | 无 | 如果 implicit_needed flag 为 True, 则创建 process servic... |
| apply_egress_annotations | `def apply_egress_annotations(model_res: crd.BkAppResource, env: ModuleEnvironment):` | 无 | Apply egress annotations to the resource object.

... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ManifestConstructor | abc.ABC | apply_to | 无 | 无 | Construct the manifest for bk_app model, it is usu... |
| AddonsManifestConstructor | ManifestConstructor | apply_to | 无 | 无 | Construct the "addons" part. |
| AccessControlManifestConstructor | ManifestConstructor | apply_to | 无 | 无 | Construct the access-control part. |
| BuiltinAnnotsManifestConstructor | ManifestConstructor | apply_to | 无 | 无 | Construct the built-in annotations. |
| BuildConfigManifestConstructor | ManifestConstructor | apply_to | 无 | 无 | Construct the build config. |
| ProcessesManifestConstructor | ManifestConstructor | apply_to, apply_to_proc_overlay, get_quota_plan, get_command_and_args, _sanitize_args | 无 | 无 | Construct the processes part. |
| EnvVarsManifestConstructor | ManifestConstructor | apply_to | 无 | 无 | Construct the env variables part. |
| HooksManifestConstructor | ManifestConstructor | apply_to | 无 | 无 | Construct the hooks part. |
| MountsManifestConstructor | ManifestConstructor | apply_to, _apply_addons_tls_certs, _apply_mounts | 无 | 无 | Construct the mounts part. |
| SvcDiscoveryManifestConstructor | ManifestConstructor | apply_to | 无 | 无 | Construct the svc discovery part. |
| DomainResolutionManifestConstructor | ManifestConstructor | apply_to | 无 | 无 | Construct the domain resolution part. |
| ObservabilityManifestConstructor | ManifestConstructor | apply_to | 无 | 无 | Construct the observability part. |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, TextField, JSONField, IntegerField, BooleanField, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/0002_auto_20231016_2121.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField, AlterUniqueTogether | module |
| models | django.db.models | ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/0003_auto_20231017_1501.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| forwards | `def forwards(apps, schema_editor):` | 无 | Migrate all DeployConfig.procfile to ModuleProcess... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/0004_auto_20231019_1107.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RemoveField, AlterField, CreateModel | module |
| models | django.db.models | CharField, JSONField, AutoField, DateTimeField, IntegerField, BooleanField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/0005_moduledeployhook.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, TextField, JSONField, BooleanField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/0006_auto_20231020_1607.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |
| DeployHookType | paasng.platform.modules.constants.DeployHookType | PRE_RELEASE_HOOK | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| forwards | `def forwards(apps, schema_editor):` | 无 | Migrate all DeployConfig.hooks to ModuleDeployHook |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/0007_auto_20231024_1450.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | BooleanField, CharField, IntegerField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/0008_domainresolution_svcdiscconfig.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| paasng.platform.bkapp_model.models | BkSaaSField, models, bkapp_model, platform, NameServersField, HostAliasesField | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/0009_auto_20231123_2051.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.platform.bkapp_model.models | AutoscalingConfigField, models, bkapp_model, platform | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterModelOptions, AlterField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/0010_auto_20231127_2039.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads, JSONDecodeError | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |
| AutoscalingConfig | paasng.platform.bkapp_model.entities.AutoscalingConfig | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| fix_invalid_module_process_spec_scaling_config_data | `def fix_invalid_module_process_spec_scaling_config_data(apps, schema_editor):` | 无 | 修复 ModuleProcessSpec.scaling_config 为空时, 由历史代码写入数据... |
| fix_invalid_env_overlay_scaling_config_data | `def fix_invalid_env_overlay_scaling_config_data(apps, schema_editor):` | 无 | 修复 ProcessSpecEnvOverlay.scaling_config 为空时, 由历史代码... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/0011_auto_20240407_1344.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RemoveField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/0012_moduleprocessspec_probes.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.platform.bkapp_model.models | ProbeSetField, models, bkapp_model, platform | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/0013_moduleprocessspec_services.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.platform.bkapp_model.models | ProcServicesField, models, bkapp_model, platform | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/0014_migrate_proc_services.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | CONTAINER_PORT | module |
| migrations | django.db.migrations | Migration, RunPython | module |
| ProcService | paasng.platform.bkapp_model.entities.ProcService | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| init_proc_services_by_web_proc | `def init_proc_services_by_web_proc(apps, schema_editor):` | 无 | 为存量配置初始化 services |
| reverse_proc_services | `def reverse_proc_services(apps, schema_editor):` | 无 | 回滚清空 services 字段 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/0015_auto_20240913_1509.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| paasng.platform.bkapp_model.models | MonitoringField, models, bkapp_model, platform | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField, CreateModel | module |
| models | django.db.models | IntegerField, AutoField, CharField, DateTimeField, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/0016_processservicesflag.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, BooleanField, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/0017_bkappmanagedfields.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, JSONField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| shlex | join, split | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| models | django.db.models | ForeignKey, CASCADE, CharField, TextField, JSONField, IntegerField, BooleanField, Manager, OneToOneField | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| AuditedModel | paas_wl.utils.models.AuditedModel | 不适用 | module |
| TimestampedModel | paas_wl.utils.models.TimestampedModel | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ApplicationEnvironment | paasng.platform.applications.models.ApplicationEnvironment | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| AutoscalingConfig | paasng.platform.bkapp_model.entities.AutoscalingConfig | 不适用 | module |
| HostAlias | paasng.platform.bkapp_model.entities.HostAlias | 不适用 | module |
| Metric | paasng.platform.bkapp_model.entities.Metric | 不适用 | module |
| Monitoring | paasng.platform.bkapp_model.entities.Monitoring | 不适用 | module |
| ProbeSet | paasng.platform.bkapp_model.entities.ProbeSet | 不适用 | module |
| ProcService | paasng.platform.bkapp_model.entities.ProcService | 不适用 | module |
| SvcDiscEntryBkSaaS | paasng.platform.bkapp_model.entities.SvcDiscEntryBkSaaS | 不适用 | module |
| BkSaaSEnvVariableFactory | paasng.platform.declarative.deployment.svc_disc.BkSaaSEnvVariableFactory | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | get_choices | module |
| DeployHookType | paasng.platform.modules.constants.DeployHookType | get_choices | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| make_json_field | paasng.utils.models.make_json_field | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| AutoscalingConfigField | 不适用 | `AutoscalingConfigField = make_json_field('AutoscalingConfigField', AutoscalingConfig)` | module |
| ProbeSetField | 不适用 | `ProbeSetField = make_json_field('ProbeSetField', ProbeSet)` | module |
| ProcServicesField | 不适用 | `ProcServicesField = make_json_field('ProcServicesField', List[ProcService])` | module |
| BkSaaSField | 不适用 | `BkSaaSField = make_json_field('BkSaaSField', List[SvcDiscEntryBkSaaS])` | module |
| NameServersField | 不适用 | `NameServersField = make_json_field('NameServersField', List[str])` | module |
| HostAliasesField | 不适用 | `HostAliasesField = make_json_field('HostAliasesField', List[HostAlias])` | module |
| MonitoringField | 不适用 | `MonitoringField = make_json_field('MonitoringField', Monitoring)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| env_overlay_getter_factory | `def env_overlay_getter_factory(field_name: str):` | 无 | a proxy to get env overlay field |
| get_svc_disc_as_env_variables | `def get_svc_disc_as_env_variables(env: ModuleEnvironment) -> Dict[str, str]:` | 无 | Get SvcDiscConfig as env variables |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ModuleProcessSpec | paas_wl.utils.models.TimestampedModel | get_proc_command, _sanitize_proc_command | module, name, proc_command, port, target_replicas, plan_name, autoscaling, get_target_replicas, get_plan_name, get_autoscaling, get_scaling_config | 无 | 模块维度的进程定义, 表示模块当前所定义的进程, 该模型只通过 API 变更

    部署应用时会... |
| ProcessSpecEnvOverlayManager | django.db.models.Manager | save_by_module | 无 | 无 | Custom manager for ProcessSpecEnvOverlay |
| ProcessSpecEnvOverlay | paas_wl.utils.models.TimestampedModel | 无 | proc_spec, environment_name, target_replicas, plan_name, autoscaling, objects | 无 | 进程定义中允许按环境覆盖的配置 |
| ProcessServicesFlag | paas_wl.utils.models.TimestampedModel | 无 | app_environment, implicit_needed | 无 | ProcessServicesFlag 主要用途是标记是否隐式需要 process services... |
| ModuleDeployHookManager | django.db.models.Manager | _get_caller, enable_hook, disable_hook, get_by_type | 无 | 无 | ModuleDeployHook RelatedManager, should be used by... |
| ModuleDeployHook | paas_wl.utils.models.TimestampedModel | get_proc_command, get_command, get_args | module, type, proc_command, enabled, objects | 无 | 钩子命令 |
| SvcDiscConfig | paas_wl.utils.models.AuditedModel | 无 | application | 无 | 服务发现配置 |
| DomainResolution | paas_wl.utils.models.AuditedModel | 无 | application | 无 | 域名解析配置 |
| ObservabilityConfigManager | django.db.models.Manager | upsert_by_module | 无 | 无 | Custom manager for ObservabilityConfig |
| ObservabilityConfig | paas_wl.utils.models.TimestampedModel | monitoring_metrics, metric_processes, last_metric_processes | module, objects | 无 | 不适用 |
| BkAppManagedFields | paas_wl.utils.models.TimestampedModel | 无 | module, manager, fields | 无 | This model stores the management status of the fie... |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/serializers/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BkAppModelSLZ | apiserver.paasng.paasng.platform.bkapp_model.serializers.serializers.BkAppModelSLZ | 不适用 | module |
| DomainResolutionSLZ | apiserver.paasng.paasng.platform.bkapp_model.serializers.serializers.DomainResolutionSLZ | 不适用 | module |
| GetManifestInputSLZ | apiserver.paasng.paasng.platform.bkapp_model.serializers.serializers.GetManifestInputSLZ | 不适用 | module |
| ModuleDeployHookSLZ | apiserver.paasng.paasng.platform.bkapp_model.serializers.serializers.ModuleDeployHookSLZ | 不适用 | module |
| ModuleProcessSpecsInputSLZ | apiserver.paasng.paasng.platform.bkapp_model.serializers.serializers.ModuleProcessSpecsInputSLZ | 不适用 | module |
| ModuleProcessSpecSLZ | apiserver.paasng.paasng.platform.bkapp_model.serializers.serializers.ModuleProcessSpecSLZ | 不适用 | module |
| ModuleProcessSpecsOutputSLZ | apiserver.paasng.paasng.platform.bkapp_model.serializers.serializers.ModuleProcessSpecsOutputSLZ | 不适用 | module |
| ProbeSetSLZ | apiserver.paasng.paasng.platform.bkapp_model.serializers.serializers.ProbeSetSLZ | 不适用 | module |
| SvcDiscConfigSLZ | apiserver.paasng.paasng.platform.bkapp_model.serializers.serializers.SvcDiscConfigSLZ | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/serializers/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, ChoiceField, IntegerField, ListField, CharField, BooleanField, ValidationError, DictField, ListSerializer, IPAddressField, JSONField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| TypeAlias | typing_extensions.TypeAlias | 不适用 | module |
| ScalingPolicy | paas_wl.bk_app.cnative.specs.constants.ScalingPolicy | DEFAULT, get_choices | module |
| MetricSpecSLZ | paas_wl.bk_app.processes.serializers.MetricSpecSLZ | 不适用 | module |
| DEFAULT_METRICS | paas_wl.workloads.autoscaling.constants.DEFAULT_METRICS | 不适用 | module |
| PORT_PLACEHOLDER | paasng.platform.bkapp_model.constants.PORT_PLACEHOLDER | 不适用 | module |
| ExposedTypeName | paasng.platform.bkapp_model.constants.ExposedTypeName | get_django_choices | module |
| NetworkProtocol | paasng.platform.bkapp_model.constants.NetworkProtocol | get_django_choices, value, TCP | module |
| DeployHookType | paasng.platform.modules.constants.DeployHookType | get_choices | module |
| get_items | paasng.utils.dictx.get_items | 不适用 | module |
| IntegerOrCharField | paasng.utils.serializers.IntegerOrCharField | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| GetManifestInputSLZ | rest_framework.serializers.Serializer | 无 | output_format | 无 | 不适用 |
| ScalingConfigSLZ | rest_framework.serializers.Serializer | 无 | min_replicas, max_replicas, metrics, policy | 无 | 扩缩容配置 |
| ProcessSpecEnvOverlaySLZ | rest_framework.serializers.Serializer | 无 | plan_name, target_replicas, autoscaling, scaling_config | 无 | 进程配置-单一环境相关配置 |
| ModuleProcessSpecMetadataSLZ | rest_framework.serializers.Serializer | 无 | allow_multiple_image | 无 | 特性开关 |
| ExposedTypeSLZ | rest_framework.serializers.Serializer | 无 | name | 无 | 不适用 |
| ProcServiceSLZ | rest_framework.serializers.Serializer | validate_target_port | name, target_port, protocol, exposed_type, port | 无 | 不适用 |
| ExecProbeActionSLZ | rest_framework.serializers.Serializer | 无 | command | 无 | 不适用 |
| TCPSocketProbeActionSLZ | rest_framework.serializers.Serializer | 无 | port, host | 无 | 不适用 |
| HTTPHeaderSLZ | rest_framework.serializers.Serializer | 无 | name, value | 无 | 不适用 |
| HTTPGetProbeActionSLZ | rest_framework.serializers.Serializer | 无 | port, path, host, http_headers, scheme | 无 | 不适用 |
| ProbeSLZ | rest_framework.serializers.Serializer | validate | exec, http_get, tcp_socket, initial_delay_seconds, timeout_seconds, period_seconds, success_threshold, failure_threshold | 无 | 探针配置 |
| ProbeSetSLZ | rest_framework.serializers.Serializer | 无 | liveness, readiness, startup | 无 | 探针集合 |
| MetricSLZ | rest_framework.serializers.Serializer | 无 | service_name, path, params | 无 | 不适用 |
| MonitoringSLZ | rest_framework.serializers.Serializer | 无 | metric | 无 | 不适用 |
| ModuleProcessSpecSLZ | rest_framework.serializers.Serializer | validate_services, validate, _validate_monitoring | name, image, command, args, services, port, env_overlay, probes, monitoring | 无 | 进程配置 |
| ModuleProcessSpecsOutputSLZ | rest_framework.serializers.Serializer | 无 | proc_specs, metadata | 无 | 不适用 |
| ModuleProcessSpecsInputSLZ | rest_framework.serializers.Serializer | validate, _validate_exposed_types | proc_specs | 无 | 不适用 |
| ModuleDeployHookSLZ | rest_framework.serializers.Serializer | 无 | type, proc_command, command, args, enabled | 无 | 钩子命令 |
| SvcDiscEntryBkSaaSSLZ | rest_framework.serializers.Serializer | to_internal_value | bk_app_code, module_name | 无 | A service discovery entry that represents an appli... |
| FieldManagerSLZ | rest_framework.serializers.Serializer | 无 | name | 无 | A serializer for the field manager of BkApp model ... |
| SvcDiscConfigSLZ | rest_framework.serializers.Serializer | validate_bk_saas | bk_saas, field_manager | 无 | 不适用 |
| HostAliasSLZ | rest_framework.serializers.Serializer | 无 | ip, hostnames | 无 | 不适用 |
| DomainResolutionSLZ | rest_framework.serializers.Serializer | validate | nameservers, host_aliases, field_manager | 无 | 不适用 |
| BkAppModelSLZ | rest_framework.serializers.Serializer | 无 | manifest | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/serializers/v1alpha2.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, CharField, ChoiceField, ListField, RegexField, IntegerField, ValidationError, IPAddressField, DictField, ListSerializer | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| PORT_PLACEHOLDER | paasng.platform.bkapp_model.constants.PORT_PLACEHOLDER | 不适用 | module |
| ImagePullPolicy | paasng.platform.bkapp_model.constants.ImagePullPolicy | get_choices, IF_NOT_PRESENT | module |
| NetworkProtocol | paasng.platform.bkapp_model.constants.NetworkProtocol | get_django_choices, value, TCP | module |
| ResQuotaPlan | paasng.platform.bkapp_model.constants.ResQuotaPlan | get_choices | module |
| ScalingPolicy | paasng.platform.bkapp_model.constants.ScalingPolicy | DEFAULT, get_choices | module |
| Process | paasng.platform.bkapp_model.entities.Process | 不适用 | module |
| v1alpha2 | paasng.platform.bkapp_model.entities.v1alpha2 | BkAppSpec | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | get_choices | module |
| IntegerOrCharField | paasng.utils.serializers.IntegerOrCharField | 不适用 | module |
| field_env_var_key | paasng.utils.serializers.field_env_var_key | 不适用 | module |
| NOTSET | paasng.utils.structure.NOTSET | 不适用 | module |
| PROC_TYPE_MAX_LENGTH | paasng.utils.validators.PROC_TYPE_MAX_LENGTH | 不适用 | module |
| PROC_TYPE_PATTERN | paasng.utils.validators.PROC_TYPE_PATTERN | 不适用 | module |
| ExecProbeActionSLZ | apiserver.paasng.paasng.platform.bkapp_model.serializers.serializers.ExecProbeActionSLZ | 不适用 | module |
| ExposedTypeSLZ | apiserver.paasng.paasng.platform.bkapp_model.serializers.serializers.ExposedTypeSLZ | 不适用 | module |
| HTTPHeaderSLZ | apiserver.paasng.paasng.platform.bkapp_model.serializers.serializers.HTTPHeaderSLZ | 不适用 | module |
| TCPSocketProbeActionSLZ | apiserver.paasng.paasng.platform.bkapp_model.serializers.serializers.TCPSocketProbeActionSLZ | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseEnvVarFields | rest_framework.serializers.Serializer | 无 | name, value | 无 | Base fields for validating EnvVar. |
| EnvVarInputSLZ | BaseEnvVarFields | 无 | 无 | 无 | EnvVarInputSLZ validate the items in the `env` fie... |
| EnvVarOverlayInputSLZ | BaseEnvVarFields | 无 | envName | 无 | 不适用 |
| AddonSpecInputSLZ | rest_framework.serializers.Serializer | 无 | name, value | 无 | Validate the items in the `addons.specs` field. |
| AddonInputSLZ | rest_framework.serializers.Serializer | 无 | name, specs, sharedFromModule | 无 | Validate the items in the `addons` field. |
| BaseMountFields | rest_framework.serializers.Serializer | 无 | name, mountPath, source | 无 | Base fields for validating Mount. |
| MountInputSLZ | BaseMountFields | 无 | 无 | 无 | MountInputSLZ validate the items in the `mounts` f... |
| MountOverlayInputSLZ | BaseMountFields | 无 | envName | 无 | MountOverlayInputSLZ validate the items in the `en... |
| ReplicasOverlayInputSLZ | rest_framework.serializers.Serializer | 无 | envName, process, count | 无 | ReplicasOverlayInputSLZ validate the items in the ... |
| ResQuotaOverlayInputSLZ | rest_framework.serializers.Serializer | 无 | envName, process, plan | 无 | ResQuotaOverlayInputSLZ validate the items in the ... |
| AutoscalingSpecInputSLZ | rest_framework.serializers.Serializer | 无 | minReplicas, maxReplicas, policy | 无 | Base fields for validating AutoscalingSpec. |
| AutoscalingOverlayInputSLZ | AutoscalingSpecInputSLZ | 无 | envName, process | 无 | Validate the `autoscaling` field in envOverlay |
| EnvOverlayInputSLZ | rest_framework.serializers.Serializer | 无 | replicas, resQuotas, envVariables, autoscaling, mounts | 无 | Validate the `envOverlay` field. |
| ConfigurationInputSLZ | rest_framework.serializers.Serializer | 无 | env | 无 | Validate the `configuration` field. |
| BuildInputSLZ | rest_framework.serializers.Serializer | 无 | image, imagePullPolicy, imageCredentialsName | 无 | Validate the `build` field. |
| HTTPGetActionInputSLZ | rest_framework.serializers.Serializer | 无 | port, path, host, httpHeaders, scheme | 无 | 不适用 |
| ProbeInputSLZ | rest_framework.serializers.Serializer | 无 | exec, httpGet, tcpSocket, initialDelaySeconds, timeoutSeconds, periodSeconds, successThreshold, failureThreshold | 无 | 探针配置 |
| ProbeSetInputSLZ | rest_framework.serializers.Serializer | 无 | liveness, readiness, startup | 无 | 探针集合 |
| ProcServiceInputSLZ | rest_framework.serializers.Serializer | validate_targetPort | name, targetPort, protocol, exposedType, port | 无 | 不适用 |
| ProcessInputSLZ | rest_framework.serializers.Serializer | 无 | name, replicas, resQuotaPlan, targetPort, command, args, procCommand, autoscaling, probes, services | 无 | Validate the `processes` field. |
| HooksInputSLZ | rest_framework.serializers.Serializer | 无 | preRelease | 无 | Validate the `hooks` field. |
| BkSaaSInputSLZ | rest_framework.serializers.Serializer | 无 | bkAppCode, moduleName | 无 | Validate the `bkSaaS` field. |
| ServiceDiscoveryInputSLZ | rest_framework.serializers.Serializer | 无 | bkSaaS | 无 | ServiceDiscoveryInputSLZ |
| HostAliasSLZ | rest_framework.serializers.Serializer | 无 | ip, hostnames | 无 | 不适用 |
| DomainResolutionInputSLZ | rest_framework.serializers.Serializer | 无 | nameservers, hostAliases | 无 | 不适用 |
| MetricInputSLZ | rest_framework.serializers.Serializer | 无 | process, serviceName, path, params | 无 | 不适用 |
| MonitoringInputSLZ | rest_framework.serializers.Serializer | 无 | metrics | 无 | 不适用 |
| ObservabilityInputSLZ | rest_framework.serializers.Serializer | 无 | monitoring | 无 | 不适用 |
| BkAppSpecInputSLZ | rest_framework.serializers.Serializer | to_internal_value, validate, _validate_proc_services, _validate_observability | build, processes, configuration, addons, mounts, hooks, envOverlay, svcDiscovery, domainResolution, observability | 无 | BkApp resource slz in camel-case format |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/services.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| create_app_ignore_duplicated | paas_wl.bk_app.applications.api.create_app_ignore_duplicated | 不适用 | module |
| create_cnative_app_model_resource | paas_wl.bk_app.applications.api.create_cnative_app_model_resource | 不适用 | module |
| update_metadata_by_env | paas_wl.bk_app.applications.api.update_metadata_by_env | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | CLOUD_NATIVE | module |
| ApiVersion | paas_wl.bk_app.cnative.specs.constants.ApiVersion | V1ALPHA2 | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| RegionClusterService | paas_wl.infras.cluster.shim.RegionClusterService | 不适用 | module |
| setup_env_log_model | paasng.accessories.log.shim.setup_env_log_model | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | create, objects | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | value, STAG, PROD | module |
| EngineApp | paasng.platform.engine.models.EngineApp | create, objects | module |
| ModuleInitializer | paasng.platform.modules.manager.ModuleInitializer | 不适用 | module |
| make_engine_app_name | paasng.platform.modules.manager.make_engine_app_name | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| initialize_simple | `def initialize_simple(module: Module, image: str, cluster_name: Optional[str] = None, api_version: Optional[str] = ApiVersion.V1ALPHA2, command: Optional[List[str]] = None, args: Optional[List[str]] = None, target_port: Optional[int] = None) -> Dict:` | 无 | Initialize a cloud-native application, return the ... |
| create_engine_apps | `def create_engine_apps(application: Application, module: Module, cluster_name: str, environments: Optional[List[str]] = None):` | 无 | Create engine app instances for application |
| get_or_create_engine_app | `def get_or_create_engine_app(owner: str, region: str, engine_app_name: str) -> EngineApp:` | 无 | get or create engine app from workload

    :retur... |


---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path(make_app_pattern('/manifest_ext/$', include_envs=True), views.CNativeAppManifestExtViewset.as_view({'get': 'retrieve'}), name='api.cnative.retrieve_manifest_ext'), re_path(make_app_pattern('/bkapp_model/manifests/current/$', include_envs=False), views.BkAppModelManifestsViewset.as_view({'get': 'retrieve', 'put': 'replace'}), name='api.bkapp_model.current_manifests'), re_path(make_app_pattern('/bkapp_model/process_specs/$', include_envs=False), views.ModuleProcessSpecViewSet.as_view({'get': 'retrieve', 'post': 'batch_upsert'}), name='api.bkapp_model.process_specs'), re_path(make_app_pattern('/bkapp_model/deploy_hooks/$', include_envs=False), views.ModuleDeployHookViewSet.as_view({'post': 'upsert'}), name='api.bkapp_model.deploy_hooks'), re_path(make_app_pattern('/bkapp_model/deploy_hooks/(?P<hook_type>[^/]+)/$', include_envs=False), views.ModuleDeployHookViewSet.as_view({'get': 'retrieve'}), name='api.bkapp_model.deploy_hooks.detail'), re_path('api/bkapps/applications/(?P<code>[^/]+)/svc_disc/$', views.SvcDiscConfigViewSet.as_view({'get': 'retrieve', 'post': 'upsert'}), name='api.applications.svc_disc'), re_path('api/bkapps/applications/(?P<code>[^/]+)/domain_resolution/$', views.DomainResolutionViewSet.as_view({'get': 'retrieve', 'post': 'upsert'}), name='api.applications.domain_resolution')]` | module |



---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| copy | deepcopy | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| EnvVar | paas_wl.bk_app.cnative.specs.crd.bk_app.EnvVar | 不适用 | module |
| EnvVarOverlay | paas_wl.bk_app.cnative.specs.crd.bk_app.EnvVarOverlay | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| generate_image_repository | paasng.platform.engine.configurations.image.generate_image_repository | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | CUSTOM_IMAGE, DOCKERFILE | module |
| ModuleRuntimeManager | paasng.platform.modules.helpers.ModuleRuntimeManager | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| override_env_vars_overlay | `def override_env_vars_overlay(x: List[EnvVarOverlay], y: List[EnvVarOverlay]):` | 无 | Use env variable in y to override x, if y have the... |
| merge_env_vars_overlay | `def merge_env_vars_overlay(x: List[EnvVarOverlay], y: List[EnvVarOverlay], strategy: MergeStrategy = MergeStrategy.OVERRIDE):` | 无 | Merge two env variable list, if a conflict was fou... |
| merge_env_vars | `def merge_env_vars(x: List[EnvVar], y: List[EnvVar], strategy: MergeStrategy = MergeStrategy.OVERRIDE):` | 无 | Merge two env variable list, if a conflict was fou... |
| get_image_info | `def get_image_info(module: Module) -> Tuple[str, Optional[str]]:` | 无 | 获取模块的镜像仓库和访问凭证名

    :return: Tuple[镜像仓库, Optional... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MergeStrategy | blue_krill.data_types.enum.StrStructuredEnum | 无 | OVERRIDE, IGNORE | 无 | Different strategy when merging env vars |

---


### 模块: apiserver/paasng/paasng/platform/bkapp_model/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| logging | getLogger | module |
| yaml | safe_dump_all | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| atomic | django.db.transaction.atomic | 不适用 | module |
| HttpResponse | django.http.response.HttpResponse | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_200_OK | module |
| viewsets | rest_framework.viewsets | ViewSet, GenericViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| ACCESS_CONTROL_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.ACCESS_CONTROL_ANNO_KEY | 不适用 | module |
| BKPAAS_ADDONS_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.BKPAAS_ADDONS_ANNO_KEY | 不适用 | module |
| update_app_resource | paas_wl.bk_app.cnative.specs.models.update_app_resource | 不适用 | module |
| AutoscalingConfig | paas_wl.workloads.autoscaling.entities.AutoscalingConfig | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | list_binded | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | VIEW_BASIC_INFO, BASIC_DEVELOP | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE, MODIFY | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | SERVICE_DISCOVERY, DOMAIN_RESOLUTION | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| fieldmgr | paasng.platform.bkapp_model.fieldmgr | APP_DESC, FieldMgrName, FieldManager, F_HOOKS, WEB_FORM, F_SVC_DISCOVERY, F_DOMAIN_RESOLUTION | module |
| Monitoring | paasng.platform.bkapp_model.entities.Monitoring | 不适用 | module |
| Process | paasng.platform.bkapp_model.entities.Process | 不适用 | module |
| sync_processes | paasng.platform.bkapp_model.entities_syncer.sync_processes | 不适用 | module |
| FieldMgrName | paasng.platform.bkapp_model.fieldmgr.constants.FieldMgrName | WEB_FORM | module |
| import_manifest | paasng.platform.bkapp_model.importer.import_manifest | 不适用 | module |
| get_manifest | paasng.platform.bkapp_model.manifest.get_manifest | 不适用 | module |
| DomainResolution | paasng.platform.bkapp_model.models.DomainResolution | filter, objects, update_or_create | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | filter, objects | module |
| ObservabilityConfig | paasng.platform.bkapp_model.models.ObservabilityConfig | DoesNotExist, upsert_by_module, objects | module |
| ProcessSpecEnvOverlay | paasng.platform.bkapp_model.models.ProcessSpecEnvOverlay | save_by_module, objects | module |
| SvcDiscConfig | paasng.platform.bkapp_model.models.SvcDiscConfig | filter, objects, update_or_create | module |
| BkAppModelSLZ | paasng.platform.bkapp_model.serializers.BkAppModelSLZ | 不适用 | module |
| DomainResolutionSLZ | paasng.platform.bkapp_model.serializers.DomainResolutionSLZ | 不适用 | module |
| GetManifestInputSLZ | paasng.platform.bkapp_model.serializers.GetManifestInputSLZ | 不适用 | module |
| ModuleDeployHookSLZ | paasng.platform.bkapp_model.serializers.ModuleDeployHookSLZ | 不适用 | module |
| ModuleProcessSpecsInputSLZ | paasng.platform.bkapp_model.serializers.ModuleProcessSpecsInputSLZ | 不适用 | module |
| ModuleProcessSpecsOutputSLZ | paasng.platform.bkapp_model.serializers.ModuleProcessSpecsOutputSLZ | 不适用 | module |
| SvcDiscConfigSLZ | paasng.platform.bkapp_model.serializers.SvcDiscConfigSLZ | 不适用 | module |
| get_image_info | paasng.platform.bkapp_model.utils.get_image_info | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | 不适用 | module |
| get_items | paasng.utils.dictx.get_items | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | f, IMPORT_MANIFEST_FAILED | module |
| ApplicationAccessControlSwitch | paasng.security.access_control.models.ApplicationAccessControlSwitch | is_enabled, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| default_scaling_config | 不适用 | `default_scaling_config = AutoscalingConfig(min_replicas=1, max_replicas=1, policy='default')` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CNativeAppManifestExtViewset | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | retrieve | permission_classes | 无 | 云原生应用扩展信息管理 |
| BkAppModelManifestsViewset | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | retrieve, replace | permission_classes | 无 | The main viewset for managing the manifests of blu... |
| ModuleProcessSpecViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | retrieve, batch_upsert | permission_classes | 无 | API for CRUD ModuleProcessSpec |
| ModuleDeployHookViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | retrieve, upsert | permission_classes | 无 | API for CRUD ModuleDeployHook |
| SvcDiscConfigViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | retrieve, upsert, _get_field_manager | permission_classes | 无 | 不适用 |
| DomainResolutionViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | retrieve, upsert, _get_field_manager | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/declarative/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/declarative/application/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/declarative/application/constants.py




#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| APP_CODE_FIELD | bk_app_code | `APP_CODE_FIELD = 'bk_app_code'` | module |
| APP_NAME_FIELD | bk_app_name | `APP_NAME_FIELD = 'bk_app_name'` | module |
| APP_NAME_FIELD_EN | bk_app_name_en | `APP_NAME_FIELD_EN = 'bk_app_name_en'` | module |
| CNATIVE_APP_CODE_FIELD | bkAppCode | `CNATIVE_APP_CODE_FIELD = 'bkAppCode'` | module |



---


### 模块: apiserver/paasng/paasng/platform/declarative/application/controller.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | SOURCE_PACKAGE_APP_CLOUD_NATIVE | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| get_application_cluster | paas_wl.infras.cluster.shim.get_application_cluster | 不适用 | module |
| AppType | paasng.accessories.publish.market.constant.AppType | value, PAAS_APP | module |
| ProductSourceUrlType | paasng.accessories.publish.market.constant.ProductSourceUrlType | value, ENGINE_PROD_ENV | module |
| DisplayOptions | paasng.accessories.publish.market.models.DisplayOptions | update_or_create, objects | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | create, objects | module |
| Product | paasng.accessories.publish.market.models.Product | update_or_create, objects | module |
| ModulePublishPreparer | paasng.accessories.publish.market.protections.ModulePublishPreparer | 不适用 | module |
| product_create_or_update_by_operator | paasng.accessories.publish.market.signals.product_create_or_update_by_operator | send | module |
| ServiceObjNotFound | paasng.accessories.servicehub.exceptions.ServiceObjNotFound | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | find_by_name, module_is_bound_with, bind_service | module |
| ServiceSharingManager | paasng.accessories.servicehub.sharing.ServiceSharingManager | 不适用 | module |
| get_region | paasng.core.region.models.get_region | 不适用 | module |
| User | paasng.infras.accounts.models.User | 不适用 | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | get_profile, objects | module |
| user_has_app_action_perm | paasng.infras.accounts.permissions.application.user_has_app_action_perm | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| create_oauth2_client | paasng.infras.oauth2.utils.create_oauth2_client | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE, DEFAULT | module |
| application_logo_updated | paasng.platform.applications.handlers.application_logo_updated | send | module |
| Application | paasng.platform.applications.models.Application | create, objects, get | module |
| application_default_module_switch | paasng.platform.applications.signals.application_default_module_switch | send | module |
| post_create_application | paasng.platform.applications.signals.post_create_application | send | module |
| APP_CODE_FIELD | paasng.platform.declarative.application.constants.APP_CODE_FIELD | 不适用 | module |
| AppNameField | paasng.platform.declarative.application.fields.AppNameField | 不适用 | module |
| AppRegionField | paasng.platform.declarative.application.fields.AppRegionField | 不适用 | module |
| ApplicationDesc | paasng.platform.declarative.application.resources.ApplicationDesc | 不适用 | module |
| MarketDesc | paasng.platform.declarative.application.resources.MarketDesc | 不适用 | module |
| ModuleDesc | paasng.platform.declarative.application.resources.ModuleDesc | 不适用 | module |
| ServiceSpec | paasng.platform.declarative.application.resources.ServiceSpec | 不适用 | module |
| AppDescriptionSLZ | paasng.platform.declarative.application.serializers.AppDescriptionSLZ | 不适用 | module |
| remove_omitted | paasng.platform.declarative.basic.remove_omitted | 不适用 | module |
| ControllerError | paasng.platform.declarative.exceptions.ControllerError | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| ApplicationDescription | paasng.platform.declarative.models.ApplicationDescription | create, objects | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | S_MART, SCENE | module |
| ModuleInitializationError | paasng.platform.modules.exceptions.ModuleInitializationError | 不适用 | module |
| Module | paasng.platform.modules.manager.Module | create, objects | module |
| initialize_smart_module | paasng.platform.modules.manager.initialize_smart_module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| flatten_dependency_tree | `def flatten_dependency_tree(dependency_tree: Dict[str, List[str]]) -> List[str]:` | 无 | 按依赖的拓扑结构将依赖关系描述树摊平成一维数组, 以保证初始化增强服务时, 不会出现引用的模块未创建... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppDeclarativeController | 无 | __init__, perform_action, perform_create, get_allowed_regions, perform_update, sync_modules, _sync_default_module, sync_market_fields, sync_services_fields, _sync_module_services_fields, save_description | source_origin, update_allowed_fields | 无 | A controller which creates or updates application ... |

---


### 模块: apiserver/paasng/paasng/platform/declarative/application/fields.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| prepare_change_application_name | paasng.platform.applications.signals.prepare_change_application_name | send | module |
| ApplicationDesc | paasng.platform.declarative.application.resources.ApplicationDesc | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppField | 无 | __init__, handle_desc | 无 | 无 | Represents a field in app json data |
| AppNameField | AppField | handle_desc | 无 | 无 | 不适用 |
| AppRegionField | AppField | handle_desc | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/declarative/application/resources.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Generic | typing.Generic | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| TypeVar | typing.TypeVar | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| ContentFile | django.core.files.base.ContentFile | 不适用 | module |
| Promise | django.utils.functional.Promise | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |
| OpenMode | paasng.accessories.publish.market.constant.OpenMode | 不适用 | module |
| AppLanguage | paasng.platform.applications.constants.AppLanguage | PYTHON | module |
| Application | paasng.platform.applications.models.Application | get, default_objects, DoesNotExist | module |
| AllowOmittedModel | paasng.platform.declarative.basic.AllowOmittedModel | 不适用 | module |
| OMITTED_VALUE | paasng.platform.declarative.constants.OMITTED_VALUE | 不适用 | module |
| AppDescPluginType | paasng.platform.declarative.constants.AppDescPluginType | 不适用 | module |
| AppSpecVersion | paasng.platform.declarative.constants.AppSpecVersion | VER_2 | module |
| DiffType | paasng.platform.declarative.constants.DiffType | 不适用 | module |
| OmittedType | paasng.platform.declarative.constants.OmittedType | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| M | 不适用 | `M = TypeVar('M')` | module |
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_application | `def get_application(json_data: Dict, field_name: str) -> Optional[Application]:` | 无 | Try to get an application from JSON data |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DisplayOptions | paasng.platform.declarative.basic.AllowOmittedModel | 无 | 无 | 无 | 不适用 |
| MarketDesc | paasng.platform.declarative.basic.AllowOmittedModel | 无 | 无 | 无 | 不适用 |
| ServiceSpec | pydantic.BaseModel | __init__ | 无 | 无 | 不适用 |
| DiffItem | pydantic.BaseModel, Generic[M] | 无 | 无 | 无 | 不适用 |
| ModuleDiffResult | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| ModuleDesc | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| ApplicationDesc | pydantic.BaseModel | default_module, get_plugin | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/declarative/application/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, CharField, DictField | module |
| MarketSLZ | paasng.platform.declarative.application.validations.v2.MarketSLZ | 不适用 | module |
| ModuleDescriptionSLZ | paasng.platform.declarative.application.validations.v2.ModuleDescriptionSLZ | 不适用 | module |
| I18NExtend | paasng.utils.i18n.serializers.I18NExtend | 不适用 | module |
| i18n | paasng.utils.i18n.serializers.i18n | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppDescriptionSLZ | rest_framework.serializers.Serializer | 无 | region, code, name, market, modules | i18n | Represent application description object only |

---


### 模块: apiserver/paasng/paasng/platform/declarative/application/validations/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/declarative/application/validations/v2.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, IntegerField, BooleanField, CharField, to_internal_value, DictField, ListField, ChoiceField, ValidationError | module |
| ProductTagByNameField | paasng.accessories.publish.market.serializers.ProductTagByNameField | 不适用 | module |
| get_region | paasng.core.region.states.get_region | 不适用 | module |
| AppIDSMartField | paasng.platform.applications.serializers.AppIDSMartField | 不适用 | module |
| AppNameField | paasng.platform.applications.serializers.AppNameField | 不适用 | module |
| SourceDirField | paasng.platform.applications.serializers.fields.SourceDirField | 不适用 | module |
| ApplicationDesc | paasng.platform.declarative.application.resources.ApplicationDesc | 不适用 | module |
| DisplayOptions | paasng.platform.declarative.application.resources.DisplayOptions | 不适用 | module |
| MarketDesc | paasng.platform.declarative.application.resources.MarketDesc | 不适用 | module |
| ModuleDesc | paasng.platform.declarative.application.resources.ModuleDesc | 不适用 | module |
| ServiceSpec | paasng.platform.declarative.application.resources.ServiceSpec | 不适用 | module |
| AppDescPluginType | paasng.platform.declarative.constants.AppDescPluginType | APP_VERSION | module |
| validate_language | paasng.platform.declarative.serializers.validate_language | 不适用 | module |
| ModuleNameField | paasng.platform.modules.serializers.ModuleNameField | 不适用 | module |
| I18NExtend | paasng.utils.i18n.serializers.I18NExtend | 不适用 | module |
| i18n | paasng.utils.i18n.serializers.i18n | 不适用 | module |
| Base64FileField | paasng.utils.serializers.Base64FileField | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| module_name_field | 不适用 | `module_name_field = ModuleNameField()` | module |
| ModuleNamePlaceholder | should-set-by-parent-slz | `ModuleNamePlaceholder = 'should-set-by-parent-slz'` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DisplayOptionsSLZ | rest_framework.serializers.Serializer | gen_default_value, to_internal_value | width, height, is_maximized, is_visible, open_mode | 无 | Serializer for describing application's market.dis... |
| MarketSLZ | rest_framework.serializers.Serializer | to_internal_value | category, introduction, description, display_options, logo_b64data | i18n | Serializer for describing application's market pro... |
| ServiceSLZ | rest_framework.serializers.Serializer | to_internal_value | name, shared_from, specs | 无 | Describes a service object, plan & detailed specs ... |
| ModuleDescriptionSLZ | rest_framework.serializers.Serializer | to_internal_value | is_default, language, services, source_dir | 无 | 不适用 |
| AppDescriptionSLZ | rest_framework.serializers.Serializer | validate_modules, to_internal_value | region, bk_app_code, bk_app_name, bk_app_name_en, market, modules | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/declarative/application/validations/v3.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, IntegerField, BooleanField, CharField, to_internal_value, ChoiceField, ListField, ValidationError | module |
| ProductTagByNameField | paasng.accessories.publish.market.serializers.ProductTagByNameField | 不适用 | module |
| get_region | paasng.core.region.states.get_region | 不适用 | module |
| AppIDSMartField | paasng.platform.applications.serializers.AppIDSMartField | 不适用 | module |
| AppNameField | paasng.platform.applications.serializers.AppNameField | 不适用 | module |
| SourceDirField | paasng.platform.applications.serializers.fields.SourceDirField | 不适用 | module |
| v1alpha2 | paasng.platform.bkapp_model.serializers.v1alpha2 | BkAppSpecInputSLZ | module |
| ApplicationDesc | paasng.platform.declarative.application.resources.ApplicationDesc | 不适用 | module |
| DisplayOptions | paasng.platform.declarative.application.resources.DisplayOptions | 不适用 | module |
| MarketDesc | paasng.platform.declarative.application.resources.MarketDesc | 不适用 | module |
| ModuleDesc | paasng.platform.declarative.application.resources.ModuleDesc | 不适用 | module |
| AppDescPluginType | paasng.platform.declarative.constants.AppDescPluginType | APP_VERSION | module |
| validate_language | paasng.platform.declarative.serializers.validate_language | 不适用 | module |
| ModuleNameField | paasng.platform.modules.serializers.ModuleNameField | 不适用 | module |
| Base64FileField | paasng.utils.serializers.Base64FileField | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DisplayOptionsSLZ | rest_framework.serializers.Serializer | gen_default_value, to_internal_value | width, height, isMaximized, visible, openMode | 无 | Serializer for describing application's market.dis... |
| MarketSLZ | rest_framework.serializers.Serializer | to_internal_value | category, introduction, introductionEn, description, descriptionEn, displayOptions, logoB64data | 无 | Serializer for describing application's market pro... |
| ModuleDescriptionSLZ | rest_framework.serializers.Serializer | to_internal_value | name, language, sourceDir, isDefault, spec | 无 | 不适用 |
| AppDescriptionSLZ | rest_framework.serializers.Serializer | to_internal_value | region, bkAppCode, bkAppName, bkAppNameEn, market, modules | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/declarative/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeclarativeConfig | django.apps.AppConfig | ready | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/declarative/basic.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| OMITTED_VALUE | apiserver.paasng.paasng.platform.declarative.constants.OMITTED_VALUE | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| remove_omitted | `def remove_omitted(d: Dict) -> Dict:` | 无 | Return a new dict without omitted values removed |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AllowOmittedModel | pydantic.BaseModel | dict | 无 | 无 | Add support for OMITTED_VALUE |

---


### 模块: apiserver/paasng/paasng/platform/declarative/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| TypeVar | typing.TypeVar | 不适用 | module |
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| T | 不适用 | `T = TypeVar('T')` | module |
| OMITTED_VALUE | 不适用 | `OMITTED_VALUE = OmittedType()` | module |
| WEB_PROCESS | gunicorn wsgi -w 4 -b :$PORT --access-logfile - --error-logfile - --access-logformat '[%(h)s] %({request_id}i)s %(u)s %(t)s "%(r)s" %(s)s %(D)s %(b)s "%(f)s" "%(a)s"' --timeout 600 | `WEB_PROCESS = 'gunicorn wsgi -w 4 -b :$PORT --access-logfile - --error-logfile - --access-logformat \'[%(h)s] %({request_id}i)s %(u)s %(t)s "%(r)s" %(s)s %(D)s %(b)s "%(f)s" "%(a)s"\' --timeout 600'` | module |
| CELERY_PROCESS | python manage.py celery worker -l info --autoscale=8,1 | `CELERY_PROCESS = 'python manage.py celery worker -l info --autoscale=8,1'` | module |
| CELERY_PROCESS_WITH_GEVENT | python manage.py celery worker -l info --without-gossip -P gevent -c 20 | `CELERY_PROCESS_WITH_GEVENT = 'python manage.py celery worker -l info --without-gossip -P gevent -c 20'` | module |
| CELERY_BEAT_PROCESS | python manage.py celery beat | `CELERY_BEAT_PROCESS = 'python manage.py celery beat'` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| OmittedType | 无 | __repr__, __bool__, __copy__, __deepcopy__, dict | 无 | 无 | 不适用 |
| AppSpecVersion | blue_krill.data_types.enum.IntStructuredEnum | 无 | VER_1, VER_2, VER_3, UNSPECIFIED | 无 | 不适用 |
| AppDescPluginType | blue_krill.data_types.enum.StrStructuredEnum | 无 | APP_VERSION | 无 | 不适用 |
| DiffType | blue_krill.data_types.enum.StrStructuredEnum | 无 | ADDED, DELETED, NOT_MODIFIED | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/declarative/deployment/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/declarative/deployment/controller.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| upsert_app_monitor | paas_wl.bk_app.monitoring.app_monitor.shim.upsert_app_monitor | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| Process | paasng.platform.bkapp_model.entities.Process | 不适用 | module |
| BkAppSpec | paasng.platform.bkapp_model.entities.v1alpha2.BkAppSpec | 不适用 | module |
| sync_processes | paasng.platform.bkapp_model.entities_syncer.sync_processes | 不适用 | module |
| FieldMgrName | paasng.platform.bkapp_model.fieldmgr.FieldMgrName | APP_DESC | module |
| import_bkapp_spec_entity | paasng.platform.bkapp_model.importer.import_bkapp_spec_entity | 不适用 | module |
| import_bkapp_spec_entity_non_cnative | paasng.platform.bkapp_model.importer.import_bkapp_spec_entity_non_cnative | 不适用 | module |
| AppSpecVersion | paasng.platform.declarative.constants.AppSpecVersion | VER_3 | module |
| BluekingMonitor | paasng.platform.declarative.deployment.resources.BluekingMonitor | 不适用 | module |
| DeploymentDesc | paasng.platform.declarative.deployment.resources.DeploymentDesc | 不适用 | module |
| ProcfileProc | paasng.platform.declarative.deployment.resources.ProcfileProc | 不适用 | module |
| DeployHandleResult | paasng.platform.declarative.entities.DeployHandleResult | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| DeploymentDescription | paasng.platform.declarative.models.DeploymentDescription | update_or_create, objects | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| ProcessTmpl | paasng.platform.engine.models.deployment.ProcessTmpl | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| handle_procfile_procs | `def handle_procfile_procs(deployment: Deployment, procfile_procs: List[ProcfileProc]) -> DeployHandleResult:` | 无 | Handle the processes defined by Procfile, this fun... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeploymentDeclarativeController | 无 | __init__, perform_action, handle_desc, _handle_desc_cnative_style, _handle_desc_normal_style, _save_desc_obj, _update_bkmonitor | 无 | 无 | A controller which process deployment description,... |

---


### 模块: apiserver/paasng/paasng/platform/declarative/deployment/resources.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| define | attrs.define | 不适用 | module |
| AppLanguage | paasng.platform.applications.constants.AppLanguage | 不适用 | module |
| Process | paasng.platform.bkapp_model.entities.Process | 不适用 | module |
| v1alpha2 | paasng.platform.bkapp_model.entities.v1alpha2 | BkAppSpec | module |
| AppSpecVersion | paasng.platform.declarative.constants.AppSpecVersion | VER_2 | module |
| ProcessTmpl | paasng.platform.engine.models.deployment.ProcessTmpl | 不适用 | module |
| NotSetType | paasng.utils.structure.NotSetType | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BluekingMonitor | 无 | __attrs_post_init__ | 无 | define | Resource: BluekingMonitor

    :param port: Servic... |
| ProcfileProc | 无 | 无 | 无 | define | The process object defined by Procfile.

    :para... |
| DeploymentDesc | 无 | get_procfile, get_proc_tmpls, get_processes, use_procfile_procs_if_conflict, _equal_with_procs, to_proc_tmpl | 无 | define | Deployment description object, contains spec data ... |

---


### 模块: apiserver/paasng/paasng/platform/declarative/deployment/svc_disc.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64encode, b64decode | module |
| json | dumps, loads | module |
| logging | getLogger | module |
| cattr | unstructure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Sequence | typing.Sequence | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| settings | django.conf.settings | CONFIGVAR_SYSTEM_PREFIX | module |
| force_bytes | django.utils.encoding.force_bytes | 不适用 | module |
| force_str | django.utils.encoding.force_str | 不适用 | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | 不适用 | module |
| get_exposed_url_type | paasng.accessories.publish.entrance.preallocated.get_exposed_url_type | 不适用 | module |
| get_preallocated_address | paasng.accessories.publish.entrance.preallocated.get_preallocated_address | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects, DoesNotExist | module |
| SvcDiscEntryBkSaaS | paasng.platform.bkapp_model.entities.SvcDiscEntryBkSaaS | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | 不适用 | module |
| get_module_clusters | paasng.platform.modules.helpers.get_module_clusters | 不适用 | module |
| Module | paasng.platform.modules.models.Module | DoesNotExist | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| query_module | `def query_module(item: SvcDiscEntryBkSaaS) -> Optional[Module]:` | 无 | Try to get the Module object in database by given ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkSaaSEnvVariableFactory | 无 | __init__, make, encode_data, decode_data | variable_name | 无 | Generate env variable from config |
| BkSaaSAddrDiscoverer | 无 | get, extend_with_clusters | 无 | 无 | Get the service addresses of the given SaaS items |

---


### 模块: apiserver/paasng/paasng/platform/declarative/deployment/validations/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/declarative/deployment/validations/v2.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| shlex | split | module |
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, CharField, ChoiceField, IntegerField, ListField, DictField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| SourceDirField | paasng.platform.applications.serializers.fields.SourceDirField | 不适用 | module |
| v1alpha2 | paasng.platform.bkapp_model.entities.v1alpha2 | BkAppSpec | module |
| ProbeSetSLZ | paasng.platform.bkapp_model.serializers.ProbeSetSLZ | 不适用 | module |
| SvcDiscConfigSLZ | paasng.platform.bkapp_model.serializers.SvcDiscConfigSLZ | 不适用 | module |
| AppSpecVersion | paasng.platform.declarative.constants.AppSpecVersion | VER_2 | module |
| DeploymentDesc | paasng.platform.declarative.deployment.resources.DeploymentDesc | 不适用 | module |
| validate_language | paasng.platform.declarative.serializers.validate_language | 不适用 | module |
| get_quota_plan | paasng.platform.declarative.utils.get_quota_plan | 不适用 | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | get_choices, value, GLOBAL | module |
| field_env_var_key | paasng.utils.serializers.field_env_var_key | 不适用 | module |
| NOTSET | paasng.utils.structure.NOTSET | 不适用 | module |
| NotSetType | paasng.utils.structure.NotSetType | 不适用 | module |
| PROC_TYPE_MAX_LENGTH | paasng.utils.validators.PROC_TYPE_MAX_LENGTH | 不适用 | module |
| PROC_TYPE_PATTERN | paasng.utils.validators.PROC_TYPE_PATTERN | match, pattern | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EnvVariableSLZ | rest_framework.serializers.Serializer | 无 | key, value, environment_name, description | 无 | Serializer for describing a application's env_vari... |
| ProcessSLZ | rest_framework.serializers.Serializer | 无 | command, replicas, plan, probes | 无 | 不适用 |
| BluekingMonitorSLZ | rest_framework.serializers.Serializer | 无 | port, target_port | 无 | 不适用 |
| DeploymentDescSLZ | rest_framework.serializers.Serializer | to_internal_value, validate_processes | language, source_dir, env_variables, processes, svc_discovery, scripts, bkmonitor | 无 | Serializer for describing application's deployment... |

---


### 模块: apiserver/paasng/paasng/platform/declarative/deployment/validations/v3.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, CharField | module |
| SourceDirField | paasng.platform.applications.serializers.fields.SourceDirField | 不适用 | module |
| v1alpha2 | paasng.platform.bkapp_model.serializers.v1alpha2 | BkAppSpecInputSLZ | module |
| AppSpecVersion | paasng.platform.declarative.constants.AppSpecVersion | VER_3 | module |
| DeploymentDesc | paasng.platform.declarative.deployment.resources.DeploymentDesc | 不适用 | module |
| validate_language | paasng.platform.declarative.serializers.validate_language | 不适用 | module |
| ModuleNameField | paasng.platform.modules.serializers.ModuleNameField | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| module_name_field | 不适用 | `module_name_field = ModuleNameField()` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeploymentDescSLZ | rest_framework.serializers.Serializer | to_internal_value | language, sourceDir, spec | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/declarative/entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| define | attrs.define | 不适用 | module |
| AppSpecVersion | paasng.platform.declarative.constants.AppSpecVersion | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployHandleResult | 无 | 无 | 无 | define | 部署阶段处理应用描述文件的结果类。

    :param: spec_version 应用描述文件... |

---


### 模块: apiserver/paasng/paasng/platform/declarative/exceptions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| stringify_validation_error | blue_krill.web.drf_utils.stringify_validation_error | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DescriptionValidationError | Exception | __init__, build_message_by_detail, from_validation_error | 无 | 无 | Raised when any given description was invalid

   ... |
| UnsupportedSpecVer | Exception | 无 | 无 | 无 | Raised if the app spec data is using an unsupporte... |
| ControllerError | Exception | __init__ | 无 | 无 | An error occurred when controller is processing th... |

---


### 模块: apiserver/paasng/paasng/platform/declarative/handlers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| copy | deepcopy | module |
| logging | getLogger | module |
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Callable | typing.Callable | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Literal | typing.Literal | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| TextIO | typing.TextIO | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| Protocol | typing_extensions.Protocol | 不适用 | module |
| TypeAlias | typing_extensions.TypeAlias | 不适用 | module |
| User | paasng.infras.accounts.models.User | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| APP_CODE_FIELD | paasng.platform.declarative.application.constants.APP_CODE_FIELD | 不适用 | module |
| CNATIVE_APP_CODE_FIELD | paasng.platform.declarative.application.constants.CNATIVE_APP_CODE_FIELD | 不适用 | module |
| AppDeclarativeController | paasng.platform.declarative.application.controller.AppDeclarativeController | 不适用 | module |
| ApplicationDesc | paasng.platform.declarative.application.resources.ApplicationDesc | 不适用 | module |
| get_application | paasng.platform.declarative.application.resources.get_application | 不适用 | module |
| v2 | paasng.platform.declarative.deployment.validations.v2 | 不适用 | module |
| v3 | paasng.platform.declarative.deployment.validations.v3 | 不适用 | module |
| AppSpecVersion | paasng.platform.declarative.constants.AppSpecVersion | VER_2, VER_3, UNSPECIFIED, VER_1 | module |
| DeployHandleResult | paasng.platform.declarative.deployment.controller.DeployHandleResult | 不适用 | module |
| DeploymentDeclarativeController | paasng.platform.declarative.deployment.controller.DeploymentDeclarativeController | 不适用 | module |
| handle_procfile_procs | paasng.platform.declarative.deployment.controller.handle_procfile_procs | 不适用 | module |
| DeploymentDesc | paasng.platform.declarative.deployment.resources.DeploymentDesc | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| UnsupportedSpecVer | paasng.platform.declarative.exceptions.UnsupportedSpecVer | 不适用 | module |
| UniConfigSLZ | paasng.platform.declarative.serializers.UniConfigSLZ | 不适用 | module |
| validate_desc | paasng.platform.declarative.serializers.validate_desc | 不适用 | module |
| validate_procfile_procs | paasng.platform.declarative.serializers.validate_procfile_procs | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_desc_handler | `def get_desc_handler(json_data: Dict) -> 'DescriptionHandler':` | 无 | Get the handler for handling description data, it ... |
| detect_spec_version | `def detect_spec_version(json_data: Dict) -> AppSpecVersion:` | 无 | Detect the spec version from the input data.

    ... |
| get_deploy_desc_handler | `def get_deploy_desc_handler(desc_data: Optional[Dict] = None, procfile_data: Optional[Dict] = None) -> 'DeployDescHandler':` | 无 | Get the handler for handling description data when... |
| get_deploy_desc_by_module | `def get_deploy_desc_by_module(desc_data: Dict, module_name: str) -> DeploymentDesc:` | 无 | Get the deploy desc object by module name

    :pa... |
| get_source_dir_from_desc | `def get_source_dir_from_desc(desc_data: Dict, module_name: str) -> str:` | 无 | Get the source directory specified in the descript... |
| get_desc_getter_func | `def get_desc_getter_func(desc_data: Dict) -> DescGetterFunc:` | 无 | Get the description getter function by current des... |
| deploy_desc_getter_v2 | `def deploy_desc_getter_v2(json_data: Dict, module_name: str) -> DeploymentDesc:` | 无 | Get the deployment desc object, spec ver 2. |
| deploy_desc_getter_v3 | `def deploy_desc_getter_v3(json_data: Dict, module_name: str) -> DeploymentDesc:` | 无 | Get the deployment desc object, spec ver 3. |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DescriptionHandler | typing_extensions.Protocol | app_desc, handle_app | 无 | 无 | 不适用 |
| CNativeAppDescriptionHandler | 无 | from_file, __init__, app_desc, handle_app | 无 | 无 | A handler to process cnative application's YAML de... |
| AppDescriptionHandler | 无 | from_file, __init__, app_desc, handle_app | 无 | 无 | A handler to process application's YAML descriptio... |
| UnsupportedVerDescriptionHandler | 无 | __init__, app_desc, handle_app | 无 | 无 | A special handler, raise error if the version is n... |
| NoVerDescriptionHandler | 无 | app_desc, handle_app | message | 无 | A special handler, raise error if no version is sp... |
| DeployDescHandler | typing_extensions.Protocol | handle | 无 | 无 | 不适用 |
| DefaultDeployDescHandler | 无 | __init__, handle | 无 | 无 | The default handler for handling deployment descri... |
| ProcfileOnlyDeployDescHandler | 无 | __init__, handle | 无 | 无 | The handler for handling the procfile data only.

... |

---


### 模块: apiserver/paasng/paasng/platform/declarative/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| jsonfield.fields | JSONField, fields | module |
| paasng.utils.models | BkUserField, models, utils | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, OneToOneField, BooleanField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/declarative/migrations/0002_auto_20210804_1656.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| jsonfield.fields | JSONField, fields | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RemoveField, AddField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/declarative/migrations/0003_auto_20220506_1601.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RenameField, AddField, AlterField | module |
| models | django.db.models | CharField, BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/declarative/migrations/0004_deploymentdescription_spec.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.platform.declarative.models | BkAppSpecField, models, declarative, platform | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/declarative/migrations/0005_remove_deploymentdescription_scripts.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RemoveField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/declarative/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/declarative/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| models | django.db.models | ForeignKey, CASCADE, CharField, BooleanField, OneToOneField | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| TranslatedFieldWithFallback | translated_fields.TranslatedFieldWithFallback | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| v1alpha2 | paasng.platform.bkapp_model.entities.v1alpha2 | BkAppSpec | module |
| AppDescPluginType | paasng.platform.declarative.constants.AppDescPluginType | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| DeployHookType | paasng.platform.modules.constants.DeployHookType | PRE_RELEASE_HOOK | module |
| HookList | paasng.platform.modules.models.deploy_config.HookList | 不适用 | module |
| OwnerTimestampedModel | paasng.utils.models.OwnerTimestampedModel | 不适用 | module |
| TimestampedModel | paasng.utils.models.TimestampedModel | 不适用 | module |
| make_json_field | paasng.utils.models.make_json_field | 不适用 | module |
| NotSetType | paasng.utils.structure.NotSetType | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| BkAppSpecField | 不适用 | `BkAppSpecField = make_json_field('BkAppSpecField', v1alpha2.BkAppSpec)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationDescription | paasng.utils.models.OwnerTimestampedModel | get_plugin | application, code, name, basic_info, market, modules, plugins, is_creation | 无 | Application description object |
| DeploymentDescription | paasng.utils.models.TimestampedModel | get_deploy_hooks, source_dir | deployment, env_variables, runtime, environments, plugins | 无 | Config objects which describes deployment objects.... |

---


### 模块: apiserver/paasng/paasng/platform/declarative/protections.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| ConditionNotMatched | paasng.core.core.protections.exceptions.ConditionNotMatched | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| AppResProtector | paasng.platform.applications.protections.AppResProtector | register_precondition | module |
| BaseAppResProtectCondition | paasng.platform.applications.protections.BaseAppResProtectCondition | 不适用 | module |
| ProtectedRes | paasng.platform.applications.protections.ProtectedRes | BASIC_INFO_MODIFICATIONS, SERVICES_MODIFICATIONS | module |
| ApplicationDescription | apiserver.paasng.paasng.platform.declarative.models.ApplicationDescription | filter, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| modifications_not_allowed | `def modifications_not_allowed(application: Application, action_name: str = ''):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationBasicInfoModificationCondition | paasng.platform.applications.protections.BaseAppResProtectCondition | validate | action_name | 无 | Condition for modifying application's basic info(e... |
| ApplicationServiceModificationCondition | paasng.platform.applications.protections.BaseAppResProtectCondition | validate | action_name | 无 | Condition for modifying application's service |

---


### 模块: apiserver/paasng/paasng/platform/declarative/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| settings | django.conf.settings | ULTIMATE_PROC_SPEC_PLAN, PREMIUM_PROC_SPEC_PLAN, DEFAULT_PROC_SPEC_PLAN, MAX_PROCESSES_PER_MODULE | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, ValidationError, CharField, IntegerField, JSONField, BooleanField, to_internal_value, RegexField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| AppLanguage | paasng.platform.applications.constants.AppLanguage | 不适用 | module |
| DisplayOptions | paasng.platform.declarative.application.resources.DisplayOptions | 不适用 | module |
| ProcfileProc | paasng.platform.declarative.deployment.resources.ProcfileProc | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | from_validation_error | module |
| PROC_TYPE_MAX_LENGTH | paasng.utils.validators.PROC_TYPE_MAX_LENGTH | 不适用 | module |
| PROC_TYPE_PATTERN | paasng.utils.validators.PROC_TYPE_PATTERN | match, pattern | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| validate_desc | `def validate_desc(serializer: Type[serializers.Serializer], data: Dict, instance: Optional[Any] = None, context: Optional[Dict] = None, partial: Optional[bool] = None) -> Any:` | 无 | Use serializer to validate a given structure, the ... |
| validate_language | `def validate_language(language: str) -> AppLanguage:` | 无 | 校验 AppLanguage

    Q: 为什么不直接使用 AppLanguage.get_dj... |
| validate_procfile_procs | `def validate_procfile_procs(data: Dict[str, str]) -> List[ProcfileProc]:` | 无 | Validate process data which was read from procfile... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| UniConfigSLZ | rest_framework.serializers.Serializer | 无 | app_version, spec_version, app, modules, module | 无 | Serializer for validate universal app config file |
| DesktopOptionsSLZ | rest_framework.serializers.Serializer | gen_default_value, to_internal_value | width, height, is_max, is_display | 无 | Serializer for validating application's market dis... |
| ContainerSpecSLZ | rest_framework.serializers.Serializer | to_internal_value | memory | 无 | Serializer for validating application's container ... |
| LibrarySLZ | rest_framework.serializers.Serializer | 无 | name, version | 无 | Serializer for validating applications's libraries |
| LegacyEnvVariableSLZ | rest_framework.serializers.Serializer | 无 | key, value | 无 | Legacy env variable serializer, only allow keys wh... |

---


### 模块: apiserver/paasng/paasng/platform/declarative/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| itemgetter | operator.itemgetter | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| shortcuts | blue_krill.cubing_case.shortcuts | to_lower_snake_case | module |
| parse_quantity | kubernetes.utils.parse_quantity | 不适用 | module |
| PLAN_TO_LIMIT_QUOTA_MAP | paas_wl.bk_app.cnative.specs.procs.quota.PLAN_TO_LIMIT_QUOTA_MAP | items | module |
| ResQuotaPlan | paasng.platform.bkapp_model.constants.ResQuotaPlan | P_DEFAULT | module |
| ProcessSpecPlan | paas_wl.bk_app.processes.models.ProcessSpecPlan | get_by_name, objects, DoesNotExist | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_quota_plan | `def get_quota_plan(spec_plan_name: str) -> ResQuotaPlan:` | 无 | Get ProcessSpecPlan by name and transform it to Re... |
| camel_to_snake_case | `def camel_to_snake_case(data: Any) -> Any:` | 无 | convert all camel case field name to snake case, a... |


---


### 模块: apiserver/paasng/paasng/platform/engine/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/engine/apps.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PlugableAppConfig | paasng.utils.addons.PlugableAppConfig | 不适用 | module |
| register_metrics | apiserver.paasng.paasng.platform.engine.monitoring.register_metrics | 不适用 | module |
| handlers | apiserver.paasng.paasng.platform.engine.processes.handlers | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EngineConfig | paasng.utils.addons.PlugableAppConfig | ready | name, default | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/configurations/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/engine/configurations/building.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64encode | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Schedule | paas_wl.infras.resources.kube_res.base.Schedule | 不适用 | module |
| ContainerRuntimeSpec | paas_wl.workloads.release_controller.entities.ContainerRuntimeSpec | 不适用 | module |
| ModuleRuntimeManager | paasng.platform.modules.helpers.ModuleRuntimeManager | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| EngineApp | paasng.platform.engine.models.EngineApp | 不适用 | module |
| Module | paasng.platform.modules.models.module.Module | 不适用 | module |
| AppBuildPack | paasng.platform.modules.models.runtime.AppBuildPack | 不适用 | module |
| AppSlugBuilder | paasng.platform.modules.models.runtime.AppSlugBuilder | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_dockerfile_path | `def get_dockerfile_path(module: 'Module') -> str:` | 无 | 不适用 |
| get_build_args | `def get_build_args(module: 'Module') -> str:` | 无 | 不适用 |
| get_use_bk_ci_pipeline | `def get_use_bk_ci_pipeline(module: 'Module') -> bool:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SlugbuilderInfo | 无 | build_image, buildpacks_info, from_module, from_engine_app | 无 | dataclass | 表示与模块相关的构建环境信息 |
| SlugBuilderTemplate | 无 | 无 | 无 | dataclass | The Template to run the slug-builder Pod

    :par... |

---


### 模块: apiserver/paasng/paasng/platform/engine/configurations/config_var.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Iterator | typing.Iterator | 不适用 | module |
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | CONFIGVAR_SYSTEM_PREFIX, get, BKPAAS_WEIXIN_URL_MAP, LOGIN_FULL, items, BK_PAAS2_PLATFORM_ENVS, BK_DOMAIN, BKPAAS_URL, BK_CONSOLE_URL, BK_CC_URL, BK_JOB_URL, BK_IAM_URL, BK_USER_URL, BK_MONITORV3_URL, BK_LOG_URL, BK_REPO_URL, BK_CI_URL, BK_CODECC_URL, BK_TURBO_URL, BK_PIPELINE_URL, BK_NODEMAN_URL, BK_BCS_URL, BK_BSCP_URL, BK_AUDIT_URL, BK_SHARED_RES_URL, BK_CRYPTO_TYPE, BK_API_URL_TMPL, BK_COMPONENT_API_URL, BK_PAAS2_URL, MUL_MODULE_VOLUME_MOUNT_APP_LOGGING_DIR, CONTAINER_PORT | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| get_bk_doc_url_prefix | paasng.accessories.publish.entrance.preallocated.get_bk_doc_url_prefix | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | get_env_vars | module |
| ServiceSharingManager | paasng.accessories.servicehub.sharing.ServiceSharingManager | 不适用 | module |
| BuiltInEnvsRegionHelper | paasng.core.region.app.BuiltInEnvsRegionHelper | 不适用 | module |
| BuiltInEnvVarDetail | paasng.core.region.app.BuiltInEnvVarDetail | 不适用 | module |
| get_region | paasng.core.region.models.get_region | 不适用 | module |
| BkOauthClientDoesNotExist | paasng.infras.oauth2.exceptions.BkOauthClientDoesNotExist | 不适用 | module |
| get_oauth2_client_secret | paasng.infras.oauth2.utils.get_oauth2_client_secret | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| get_svc_disc_as_env_variables | paasng.platform.bkapp_model.models.get_svc_disc_as_env_variables | 不适用 | module |
| AppDefaultDomains | paasng.platform.engine.configurations.ingress.AppDefaultDomains | 不适用 | module |
| AppDefaultSubpaths | paasng.platform.engine.configurations.ingress.AppDefaultSubpaths | 不适用 | module |
| env_vars_providers | paasng.platform.engine.configurations.provider.env_vars_providers | gather | module |
| AppInfoBuiltinEnv | paasng.platform.engine.constants.AppInfoBuiltinEnv | value, APP_ID, APP_SECRET | module |
| AppRunTimeBuiltinEnv | paasng.platform.engine.constants.AppRunTimeBuiltinEnv | value, APP_MODULE_NAME, ENVIRONMENT, MAJOR_VERSION, ENGINE_REGION | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | 不适用 | module |
| add_prefix_to_key | paasng.platform.engine.models.config_var.add_prefix_to_key | 不适用 | module |
| get_config_vars | paasng.platform.engine.models.config_var.get_config_vars | 不适用 | module |
| get_custom_builtin_config_vars | paasng.platform.engine.models.config_var.get_custom_builtin_config_vars | 不适用 | module |
| PresetEnvVariable | paasng.platform.engine.models.preset_envvars.PresetEnvVariable | filter, objects | module |
| ModuleRuntimeManager | paasng.platform.modules.helpers.ModuleRuntimeManager | 不适用 | module |
| make_blob_store_env | paasng.utils.blobstore.make_blob_store_env | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| EngineApp | paasng.platform.engine.models.EngineApp | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_env_variables | `def get_env_variables(env: ModuleEnvironment, include_config_vars: bool = True, include_preset_env_vars: bool = True, include_svc_disc: bool = True) -> Dict[str, str]:` | 无 | Get env vars for current environment, this will in... |
| generate_env_vars_for_app | `def generate_env_vars_for_app(app: 'Application', config_vars_prefix: str) -> Dict[str, str]:` | 无 | Generate built-in envs for app basic information |
| generate_runtime_env_vars_for_app | `def generate_runtime_env_vars_for_app(engine_app: 'EngineApp', config_vars_prefix: str) -> Dict[str, str]:` | 无 | Generate built-in  runtime envs for app |
| generate_env_vars_by_region_and_env | `def generate_env_vars_by_region_and_env(region: str, environment: str, config_vars_prefix: str) -> List[BuiltInEnvVarDetail]:` | 无 | Generate the platform address in the bk system by ... |
| generate_env_vars_for_bk_platform | `def generate_env_vars_for_bk_platform(config_vars_prefix: str) -> List[BuiltInEnvVarDetail]:` | 无 | Generate the platform address in the bk system |
| generate_blobstore_env_vars | `def generate_blobstore_env_vars(engine_app: 'EngineApp') -> Dict[str, str]:` | 无 | Generate blobstore env vars by engine_app |
| get_builtin_env_variables | `def get_builtin_env_variables(engine_app: 'EngineApp', config_vars_prefix: str) -> Dict[str, str]:` | 无 | Get all platform built-in env vars |
| generate_wl_builtin_env_vars | `def generate_wl_builtin_env_vars(config_vars_prefix: str, env=None) -> List[BuiltInEnvVarDetail]:` | 无 | Generate env vars related with workloads.

    :pa... |
| get_preset_env_variables | `def get_preset_env_variables(env: ModuleEnvironment) -> Dict[str, str]:` | 无 | Get PresetEnvVariable as env variables dict |


---


### 模块: apiserver/paasng/paasng/platform/engine/configurations/image.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| re | compile, sub | module |
| arrow | now | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| settings | django.conf.settings | APP_DOCKER_REGISTRY_HOST, APP_DOCKER_REGISTRY_NAMESPACE, APP_DOCKER_REGISTRY_SKIP_TLS_VERIFY | module |
| Build | paas_wl.bk_app.applications.models.Build | get, objects | module |
| split_image | paas_wl.bk_app.cnative.specs.credentials.split_image | 不适用 | module |
| ProcessSpec | paas_wl.bk_app.processes.models.ProcessSpec | filter, objects | module |
| ImageCredentialRef | paas_wl.workloads.images.entities.ImageCredentialRef | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | CUSTOM_IMAGE, DOCKERFILE | module |
| Deployment | paasng.platform.engine.models.Deployment | 不适用 | module |
| ModuleRuntimeManager | paasng.platform.modules.helpers.ModuleRuntimeManager | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects, get | module |
| Module | paasng.platform.modules.models.module.Module | 不适用 | module |
| ModuleSpecs | paasng.platform.modules.specs.ModuleSpecs | 不适用 | module |
| bksmart_settings | paasng.platform.smart_app.conf.bksmart_settings | username, registry, password | module |
| SMartImageManager | paasng.platform.smart_app.services.image_mgr.SMartImageManager | 不适用 | module |
| VersionType | paasng.platform.sourcectl.constants.VersionType | value, PACKAGE | module |
| RepoBasicAuthHolder | paasng.platform.sourcectl.models.RepoBasicAuthHolder | get_by_repo, objects, DoesNotExist | module |
| EngineApp | paasng.platform.engine.models.EngineApp | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_image_repository_template | `def get_image_repository_template() -> str:` | 无 | Get the image repository template |
| generate_image_repository | `def generate_image_repository(module: Module) -> str:` | 无 | Get the image repository for storing container ima... |
| get_app_image_registry_info | `def get_app_image_registry_info(module: Module) -> Tuple[str, bool]:` | 无 | Get the image registry info

    :return: a Tuple[... |
| generate_image_tag | `def generate_image_tag(module: Module, version: 'VersionInfo') -> str:` | 无 | Get the Image Tag for version |
| get_credential_refs | `def get_credential_refs(module: Module) -> List[ImageCredentialRef]:` | 无 | get the valid user-defined image credential refere... |
| update_image_runtime_config | `def update_image_runtime_config(deployment: Deployment):` | 无 | Update the image runtime config of the given engin... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ImageCredential | 无 | 无 | 无 | dataclass | 不适用 |
| ImageCredentialManager | 无 | __init__, provide | 无 | 无 | A Helper provide the image pull secret for the giv... |
| RuntimeImageInfo | 无 | __init__, type, generate_image | 无 | 无 | 提供与当前应用匹配的运行时环境信息的工具 |

---


### 模块: apiserver/paasng/paasng/platform/engine/configurations/ingress.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | CONFIGVAR_SYSTEM_PREFIX, FORCE_USING_LEGACY_SUB_PATH_VAR_VALUE | module |
| Domain | paas_wl.workloads.networking.entrance.allocator.domains.Domain | 不适用 | module |
| ModuleEnvDomains | paas_wl.workloads.networking.entrance.allocator.domains.ModuleEnvDomains | 不适用 | module |
| ModuleEnvSubpaths | paas_wl.workloads.networking.entrance.allocator.subpaths.ModuleEnvSubpaths | 不适用 | module |
| Subpath | paas_wl.workloads.networking.entrance.allocator.subpaths.Subpath | 不适用 | module |
| sync_subdomains | paas_wl.workloads.networking.ingress.shim.sync_subdomains | 不适用 | module |
| sync_subpaths | paas_wl.workloads.networking.ingress.shim.sync_subpaths | 不适用 | module |
| get_region | paasng.core.region.models.get_region | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| ExposedURLType | paasng.platform.modules.constants.ExposedURLType | SUBDOMAIN | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppDefaultDomains | 无 | __init__, initialize_domains, sync, as_env_vars | 无 | 无 | A helper class for dealing with app's default subd... |
| AppDefaultSubpaths | 无 | __init__, sync, as_env_vars, _build_sub_path_env | 无 | 无 | A helper class for dealing with app's default subp... |

---


### 模块: apiserver/paasng/paasng/platform/engine/configurations/provider.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| OrderedDict | collections.OrderedDict | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| env_vars_providers | 不适用 | `env_vars_providers = EnvVariablesProviders()` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EnvVariablesProviders | 无 | __init__, register_env, gather | 无 | 无 | Allow registering extra env variables functions fo... |

---


### 模块: apiserver/paasng/paasng/platform/engine/configurations/source_file.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Sequence | typing.Sequence | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Protocol | typing_extensions.Protocol | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | AUTHORIZED_VCS, get_package_origins, IMAGE_REGISTRY, SCENE | module |
| exceptions | paasng.platform.sourcectl.exceptions | GetProcfileError, GetProcfileFormatError, GetAppYamlError, GetAppYamlFormatError, GetDockerIgnoreError, RequestTimeOutError, ReadLinkFileOutsideDirectoryError, ReadFileNotFoundError | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| BasePackageClient | paasng.platform.sourcectl.package.client.BasePackageClient | 不适用 | module |
| get_client | paasng.platform.sourcectl.package.client.get_client | 不适用 | module |
| RepoController | paasng.platform.sourcectl.repo_controller.RepoController | 不适用 | module |
| get_repo_controller | paasng.platform.sourcectl.repo_controller.get_repo_controller | 不适用 | module |
| Module | paasng.platform.modules.models.module.Module | 不适用 | module |
| get_deploy_desc_by_module | paasng.platform.declarative.handlers.get_deploy_desc_by_module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_metadata_reader | `def get_metadata_reader(module: 'Module', operator: Optional[str] = None, source_dir: Path = _current_path) -> MetaDataReader:` | 无 | Get MetaData Reader for the given module
    :para... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MetaDataReader | typing_extensions.Protocol | get_procfile, get_app_desc, get_dockerignore | 无 | 无 | Protocol to read metadata for deploy |
| MetaDataFileReader | 无 | read_file, get_procfile, get_app_desc, get_dockerignore, safe_read_files | 无 | 无 | 不适用 |
| VCSMetaDataReader | MetaDataFileReader | __init__, read_file | error_tips | 无 | 不适用 |
| PackageMetaDataReader | MetaDataFileReader | __init__, get_client, extract_version_info, read_file, get_procfile, get_app_desc | error_tips | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| ChoicesEnum | paasng.utils.basic.ChoicesEnum | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| PROC_DEFAULT_REPLICAS | 1 | `PROC_DEFAULT_REPLICAS = 1` | module |
| DOCKER_BUILD_STEPSET_NAME | docker-build | `DOCKER_BUILD_STEPSET_NAME = 'docker-build'` | module |
| IMAGE_RELEASE_STEPSET_NAME | image-release | `IMAGE_RELEASE_STEPSET_NAME = 'image-release'` | module |
| lbplan_2_prefix_mapper | 不适用 | `lbplan_2_prefix_mapper = {LBPlans.LBDefaultPlan.value: 'defaultplan_prefix'}` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ClusterType | blue_krill.data_types.enum.StrStructuredEnum | 无 | NORMAL, VIRTUAL | 无 | 集群类别 |
| AppEnvName | blue_krill.data_types.enum.StrStructuredEnum | 无 | STAG, PROD | 无 | The default environment names |
| JobStatus | blue_krill.data_types.enum.StrStructuredEnum | get_finished_states | SUCCESSFUL, FAILED, PENDING, INTERRUPTED | 无 | 不适用 |
| BuildStatus | blue_krill.data_types.enum.StrStructuredEnum | get_finished_states | SUCCESSFUL, FAILED, PENDING, INTERRUPTED | 无 | While `BuildStatus` has same members with `JobStat... |
| ReleaseStatus | blue_krill.data_types.enum.StrStructuredEnum | to_job_status | SUCCESSFUL, FAILED, PENDING, INTERRUPTED | 无 | While `ReleaseStatus` has same members with `JobSt... |
| OperationTypes | paasng.utils.basic.ChoicesEnum | 无 | OFFLINE, ONLINE, _choices_labels | 无 | 不适用 |
| LBPlans | paasng.utils.basic.ChoicesEnum | 无 | LBDefaultPlan, _choices_labels | 无 | 不适用 |
| MetricsType | paasng.utils.basic.ChoicesEnum | 无 | MEM, CPU, __ALL__, _choices_labels | 无 | 不适用 |
| ConfigVarEnvName | blue_krill.data_types.enum.StrStructuredEnum | 无 | STAG, PROD, GLOBAL | 无 | Environment name for managing config var |
| DeployConditions | paasng.utils.basic.ChoicesEnum | 无 | FILL_PRODUCT_INFO, CHECK_ENV_PROTECTION, NEED_TO_BIND_OAUTH_INFO, DONT_HAVE_ENOUGH_PERMISSIONS, NEED_TO_CORRECT_REPO_INFO, NEED_TO_COMPLETE_PROCFILE, CHECK_CI_GIT_TOKEN, FILL_PLUGIN_TAG_INFO, _choices_labels | 无 | 部署条件类型 |
| RuntimeType | blue_krill.data_types.enum.StrStructuredEnum | 无 | BUILDPACK, DOCKERFILE, CUSTOM_IMAGE | 无 | 不适用 |
| AppInfoBuiltinEnv | blue_krill.data_types.enum.StrStructuredEnum | 无 | APP_ID, APP_SECRET | 无 | 应用基本信息的内置环境变量built-in |
| AppRunTimeBuiltinEnv | blue_krill.data_types.enum.StrStructuredEnum | 无 | APP_MODULE_NAME, ENVIRONMENT, MAJOR_VERSION, ENGINE_REGION, DEFAULT_PREALLOCATED_URLS | 无 | Built-in envs in the app runtime |

---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/archive/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| BaseArchiveManager | paasng.platform.engine.deploy.archive.base.BaseArchiveManager | 不适用 | module |
| ApplicationArchiveManager | paasng.platform.engine.deploy.archive.legacy.ApplicationArchiveManager | 不适用 | module |
| BkAppArchiveManager | paasng.platform.engine.deploy.archive.operator.BkAppArchiveManager | 不适用 | module |
| OfflineOperation | paasng.platform.engine.models.offline.OfflineOperation | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| start_archive_step | `def start_archive_step(env: ModuleEnvironment, operator: str) -> OfflineOperation:` | 无 | start an archive process |


---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/archive/base.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| CallbackHandler | blue_krill.async_utils.poll_task.CallbackHandler | 不适用 | module |
| CallbackResult | blue_krill.async_utils.poll_task.CallbackResult | 不适用 | module |
| TaskPoller | blue_krill.async_utils.poll_task.TaskPoller | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | OFFLINE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | APP | module |
| ResultCode | paasng.misc.audit.constants.ResultCode | SUCCESS, FAILURE | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| module_environment_offline_success | paasng.platform.applications.signals.module_environment_offline_success | send | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | SUCCESSFUL | module |
| OperationTypes | paasng.platform.engine.constants.OperationTypes | value, OFFLINE | module |
| ReleaseStatus | paasng.platform.engine.constants.ReleaseStatus | FAILED, SUCCESSFUL | module |
| OfflineOperationExistError | paasng.platform.engine.exceptions.OfflineOperationExistError | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | DoesNotExist | module |
| OfflineOperation | paasng.platform.engine.models.OfflineOperation | create, objects, get | module |
| ModuleEnvironmentOperations | paasng.platform.engine.models.operations.ModuleEnvironmentOperations | create, objects | module |
| DeploymentGetter | paasng.platform.engine.utils.query.DeploymentGetter | 不适用 | module |
| OfflineOperationGetter | paasng.platform.engine.utils.query.OfflineOperationGetter | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseArchiveManager | 无 | __init__, perform_env_offline, perform_implement | 无 | 无 | Archive a module environment.

    :param env: the... |
| ArchiveResultHandler | blue_krill.async_utils.poll_task.CallbackHandler | handle, finish_archive | 无 | 无 | Handler for archive operation |

---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/archive/legacy.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Type | typing.Type | 不适用 | module |
| CallbackHandler | blue_krill.async_utils.poll_task.CallbackHandler | 不适用 | module |
| ArchiveOperationController | paas_wl.bk_app.deploy.actions.archive.ArchiveOperationController | 不适用 | module |
| BaseArchiveManager | paasng.platform.engine.deploy.archive.base.BaseArchiveManager | 不适用 | module |
| archive_related_resources | paasng.platform.engine.deploy.archive.tasks.archive_related_resources | delay | module |
| wait_for_all_stopped | paasng.platform.engine.deploy.bg_wait.wait_deployment.wait_for_all_stopped | 不适用 | module |
| OfflineOperation | paasng.platform.engine.models.offline.OfflineOperation | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationArchiveManager | paasng.platform.engine.deploy.archive.base.BaseArchiveManager | perform_implement | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/archive/operator.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Type | typing.Type | 不适用 | module |
| CallbackHandler | blue_krill.async_utils.poll_task.CallbackHandler | 不适用 | module |
| delete_bkapp | paas_wl.bk_app.cnative.specs.resource.delete_bkapp | 不适用 | module |
| delete_networking | paas_wl.bk_app.cnative.specs.resource.delete_networking | 不适用 | module |
| BaseArchiveManager | paasng.platform.engine.deploy.archive.base.BaseArchiveManager | 不适用 | module |
| wait_for_all_stopped | paasng.platform.engine.deploy.bg_wait.wait_deployment.wait_for_all_stopped | 不适用 | module |
| OfflineOperation | paasng.platform.engine.models.offline.OfflineOperation | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkAppArchiveManager | paasng.platform.engine.deploy.archive.base.BaseArchiveManager | perform_implement | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/archive/tasks.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| shared_task | celery.shared_task | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | get, objects | module |
| KPod | paas_wl.infras.resources.base.kres.KPod | 不适用 | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |
| ingress_kmodel | paas_wl.workloads.networking.ingress.kres_entities.ingress.ingress_kmodel | list_by_app, delete | module |
| service_kmodel | paas_wl.workloads.networking.ingress.kres_entities.service.service_kmodel | list_by_app, delete | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| archive_related_resources | `@shared_task:` | shared_task | 应用下架时，下架相关资源（service、pre-release-hook、ingress）

  ... |


---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/base.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| TaskPoller | blue_krill.async_utils.poll_task.TaskPoller | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | get, objects | module |
| DeploymentCoordinator | paasng.platform.engine.workflow.DeploymentCoordinator | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployPoller | blue_krill.async_utils.poll_task.TaskPoller | start | 无 | 无 | BasePoller for querying the status of deployment o... |

---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/bg_build/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/bg_build/bg_build.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| UUID | uuid.UUID | 不适用 | module |
| StreamChannel | blue_krill.redis_tools.messaging.StreamChannel | 不适用 | module |
| shared_task | celery.shared_task | 不适用 | module |
| BuildProcess | paas_wl.bk_app.applications.models.build.BuildProcess | get, objects | module |
| BuildHandler | paas_wl.bk_app.deploy.app_res.controllers.BuildHandler | new_by_app | module |
| get_default_redis | paasng.core.core.storages.redisdb.get_default_redis | 不适用 | module |
| DefaultBuildProcessExecutor | paasng.platform.engine.deploy.bg_build.executors.DefaultBuildProcessExecutor | 不适用 | module |
| PipelineBuildProcessExecutor | paasng.platform.engine.deploy.bg_build.executors.PipelineBuildProcessExecutor | 不适用 | module |
| generate_builder_name | paasng.platform.engine.deploy.bg_build.utils.generate_builder_name | 不适用 | module |
| DeployInterruptionFailed | paasng.platform.engine.exceptions.DeployInterruptionFailed | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | get, objects | module |
| ConsoleStream | paasng.platform.engine.utils.output.ConsoleStream | 不适用 | module |
| DeployStream | paasng.platform.engine.utils.output.DeployStream | 不适用 | module |
| RedisWithModelStream | paasng.platform.engine.utils.output.RedisWithModelStream | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | filter, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| start_bg_build_process | `@shared_task:` | shared_task | Start a new build process which starts a builder t... |
| interrupt_build_proc | `def interrupt_build_proc(bp_id: UUID) -> bool:` | 无 | Interrupt a build process

    :return: Whether th... |


---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/bg_build/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkCIPipelineBuildNotSuccess | Exception | 无 | 无 | 无 | 蓝盾流水线构建未成功（失败/被取消） |
| BkCITooManyEnvVarsError | Exception | 无 | 无 | 无 | 环境变量过多 |

---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/bg_build/executors.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64encode | module |
| json | dumps | module |
| logging | getLogger | module |
| math | ceil | module |
| re | compile, sub | module |
| time | time, sleep | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | BK_CI_CLIENT_USERNAME, BK_CI_PAAS_PROJECT_ID, BK_CI_BUILD_PIPELINE_ID | module |
| force_str | django.utils.encoding.force_str | 不适用 | module |
| ArtifactType | paas_wl.bk_app.applications.constants.ArtifactType | SLUG, IMAGE | module |
| mark_as_latest_artifact | paas_wl.bk_app.applications.managers.mark_as_latest_artifact | 不适用 | module |
| Build | paas_wl.bk_app.applications.models.build.Build | create, objects | module |
| BuildProcess | paas_wl.bk_app.applications.models.build.BuildProcess | 不适用 | module |
| BuildHandler | paas_wl.bk_app.deploy.app_res.controllers.BuildHandler | new_by_app | module |
| NamespacesHandler | paas_wl.bk_app.deploy.app_res.controllers.NamespacesHandler | new_by_app | module |
| ensure_image_credentials_secret | paas_wl.bk_app.deploy.app_res.controllers.ensure_image_credentials_secret | 不适用 | module |
| PodNotSucceededError | paas_wl.infras.resources.base.exceptions.PodNotSucceededError | 不适用 | module |
| ReadTargetStatusTimeout | paas_wl.infras.resources.base.exceptions.ReadTargetStatusTimeout | 不适用 | module |
| ResourceDuplicate | paas_wl.infras.resources.base.exceptions.ResourceDuplicate | 不适用 | module |
| check_pod_health_status | paas_wl.utils.kubestatus.check_pod_health_status | 不适用 | module |
| entities | paasng.infras.bk_ci.entities | PipelineBuild, Pipeline | module |
| BkCIPipelineClient | paasng.infras.bk_ci.client.BkCIPipelineClient | 不适用 | module |
| PipelineBuildStatus | paasng.infras.bk_ci.constants.PipelineBuildStatus | SUCCEED, FAILED, CANCELED | module |
| BkCIGatewayServiceError | paasng.infras.bk_ci.exceptions.BkCIGatewayServiceError | 不适用 | module |
| BuildStatus | paasng.platform.engine.constants.BuildStatus | FAILED, INTERRUPTED, SUCCESSFUL | module |
| BkCIPipelineBuildNotSuccess | paasng.platform.engine.deploy.bg_build.exceptions.BkCIPipelineBuildNotSuccess | 不适用 | module |
| BkCITooManyEnvVarsError | paasng.platform.engine.deploy.bg_build.exceptions.BkCITooManyEnvVarsError | 不适用 | module |
| SlugBuilderTemplate | paasng.platform.engine.deploy.bg_build.utils.SlugBuilderTemplate | 不适用 | module |
| generate_builder_env_vars | paasng.platform.engine.deploy.bg_build.utils.generate_builder_env_vars | 不适用 | module |
| generate_builder_name | paasng.platform.engine.deploy.bg_build.utils.generate_builder_name | 不适用 | module |
| generate_launcher_env_vars | paasng.platform.engine.deploy.bg_build.utils.generate_launcher_env_vars | 不适用 | module |
| generate_slug_path | paasng.platform.engine.deploy.bg_build.utils.generate_slug_path | 不适用 | module |
| prepare_slugbuilder_template | paasng.platform.engine.deploy.bg_build.utils.prepare_slugbuilder_template | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| DeployPhaseTypes | paasng.platform.engine.models.phases.DeployPhaseTypes | BUILD | module |
| DeployStream | paasng.platform.engine.utils.output.DeployStream | 不适用 | module |
| Style | paasng.platform.engine.utils.output.Style | Error | module |
| DeployStep | paasng.platform.engine.workflow.DeployStep | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DefaultBuildProcessExecutor | paasng.platform.engine.workflow.DeployStep | __init__, execute, start_following_logs, wait_for_succeeded, start_slugbuilder, create_and_bind_build_instance, clean_slugbuilder | phase_type | 无 | 
    Execute a build process, using k8s pod to bui... |
| PipelineBuildProcessExecutor | paasng.platform.engine.workflow.DeployStep | __init__, execute, _start_bk_ci_pipeline, _build_env_vars_params, _start_following_logs, _ensure_pipeline_build_success, _create_and_bind_build_instance | phase_type, polling_result_interval, bk_ci_log_level_tag_regex, max_env_var_block_num, mac_env_var_block_length, bk_ci_pipeline_job_id | 无 | 
    Execute a build process, using bk_ci pipeline... |

---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/bg_build/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| logging | getLogger | module |
| os | join, path | module |
| urllib.parse | urlparse, parse | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| SignatureType | blue_krill.storages.blobstore.base.SignatureType | DOWNLOAD, UPLOAD | module |
| settings | django.conf.settings | BLOBSTORE_BUCKET_APP_SOURCE, BUILD_PROCESS_TIMEOUT, BUILD_EXTRA_ENV_VARS, PYTHON_BUILDPACK_PIP_INDEX_URL, DEFAULT_SLUGBUILDER_IMAGE | module |
| BuildProcess | paas_wl.bk_app.applications.models.build.BuildProcess | 不适用 | module |
| get_schedule_config | paas_wl.bk_app.deploy.app_res.utils.get_schedule_config | 不适用 | module |
| get_slugbuilder_resources | paas_wl.infras.resources.utils.basic.get_slugbuilder_resources | 不适用 | module |
| VarsRenderContext | paas_wl.utils.env_vars.VarsRenderContext | 不适用 | module |
| render_vars_dict | paas_wl.utils.env_vars.render_vars_dict | 不适用 | module |
| b64encode | paas_wl.utils.text.b64encode | 不适用 | module |
| ImageCredentials | paas_wl.workloads.images.kres_entities.ImageCredentials | load_from_app | module |
| make_image_pull_secret_name | paas_wl.workloads.images.utils.make_image_pull_secret_name | 不适用 | module |
| ContainerRuntimeSpec | paas_wl.workloads.release_controller.entities.ContainerRuntimeSpec | 不适用 | module |
| SlugBuilderTemplate | paasng.platform.engine.configurations.building.SlugBuilderTemplate | 不适用 | module |
| make_blob_store | paasng.utils.blobstore.make_blob_store | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| generate_builder_name | `def generate_builder_name(app: 'WlApp') -> str:` | 无 | Get the builder name |
| generate_slug_path | `def generate_slug_path(bp: BuildProcess) -> str:` | 无 | Get the slug path for storing slug |
| generate_builder_env_vars | `def generate_builder_env_vars(bp: BuildProcess, metadata: Dict) -> Dict[str, str]:` | 无 | Generate all env vars required for building. |
| generate_launcher_env_vars | `def generate_launcher_env_vars(slug_path: str) -> Dict[str, str]:` | 无 | generate all env vars needed for launching a build... |
| update_env_vars_with_metadata | `def update_env_vars_with_metadata(env_vars: Dict, metadata: Dict):` | 无 | Update slugbuilder envs from metadata into env_var... |
| prepare_slugbuilder_template | `def prepare_slugbuilder_template(app: 'WlApp', env_vars: Dict, builder_image: Optional[str] = None) -> SlugBuilderTemplate:` | 无 | Prepare the template for running a slug builder

 ... |
| get_envs_from_pypi_url | `def get_envs_from_pypi_url(index_url: str) -> Dict[str, str]:` | 无 | Produce the environment variables for python build... |


---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/bg_command/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/bg_command/bkapp_hook.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ensure_text | six.ensure_text | 不适用 | module |
| BkAppHookHandler | paas_wl.bk_app.deploy.app_res.controllers.BkAppHookHandler | 不适用 | module |
| ReadTargetStatusTimeout | paas_wl.infras.resources.base.exceptions.ReadTargetStatusTimeout | 不适用 | module |
| PodPhase | paas_wl.utils.constants.PodPhase | FAILED, RUNNING, SUCCEEDED | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | PENDING, SUCCESSFUL, FAILED | module |
| StepNotInPresetListError | paasng.platform.engine.exceptions.StepNotInPresetListError | 不适用 | module |
| DeployPhaseTypes | paasng.platform.engine.models.DeployPhaseTypes | RELEASE | module |
| Style | paasng.platform.engine.utils.output.Style | Warning, Error | module |
| DeployStep | paasng.platform.engine.workflow.DeployStep | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| generate_pre_release_hook_name | `def generate_pre_release_hook_name(bkapp_name: str, deploy_id: int) -> str:` | 无 | 获取钩子 pod 名称. 需要和 operator 中的保持一致 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PreReleaseDummyExecutor | paasng.platform.engine.workflow.DeployStep | start, _mark_step_start, _perform, _mark_step_stop | phase_type, step_name | 无 | 
    Dummy executor for BkApp pre-release hook

  ... |

---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/bg_command/pre_release.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| CallbackHandler | blue_krill.async_utils.poll_task.CallbackHandler | 不适用 | module |
| CallbackResult | blue_krill.async_utils.poll_task.CallbackResult | 不适用 | module |
| PollingResult | blue_krill.async_utils.poll_task.PollingResult | 不适用 | module |
| PollingStatus | blue_krill.async_utils.poll_task.PollingStatus | DONE, DOING | module |
| TaskPoller | blue_krill.async_utils.poll_task.TaskPoller | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| CommandStatus | paas_wl.utils.constants.CommandStatus | FAILED, get_finished_states | module |
| CommandType | paas_wl.utils.constants.CommandType | 不适用 | module |
| CommandTemplate | paas_wl.workloads.release_controller.hooks.entities.CommandTemplate | 不适用 | module |
| Command | paas_wl.workloads.release_controller.hooks.models.Command | get, objects | module |
| get_env_variables | paasng.platform.engine.configurations.config_var.get_env_variables | 不适用 | module |
| update_image_runtime_config | paasng.platform.engine.configurations.image.update_image_runtime_config | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | FAILED, INTERRUPTED, PENDING | module |
| DeployPoller | paasng.platform.engine.deploy.base.DeployPoller | 不适用 | module |
| exec_command | paasng.platform.engine.deploy.bg_command.tasks.exec_command | 不适用 | module |
| ApplicationReleaseMgr | paasng.platform.engine.deploy.release.legacy.ApplicationReleaseMgr | from_deployment_id | module |
| StepNotInPresetListError | paasng.platform.engine.exceptions.StepNotInPresetListError | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | get, objects | module |
| DeployPhaseTypes | paasng.platform.engine.models.phases.DeployPhaseTypes | RELEASE | module |
| pre_phase_start | paasng.platform.engine.signals.pre_phase_start | send | module |
| Style | paasng.platform.engine.utils.output.Style | Warning | module |
| DeploymentCoordinator | paasng.platform.engine.workflow.DeploymentCoordinator | 不适用 | module |
| DeploymentStateMgr | paasng.platform.engine.workflow.DeploymentStateMgr | from_deployment_id | module |
| DeployStep | paasng.platform.engine.workflow.DeployStep | procedures | module |
| DeployHookType | paasng.platform.modules.constants.DeployHookType | PRE_RELEASE_HOOK | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationPreReleaseExecutor | paasng.platform.engine.workflow.DeployStep | start, on_puller_complete, mark_step_start, mark_step_finish | phase_type | 无 | 不适用 |
| CommandPoller | paasng.platform.engine.deploy.base.DeployPoller | query | overall_timeout_seconds | 无 | Poller for querying the status of a user command
 ... |
| PreReleaseHookCompleteHandler | blue_krill.async_utils.poll_task.CallbackHandler | handle | 无 | 无 | Result handler for a finished pre-release-hook |

---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/bg_command/tasks.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| StreamChannel | blue_krill.redis_tools.messaging.StreamChannel | 不适用 | module |
| shared_task | celery.shared_task | 不适用 | module |
| AppCommandExecutor | paas_wl.bk_app.deploy.actions.exec.AppCommandExecutor | 不适用 | module |
| CommandTemplate | paas_wl.workloads.release_controller.hooks.entities.CommandTemplate | 不适用 | module |
| Command | paas_wl.workloads.release_controller.hooks.models.Command | get, objects | module |
| get_default_redis | paasng.core.core.storages.redisdb.get_default_redis | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| PreReleaseDummyExecutor | paasng.platform.engine.deploy.bg_command.bkapp_hook.PreReleaseDummyExecutor | 不适用 | module |
| generate_pre_release_hook_name | paasng.platform.engine.deploy.bg_command.bkapp_hook.generate_pre_release_hook_name | 不适用 | module |
| make_channel_stream | paasng.platform.engine.logs.make_channel_stream | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | get, objects | module |
| ConsoleStream | paasng.platform.engine.utils.output.ConsoleStream | 不适用 | module |
| DeployStream | paasng.platform.engine.utils.output.DeployStream | 不适用 | module |
| RedisWithModelStream | paasng.platform.engine.utils.output.RedisWithModelStream | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| exec_command | `def exec_command(env: ModuleEnvironment, command_template: CommandTemplate, operator: str, stream_channel_id: Optional[str] = None, extra_envs: Optional[Dict] = None) -> str:` | 无 | run a command in a built slug. |
| execute_bg_command | `@shared_task:` | shared_task | execute a command.

    :param uuid: pk of Command... |
| exec_bkapp_hook | `@shared_task:` | shared_task | 不适用 |


---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/bg_command/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| CommandHandler | paas_wl.bk_app.deploy.app_res.controllers.CommandHandler | new_by_app | module |
| Command | paas_wl.workloads.release_controller.hooks.models.Command | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| interrupt_command | `def interrupt_command(command: 'CommandModel') -> bool:` | 无 | Interrupt a command.

    :param command: Command ... |


---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/bg_wait/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/bg_wait/base.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| validator | pydantic.validator | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AbortedDetailsPolicy | pydantic.BaseModel | 无 | 无 | 无 | `policy` field of `AbortedDetails` |
| AbortedDetails | pydantic.BaseModel | data_not_empty | 无 | 无 | A model for storing aborted details, such as "reas... |

---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/bg_wait/wait_bkapp.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | datetime | module |
| logging | getLogger | module |
| time | time | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ABC | abc.ABC | 不适用 | module |
| abstractmethod | abc.abstractmethod | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| CallbackHandler | blue_krill.async_utils.poll_task.CallbackHandler | 不适用 | module |
| CallbackResult | blue_krill.async_utils.poll_task.CallbackResult | 不适用 | module |
| PollingMetadata | blue_krill.async_utils.poll_task.PollingMetadata | 不适用 | module |
| PollingResult | blue_krill.async_utils.poll_task.PollingResult | doing, done | module |
| PollingStatus | blue_krill.async_utils.poll_task.PollingStatus | DONE, DOING | module |
| TaskPoller | blue_krill.async_utils.poll_task.TaskPoller | 不适用 | module |
| timezone | django.utils.timezone | now | module |
| ValidationError | pydantic.ValidationError | 不适用 | module |
| BKPAAS_DEPLOY_ID_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.BKPAAS_DEPLOY_ID_ANNO_KEY | 不适用 | module |
| CNATIVE_DEPLOY_STATUS_POLLING_FAILURE_LIMITS | paas_wl.bk_app.cnative.specs.constants.CNATIVE_DEPLOY_STATUS_POLLING_FAILURE_LIMITS | 不适用 | module |
| DeployStatus | paas_wl.bk_app.cnative.specs.constants.DeployStatus | UNKNOWN, READY, ERROR, PROGRESSING | module |
| AppModelDeploy | paas_wl.bk_app.cnative.specs.models.AppModelDeploy | get, objects | module |
| ModelResState | paas_wl.bk_app.cnative.specs.resource.ModelResState | 不适用 | module |
| MresConditionParser | paas_wl.bk_app.cnative.specs.resource.MresConditionParser | 不适用 | module |
| get_mres_from_cluster | paas_wl.bk_app.cnative.specs.resource.get_mres_from_cluster | 不适用 | module |
| post_cnative_env_deploy | paas_wl.bk_app.cnative.specs.signals.post_cnative_env_deploy | send | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | get, objects | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | INTERRUPTED, SUCCESSFUL, FAILED, PENDING | module |
| AbortedDetails | paasng.platform.engine.deploy.bg_wait.base.AbortedDetails | parse_obj | module |
| AbortedDetailsPolicy | paasng.platform.engine.deploy.bg_wait.base.AbortedDetailsPolicy | 不适用 | module |
| StepNotInPresetListError | paasng.platform.engine.exceptions.StepNotInPresetListError | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | get, objects, DoesNotExist | module |
| DeployPhaseTypes | paasng.platform.engine.models.phases.DeployPhaseTypes | RELEASE | module |
| DeploymentStateMgr | paasng.platform.engine.workflow.flow.DeploymentStateMgr | from_deployment_id | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| update_status | `def update_status(dp: AppModelDeploy, state: ModelResState, last_transition_time: Optional[datetime.datetime] = None):` | 无 | Update deployment status, `last_transition_time` w... |
| deploy_status_to_job_status | `def deploy_status_to_job_status(status: DeployStatus) -> JobStatus:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AbortPolicy | abc.ABC | get_reason, is_interrupted, evaluate | 无 | 无 | Base class for wait policy |
| UserInterruptedPolicy | AbortPolicy | get_reason, is_interrupted, evaluate | 无 | 无 | Abort procedure when user requested an interruptio... |
| WaitProcedurePoller | blue_krill.async_utils.poll_task.TaskPoller | __init__, query, get_status | overall_timeout_seconds | 无 | Base class of process waiting procedure

    `para... |
| WaitAppModelReady | WaitProcedurePoller | get_status | overall_timeout_seconds | 无 | A task poller to query status for fresh AppModelDe... |
| DeployStatusHandler | blue_krill.async_utils.poll_task.CallbackHandler | handle, parse_result, get_aborted_details | 无 | 无 | Result handler for AppModelDeployStatusPoller |

---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/bg_wait/wait_deployment.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| time | time | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AbortedDetails | paasng.platform.engine.deploy.bg_wait.base.AbortedDetails | 不适用 | module |
| AbortedDetailsPolicy | paasng.platform.engine.deploy.bg_wait.base.AbortedDetailsPolicy | 不适用 | module |
| ABC | abc.ABC | 不适用 | module |
| abstractmethod | abc.abstractmethod | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| PollingMetadata | blue_krill.async_utils.poll_task.PollingMetadata | 不适用 | module |
| PollingResult | blue_krill.async_utils.poll_task.PollingResult | doing, done | module |
| PollingStatus | blue_krill.async_utils.poll_task.PollingStatus | DONE, DOING | module |
| TaskPoller | blue_krill.async_utils.poll_task.TaskPoller | 不适用 | module |
| PlainProcess | paas_wl.bk_app.processes.processes.PlainProcess | 不适用 | module |
| ProcessManager | paas_wl.bk_app.processes.processes.ProcessManager | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | get, objects | module |
| Deployment | paasng.platform.engine.models.Deployment | get, objects, DoesNotExist | module |
| ProcEventsProducer | paasng.platform.engine.processes.events.ProcEventsProducer | 不适用 | module |
| ProcessesSnapshotStore | paasng.platform.engine.processes.utils.ProcessesSnapshotStore | 不适用 | module |
| processes_updated | paasng.platform.engine.signals.processes_updated | send | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| wait_for_all_stopped | `def wait_for_all_stopped(env: ModuleEnvironment, result_handler: Type, extra_params: Optional[Dict] = None):` | 无 | Wait for processes to be fully stopped

    :param... |
| wait_for_release | `def wait_for_release(env: ModuleEnvironment, release_version: int, result_handler: Type, extra_params: Optional[Dict] = None):` | 无 | Wait for processes to be updated to given release ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AbortPolicy | abc.ABC | get_reason, is_interrupted, evaluate | 无 | 无 | Base class for wait policy |
| WaitProcedurePoller | blue_krill.async_utils.poll_task.TaskPoller | __init__, query, broadcast_events, _get_current_processes, _get_last_processes, get_status | max_retries_on_error, overall_timeout_seconds, default_retry_delay_seconds | 无 | Base class of process waiting procedure

    `para... |
| DynamicReadyTimeoutPolicy | AbortPolicy | get_reason, evaluate | max_overall_timeout_seconds | 无 | Calculate overall timeout dynamically based on cur... |
| TooManyRestartsPolicy | AbortPolicy | get_reason, evaluate | maximum_count | 无 | Abort procedure when instance has been restarted f... |
| UserInterruptedPolicy | AbortPolicy | get_reason, is_interrupted, evaluate | 无 | 无 | Abort procedure when user requested an interruptio... |
| WaitForAllStopped | WaitProcedurePoller | get_status | overall_timeout_seconds | 无 | Wait processes to fully stopped |
| WaitForReleaseAllReady | WaitProcedurePoller | __init__, get_status | abort_policies, overall_timeout_seconds | 无 | Wait for processes to updated to a specified relea... |

---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/building.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| time | time | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| CallbackHandler | blue_krill.async_utils.poll_task.CallbackHandler | 不适用 | module |
| CallbackResult | blue_krill.async_utils.poll_task.CallbackResult | 不适用 | module |
| PollingResult | blue_krill.async_utils.poll_task.PollingResult | 不适用 | module |
| PollingStatus | blue_krill.async_utils.poll_task.PollingStatus | DOING, DONE | module |
| TaskPoller | blue_krill.async_utils.poll_task.TaskPoller | 不适用 | module |
| shared_task | celery.shared_task | 不适用 | module |
| settings | django.conf.settings | BLOBSTORE_BUCKET_APP_SOURCE, DEFAULT_SLUGBUILDER_IMAGE, KANIKO_IMAGE, KANIKO_REGISTRY_MIRRORS, BUILD_PROCESS_TIMEOUT | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| BuildProcess | paas_wl.bk_app.applications.models.build.BuildProcess | new, objects, get | module |
| AppModelResource | paas_wl.bk_app.cnative.specs.models.AppModelResource | get, objects | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | list_unprovisioned_rels, list_binded | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| ManifestImportError | paasng.platform.bkapp_model.exceptions.ManifestImportError | 不适用 | module |
| get_bkapp_resource | paasng.platform.bkapp_model.manifest.get_bkapp_resource | 不适用 | module |
| ProcessServicesFlag | paasng.platform.bkapp_model.models.ProcessServicesFlag | update_or_create, objects | module |
| AppSpecVersion | paasng.platform.declarative.constants.AppSpecVersion | VER_3 | module |
| DeployHandleResult | paasng.platform.declarative.deployment.controller.DeployHandleResult | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| SlugbuilderInfo | paasng.platform.engine.configurations.building.SlugbuilderInfo | from_engine_app | module |
| get_build_args | paasng.platform.engine.configurations.building.get_build_args | 不适用 | module |
| get_dockerfile_path | paasng.platform.engine.configurations.building.get_dockerfile_path | 不适用 | module |
| get_use_bk_ci_pipeline | paasng.platform.engine.configurations.building.get_use_bk_ci_pipeline | 不适用 | module |
| get_env_variables | paasng.platform.engine.configurations.config_var.get_env_variables | 不适用 | module |
| RuntimeImageInfo | paasng.platform.engine.configurations.image.RuntimeImageInfo | 不适用 | module |
| generate_image_repository | paasng.platform.engine.configurations.image.generate_image_repository | 不适用 | module |
| get_app_image_registry_info | paasng.platform.engine.configurations.image.get_app_image_registry_info | 不适用 | module |
| BuildStatus | paasng.platform.engine.constants.BuildStatus | get_finished_states, FAILED, INTERRUPTED | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | FAILED, SUCCESSFUL, PENDING, INTERRUPTED | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | BUILDPACK, DOCKERFILE | module |
| DeployPoller | paasng.platform.engine.deploy.base.DeployPoller | 不适用 | module |
| start_bg_build_process | paasng.platform.engine.deploy.bg_build.bg_build.start_bg_build_process | delay | module |
| start_release_step | paasng.platform.engine.deploy.release.start_release_step | 不适用 | module |
| HandleAppDescriptionError | paasng.platform.engine.exceptions.HandleAppDescriptionError | 不适用 | module |
| InitDeployDescHandlerError | paasng.platform.engine.exceptions.InitDeployDescHandlerError | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | get, objects | module |
| DeployPhaseTypes | paasng.platform.engine.models.phases.DeployPhaseTypes | BUILD, PREPARATION | module |
| update_step_by_line | paasng.platform.engine.phases_steps.steps.update_step_by_line | 不适用 | module |
| post_phase_end | paasng.platform.engine.signals.post_phase_end | send | module |
| pre_appenv_build | paasng.platform.engine.signals.pre_appenv_build | send | module |
| pre_phase_start | paasng.platform.engine.signals.pre_phase_start | send | module |
| Style | paasng.platform.engine.utils.output.Style | Error, Warning | module |
| check_source_package | paasng.platform.engine.utils.source.check_source_package | 不适用 | module |
| download_source_to_dir | paasng.platform.engine.utils.source.download_source_to_dir | 不适用 | module |
| get_deploy_desc_handler_by_version | paasng.platform.engine.utils.source.get_deploy_desc_handler_by_version | 不适用 | module |
| get_dockerignore | paasng.platform.engine.utils.source.get_dockerignore | 不适用 | module |
| get_source_package_path | paasng.platform.engine.utils.source.get_source_package_path | 不适用 | module |
| tag_module_from_source_files | paasng.platform.engine.utils.source.tag_module_from_source_files | 不适用 | module |
| DeploymentCoordinator | paasng.platform.engine.workflow.DeploymentCoordinator | 不适用 | module |
| DeploymentStateMgr | paasng.platform.engine.workflow.DeploymentStateMgr | from_deployment_id | module |
| DeployProcedure | paasng.platform.engine.workflow.DeployProcedure | 不适用 | module |
| DeployStep | paasng.platform.engine.workflow.DeployStep | procedures | module |
| Module | paasng.platform.modules.models.module.Module | 不适用 | module |
| ExcludeChecker | paasng.platform.sourcectl.utils.ExcludeChecker | 不适用 | module |
| compress_directory_ext | paasng.platform.sourcectl.utils.compress_directory_ext | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | NORMAL | module |
| Template | paasng.platform.templates.models.Template | get, objects | module |
| make_blob_store | paasng.utils.blobstore.make_blob_store | 不适用 | module |
| I18nTask | paasng.utils.i18n.celery.I18nTask | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| start_build | `@shared_task(base=I18nTask):` | shared_task | Start a deployment process

    :param deployment_... |
| start_build_error_callback | `@shared_task(base=I18nTask):` | shared_task | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseBuilder | paasng.platform.engine.workflow.DeployStep | compress_and_upload, handle_app_description, create_bkapp_revision, provision_services, notify_unexpected_missing_services, async_start_build_process, launch_build_processes | phase_type | 无 | 不适用 |
| ApplicationBuilder | BaseBuilder | start, launch_build_processes | 无 | 无 | The main controller for building an application vi... |
| DockerBuilder | BaseBuilder | start, launch_build_processes | 无 | 无 | The main controller for building an image via Dock... |
| BuildProcessPoller | paasng.platform.engine.deploy.base.DeployPoller | query, update_steps | max_retries_on_error, overall_timeout_seconds, default_retry_delay_seconds | 无 | Poller for querying the status of build process
  ... |
| BuildProcessResultHandler | blue_krill.async_utils.poll_task.CallbackHandler | handle | 无 | 无 | Result handler for a finished build process |

---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/image_release.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| shared_task | celery.shared_task | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| ArtifactType | paas_wl.bk_app.applications.constants.ArtifactType | SLUG, NONE | module |
| validate_references | paas_wl.bk_app.cnative.specs.credentials.validate_references | 不适用 | module |
| InvalidImageCredentials | paas_wl.bk_app.cnative.specs.exceptions.InvalidImageCredentials | 不适用 | module |
| AppImageCredential | paas_wl.workloads.images.models.AppImageCredential | flush_from_refs, objects | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | list_unprovisioned_rels | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, CLOUD_NATIVE | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | filter, objects | module |
| ProcessServicesFlag | paasng.platform.bkapp_model.models.ProcessServicesFlag | update_or_create, objects | module |
| AppSpecVersion | paasng.platform.declarative.constants.AppSpecVersion | VER_3 | module |
| DeployHandleResult | paasng.platform.declarative.handlers.DeployHandleResult | 不适用 | module |
| ImageCredentialManager | paasng.platform.engine.configurations.image.ImageCredentialManager | 不适用 | module |
| RuntimeImageInfo | paasng.platform.engine.configurations.image.RuntimeImageInfo | 不适用 | module |
| get_credential_refs | paasng.platform.engine.configurations.image.get_credential_refs | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | SUCCESSFUL | module |
| start_release_step | paasng.platform.engine.deploy.release.start_release_step | 不适用 | module |
| DeployShouldAbortError | paasng.platform.engine.exceptions.DeployShouldAbortError | 不适用 | module |
| HandleAppDescriptionError | paasng.platform.engine.exceptions.HandleAppDescriptionError | 不适用 | module |
| InitDeployDescHandlerError | paasng.platform.engine.exceptions.InitDeployDescHandlerError | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | filter, objects | module |
| DeployPhaseTypes | paasng.platform.engine.models.DeployPhaseTypes | RELEASE, PREPARATION | module |
| ProcessTmpl | paasng.platform.engine.models.deployment.ProcessTmpl | 不适用 | module |
| post_phase_end | paasng.platform.engine.signals.post_phase_end | send | module |
| pre_phase_start | paasng.platform.engine.signals.pre_phase_start | send | module |
| Style | paasng.platform.engine.utils.output.Style | Error | module |
| get_deploy_desc_handler_by_version | paasng.platform.engine.utils.source.get_deploy_desc_handler_by_version | 不适用 | module |
| DeployProcedure | paasng.platform.engine.workflow.DeployProcedure | 不适用 | module |
| DeployStep | paasng.platform.engine.workflow.DeployStep | procedures | module |
| I18nTask | paasng.utils.i18n.celery.I18nTask | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| release_without_build | `@shared_task(base=I18nTask):` | shared_task | Skip the build and deploy the application directly... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ImageReleaseMgr | paasng.platform.engine.workflow.DeployStep | start, _handle_app_processes_and_dummy_build, _handle_processes_by_build, _handle_smart_app_description, _handle_image_app_processes, _create_build, _provision_services, _setup_image_credentials | phase_type | 无 | The main controller for release an Image applicati... |

---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/interruptions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| User | bkpaas_auth.models.User | 不适用 | module |
| timezone | django.utils.timezone | now | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | get_finished_states | module |
| interrupt_build_proc | paasng.platform.engine.deploy.bg_build.bg_build.interrupt_build_proc | 不适用 | module |
| DeployInterruptionFailed | paasng.platform.engine.exceptions.DeployInterruptionFailed | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| interrupt_deployment | `def interrupt_deployment(deployment: Deployment, user: User):` | 无 | Interrupt a deployment, this method does not guara... |


---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/release/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| ApplicationPreReleaseExecutor | paasng.platform.engine.deploy.bg_command.pre_release.ApplicationPreReleaseExecutor | from_deployment_id | module |
| BkAppReleaseMgr | paasng.platform.engine.deploy.release.operator.BkAppReleaseMgr | from_deployment_id | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | get, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| start_release_step | `def start_release_step(deployment_id: str):` | 无 | start a release process |


---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/release/legacy.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| CallbackHandler | blue_krill.async_utils.poll_task.CallbackHandler | 不适用 | module |
| CallbackResult | blue_krill.async_utils.poll_task.CallbackResult | 不适用 | module |
| CallbackStatus | blue_krill.async_utils.poll_task.CallbackStatus | TIMEOUT, NORMAL | module |
| TaskPoller | blue_krill.async_utils.poll_task.TaskPoller | 不适用 | module |
| ValidationError | pydantic.ValidationError | 不适用 | module |
| Build | paas_wl.bk_app.applications.models.build.Build | get, objects | module |
| Release | paas_wl.bk_app.applications.models.release.Release | 不适用 | module |
| DeployAction | paas_wl.bk_app.deploy.actions.deploy.DeployAction | 不适用 | module |
| ProcessManager | paas_wl.bk_app.processes.processes.ProcessManager | 不适用 | module |
| KubeException | paas_wl.infras.resources.base.exceptions.KubeException | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| get_env_variables | paasng.platform.engine.configurations.config_var.get_env_variables | 不适用 | module |
| update_image_runtime_config | paasng.platform.engine.configurations.image.update_image_runtime_config | 不适用 | module |
| AppDefaultDomains | paasng.platform.engine.configurations.ingress.AppDefaultDomains | 不适用 | module |
| AppDefaultSubpaths | paasng.platform.engine.configurations.ingress.AppDefaultSubpaths | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | PENDING | module |
| ReleaseStatus | paasng.platform.engine.constants.ReleaseStatus | INTERRUPTED, FAILED, SUCCESSFUL | module |
| AbortedDetails | paasng.platform.engine.deploy.bg_wait.base.AbortedDetails | parse_obj | module |
| wait_for_release | paasng.platform.engine.deploy.bg_wait.wait_deployment.wait_for_release | 不适用 | module |
| StepNotInPresetListError | paasng.platform.engine.exceptions.StepNotInPresetListError | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | filter, objects | module |
| DeployPhaseTypes | paasng.platform.engine.models.phases.DeployPhaseTypes | RELEASE | module |
| on_release_created | paasng.platform.engine.signals.on_release_created | send | module |
| DeploymentGetter | paasng.platform.engine.utils.query.DeploymentGetter | 不适用 | module |
| DeployStep | paasng.platform.engine.workflow.DeployStep | procedures | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| release_by_engine | `def release_by_engine(env: ModuleEnvironment, build_id: str, deployment: Optional[Deployment] = None) -> str:` | 无 | Create a new release for the given environment. If... |
| release_to_k8s | `def release_to_k8s(env: ModuleEnvironment, build_id: str, extra_envs: Dict[str, str], procfile: Dict[str, str]) -> Release:` | 无 | Create a new release object, and perform DeployAct... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationReleaseMgr | paasng.platform.engine.workflow.DeployStep | start, sync_entrance_configs, callback_release | phase_type | 无 | Application Release Step, will schedule the Deploy... |
| ReleaseResultHandler | blue_krill.async_utils.poll_task.CallbackHandler | handle, finish_release, get_error_detail, get_aborted_details | 无 | 无 | Result handler for `wait_for_release` |

---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/release/operator.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| time | time | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| IntegrityError | django.db.IntegrityError | 不适用 | module |
| Build | paas_wl.bk_app.applications.models.Build | get, objects | module |
| svc_disc | paas_wl.bk_app.cnative.specs.svc_disc | apply_configmap | module |
| DeployStatus | paas_wl.bk_app.cnative.specs.constants.DeployStatus | value, PENDING, ERROR | module |
| deploy_addons_tls_certs | paas_wl.bk_app.cnative.specs.credentials.deploy_addons_tls_certs | 不适用 | module |
| AppModelDeploy | paas_wl.bk_app.cnative.specs.models.AppModelDeploy | create, objects | module |
| AppModelRevision | paas_wl.bk_app.cnative.specs.models.AppModelRevision | get, objects | module |
| deploy_volume_source | paas_wl.bk_app.cnative.specs.mounts.deploy_volume_source | 不适用 | module |
| deploy | paas_wl.bk_app.cnative.specs.resource.deploy | 不适用 | module |
| make_bk_log_controller | paas_wl.bk_app.monitoring.bklog.shim.make_bk_log_controller | 不适用 | module |
| KNamespace | paas_wl.infras.resources.base.kres.KNamespace | 不适用 | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |
| make_svc_monitor_controller | paasng.misc.monitoring.monitor.service_monitor.controller.make_svc_monitor_controller | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| get_bkapp_resource_for_deploy | paasng.platform.bkapp_model.manifest.get_bkapp_resource_for_deploy | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | PENDING | module |
| exec_bkapp_hook | paasng.platform.engine.deploy.bg_command.tasks.exec_bkapp_hook | delay | module |
| DeployStatusHandler | paasng.platform.engine.deploy.bg_wait.wait_bkapp.DeployStatusHandler | 不适用 | module |
| WaitAppModelReady | paasng.platform.engine.deploy.bg_wait.wait_bkapp.WaitAppModelReady | start | module |
| StepNotInPresetListError | paasng.platform.engine.exceptions.StepNotInPresetListError | 不适用 | module |
| DeployPhaseTypes | paasng.platform.engine.models.DeployPhaseTypes | RELEASE | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| DeployStep | paasng.platform.engine.workflow.DeployStep | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| release_by_k8s_operator | `def release_by_k8s_operator(env: ModuleEnvironment, revision: AppModelRevision, operator: str, build: Optional[Build] = None, deployment: Optional[Deployment] = None) -> str:` | 无 | Create a new release for given environment(which w... |
| ensure_namespace | `def ensure_namespace(env: ModuleEnvironment, max_wait_seconds: int = 15) -> bool:` | 无 | 确保命名空间存在, 如果命名空间不存在, 那么将创建一个 Namespace 和 ServiceAc... |
| ensure_bk_log_if_need | `def ensure_bk_log_if_need(env: ModuleEnvironment):` | 无 | 如果集群支持且应用声明了 BkLogConfig, 则尝试下发日志采集配置 |
| sync_service_monitor | `def sync_service_monitor(env: ModuleEnvironment):` | 无 | 如果集群支持且应用声明需要接入蓝鲸监控 metric, 则尝试下发 ServiceMonitor 配... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkAppReleaseMgr | paasng.platform.engine.workflow.DeployStep | start | phase_type | 无 | BkApp(CRD) Release Step, will schedule the Deploym... |

---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/start.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| AppModelResource | paas_wl.bk_app.cnative.specs.models.AppModelResource | get_or_create_by_module, objects | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| OperationTypes | paasng.platform.engine.constants.OperationTypes | value, ONLINE | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | CUSTOM_IMAGE | module |
| start_build | paasng.platform.engine.deploy.building.start_build | apply_async | module |
| start_build_error_callback | paasng.platform.engine.deploy.building.start_build_error_callback | s | module |
| release_without_build | paasng.platform.engine.deploy.image_release.release_without_build | apply_async | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | filter, objects, create | module |
| ModuleEnvironmentOperations | paasng.platform.engine.models.operations.ModuleEnvironmentOperations | create, objects | module |
| pre_appenv_deploy | paasng.platform.engine.signals.pre_appenv_deploy | send | module |
| get_source_dir | paasng.platform.engine.utils.source.get_source_dir | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | S_MART | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| ModuleSpecs | paasng.platform.modules.specs.ModuleSpecs | 不适用 | module |
| VersionType | paasng.platform.sourcectl.constants.VersionType | value, TAG | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| get_version_service | paasng.platform.sourcectl.version_services.get_version_service | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| initialize_deployment | `def initialize_deployment(env: 'ModuleEnvironment', operator: str, version_info: VersionInfo, advanced_options: Optional[Dict] = None) -> Deployment:` | 无 | 初始化 Deployment 对象, 并记录该次部署事件.

    :param env: 需要部... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployTaskRunner | 无 | __init__, start, require_build | 无 | 无 | Start a deploy task.

    :param deployment: An in... |

---


### 模块: apiserver/paasng/paasng/platform/engine/deploy/version.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| BkAppResource | paas_wl.bk_app.cnative.specs.crd.bk_app.BkAppResource | 不适用 | module |
| ImageParser | paas_wl.bk_app.cnative.specs.image_parser.ImageParser | 不适用 | module |
| AppModelRevision | paas_wl.bk_app.cnative.specs.models.AppModelRevision | get, objects | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | CUSTOM_IMAGE | module |
| DeploymentGetter | paasng.platform.engine.utils.query.DeploymentGetter | 不适用 | module |
| OfflineOperationGetter | paasng.platform.engine.utils.query.OfflineOperationGetter | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_env_deployed_version_info | `def get_env_deployed_version_info(env: ModuleEnvironment) -> Tuple[RuntimeType, Optional[VersionInfo]]:` | 无 | get deployed version info of given env

    :retur... |


---


### 模块: apiserver/paasng/paasng/platform/engine/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcfileInvalidException | Exception | 无 | 无 | 无 | 不适用 |
| StopProcessFailedException | Exception | 无 | 无 | 无 | 不适用 |
| OfflineOperationExistError | Exception | 无 | 无 | 无 | Offline Operation already exist |
| ProcessOperationTooOften | Exception | 无 | 无 | 无 | 进程操作过于频繁 |
| NoUnlinkedDeployPhaseError | Exception | 无 | 无 | 无 | 没有未绑定的部署阶段 |
| StepNotInPresetListError | Exception | __init__ | 无 | 无 | 不是预设步骤 |
| DuplicateNameInSamePhaseError | Exception | __init__ | 无 | 无 | 预设步骤名重复 |
| DeployInterruptionFailed | Exception | 无 | 无 | 无 | Unable to interrupt a deployment |
| DeployShouldAbortError | Exception | __init__, __str__ | 无 | 无 | Raise this exception when a deploy procedure shoul... |
| HandleAppDescriptionError | Exception | __init__, __str__ | 无 | 无 | Raise this exception when failed to handle a app d... |
| InitDeployDescHandlerError | Exception | 无 | 无 | 无 | Error when initialing the description handler for ... |

---


### 模块: apiserver/paasng/paasng/platform/engine/handlers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| receiver | django.dispatch.receiver | 不适用 | module |
| timezone | django.utils.timezone | now | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | PENDING | module |
| DeployPhaseTypes | paasng.platform.engine.models.phases.DeployPhaseTypes | 不适用 | module |
| DeployPhaseManager | paasng.platform.engine.phases_steps.phases.DeployPhaseManager | 不适用 | module |
| post_appenv_deploy | apiserver.paasng.paasng.platform.engine.signals.post_appenv_deploy | 不适用 | module |
| post_phase_end | apiserver.paasng.paasng.platform.engine.signals.post_phase_end | 不适用 | module |
| pre_appenv_deploy | apiserver.paasng.paasng.platform.engine.signals.pre_appenv_deploy | 不适用 | module |
| pre_phase_start | apiserver.paasng.paasng.platform.engine.signals.pre_phase_start | 不适用 | module |
| ApplicationEnvironment | paasng.platform.applications.models.ApplicationEnvironment | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | 不适用 | module |
| DeployStep | paasng.platform.engine.workflow.DeployStep | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| start_phase | `@receiver(pre_phase_start):` | receiver | 开启 阶段 |
| end_phase | `@receiver(post_phase_end):` | receiver | 结束 阶段
    :param sender: 需要保证 sender 具备 stream 对象
... |
| attach_all_phases | `@receiver(pre_appenv_deploy):` | receiver | 部署开始，为所有阶段做关联 |
| update_last_deployed_date | `@receiver(post_appenv_deploy):` | receiver | Update module and application's `last_deployed_dat... |


---


### 模块: apiserver/paasng/paasng/platform/engine/logs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BuildProcess | paas_wl.bk_app.applications.models.build.BuildProcess | get, objects | module |
| OutputStream | paas_wl.bk_app.applications.models.misc.OutputStream | create, objects, get, DoesNotExist | module |
| get_default_redis | paasng.core.core.storages.redisdb.get_default_redis | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| RedisWithModelStream | paasng.platform.engine.utils.output.RedisWithModelStream | 不适用 | module |
| StreamChannel | paasng.platform.engine.utils.output.StreamChannel | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_channel_stream | `def make_channel_stream(deployment: Deployment, stream_type: str, stream_channel_id: Optional[str] = None) -> RedisWithModelStream:` | 无 | Return the stream object which is able to write me... |
| get_all_logs | `def get_all_logs(d: Deployment) -> str:` | 无 | Get all logs of the given deployment, error detail... |
| serialize_stream_logs | `def serialize_stream_logs(output_stream: OutputStream) -> List[str]:` | 无 | Serialize all logs of the given output_stream obje... |
| polish_line | `def polish_line(line: str) -> str:` | 无 | Return the line with special characters removed |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeploymentLogStreams | 无 | __init__, main_stream, main_stream_for_write, preparation_stream, preparation_stream_for_write, build_proc_stream, pre_release_cmd_stream, _get_stream_for_write, _get_stream | stream_uuid_fields | 无 | Manages the log streams(in databases) for a deploy... |

---


### 模块: apiserver/paasng/paasng/platform/engine/management/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/engine/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/engine/management/commands/deploy_bkapp.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| wraps | functools.wraps | 不适用 | module |
| cast | typing.cast | 不适用 | module |
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| user_id_encoder | bkpaas_auth.models.user_id_encoder | encode | module |
| StreamChannelSubscriber | blue_krill.redis_tools.messaging.StreamChannelSubscriber | 不适用 | module |
| APIError | blue_krill.web.std_error.APIError | 不适用 | module |
| settings | django.conf.settings | USER_TYPE | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| CommandError | django.core.management.base.CommandError | 不适用 | module |
| get_default_redis | paasng.core.core.storages.redisdb.get_default_redis | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | SUCCESSFUL | module |
| DeployTaskRunner | paasng.platform.engine.deploy.start.DeployTaskRunner | 不适用 | module |
| initialize_deployment | paasng.platform.engine.deploy.start.initialize_deployment | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| Style | paasng.platform.engine.utils.output.Style | Yellow | module |
| DeploymentCoordinator | paasng.platform.engine.workflow.DeploymentCoordinator | 不适用 | module |
| ServerSendEvent | paasng.platform.engine.workflow.ServerSendEvent | from_raw | module |
| VersionType | paasng.platform.sourcectl.constants.VersionType | value, IMAGE, TAG | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| get_version_service | paasng.platform.sourcectl.version_services.get_version_service | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | CHANNEL_NOT_FOUND | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| REVISION_HELP_TEXT | revision 描述需要部署的版本.
对于 git/svn 应用, 支持部署 branch or tag, 对于 s-mart 应用, 支持 package or image.

Example:
git/svn tag: 'tag:你的标签'
git/svn branch: 'branch:你的分支名'
s-mart(二进制): 'package:源码包版本号'
s-mart(镜像): 'image:镜像 tag'
 | `REVISION_HELP_TEXT = "revision 描述需要部署的版本.\n对于 git/svn 应用, 支持部署 branch or tag, 对于 s-mart 应用, 支持 package or image.\n\nExample:\ngit/svn tag: 'tag:你的标签'\ngit/svn branch: 'branch:你的分支名'\ns-mart(二进制): 'package:源码包版本号'\ns-mart(镜像): 'image:镜像 tag'\n"` | module |
| logger | 不适用 | `logger = logging.getLogger('commands')` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| handle_error | `def handle_error(func):` | 无 | 不适用 |
| get_subscriber | `def get_subscriber(channel_id):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployError | django.core.management.base.CommandError | __init__ | 无 | 无 | 不适用 |
| Command | django.core.management.base.BaseCommand | add_arguments, handle, waiting | 无 | 无 | 手动触发部署指令, 并轮询部署结果 |

---


### 模块: apiserver/paasng/paasng/platform/engine/management/commands/export_configvars.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| argparse | FileType | module |
| sys | stdout | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| ExportedConfigVars | paasng.platform.engine.models.managers.ExportedConfigVars | from_list | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | 无 | 无 | 导出应用环境变量 |

---


### 模块: apiserver/paasng/paasng/platform/engine/management/commands/import_configvars.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| argparse | FileType | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ContentFile | django.core.files.base.ContentFile | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| ConfigVarManager | paasng.platform.engine.models.managers.ConfigVarManager | 不适用 | module |
| ConfigVarImportSLZ | paasng.platform.engine.serializers.ConfigVarImportSLZ | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | 无 | 无 | 导入应用环境变量 |

---


### 模块: apiserver/paasng/paasng/platform/engine/management/commands/inject_engineapp_metadata.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| update_metadata_by_env | paas_wl.bk_app.applications.api.update_metadata_by_env | 不适用 | module |
| ModuleInitializer | paasng.platform.modules.manager.ModuleInitializer | default_environments | module |
| Module | paasng.platform.modules.models.Module | all, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/management/commands/sync_step_meta_set.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| DOCKER_BUILD_STEPSET_NAME | paasng.platform.engine.constants.DOCKER_BUILD_STEPSET_NAME | 不适用 | module |
| IMAGE_RELEASE_STEPSET_NAME | paasng.platform.engine.constants.IMAGE_RELEASE_STEPSET_NAME | 不适用 | module |
| DeployStepMeta | paasng.platform.engine.models.steps.DeployStepMeta | filter, objects, create | module |
| StepMetaSet | paasng.platform.engine.models.steps.StepMetaSet | update_or_create, objects, filter | module |
| ALL_STEP_METAS | paasng.platform.engine.phases_steps.step_meta_data.ALL_STEP_METAS | items | module |
| CNB_SET | paasng.platform.engine.phases_steps.step_meta_data.CNB_SET | 不适用 | module |
| DEFAULT_SET | paasng.platform.engine.phases_steps.step_meta_data.DEFAULT_SET | 不适用 | module |
| DOCKER_BUILD_SET | paasng.platform.engine.phases_steps.step_meta_data.DOCKER_BUILD_SET | 不适用 | module |
| IMAGE_RELEASE_SET | paasng.platform.engine.phases_steps.step_meta_data.IMAGE_RELEASE_SET | 不适用 | module |
| SLUG_PILOT_SET | paasng.platform.engine.phases_steps.step_meta_data.SLUG_PILOT_SET | 不适用 | module |
| StepMetaData | paasng.platform.engine.phases_steps.step_meta_data.StepMetaData | 不适用 | module |
| AppSlugBuilder | paasng.platform.modules.models.runtime.AppSlugBuilder | filter, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | handle, _sync_step_metas, _sync_default_set, _sync_cnb_set, _sync_slug_pilot_set, _sync_docker_build_set, _sync_image_release_set, _sync_metas | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/management/commands/update_operations_pending_status.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| timezone | django.utils.timezone | now | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | PENDING, FAILED | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| OfflineOperation | paasng.platform.engine.models.offline.OfflineOperation | 不适用 | module |
| ModuleEnvironmentOperations | paasng.platform.engine.models.operations.ModuleEnvironmentOperations | 不适用 | module |
| get_time_delta | paasng.utils.datetime.get_time_delta | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle, get_timeout_pending_operations, update_pending_status | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| jsonfield.fields | JSONField, fields | module |
| paasng.platform.engine.models.base | BkUserField, models, utils, MarkStatusMixin, base, engine, platform | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel, AddField | module |
| models | django.db.models | UUIDField, CharField, DateTimeField, TextField, ForeignKey, Model, BooleanField, SmallIntegerField, AutoField, OneToOneField, IntegerField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0002_mobileconfig_access_url.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | URLField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0003_domain_https_enabled.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | NullBooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0004_auto_20210110_1917.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| jsonfield.fields | JSONField, fields | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel, AddField | module |
| models | django.db.models | AutoField, DateTimeField, CharField, ForeignKey, BooleanField, ManyToManyField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0005_auto_20210110_1917.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |
| DeployPhaseTypes | paasng.platform.engine.models.DeployPhaseTypes | value, PREPARATION, BUILD, RELEASE | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| forwards_func | `def forwards_func(apps, schema_editor):` | 无 | 不适用 |
| reverse_func | `def reverse_func(apps, schema_editor):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0006_auto_20210426_1801.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | DateTimeField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0007_auto_20211021_1709.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.platform.engine.models.deployment | AdvancedOptionsField, deployment, models, engine, platform | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField, AlterUniqueTogether | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0008_auto_20211116_1032.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | UUIDField, DateTimeField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0009_auto_20211118_1944.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| jsonfield.fields | JSONField, fields | module |
| paasng.platform.modules.models.deploy_config | HookListField, deploy_config, models, modules, platform | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0010_auto_20211126_1751.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |
| DeployPhaseTypes | paasng.platform.engine.models.DeployPhaseTypes | value, RELEASE | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| list_metas_by_phase | `def list_metas_by_phase(self, phase_type: DeployPhaseTypes):` | 无 | 不适用 |
| forwards_func | `def forwards_func(apps, schema_editor):` | 无 | 不适用 |
| reverse_func | `def reverse_func(apps, schema_editor):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0011_auto_20220510_1527.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| jsonfield.fields | JSONField, fields | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RemoveField, AlterUniqueTogether, AlterField, DeleteModel | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0012_auto_20220510_1528.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, RunPython | module |
| models | django.db.models | CharField | module |
| copy_field | paasng.utils.i18n.migrate.copy_field | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0013_auto_20230417_1113.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| jsonfield.fields | JSONField, fields | module |
| paasng.platform.engine.models.deployment | DeclarativeProcessField, deployment, models, engine, platform | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0014_deployment_bkapp_revision_id.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | IntegerField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0015_alter_deployment_bkapp_revision_id.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | IntegerField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0016_deployment_bkapp_release_id.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | BigIntegerField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0017_reset_step_meta_set.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| reset_step_meta_set | `def reset_step_meta_set(apps, schema_editor):` | 无 | 删除 docker-build 和 image-release 两个步骤, 以便在代码逻辑中重置它们 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0018_auto_20231207_1154.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | UUIDField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0019_delete_oneoffcommand.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, DeleteModel | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0020_auto_20231218_1740.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RemoveField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0021_presetenvvariable.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| blue_krill.models.fields | EncryptField, fields, models | module |
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, CharField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0022_builtinconfigvar.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.utils.models | BkUserField, models, utils | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, CharField, TextField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/0023_remove_deployment_hooks_remove_deployment_procfile.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RemoveField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/engine/models/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EngineApp | apiserver.paasng.paasng.platform.engine.models.base.EngineApp | 不适用 | module |
| MarkStatusMixin | apiserver.paasng.paasng.platform.engine.models.base.MarkStatusMixin | 不适用 | module |
| OperationVersionBase | apiserver.paasng.paasng.platform.engine.models.base.OperationVersionBase | 不适用 | module |
| ConfigVar | apiserver.paasng.paasng.platform.engine.models.config_var.ConfigVar | 不适用 | module |
| Deployment | apiserver.paasng.paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| OfflineOperation | apiserver.paasng.paasng.platform.engine.models.offline.OfflineOperation | 不适用 | module |
| ModuleEnvironmentOperations | apiserver.paasng.paasng.platform.engine.models.operations.ModuleEnvironmentOperations | 不适用 | module |
| DeployPhase | apiserver.paasng.paasng.platform.engine.models.phases.DeployPhase | 不适用 | module |
| DeployPhaseTypes | apiserver.paasng.paasng.platform.engine.models.phases.DeployPhaseTypes | 不适用 | module |
| DeployStep | apiserver.paasng.paasng.platform.engine.models.steps.DeployStep | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/platform/engine/models/base.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| models | django.db.models | UUIDField, CharField, TextField, BooleanField | module |
| timezone | django.utils.timezone | localtime, now | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | get, objects | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | get_finished_states | module |
| BkUserField | paasng.utils.models.BkUserField | 不适用 | module |
| OwnerTimestampedModel | paasng.utils.models.OwnerTimestampedModel | 不适用 | module |
| TimestampedModel | paasng.utils.models.TimestampedModel | 不适用 | module |
| DeployStream | paasng.platform.engine.utils.output.DeployStream | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| OperationVersionBase | paasng.utils.models.TimestampedModel | 无 | id, operator, source_type, source_location, source_version_type, source_version_name, source_revision, source_comment | 无 | 带操作版本信息的BaseModel |
| EngineApp | paasng.utils.models.OwnerTimestampedModel | __str__, to_wl_obj | id, name, region, is_active | 无 | 蓝鲸应用引擎应用 |
| MarkStatusMixin | 无 | get_event_type, to_dict, mark_procedure_status, mark_and_write_to_stream | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/models/config_var.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| models | django.db.models | QuerySet, ForeignKey, CASCADE, BooleanField, CharField, TextField | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | value, GLOBAL | module |
| AuditedModel | paasng.utils.models.AuditedModel | 不适用 | module |
| BkUserField | paasng.utils.models.BkUserField | 不适用 | module |
| TimestampedModel | paasng.utils.models.TimestampedModel | 不适用 | module |
| Module | paasng.platform.modules.models.module.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| ENVIRONMENT_ID_FOR_GLOBAL | -1 | `ENVIRONMENT_ID_FOR_GLOBAL = -1` | module |
| ENVIRONMENT_NAME_FOR_GLOBAL | 不适用 | `ENVIRONMENT_NAME_FOR_GLOBAL = ConfigVarEnvName.GLOBAL.value` | module |
| CONFIG_VAR_INPUT_FIELDS | ['is_global', 'environment', 'key', 'value', 'description'] | `CONFIG_VAR_INPUT_FIELDS = ['is_global', 'environment', 'key', 'value', 'description']` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_config_vars | `def get_config_vars(module: 'Module', env_name: str) -> Dict[str, str]:` | 无 | Get ConfigVars of module as dict, config vars prio... |
| get_custom_builtin_config_vars | `def get_custom_builtin_config_vars(config_vars_prefix: str) -> Dict[str, str]:` | 无 | Get default config vars as dict, with prefix |
| add_prefix_to_key | `def add_prefix_to_key(items: dict, prefix: str) -> Dict[str, Any]:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ConfigVarQuerySet | django.db.models.QuerySet | filter_by_environment_name | 无 | 无 | Custom QuerySet for ConfigVar model |
| ConfigVar | paasng.utils.models.TimestampedModel | __str__, environment_name, is_equivalent_to, clone_to | module, is_global, environment, key, value, description, is_builtin, objects | 无 | Config vars for application |
| BuiltInEnvVarDetail | 无 | __post_init__, to_dict | 无 | dataclass | 不适用 |
| BuiltinConfigVar | paasng.utils.models.AuditedModel | 无 | key, value, description, operator | 无 | Default config vars for global, can be added or ed... |

---


### 模块: apiserver/paasng/paasng/platform/engine/models/deployment.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| define | attrs.define | 不适用 | module |
| models | django.db.models | QuerySet, ForeignKey, CASCADE, CharField, UUIDField, DateTimeField, BigIntegerField, TextField, IntegerField | module |
| DEPLOYMENT_STATUS_COUNTER | paasng.misc.metrics.DEPLOYMENT_STATUS_COUNTER | labels | module |
| DEPLOYMENT_TIME_CONSUME_HISTOGRAM | paasng.misc.metrics.DEPLOYMENT_TIME_CONSUME_HISTOGRAM | labels | module |
| AppEnvironment | paasng.platform.applications.constants.AppEnvironment | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| ImagePullPolicy | paasng.platform.bkapp_model.constants.ImagePullPolicy | IF_NOT_PRESENT | module |
| AutoscalingConfig | paasng.platform.bkapp_model.entities.AutoscalingConfig | 不适用 | module |
| ProbeSet | paasng.platform.bkapp_model.entities.ProbeSet | 不适用 | module |
| BuildStatus | paasng.platform.engine.constants.BuildStatus | get_choices, PENDING | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | value, SUCCESSFUL, get_choices, PENDING, get_finished_states | module |
| OperationVersionBase | paasng.platform.engine.models.base.OperationVersionBase | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | S_MART | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| HookList | paasng.platform.modules.models.deploy_config.HookList | 不适用 | module |
| VersionType | paasng.platform.sourcectl.constants.VersionType | value, IMAGE | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| make_json_field | paasng.utils.models.make_json_field | 不适用 | module |
| make_legacy_json_field | paasng.utils.models.make_legacy_json_field | 不适用 | module |
| DeployPhaseTypes | paasng.platform.engine.models.phases.DeployPhaseTypes | value, PREPARATION | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| AdvancedOptionsField | 不适用 | `AdvancedOptionsField = make_legacy_json_field(cls_name='AdvancedOptionsField', py_model=AdvancedOptions)` | module |
| DeclarativeProcessField | 不适用 | `DeclarativeProcessField = make_json_field('DeclarativeProcessField', Dict[str, ProcessTmpl])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeploymentQuerySet | django.db.models.QuerySet | filter_by_env, owned_by_module, latest_succeeded | 无 | 无 | Custom QuerySet for Deployment model |
| AdvancedOptions | 无 | 无 | 无 | define | 不适用 |
| ProcessTmpl | 无 | __post_init__ | 无 | dataclass | 进程配置

    TODO 尝试使用 bkapp_model.entities.Process 替... |
| Deployment | paasng.platform.engine.models.base.OperationVersionBase | __str__, update_fields, get_engine_app, get_application, fail_with_error, get_source_dir, has_succeeded, has_requested_int, start_time, complete_time, finished_status, get_version_info, version_info, get_deploy_hooks, get_processes, get_procfile | app_environment, status, build_process_id, build_id, build_status, build_int_requested_at, pre_release_id, pre_release_status, pre_release_int_requested_at, release_id, bkapp_release_id, release_status, release_int_requested_at, err_detail, processes, bkapp_revision_id, preparation_stream_id, main_stream_id, objects | 无 | 部署记录 |

---


### 模块: apiserver/paasng/paasng/platform/engine/models/managers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| yaml | safe_dump | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dedent | textwrap.dedent | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| Model | django.db.models.Model | 不适用 | module |
| model_to_dict | django.forms.models.model_to_dict | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | value, PENDING | module |
| ConfigVar | paasng.platform.engine.models.ConfigVar | DoesNotExist, bulk_create, objects, filter | module |
| CONFIG_VAR_INPUT_FIELDS | paasng.platform.engine.models.config_var.CONFIG_VAR_INPUT_FIELDS | 不适用 | module |
| ENVIRONMENT_ID_FOR_GLOBAL | paasng.platform.engine.models.config_var.ENVIRONMENT_ID_FOR_GLOBAL | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| OfflineOperation | paasng.platform.engine.models.offline.OfflineOperation | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployOperationManager | 无 | __init__, has_pending | 无 | 无 | 目前用来统一管理 Deployment & Offline 两类的操作，旨在替换掉 Operatio... |
| ApplyResult | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| PlainConfigVar | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |
| ExportedConfigVars | pydantic.BaseModel | to_file_content, from_list | 无 | 无 | 不适用 |
| ConfigVarManager | 无 | apply_vars_to_module, remove_bulk, clone_vars, batch_save | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/models/mobile_config.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | BKPAAS_WEIXIN_URL_MAP | module |
| models | django.db.models | OneToOneField, CASCADE, BooleanField, CharField, URLField | module |
| SkipField | rest_framework.serializers.SkipField | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| LBPlans | paasng.platform.engine.constants.LBPlans | get_choices, value, LBDefaultPlan | module |
| TimestampedModel | paasng.utils.models.TimestampedModel | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_mobile_config | `def get_mobile_config(env: ModuleEnvironment) -> MobileConfig:` | 无 | Get MobileConfig object by environment object, wil... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MobileConfig | paasng.utils.models.TimestampedModel | __str__, access_domain | environment, is_enabled, lb_plan, access_url | 无 | Mobile config switcher for application |

---


### 模块: apiserver/paasng/paasng/platform/engine/models/offline.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| models | django.db.models | QuerySet, ForeignKey, CASCADE, CharField, TextField | module |
| timezone | django.utils.timezone | now | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | value, SUCCESSFUL, PENDING, get_choices, FAILED | module |
| ModuleEnvironmentOperations | paasng.platform.engine.models.operations.ModuleEnvironmentOperations | filter, objects | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| OperationVersionBase | apiserver.paasng.paasng.platform.engine.models.base.OperationVersionBase | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| OfflineOperationQuerySet | django.db.models.QuerySet | latest_succeeded, get_latest_resumable | 无 | 无 | 不适用 |
| OfflineOperation | apiserver.paasng.paasng.platform.engine.models.base.OperationVersionBase | __str__, set_log, append_log, update_operation_status, has_succeeded, set_failed, set_successful, get_version_info | app_environment, status, log, err_detail, objects | 无 | 部署记录 |

---


### 模块: apiserver/paasng/paasng/platform/engine/models/operations.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| models | django.db.models | QuerySet, UUIDField, ForeignKey, CASCADE, CharField | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | get_choices, value, PENDING | module |
| OperationTypes | paasng.platform.engine.constants.OperationTypes | get_choices, value, ONLINE, OFFLINE | module |
| BkUserField | paasng.utils.models.BkUserField | 不适用 | module |
| TimestampedModel | paasng.utils.models.TimestampedModel | 不适用 | module |
| Deployment | apiserver.paasng.paasng.platform.engine.models.deployment.Deployment | get, objects | module |
| OfflineOperation | apiserver.paasng.paasng.platform.engine.models.offline.OfflineOperation | get, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| OperationQuerySet | django.db.models.QuerySet | owned_by_module | 无 | 无 | Custom QuerySet for ModuleEnvironmentOperations mo... |
| ModuleEnvironmentOperations | paasng.utils.models.TimestampedModel | __str__, get_detail, get_offline_obj, get_deployment_obj | id, application, app_environment, operator, operation_type, object_uid, status, objects | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/models/phases.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| MultipleObjectsReturned | django.core.exceptions.MultipleObjectsReturned | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| models | django.db.models | CharField, ForeignKey, CASCADE, DateTimeField | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| CharField | rest_framework.serializers.CharField | 不适用 | module |
| DateTimeField | rest_framework.serializers.DateTimeField | 不适用 | module |
| Serializer | rest_framework.serializers.Serializer | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | get_choices, value, PENDING | module |
| DuplicateNameInSamePhaseError | paasng.platform.engine.exceptions.DuplicateNameInSamePhaseError | 不适用 | module |
| StepNotInPresetListError | paasng.platform.engine.exceptions.StepNotInPresetListError | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | 不适用 | module |
| EngineApp | paasng.platform.engine.models.EngineApp | 不适用 | module |
| MarkStatusMixin | paasng.platform.engine.models.MarkStatusMixin | 不适用 | module |
| UuidAuditedModel | paasng.utils.models.UuidAuditedModel | 不适用 | module |
| DeployStep | paasng.platform.engine.models.steps.DeployStep | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployPhaseTypes | blue_krill.data_types.enum.StrStructuredEnum | 无 | PREPARATION, BUILD, RELEASE | 无 | 部署阶段 |
| DeployPhaseEventSLZ | rest_framework.serializers.Serializer | 无 | name, start_time, complete_time, status | 无 | Phase SeverSendEvent |
| DeployPhase | paasng.utils.models.UuidAuditedModel, paasng.platform.engine.models.MarkStatusMixin | attached, _get_step_pattern_map, get_started_pattern_map, get_finished_pattern_map, get_step_by_name, attach, get_unfinished_steps, to_dict, get_event_type, __str__ | type, engine_app, deployment, status, start_time, complete_time | 无 | 部署阶段 |

---


### 模块: apiserver/paasng/paasng/platform/engine/models/preset_envvars.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EncryptField | blue_krill.models.fields.EncryptField | 不适用 | module |
| models | django.db.models | ForeignKey, CASCADE, CharField | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| AuditedModel | paas_wl.utils.models.AuditedModel | 不适用 | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | get_choices, GLOBAL | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PresetEnvVariable | paas_wl.utils.models.AuditedModel | is_within_scope | module, environment_name, key, value | 无 | 应用描述文件中预定义的环境变量 |

---


### 模块: apiserver/paasng/paasng/platform/engine/models/steps.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| jsonfield | JSONField | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| models | django.db.models | Manager, CharField, ManyToManyField, BooleanField, ForeignKey, CASCADE, DateTimeField | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| CharField | rest_framework.serializers.CharField | 不适用 | module |
| DateTimeField | rest_framework.serializers.DateTimeField | 不适用 | module |
| Serializer | rest_framework.serializers.Serializer | 不适用 | module |
| SerializerMethodField | rest_framework.serializers.SerializerMethodField | 不适用 | module |
| TranslatedFieldWithFallback | translated_fields.TranslatedFieldWithFallback | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | get_choices, get_finished_states | module |
| StepNotInPresetListError | paasng.platform.engine.exceptions.StepNotInPresetListError | 不适用 | module |
| DeployPhaseTypes | paasng.platform.engine.models.DeployPhaseTypes | get_choices | module |
| MarkStatusMixin | paasng.platform.engine.models.base.MarkStatusMixin | 不适用 | module |
| DeployPhase | paasng.platform.engine.models.phases.DeployPhase | 不适用 | module |
| AuditedModel | paasng.utils.models.AuditedModel | 不适用 | module |
| UuidAuditedModel | paasng.utils.models.UuidAuditedModel | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployStepEventSLZ | rest_framework.serializers.Serializer | get_phase | phase, name, start_time, complete_time, status | 无 | Step SeverSendEvent |
| DeployStepMetaManager | django.db.models.Manager | get_by_natural_key | 无 | 无 | 不适用 |
| DeployStepMeta | paasng.utils.models.AuditedModel | __str__, natural_key | phase, name, display_name, started_patterns, finished_patterns, objects | 无 | 部署步骤元信息 |
| StepMetaSetManager | django.db.models.Manager | get_by_natural_key | 无 | 无 | 不适用 |
| StepMetaSet | paasng.utils.models.AuditedModel | __str__, natural_key, create_step_instances, list_metas_by_phase, list_sorted_step_names | name, metas, is_default, objects | 无 | 部署步骤元信息集 |
| DeployStep | paasng.utils.models.UuidAuditedModel, paasng.platform.engine.models.base.MarkStatusMixin | ensure_start_before_complete, to_dict, is_completed, __str__, get_event_type, try_to_bind_meta | name, display_name, phase, skipped, status, start_time, complete_time, meta | 无 | 部署步骤 |

---


### 模块: apiserver/paasng/paasng/platform/engine/monitoring.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | datetime | module |
| logging | getLogger | module |
| arrow | now, get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| GaugeMetricFamily | prometheus_client.core.GaugeMetricFamily | 不适用 | module |
| region | paasng.core.core.storages.cache.region | 不适用 | module |
| cb_metric_collector | paasng.misc.metrics.collector.cb_metric_collector | add | module |
| DeploymentLogStreams | paasng.platform.engine.logs.DeploymentLogStreams | 不适用 | module |
| JobStatus | apiserver.paasng.paasng.platform.engine.constants.JobStatus | value, PENDING | module |
| Deployment | apiserver.paasng.paasng.platform.engine.models.deployment.Deployment | filter, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| count_frozen_deployments | `def count_frozen_deployments(edge_seconds: int = 90, now: Optional[datetime.datetime] = None) -> int:` | 无 | Count frozen deployments

    :param edge_seconds:... |
| deployment_is_frozen | `def deployment_is_frozen(deployment: Deployment, since: datetime.datetime) -> bool:` | 无 | Check if a deployment is frozen since given moment |
| register_metrics | `def register_metrics():` | 无 | Register metrics for engine app |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| FrozenDeploymentsMetric | 无 | calc_metric, describe_metric | name, description | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/phases_steps/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/engine/phases_steps/display_blocks.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| get_preallocated_url | paasng.accessories.publish.entrance.preallocated.get_preallocated_url | 不适用 | module |
| DocumentaryLinkSLZ | paasng.accessories.serializers.DocumentaryLinkSLZ | 不适用 | module |
| DocumentaryLinkAdvisor | paasng.accessories.smart_advisor.advisor.DocumentaryLinkAdvisor | 不适用 | module |
| DeployPhaseTag | paasng.accessories.smart_advisor.tags.DeployPhaseTag | 不适用 | module |
| DeployPhaseTypes | paasng.platform.engine.models.phases.DeployPhaseTypes | PREPARATION, BUILD, RELEASE | module |
| DeployPhase | paasng.platform.engine.models.DeployPhase | 不适用 | module |
| EngineApp | paasng.platform.engine.models.EngineApp | 不适用 | module |
| ModuleRuntimeManager | paasng.platform.modules.helpers.ModuleRuntimeManager | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| RepositorySLZ | paasng.platform.sourcectl.serializers.RepositorySLZ | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | list_binded, list_provisioned_rels | module |
| ModuleRuntimeSLZ | paasng.platform.modules.serializers.ModuleRuntimeSLZ | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_display_blocks_by_type | `def get_display_blocks_by_type(phase_type: DeployPhaseTypes) -> List[Type[DisplayBlock]]:` | 无 | Get display blocks by deploy phase type

    :para... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DisplayBlock | 无 | get_module_by_engine_app, get_detail | 无 | 无 | 标准化的应用信息展示 |
| SourceInfo | DisplayBlock | get_detail | name | 无 | 不适用 |
| ServicesInfo | DisplayBlock | get_detail | name | 无 | 展示增强服务信息 |
| HelpDocs | DisplayBlock | get_doc_links, get_detail | name, deploy_phase | 无 | 不适用 |
| PrepareHelpDocs | HelpDocs | 无 | name, deploy_phase | 无 | 展示准备阶段帮助文档 |
| BuildHelpDocs | HelpDocs | 无 | name, deploy_phase | 无 | 展示构建阶段帮助文档 |
| ReleaseHelpDocs | HelpDocs | 无 | name, deploy_phase | 无 | 展示发布阶段帮助文档 |
| RuntimeInfo | DisplayBlock | get_module_runtime_manager, get_detail | name | 无 | 展示运行时信息 |
| AccessInfo | DisplayBlock | get_detail | name | 无 | 展示访问域名信息 |
| DeployDisplayBlockRenderer | 无 | get_display_blocks_info | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/phases_steps/phases.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| List | typing.List | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | CUSTOM_IMAGE | module |
| NoUnlinkedDeployPhaseError | paasng.platform.engine.exceptions.NoUnlinkedDeployPhaseError | 不适用 | module |
| StepNotInPresetListError | paasng.platform.engine.exceptions.StepNotInPresetListError | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| DeployPhase | paasng.platform.engine.models.phases.DeployPhase | create, objects, filter, MultipleObjectsReturned, DoesNotExist | module |
| DeployPhaseTypes | paasng.platform.engine.models.phases.DeployPhaseTypes | PREPARATION, RELEASE, BUILD | module |
| DeployStepPicker | paasng.platform.engine.phases_steps.steps.DeployStepPicker | pick | module |
| ModuleSpecs | paasng.platform.modules.specs.ModuleSpecs | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployPhaseManager | 无 | __init__, list_phase_types, get_or_create_all, attach, rebuild_step_if_outdated, _get_or_create, _get_unattached_phase | 无 | 无 | Common manager for DeployPhase model |

---


### 模块: apiserver/paasng/paasng/platform/engine/phases_steps/step_meta_data.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| define | attrs.define | 不适用 | module |
| DeployPhaseTypes | paasng.platform.engine.models.DeployPhaseTypes | value, PREPARATION, RELEASE, BUILD | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| PARSE_APP_PROCESS | 不适用 | `PARSE_APP_PROCESS = StepMetaData(name='解析应用进程信息', display_name_en='Parse app process', display_name_zh_cn='解析应用进程信息', phase=DeployPhaseTypes.PREPARATION.value)` | module |
| UPLOAD_CODE | 不适用 | `UPLOAD_CODE = StepMetaData(name='上传仓库代码', display_name_en='Upload repository code', display_name_zh_cn='上传仓库代码', phase=DeployPhaseTypes.PREPARATION.value)` | module |
| CONFIG_RESOURCE_INSTANCE | 不适用 | `CONFIG_RESOURCE_INSTANCE = StepMetaData(name='配置资源实例', display_name_en='Config resource instance', display_name_zh_cn='配置资源实例', phase=DeployPhaseTypes.PREPARATION.value)` | module |
| DEPLOY_APP | 不适用 | `DEPLOY_APP = StepMetaData(name='部署应用', display_name_en='Deploying the app', display_name_zh_cn='部署应用', phase=DeployPhaseTypes.RELEASE.value)` | module |
| EXECUTE_PRE_RELEASE | 不适用 | `EXECUTE_PRE_RELEASE = StepMetaData(name='执行部署前置命令', display_name_en='Execute Pre-release cmd', display_name_zh_cn='执行部署前置命令', phase=DeployPhaseTypes.RELEASE.value)` | module |
| CHECK_DEPLOY_RESULT | 不适用 | `CHECK_DEPLOY_RESULT = StepMetaData(name='检测部署结果', display_name_en='View Deploy results', display_name_zh_cn='检测部署结果', phase=DeployPhaseTypes.RELEASE.value)` | module |
| INITIALIZE_BUILD_ENV | 不适用 | `INITIALIZE_BUILD_ENV = StepMetaData(name='初始化构建环境', display_name_en='Initialize build environment', display_name_zh_cn='初始化构建环境', phase=DeployPhaseTypes.BUILD.value, started_patterns=['-----> Step setup begin', 'Setup Build Environ'], finished_patterns=['\\sStep setup done', '\\sStarting builder...'])` | module |
| DETECT_BUILDPACK | 不适用 | `DETECT_BUILDPACK = StepMetaData(name='检测构建工具', display_name_en='Detect buildpack', display_name_zh_cn='检测构建工具', phase=DeployPhaseTypes.BUILD.value, started_patterns=['-----> Step detect begin', 'Detecting Buildpacks...'], finished_patterns=['\\sStep detect done'])` | module |
| ANALYZE_BUILD | 不适用 | `ANALYZE_BUILD = StepMetaData(name='分析构建方案', display_name_en='Analyze build solutions', display_name_zh_cn='分析构建方案', phase=DeployPhaseTypes.BUILD.value, started_patterns=['-----> Step analysis begin', 'Analyzing optimization plan'], finished_patterns=['\\sStep analysis done', '\\sStep Analyze done'])` | module |
| CALL_PRE_COMPILE | 不适用 | `CALL_PRE_COMPILE = StepMetaData(name='调用 pre-compile', display_name_en='Calling pre-compile', display_name_zh_cn='调用 pre-compile', phase=DeployPhaseTypes.BUILD.value, started_patterns=['-----> Running pre-compile hook'])` | module |
| CALL_POST_COMPILE | 不适用 | `CALL_POST_COMPILE = StepMetaData(name='调用 post-compile', display_name_en='Calling post-compile', display_name_zh_cn='调用 post-compile', phase=DeployPhaseTypes.BUILD.value, started_patterns=['-----> Running post-compile hook'])` | module |
| BUILD_APP | 不适用 | `BUILD_APP = StepMetaData(name='构建应用', display_name_en='Building Applications', display_name_zh_cn='构建应用', phase=DeployPhaseTypes.BUILD.value, started_patterns=['-----> Compiling app...', '-----> Step build begin', 'Building application...'], finished_patterns=['-----> Discovering process types', '\\sStep build done'])` | module |
| GENERATE_BUILD_RESULT | 不适用 | `GENERATE_BUILD_RESULT = StepMetaData(name='生成构建结果', display_name_en='Generate build results', display_name_zh_cn='生成构建结果', phase=DeployPhaseTypes.BUILD.value, started_patterns=['-----> Step export begin'], finished_patterns=['\\sStep export done'])` | module |
| CLEAN_BUILD_ENV | 不适用 | `CLEAN_BUILD_ENV = StepMetaData(name='清理构建环境', display_name_en='Clean build environment', display_name_zh_cn='清理构建环境', phase=DeployPhaseTypes.BUILD.value, started_patterns=['-----> Step finish begin'], finished_patterns=['\\sStep finish done'])` | module |
| DOWNLOAD_CODE | 不适用 | `DOWNLOAD_CODE = StepMetaData(name='下载代码', display_name_en='Downloading code', display_name_zh_cn='下载代码', phase=DeployPhaseTypes.BUILD.value, started_patterns=['Downloading app source code'], finished_patterns=['Restoring cache...'])` | module |
| RESTORE_CACHE | 不适用 | `RESTORE_CACHE = StepMetaData(name='加载缓存', display_name_en='Restoring cache', display_name_zh_cn='加载缓存', phase=DeployPhaseTypes.BUILD.value, started_patterns=['Restoring cache...'], finished_patterns=['-----> Compiling app...'])` | module |
| DISCOVER_PROCESS_TYPES | 不适用 | `DISCOVER_PROCESS_TYPES = StepMetaData(name='检测进程类型', display_name_en='Discover process types', display_name_zh_cn='检测进程类型', phase=DeployPhaseTypes.BUILD.value, started_patterns=['-----> Discovering process types'], finished_patterns=['-----> Compiled slug size is'])` | module |
| MAKE_SLUG | 不适用 | `MAKE_SLUG = StepMetaData(name='制作打包构件', display_name_en='Making slug package', display_name_zh_cn='制作打包构件', phase=DeployPhaseTypes.BUILD.value, started_patterns=['-----> Compiled slug size is'], finished_patterns=['Checking for changes inside the cache directory...'])` | module |
| UPLOAD_CACHE | 不适用 | `UPLOAD_CACHE = StepMetaData(name='上传缓存', display_name_en='Upload Cache', display_name_zh_cn='上传缓存', phase=DeployPhaseTypes.BUILD.value, started_patterns=['Checking for changes inside the cache directory...'], finished_patterns=['Done: Uploaded cache'])` | module |
| UPLOAD_IMAGE | 不适用 | `UPLOAD_IMAGE = StepMetaData(name='上传镜像', display_name_en='Upload image', display_name_zh_cn='上传镜像', phase=DeployPhaseTypes.BUILD.value, started_patterns=['Exporting image...'], finished_patterns=['\\sStep Export done'])` | module |
| DOWNLOAD_DOCKER_BUILD_CTX | 不适用 | `DOWNLOAD_DOCKER_BUILD_CTX = StepMetaData(name='下载构建上下文', display_name_en='Download docker build context', display_name_zh_cn='下载构建上下文', phase=DeployPhaseTypes.BUILD.value, started_patterns=['Downloading docker build context...'], finished_patterns=['\\* Docker build context is ready'])` | module |
| BUILD_IMAGE | 不适用 | `BUILD_IMAGE = StepMetaData(name='构建镜像', display_name_en='Building image', display_name_zh_cn='构建镜像', phase=DeployPhaseTypes.BUILD.value, started_patterns=['Start building...'], finished_patterns=['\\* Build success'])` | module |
| DEFAULT_SET | 不适用 | `DEFAULT_SET = [PARSE_APP_PROCESS, UPLOAD_CODE, CONFIG_RESOURCE_INSTANCE, DOWNLOAD_CODE, RESTORE_CACHE, BUILD_APP, DISCOVER_PROCESS_TYPES, MAKE_SLUG, UPLOAD_CACHE, EXECUTE_PRE_RELEASE, DEPLOY_APP, CHECK_DEPLOY_RESULT]` | module |
| SLUG_PILOT_SET | 不适用 | `SLUG_PILOT_SET = [PARSE_APP_PROCESS, UPLOAD_CODE, CONFIG_RESOURCE_INSTANCE, INITIALIZE_BUILD_ENV, DETECT_BUILDPACK, ANALYZE_BUILD, CALL_PRE_COMPILE, BUILD_APP, CALL_POST_COMPILE, GENERATE_BUILD_RESULT, CLEAN_BUILD_ENV, EXECUTE_PRE_RELEASE, DEPLOY_APP, CHECK_DEPLOY_RESULT]` | module |
| CNB_SET | 不适用 | `CNB_SET = [PARSE_APP_PROCESS, UPLOAD_CODE, CONFIG_RESOURCE_INSTANCE, INITIALIZE_BUILD_ENV, ANALYZE_BUILD, DETECT_BUILDPACK, BUILD_APP, UPLOAD_IMAGE, DEPLOY_APP, EXECUTE_PRE_RELEASE, CHECK_DEPLOY_RESULT]` | module |
| DOCKER_BUILD_SET | 不适用 | `DOCKER_BUILD_SET = [PARSE_APP_PROCESS, UPLOAD_CODE, CONFIG_RESOURCE_INSTANCE, DOWNLOAD_DOCKER_BUILD_CTX, BUILD_IMAGE, DEPLOY_APP, EXECUTE_PRE_RELEASE, CHECK_DEPLOY_RESULT]` | module |
| IMAGE_RELEASE_SET | 不适用 | `IMAGE_RELEASE_SET = [PARSE_APP_PROCESS, CONFIG_RESOURCE_INSTANCE, DEPLOY_APP, EXECUTE_PRE_RELEASE, CHECK_DEPLOY_RESULT]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| StepMetaData | 无 | __attrs_post_init__ | 无 | define | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/phases_steps/steps.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| re | compile, IGNORECASE | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| suppress | contextlib.suppress | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, CLOUD_NATIVE | module |
| DOCKER_BUILD_STEPSET_NAME | paasng.platform.engine.constants.DOCKER_BUILD_STEPSET_NAME | 不适用 | module |
| IMAGE_RELEASE_STEPSET_NAME | paasng.platform.engine.constants.IMAGE_RELEASE_STEPSET_NAME | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | DOCKERFILE, CUSTOM_IMAGE | module |
| DuplicateNameInSamePhaseError | paasng.platform.engine.exceptions.DuplicateNameInSamePhaseError | 不适用 | module |
| StepNotInPresetListError | paasng.platform.engine.exceptions.StepNotInPresetListError | 不适用 | module |
| DeployPhaseTypes | paasng.platform.engine.models.phases.DeployPhaseTypes | 不适用 | module |
| StepMetaSet | paasng.platform.engine.models.steps.StepMetaSet | get, objects, filter | module |
| RedisChannelStream | paasng.platform.engine.utils.output.RedisChannelStream | from_deployment_id | module |
| ModuleRuntimeManager | paasng.platform.modules.helpers.ModuleRuntimeManager | 不适用 | module |
| EngineApp | paasng.platform.engine.models.EngineApp | 不适用 | module |
| DeployPhase | paasng.platform.engine.models.phases.DeployPhase | 不适用 | module |
| DeployStep | paasng.platform.engine.models.steps.DeployStep | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_sorted_steps | `def get_sorted_steps(phase: 'DeployPhase') -> List['DeployStep']:` | 无 | 获取有序的 Steps 列表 |
| update_step_by_line | `def update_step_by_line(line: str, pattern_maps: Dict, phase: 'DeployPhase'):` | 无 | Try to find a match for the given log line in the ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployStepPicker | 无 | pick, _pick_default_meta_set | 无 | 无 | 部署步骤选择器 |

---


### 模块: apiserver/paasng/paasng/platform/engine/processes/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/engine/processes/events.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Iterator | typing.Iterator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |
| PlainInstance | paas_wl.bk_app.processes.processes.PlainInstance | 不适用 | module |
| PlainProcess | paas_wl.bk_app.processes.processes.PlainProcess | 不适用 | module |
| diff_list | paasng.platform.engine.processes.utils.diff_list | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessBaseEvent | 无 | 无 | 无 | dataclass | 不适用 |
| ProcessEventType | blue_krill.data_types.enum.IntStructuredEnum | 无 | CREATED, REMOVED, UPDATED_COMMAND, UPDATED_REPLICAS | 无 | 不适用 |
| ProcessEvent | ProcessBaseEvent | 无 | 无 | dataclass | 不适用 |
| ProcInstEventType | blue_krill.data_types.enum.IntStructuredEnum | 无 | CREATED, REMOVED, UPDATED_BECOME_READY, UPDATED_BECOME_NOT_READY, UPDATED_RESTARTED | 无 | 不适用 |
| ProcInstEvent | ProcessBaseEvent | 无 | 无 | dataclass | 不适用 |
| ProcEventsProducer | 无 | __init__, produce, proc_process_pure, proc_process_updated, _get_proc_by_name | 无 | 无 | Produces events according to processes states |
| ProcInstanceEventsProducer | 无 | __init__, produce, process_updated, _get_inst_by_name | 无 | 无 | Produces events according to process's instances s... |

---


### 模块: apiserver/paasng/paasng/platform/engine/processes/handlers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| StreamChannel | blue_krill.redis_tools.messaging.StreamChannel | 不适用 | module |
| receiver | django.dispatch.dispatcher.receiver | 不适用 | module |
| get_default_redis | paasng.core.core.storages.redisdb.get_default_redis | 不适用 | module |
| ProcessBaseEvent | paasng.platform.engine.processes.events.ProcessBaseEvent | 不适用 | module |
| ProcessEvent | paasng.platform.engine.processes.events.ProcessEvent | 不适用 | module |
| ProcessEventType | paasng.platform.engine.processes.events.ProcessEventType | CREATED, REMOVED, UPDATED_COMMAND, UPDATED_REPLICAS | module |
| ProcInstEvent | paasng.platform.engine.processes.events.ProcInstEvent | 不适用 | module |
| ProcInstEventType | paasng.platform.engine.processes.events.ProcInstEventType | CREATED, REMOVED, UPDATED_BECOME_READY, UPDATED_BECOME_NOT_READY, UPDATED_RESTARTED | module |
| processes_updated | paasng.platform.engine.signals.processes_updated | 不适用 | module |
| ConsoleStream | paasng.platform.engine.utils.output.ConsoleStream | 不适用 | module |
| DeployStream | paasng.platform.engine.utils.output.DeployStream | 不适用 | module |
| RedisChannelStream | paasng.platform.engine.utils.output.RedisChannelStream | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| render_event_message | `def render_event_message(event: ProcessBaseEvent) -> str:` | 无 | Render event to message |
| render_process_event_message | `def render_process_event_message(event: ProcessEvent) -> str:` | 无 | Render a process event to a human readable message |
| render_instance_event_message | `def render_instance_event_message(event: ProcInstEvent) -> str:` | 无 | Render a instance event to a human readable messag... |


---


### 模块: apiserver/paasng/paasng/platform/engine/processes/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, CharField, IntegerField, JSONField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessSpecSLZ | rest_framework.serializers.Serializer | 无 | name, target_replicas, target_status, max_replicas, resource_limit | 无 | Serializer for displaying process specifications |
| WebConsoleOpenSLZ | rest_framework.serializers.Serializer | 无 | container_name | 无 | 不适用 |
| WebConsoleResultSLZ | rest_framework.serializers.Serializer | 无 | web_console_url, session_id, code, message, request_id | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/processes/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path(make_app_pattern('/processes/(?P<process_type>[\\w-]+)/instances/(?P<process_instance_name>[.\\w-]+)/webconsole/$'), views.ApplicationProcessWebConsoleViewSet.as_view({'get': 'open'}), name='api.applications.webconsole')]` | module |



---


### 模块: apiserver/paasng/paasng/platform/engine/processes/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pickle | dumps, loads | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Set | typing.Set | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| TypeVar | typing.TypeVar | 不适用 | module |
| PlainProcess | paas_wl.bk_app.processes.processes.PlainProcess | 不适用 | module |
| get_default_redis | paasng.core.core.storages.redisdb.get_default_redis | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| T | 不适用 | `T = TypeVar('T')` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| diff_list | `def diff_list(l_before: List[T], l_after: List[T]) -> Tuple[Set[T], Set[T], Set[T]]:` | 无 | Returns (added, removed, both_exists) |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProcessesSnapshotStore | 无 | __init__, save, get | data_expires_in | 无 | Stores snapshot of application's processes data, u... |

---


### 模块: apiserver/paasng/paasng/platform/engine/processes/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| HTTP_403_FORBIDDEN | rest_framework.status.HTTP_403_FORBIDDEN | 不适用 | module |
| get_latest_build | paas_wl.bk_app.applications.api.get_latest_build | 不适用 | module |
| ProcessManager | paas_wl.bk_app.processes.processes.ProcessManager | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| DocumentaryLinkSLZ | paasng.accessories.serializers.DocumentaryLinkSLZ | 不适用 | module |
| DocumentaryLinkAdvisor | paasng.accessories.smart_advisor.advisor.DocumentaryLinkAdvisor | 不适用 | module |
| get_dynamic_tag | paasng.accessories.smart_advisor.tags.get_dynamic_tag | 不适用 | module |
| AccountFeatureFlag | paasng.infras.accounts.constants.AccountFeatureFlag | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| user_has_feature | paasng.infras.accounts.permissions.user.user_has_feature | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | BUILDPACK | module |
| serializers | paasng.platform.engine.processes.serializers | 不适用 | module |
| ModuleRuntimeManager | paasng.platform.modules.helpers.ModuleRuntimeManager | 不适用 | module |
| ModuleSpecs | paasng.platform.modules.specs.ModuleSpecs | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | f, CANNOT_OPERATE_PROCESS, ERROR_UPDATING_PROC_SERVICE | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationProcessWebConsoleViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | _is_whitelisted_user, _get_webconsole_docs_from_advisor, _get_webconsole_command, open | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| re | match | module |
| yaml | safe_load, YAMLError | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| datetime | datetime.datetime | fromisoformat | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, FloatField, ChoiceField, BooleanField, CharField, URLField, ModelSerializer, DateTimeField, DictField, IntegerField, SerializerMethodField, FileField, RelatedField, ValidationError, ListField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| SerializerMethodField | rest_framework.fields.SerializerMethodField | 不适用 | module |
| UniqueTogetherValidator | rest_framework.validators.UniqueTogetherValidator | 不适用 | module |
| qs_exists | rest_framework.validators.qs_exists | 不适用 | module |
| Build | paas_wl.bk_app.applications.models.Build | 不适用 | module |
| BuildProcess | paas_wl.bk_app.applications.models.BuildProcess | 不适用 | module |
| Instance | paas_wl.bk_app.processes.kres_entities.Instance | get_shorter_instance_name | module |
| ProcessSpecSLZ | paas_wl.bk_app.processes.serializers.ProcessSpecSLZ | 不适用 | module |
| AvailableAddressSLZ | paasng.accessories.publish.market.serializers.AvailableAddressSLZ | 不适用 | module |
| MetricsResourceType | paasng.misc.monitoring.metrics.constants.MetricsResourceType | value, MEM, CPU | module |
| MetricsSeriesType | paasng.misc.monitoring.metrics.constants.MetricsSeriesType | get_choice_label | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | filter, objects, all, DoesNotExist | module |
| ImagePullPolicy | paasng.platform.bkapp_model.constants.ImagePullPolicy | get_choices, IF_NOT_PRESENT | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | get_choices | module |
| DeployConditions | paasng.platform.engine.constants.DeployConditions | get_choices | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | get_choices | module |
| MetricsType | paasng.platform.engine.constants.MetricsType | get_choices | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | get_choices | module |
| DeployPhaseTypes | paasng.platform.engine.models.DeployPhaseTypes | get_choices, get_choice_label | module |
| ENVIRONMENT_ID_FOR_GLOBAL | paasng.platform.engine.models.config_var.ENVIRONMENT_ID_FOR_GLOBAL | 不适用 | module |
| ENVIRONMENT_NAME_FOR_GLOBAL | paasng.platform.engine.models.config_var.ENVIRONMENT_NAME_FOR_GLOBAL | 不适用 | module |
| ConfigVar | paasng.platform.engine.models.config_var.ConfigVar | all, objects | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | filter, objects | module |
| OfflineOperation | paasng.platform.engine.models.offline.OfflineOperation | 不适用 | module |
| ModuleEnvironmentOperations | paasng.platform.engine.models.operations.ModuleEnvironmentOperations | 不适用 | module |
| DeployDisplayBlockRenderer | paasng.platform.engine.phases_steps.display_blocks.DeployDisplayBlockRenderer | get_display_blocks_info | module |
| Module | paasng.platform.modules.models.Module | filter, objects | module |
| VersionType | paasng.platform.sourcectl.constants.VersionType | get_choices, get_values, value, IMAGE | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |
| calculate_gap_seconds_interval | paasng.utils.datetime.calculate_gap_seconds_interval | 不适用 | module |
| get_time_delta | paasng.utils.datetime.get_time_delta | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | NOT_YAML_FILE, ERROR_FILE_FORMAT | module |
| OrderByField | paasng.utils.models.OrderByField | from_string | module |
| UserField | paasng.utils.serializers.UserField | 不适用 | module |
| field_env_var_key | paasng.utils.serializers.field_env_var_key | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeploymentAdvancedOptionsSLZ | rest_framework.serializers.Serializer | 无 | dev_hours_spent, image_pull_policy, build_only, special_tag, build_id, invoke_message | 无 | 不适用 |
| CreateDeploymentSLZ | rest_framework.serializers.Serializer | validate, _is_expected_revision, _is_image_digest | version_type, version_name, revision, advanced_options | 无 | 创建部署 |
| CreateDeploymentResponseSLZ | rest_framework.serializers.Serializer | 无 | deployment_id, stream_url | 无 | 不适用 |
| QueryDeploymentsSLZ | rest_framework.serializers.Serializer | 无 | environment, operator | 无 | 不适用 |
| QueryOperationsSLZ | rest_framework.serializers.Serializer | 无 | environment, operator | 无 | 不适用 |
| DeploymentSLZ | rest_framework.serializers.ModelSerializer | get_repo_info, to_representation | operator, start_time, complete_time, finished_status | 无 | This serializer is only for presentation purpose |
| DeploymentErrorTipsSLZ | rest_framework.serializers.Serializer | 无 | matched_solutions_found, possible_reason, helpers | 无 | 不适用 |
| DeploymentResultSLZ | rest_framework.serializers.Serializer | 无 | status, logs, error_detail, error_tips | 无 | 不适用 |
| BuildProcessSLZ | rest_framework.serializers.Serializer | get_deployment_id, get_module, get_environment, get_image_tag | generation, image_tag, status, invoke_message, start_at, completed_at, module, environment, deployment_id, build_id | 无 | 构建历史 |
| GetReleasedInfoSLZ | rest_framework.serializers.Serializer | 无 | with_processes | 无 | 不适用 |
| ConfigVarApplyResultSLZ | rest_framework.serializers.Serializer | 无 | create_num, overwrited_num, ignore_num, deleted_num | 无 | Serializer for ConfigVar ApplyResult |
| ConfigVarWithoutKeyFormatSLZ | rest_framework.serializers.Serializer | to_internal_value | value, environment_name, description | 无 | 不适用 |
| ConfigVarFormatSLZ | ConfigVarWithoutKeyFormatSLZ | 无 | key | 无 | Serializer for ConfigVar |
| ConfigVarFormatWithIdSLZ | ConfigVarFormatSLZ | 无 | id | 无 | When batch editing, need to pass in the id. |
| ConfigVarImportSLZ | rest_framework.serializers.Serializer | to_internal_value | file, env_variables | 无 | Serializer for ConfigVarImport |
| EnvironmentSlugFieldSupportGlobal | rest_framework.serializers.RelatedField | get_choices, get_attribute, to_representation, to_internal_value | queryset, default_error_messages | 无 | 不适用 |
| ConfigVarUniqueTogetherValidator | rest_framework.validators.UniqueTogetherValidator | __call__ | 无 | 无 | 不适用 |
| ConfigVarSLZ | rest_framework.serializers.ModelSerializer | to_internal_value | environment_name, key, value, description, is_global, id, is_builtin, created, environment_id | 无 | 不适用 |
| ListConfigVarsSLZ | rest_framework.serializers.Serializer | validate_environment_name, validate_order_by | valid_order_by_fields, environment_name, order_by | 无 | Serializer for listing ConfigVars |
| PresetEnvVarSLZ | rest_framework.serializers.Serializer | 无 | key, value, environment_name, description | 无 | 不适用 |
| CreateOfflineOperationSLZ | rest_framework.serializers.Serializer | 无 | 无 | 无 | 不适用 |
| OfflineOperationSLZ | rest_framework.serializers.ModelSerializer | get_repo_info, to_representation | operator | 无 | 不适用 |
| OperationSLZ | rest_framework.serializers.ModelSerializer | get_module_name | operator, offline_operation, deployment, module_name | 无 | This serializer is only for presentation purpose |
| ResourceMetricsSLZ | rest_framework.serializers.Serializer | validate, get_step, get_query_metrics | process_type, metric_type, start_time, end_time, instance_name, time_range_str, step, query_metrics | 无 | 不适用 |
| SeriesMetricsResultSerializer | rest_framework.serializers.Serializer | to_representation | type_name, results, display_name | 无 | 不适用 |
| ResourceMetricsResultSerializer | rest_framework.serializers.Serializer | 无 | type_name, results | 无 | 不适用 |
| InstanceMetricsResultSerializer | rest_framework.serializers.Serializer | to_representation | instance_name, results, display_name | 无 | 不适用 |
| CustomDomainsConfigSLZ | rest_framework.serializers.Serializer | 无 | module, environment, frontend_ingress_ip | 无 | 不适用 |
| ConditionNotMatchedSLZ | rest_framework.serializers.Serializer | 无 | message, action_name | 无 | 不适用 |
| CheckPreparationsSLZ | rest_framework.serializers.Serializer | 无 | all_conditions_matched, failed_conditions | 无 | 不适用 |
| EngineAppSLZ | rest_framework.serializers.Serializer | 无 | name, id | 无 | 不适用 |
| DeployStepFrameSLZ | rest_framework.serializers.Serializer | get_display_name | name, display_name, skipped | 无 | 不适用 |
| DeployStepSLZ | DeployStepFrameSLZ | 无 | uuid, status, start_time, complete_time | 无 | Step with 执行结果 |
| DeployFramePhaseSLZ | rest_framework.serializers.Serializer | get_display_name, get_display_blocks | display_name, type, steps, display_blocks | 无 | 不适用 |
| DeployPhaseSLZ | DeployFramePhaseSLZ | 无 | uuid, status, start_time, complete_time, steps | 无 | Phase with 执行结果 |
| ImageArtifactMinimalSLZ | rest_framework.serializers.Serializer | get_operator | id, repository, tag, size, digest, invoke_message, updated, operator | 无 | 镜像构件概览 |
| ImageDeployRecord | rest_framework.serializers.Serializer | get_operator | at, operator, environment | 无 | 镜像部署记录 |
| ImageArtifactDetailSLZ | rest_framework.serializers.Serializer | 无 | image_info, build_records, deploy_records | 无 | 镜像构件详情 |
| ModuleEnvOverviewSLZ | rest_framework.serializers.Serializer | 无 | is_deployed, address, build_method, version_type, version_name, revision, process_specs | 无 | 不适用 |
| EnvOverviewSLZ | rest_framework.serializers.Serializer | 无 | environment, modules | 无 | 环境概览视图 |

---


### 模块: apiserver/paasng/paasng/platform/engine/signals.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Signal | django.dispatch.Signal | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| post_appenv_deploy | 不适用 | `post_appenv_deploy = Signal()` | module |
| pre_appenv_deploy | 不适用 | `pre_appenv_deploy = Signal()` | module |
| pre_appenv_build | 不适用 | `pre_appenv_build = Signal()` | module |
| pre_phase_start | 不适用 | `pre_phase_start = Signal()` | module |
| post_phase_end | 不适用 | `post_phase_end = Signal()` | module |
| on_release_created | 不适用 | `on_release_created = Signal()` | module |
| processes_updated | 不适用 | `processes_updated = Signal()` | module |



---


### 模块: apiserver/paasng/paasng/platform/engine/streaming/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/engine/streaming/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| StreamingConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/streaming/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ChoicesEnum | paasng.utils.basic.ChoicesEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EventType | paasng.utils.basic.ChoicesEnum | 无 | INIT, CLOSE, MSG, TITLE, _choices_labels | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/streaming/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, IntegerField, ChoiceField, CharField | module |
| EventType | apiserver.paasng.paasng.platform.engine.streaming.constants.EventType | get_choices | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| HistoryEventsQuerySLZ | rest_framework.serializers.Serializer | 无 | last_event_id | 无 | 不适用 |
| StreamEventSLZ | rest_framework.serializers.Serializer | 无 | id, event, data | 无 | 流式事件序列化器 |

---


### 模块: apiserver/paasng/paasng/platform/engine/streaming/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^streams/(?P<channel_id>[0-9a-f-]{32,36})$', views.StreamViewSet.as_view(dict(get='streaming')), name='streaming.stream'), re_path('^streams/(?P<channel_id>[0-9a-f-]{32,36})/history_events$', views.StreamViewSet.as_view(dict(get='history_events')), name='streaming.stream.history_events'), re_path('^streams/__debugger__$', views.StreamDebuggerView.as_view(), name='streaming.debugger'), re_path('^streams/__void__$', views.VoidViewset.as_view({'patch': 'patch_no_content'})), re_path('^streams/__void_with_content__$', views.VoidViewset.as_view({'patch': 'patch_with_content'}))]` | module |



---


### 模块: apiserver/paasng/paasng/platform/engine/streaming/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| closing | contextlib.closing | 不适用 | module |
| List | typing.List | 不适用 | module |
| StreamChannelSubscriber | blue_krill.redis_tools.messaging.StreamChannelSubscriber | 不适用 | module |
| JsonResponse | django.http.JsonResponse | 不适用 | module |
| StreamingHttpResponse | django.http.StreamingHttpResponse | 不适用 | module |
| render | django.shortcuts.render | 不适用 | module |
| View | django.views.generic.View | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_204_NO_CONTENT | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| JSONRenderer | rest_framework.renderers.JSONRenderer | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| ViewSet | rest_framework.viewsets.ViewSet | 不适用 | module |
| get_default_redis | paasng.core.core.storages.redisdb.get_default_redis | 不适用 | module |
| ServerSendEvent | paasng.platform.engine.workflow.ServerSendEvent | from_raw, to_eof_str_list | module |
| error_codes | paasng.utils.error_codes.error_codes | CHANNEL_NOT_FOUND | module |
| UserAction | paasng.utils.rate_limit.constants.UserAction | FETCH_DEPLOY_LOG | module |
| rate_limits_by_user | paasng.utils.rate_limit.fixed_window.rate_limits_by_user | 不适用 | module |
| EventStreamRender | paasng.utils.views.EventStreamRender | 不适用 | module |
| HistoryEventsQuerySLZ | apiserver.paasng.paasng.platform.engine.streaming.serializers.HistoryEventsQuerySLZ | 不适用 | module |
| StreamEventSLZ | apiserver.paasng.paasng.platform.engine.streaming.serializers.StreamEventSLZ | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| StreamViewSet | rest_framework.viewsets.ViewSet | get_subscriber, streaming, history_events | renderer_classes | 无 | 不适用 |
| StreamDebuggerView | django.views.generic.View | get | 无 | 无 | 不适用 |
| VoidViewset | rest_framework.viewsets.ViewSet | patch_no_content, patch_with_content | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| make_app_pattern_with_global_envs | paasng.utils.basic.make_app_pattern_with_global_envs | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| PVAR_UUID | (?P<uuid>[0-9a-f-]{32,36}) | `PVAR_UUID = '(?P<uuid>[0-9a-f-]{32,36})'` | module |
| urlpatterns | 不适用 | `urlpatterns = [re_path(make_app_pattern('/released_info/$'), views.ReleasedInfoViewSet.as_view({'get': 'get_current_info'}), name='api.released_info.get_current_info'), re_path(make_app_pattern('/released_state/$'), views.ReleasedInfoViewSet.as_view({'get': 'get_current_state'}), name='api.released_info.get_current_state'), re_path(make_app_pattern_with_global_envs('/releases/$'), views.ReleasesViewset.as_view({'post': 'release'}), name='api.releases.release'), re_path(make_app_pattern('/config_vars/$', include_envs=False), views.ConfigVarViewSet.as_view({'get': 'list', 'post': 'create'}), name='api.config_vars'), re_path(make_app_pattern('/config_vars/(?P<id>\\d+)/$', include_envs=False), views.ConfigVarViewSet.as_view({'put': 'update', 'delete': 'destroy'}), name='api.config_vars.single'), re_path(make_app_pattern('/config_vars/clone_from/(?P<source_module_name>[^/]+)$', include_envs=False), views.ConfigVarViewSet.as_view({'post': 'clone'}), name='api.config_vars.clone'), re_path(make_app_pattern('/config_vars/batch/$', include_envs=False), views.ConfigVarViewSet.as_view({'post': 'batch'}), name='api.config_vars.batch'), re_path(make_app_pattern('/config_vars/import/$', include_envs=False), views.ConfigVarImportExportViewSet.as_view({'post': 'import_by_file'}), name='api.config_vars.import_by_file'), re_path(make_app_pattern('/config_vars/export/$', include_envs=False), views.ConfigVarImportExportViewSet.as_view({'get': 'export_to_file'}), name='api.config_vars.export_to_file'), re_path(make_app_pattern('/config_vars/template/$', include_envs=False), views.ConfigVarImportExportViewSet.as_view({'get': 'template'}), name='api.config_vars.template'), re_path(make_app_pattern('/config_vars/preset/$', include_envs=False), views.PresetConfigVarViewSet.as_view({'get': 'list'}), name='api.preset_config_vars'), re_path(make_app_pattern('/config_vars/(?P<config_vars_key>[A-Z][A-Z0-9_]*)/$', include_envs=False), views.ConfigVarViewSet.as_view({'get': 'retrieve_by_key', 'post': 'upsert_by_key'}), name='api.config_vars_by_key'), re_path(make_app_pattern('/deployments/%s/result/$' % PVAR_UUID, include_envs=False), views.DeploymentViewSet.as_view({'get': 'get_deployment_result'}), name='api.deploy.result'), re_path(make_app_pattern('/deployments/%s/logs/export/$' % PVAR_UUID, include_envs=False), views.DeploymentViewSet.as_view({'get': 'export_deployment_log'}), name='api.deploy.export_log'), re_path(make_app_pattern('/deployments/{}/interruptions/$'.format(PVAR_UUID), include_envs=False), views.DeploymentViewSet.as_view({'post': 'user_interrupt'}), name='api.deploy.release_interruptions'), re_path(make_app_pattern('/deployments/lists/$', include_envs=False), views.DeploymentViewSet.as_view({'get': 'list'}), name='api.deploy.lists'), re_path(make_app_pattern('/deployments/$'), views.DeploymentViewSet.as_view({'post': 'deploy'}), name='api.deploy'), re_path(make_app_pattern('/deployments/resumable/$'), views.DeploymentViewSet.as_view({'get': 'get_resumable_deployment'}), name='api.deploy.resumable'), re_path(make_app_pattern('/deploy/preparations$'), views.DeploymentViewSet.as_view({'get': 'check_preparations'}), name='api.deploy.check_preparations'), re_path(make_app_pattern('/offlines/$'), views.OfflineViewset.as_view({'post': 'offline'}), name='api.offline'), re_path(make_app_pattern('/offlines/resumable/$'), views.OfflineViewset.as_view({'get': 'get_resumable_offline_operations'}), name='api.offline.resumable'), re_path(make_app_pattern('/offlines/%s/result/$' % PVAR_UUID, include_envs=False), views.OfflineViewset.as_view({'get': 'get_offline_result'}), name='api.deploy.result'), re_path(make_app_pattern('/deploy_operations/lists/$', include_envs=False), views.OperationsViewset.as_view({'get': 'list'}), name='api.deploy_operation.lists'), re_path(make_app_pattern('/build/artifact/image/$', include_envs=False), views.ImageArtifactViewSet.as_view({'get': 'list_image'}), name='api.build.image.list'), re_path(make_app_pattern('/build/artifact/image/(?P<build_id>[^/]+)$', include_envs=False), views.ImageArtifactViewSet.as_view({'get': 'retrieve_image_detail'}), name='api.build.image.detail'), re_path(make_app_pattern('/build_process/$', include_envs=False), views.BuildProcessViewSet.as_view({'get': 'list'}), name='api.build_process.list')]` | module |



---


### 模块: apiserver/paasng/paasng/platform/engine/utils/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/engine/utils/client.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| ArtifactType | paas_wl.bk_app.applications.constants.ArtifactType | NONE | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| Build | paas_wl.bk_app.applications.models.build.Build | create, objects | module |
| AppImageCredential | paas_wl.workloads.images.models.AppImageCredential | update_or_create, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EngineDeployClient | 无 | __init__, wl_app, create_build, upsert_image_credentials | 无 | 无 | A high level client for engine, provides functions... |

---


### 模块: apiserver/paasng/paasng/platform/engine/utils/output.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| abc | abstractmethod | module |
| json | dumps | module |
| sys | stderr, stdout | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| Protocol | typing.Protocol | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| StreamChannel | blue_krill.redis_tools.messaging.StreamChannel | 不适用 | module |
| settings | django.conf.settings | COLORFUL_TERMINAL_OUTPUT | module |
| get_default_redis | paasng.core.core.storages.redisdb.get_default_redis | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | 不适用 | module |
| termcolors | paasng.utils.termcolors | make_style, no_color | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_style | `def make_style(*args, **kwargs):` | 无 | 不适用 |
| get_default_stream | `def get_default_stream(deployment: Deployment) -> RedisChannelStream:` | 无 | 不适用 |
| sanitize_message | `def sanitize_message(message: str) -> str:` | 无 | Sanitize the given message, remove bad characters ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Style | 无 | 无 | Title, Error, Warning, Comment, NoColor, Black, Red, Green, Yellow, Blue, Magenta, Cyan, White | 无 | 
    Valid colors:
        ANSI Color: 'black', 'r... |
| StreamType | blue_krill.data_types.enum.StrStructuredEnum | 无 | STDOUT, STDERR | 无 | 不适用 |
| DeployStream | 无 | write_title, write_message, write_event, close, from_deployment_id | 无 | 无 | Abstraction class of deployment stream |
| RedisChannelStream | DeployStream | __init__, write_title, write_message, write_event, close, from_deployment_id | 无 | 无 | Stream using redis channel |
| ConsoleStream | DeployStream | write_title, write_message, write_event, close, from_deployment_id | 无 | 无 | Stream using console, useful for unit tests |
| NullStream | DeployStream | write_title, write_message, write_event, close, from_deployment_id | 无 | 无 | 不适用 |
| MessageWriter | typing.Protocol | write | 无 | 无 | A protocol for types which has output_stream field |
| ModelStream | 无 | __init__, write_message | 无 | 无 | Stream using model's output_stream field |
| RedisWithModelStream | RedisChannelStream | __init__, write_message | 无 | 无 | A modified redis channel stream which writes messa... |

---


### 模块: apiserver/paasng/paasng/platform/engine/utils/patcher.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| yaml | safe_dump | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| patch_source_dir_procfile | `def patch_source_dir_procfile(source_dir: Path, procfile: dict[str, str]) -> None | str:` | 无 | 为应用源码目录添加 Procfile 文件，适用场景：

    - 「云原生应用」buildpac... |


---


### 模块: apiserver/paasng/paasng/platform/engine/utils/query.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | ENGINE_OFFLINE_RESUMABLE_SECS | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | DoesNotExist | module |
| OfflineOperation | paasng.platform.engine.models.OfflineOperation | DoesNotExist | module |
| DeploymentCoordinator | paasng.platform.engine.workflow.DeploymentCoordinator | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeploymentGetter | 无 | __init__, get_latest_deployment, get_latest_succeeded, get_current_deployment | 无 | 无 | Getter to get meaningful Deployment obj of `env` |
| OfflineOperationGetter | 无 | __init__, get_latest_operation, get_latest_succeeded, get_current_operation | 无 | 无 | Getter to get meaningful OfflineOperation obj of `... |

---


### 模块: apiserver/paasng/paasng/platform/engine/utils/source.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger, info | module |
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| SignatureType | blue_krill.storages.blobstore.base.SignatureType | DOWNLOAD | module |
| settings | django.conf.settings | MAX_PROCESSES_PER_MODULE, ENGINE_APP_SOURCE_SIZE_WARNING_THRESHOLD_MB, BLOBSTORE_BUCKET_APP_SOURCE | module |
| ValidationError | django.core.exceptions.ValidationError | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| cleanup_module | paasng.accessories.smart_advisor.models.cleanup_module | 不适用 | module |
| tag_module | paasng.accessories.smart_advisor.models.tag_module | 不适用 | module |
| dig_tags_local_repo | paasng.accessories.smart_advisor.tagging.dig_tags_local_repo | 不适用 | module |
| AppFeatureFlag | paasng.platform.applications.constants.AppFeatureFlag | APPLICATION_DESCRIPTION | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| DeployDescHandler | paasng.platform.declarative.handlers.DeployDescHandler | 不适用 | module |
| get_deploy_desc_handler | paasng.platform.declarative.handlers.get_deploy_desc_handler | 不适用 | module |
| get_source_dir_from_desc | paasng.platform.declarative.handlers.get_source_dir_from_desc | 不适用 | module |
| DeploymentDescription | paasng.platform.declarative.models.DeploymentDescription | get, objects, DoesNotExist | module |
| get_dockerfile_path | paasng.platform.engine.configurations.building.get_dockerfile_path | 不适用 | module |
| get_metadata_reader | paasng.platform.engine.configurations.source_file.get_metadata_reader | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | DOCKERFILE | module |
| InitDeployDescHandlerError | paasng.platform.engine.exceptions.InitDeployDescHandlerError | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | 不适用 | module |
| EngineApp | paasng.platform.engine.models.EngineApp | 不适用 | module |
| ProcessTmpl | paasng.platform.engine.models.deployment.ProcessTmpl | 不适用 | module |
| DeployStream | paasng.platform.engine.utils.output.DeployStream | 不适用 | module |
| Style | paasng.platform.engine.utils.output.Style | Warning | module |
| patch_source_dir_procfile | paasng.platform.engine.utils.patcher.patch_source_dir_procfile | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | AUTHORIZED_VCS, SCENE | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| ModuleSpecs | paasng.platform.modules.specs.ModuleSpecs | 不适用 | module |
| PackageController | paasng.platform.sourcectl.controllers.package.PackageController | init_by_module | module |
| GetAppYamlError | paasng.platform.sourcectl.exceptions.GetAppYamlError | 不适用 | module |
| GetAppYamlFormatError | paasng.platform.sourcectl.exceptions.GetAppYamlFormatError | 不适用 | module |
| GetDockerIgnoreError | paasng.platform.sourcectl.exceptions.GetDockerIgnoreError | 不适用 | module |
| GetProcfileError | paasng.platform.sourcectl.exceptions.GetProcfileError | 不适用 | module |
| GetProcfileFormatError | paasng.platform.sourcectl.exceptions.GetProcfileFormatError | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| get_repo_controller | paasng.platform.sourcectl.repo_controller.get_repo_controller | 不适用 | module |
| DockerIgnore | paasng.platform.sourcectl.utils.DockerIgnore | 不适用 | module |
| compress_directory_ext | paasng.platform.sourcectl.utils.compress_directory_ext | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |
| make_blob_store | paasng.utils.blobstore.make_blob_store | 不适用 | module |
| PROC_TYPE_MAX_LENGTH | paasng.utils.validators.PROC_TYPE_MAX_LENGTH | 不适用 | module |
| PROC_TYPE_PATTERN | paasng.utils.validators.PROC_TYPE_PATTERN | match, pattern | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| TypeProcesses | 不适用 | `TypeProcesses = Dict[str, ProcessTmpl]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| validate_processes | `def validate_processes(processes: Dict[str, Dict[str, str]]) -> TypeProcesses:` | 无 | Validate proc type format

    :param processes:
 ... |
| get_dockerignore | `def get_dockerignore(deployment: Deployment) -> Optional[DockerIgnore]:` | 无 | Get the DockerIgnore from SourceCode |
| get_source_dir | `def get_source_dir(module: Module, operator: str, version_info: VersionInfo) -> str:` | 无 | A helper to get source_dir.
    For package App, w... |
| get_desc_data_by_version | `def get_desc_data_by_version(module: Module, operator: str, version_info: VersionInfo) -> Optional[Dict]:` | 无 | Get the app description data by version.

    :par... |
| get_deploy_desc_handler_by_version | `def get_deploy_desc_handler_by_version(module: Module, operator: str, version_info: VersionInfo, source_dir: Path = _current_path) -> DeployDescHandler:` | 无 | Get the description handler for the given module a... |
| get_source_package_path | `def get_source_package_path(deployment: Deployment) -> str:` | 无 | Return the blobstore path for storing source files... |
| download_source_to_dir | `def download_source_to_dir(module: Module, operator: str, deployment: Deployment, root_path: Path) -> tuple[str, Path]:` | 无 | Download and extract the module's source files to ... |
| check_source_package | `def check_source_package(engine_app: EngineApp, package_path: Path, stream: DeployStream):` | 无 | Check module source package, produce warning infos |
| tag_module_from_source_files | `def tag_module_from_source_files(module, source_files_path):` | 无 | Dig and tag the module from application source fil... |
| upload_source_code | `def upload_source_code(module: Module, version_info: VersionInfo, relative_source_dir: Path, operator: str, region: str, try_to_preserve_meta_info: bool = True) -> str:` | 无 | 上传应用模块源码到 blob 存储, 并且返回源码的下载链接, 参考方法 "BaseBuilder.... |
| validate_source_dir_str | `def validate_source_dir_str(root_path: Path, source_dir_str: str) -> Path:` | 无 | Validate the source_dir string and return the sour... |


---


### 模块: apiserver/paasng/paasng/platform/engine/views/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BuildProcessViewSet | apiserver.paasng.paasng.platform.engine.views.build.BuildProcessViewSet | 不适用 | module |
| ImageArtifactViewSet | apiserver.paasng.paasng.platform.engine.views.build.ImageArtifactViewSet | 不适用 | module |
| ConfigVarBuiltinViewSet | apiserver.paasng.paasng.platform.engine.views.configvar.ConfigVarBuiltinViewSet | 不适用 | module |
| ConfigVarImportExportViewSet | apiserver.paasng.paasng.platform.engine.views.configvar.ConfigVarImportExportViewSet | 不适用 | module |
| ConfigVarViewSet | apiserver.paasng.paasng.platform.engine.views.configvar.ConfigVarViewSet | 不适用 | module |
| PresetConfigVarViewSet | apiserver.paasng.paasng.platform.engine.views.configvar_preset.PresetConfigVarViewSet | 不适用 | module |
| DeploymentViewSet | apiserver.paasng.paasng.platform.engine.views.deploy.DeploymentViewSet | 不适用 | module |
| DeployPhaseViewSet | apiserver.paasng.paasng.platform.engine.views.deploy.DeployPhaseViewSet | 不适用 | module |
| OfflineViewset | apiserver.paasng.paasng.platform.engine.views.misc.OfflineViewset | 不适用 | module |
| OperationsViewset | apiserver.paasng.paasng.platform.engine.views.misc.OperationsViewset | 不适用 | module |
| ProcessResourceMetricsViewset | apiserver.paasng.paasng.platform.engine.views.misc.ProcessResourceMetricsViewset | 不适用 | module |
| ReleasedInfoViewSet | apiserver.paasng.paasng.platform.engine.views.release.ReleasedInfoViewSet | 不适用 | module |
| ReleasesViewset | apiserver.paasng.paasng.platform.engine.views.release.ReleasesViewset | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/platform/engine/views/build.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| viewsets | rest_framework.viewsets | GenericViewSet | module |
| OrderingFilter | rest_framework.filters.OrderingFilter | 不适用 | module |
| SearchFilter | rest_framework.filters.SearchFilter | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| ArtifactType | paas_wl.bk_app.applications.constants.ArtifactType | IMAGE | module |
| Build | paas_wl.bk_app.applications.models.Build | filter, objects | module |
| BuildProcess | paas_wl.bk_app.applications.models.BuildProcess | filter, objects | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| serializers | paasng.platform.engine.serializers | ImageArtifactMinimalSLZ, ImageArtifactDetailSLZ, BuildProcessSLZ | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | SUCCESSFUL | module |
| Deployment | paasng.platform.engine.models.Deployment | owned_by_module, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ImageArtifactViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list_image, retrieve_image_detail | permission_classes, filter_backends, search_fields, ordering | 无 | 不适用 |
| BuildProcessViewSet | rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list | permission_classes, filter_backends, search_fields, ordering | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/views/configvar.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | CONFIGVAR_SYSTEM_PREFIX | module |
| HttpResponse | django.http.HttpResponse | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_204_NO_CONTENT, HTTP_200_OK | module |
| viewsets | rest_framework.viewsets | ModelViewSet, ViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE, MODIFY | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | ENV_VAR | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| AppEnvironment | paasng.platform.applications.constants.AppEnvironment | value, PRODUCTION | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| generate_env_vars_by_region_and_env | paasng.platform.engine.configurations.config_var.generate_env_vars_by_region_and_env | 不适用 | module |
| generate_env_vars_for_bk_platform | paasng.platform.engine.configurations.config_var.generate_env_vars_for_bk_platform | 不适用 | module |
| generate_wl_builtin_env_vars | paasng.platform.engine.configurations.config_var.generate_wl_builtin_env_vars | 不适用 | module |
| AppInfoBuiltinEnv | paasng.platform.engine.constants.AppInfoBuiltinEnv | 不适用 | module |
| AppRunTimeBuiltinEnv | paasng.platform.engine.constants.AppRunTimeBuiltinEnv | 不适用 | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | 不适用 | module |
| ConfigVar | paasng.platform.engine.models.ConfigVar | filter, objects, create | module |
| ENVIRONMENT_ID_FOR_GLOBAL | paasng.platform.engine.models.config_var.ENVIRONMENT_ID_FOR_GLOBAL | 不适用 | module |
| ENVIRONMENT_NAME_FOR_GLOBAL | paasng.platform.engine.models.config_var.ENVIRONMENT_NAME_FOR_GLOBAL | 不适用 | module |
| add_prefix_to_key | paasng.platform.engine.models.config_var.add_prefix_to_key | 不适用 | module |
| ConfigVarManager | paasng.platform.engine.models.managers.ConfigVarManager | 不适用 | module |
| ExportedConfigVars | paasng.platform.engine.models.managers.ExportedConfigVars | from_list | module |
| PlainConfigVar | paasng.platform.engine.models.managers.PlainConfigVar | 不适用 | module |
| ConfigVarApplyResultSLZ | paasng.platform.engine.serializers.ConfigVarApplyResultSLZ | 不适用 | module |
| ConfigVarFormatSLZ | paasng.platform.engine.serializers.ConfigVarFormatSLZ | 不适用 | module |
| ConfigVarFormatWithIdSLZ | paasng.platform.engine.serializers.ConfigVarFormatWithIdSLZ | 不适用 | module |
| ConfigVarImportSLZ | paasng.platform.engine.serializers.ConfigVarImportSLZ | 不适用 | module |
| ConfigVarSLZ | paasng.platform.engine.serializers.ConfigVarSLZ | 不适用 | module |
| ConfigVarWithoutKeyFormatSLZ | paasng.platform.engine.serializers.ConfigVarWithoutKeyFormatSLZ | 不适用 | module |
| ListConfigVarsSLZ | paasng.platform.engine.serializers.ListConfigVarsSLZ | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ConfigVarViewSet | rest_framework.viewsets.ModelViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get_object, get_queryset, get_serializer_context, create, update, destroy, retrieve_by_key, upsert_by_key, clone, batch, list | pagination_class, serializer_class, permission_classes | 无 | ViewSet for config vars |
| ConfigVarBuiltinViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | _get_enum_choices_dict, get_builtin_envs_for_app, get_builtin_envs_bk_platform, get_runtime_envs | permission_classes | 无 | View the built-in environment variables of the app |
| ConfigVarImportExportViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | make_exported_vars_response, get_queryset, import_by_file, export_to_file, template | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/views/configvar_preset.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| mixins | rest_framework.mixins | ListModelMixin | module |
| viewsets | rest_framework.viewsets | GenericViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| PresetEnvVariable | paasng.platform.engine.models.preset_envvars.PresetEnvVariable | all, objects | module |
| ListConfigVarsSLZ | paasng.platform.engine.serializers.ListConfigVarsSLZ | 不适用 | module |
| PresetEnvVarSLZ | paasng.platform.engine.serializers.PresetEnvVarSLZ | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PresetConfigVarViewSet | rest_framework.mixins.ListModelMixin, rest_framework.viewsets.GenericViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | filter_queryset, list | pagination_class, serializer_class, permission_classes, queryset | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/views/deploy.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| asdict | dataclasses.asdict | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| user_id_encoder | bkpaas_auth.core.encoder.user_id_encoder | encode | module |
| User | bkpaas_auth.models.User | 不适用 | module |
| DownloadFailedError | blue_krill.storages.blobstore.exceptions.DownloadFailedError | 不适用 | module |
| settings | django.conf.settings | USER_TYPE | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| HttpResponse | django.http.HttpResponse | 不适用 | module |
| JsonResponse | django.http.JsonResponse | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | activated, failed_conditions, HTTP_201_CREATED | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| Build | paas_wl.bk_app.applications.models.Build | filter, objects, get | module |
| get_failure_hint | paasng.accessories.smart_advisor.utils.get_failure_hint | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| fetch_user_roles | paasng.infras.iam.helpers.fetch_user_roles | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| DEPLOYMENT_INFO_COUNTER | paasng.misc.metrics.DEPLOYMENT_INFO_COUNTER | labels | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | CUSTOM_IMAGE | module |
| interrupt_deployment | paasng.platform.engine.deploy.interruptions.interrupt_deployment | 不适用 | module |
| DeployTaskRunner | paasng.platform.engine.deploy.start.DeployTaskRunner | 不适用 | module |
| initialize_deployment | paasng.platform.engine.deploy.start.initialize_deployment | 不适用 | module |
| DeployInterruptionFailed | paasng.platform.engine.exceptions.DeployInterruptionFailed | 不适用 | module |
| get_all_logs | paasng.platform.engine.logs.get_all_logs | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | filter, objects, owned_by_module, get, DoesNotExist | module |
| DeployPhaseManager | paasng.platform.engine.phases_steps.phases.DeployPhaseManager | 不适用 | module |
| get_sorted_steps | paasng.platform.engine.phases_steps.steps.get_sorted_steps | 不适用 | module |
| CheckPreparationsSLZ | paasng.platform.engine.serializers.CheckPreparationsSLZ | 不适用 | module |
| CreateDeploymentResponseSLZ | paasng.platform.engine.serializers.CreateDeploymentResponseSLZ | 不适用 | module |
| CreateDeploymentSLZ | paasng.platform.engine.serializers.CreateDeploymentSLZ | 不适用 | module |
| DeployFramePhaseSLZ | paasng.platform.engine.serializers.DeployFramePhaseSLZ | 不适用 | module |
| DeploymentResultSLZ | paasng.platform.engine.serializers.DeploymentResultSLZ | 不适用 | module |
| DeploymentSLZ | paasng.platform.engine.serializers.DeploymentSLZ | 不适用 | module |
| DeployPhaseSLZ | paasng.platform.engine.serializers.DeployPhaseSLZ | 不适用 | module |
| QueryDeploymentsSLZ | paasng.platform.engine.serializers.QueryDeploymentsSLZ | 不适用 | module |
| DeploymentGetter | paasng.platform.engine.utils.query.DeploymentGetter | 不适用 | module |
| DeploymentCoordinator | paasng.platform.engine.workflow.DeploymentCoordinator | 不适用 | module |
| ModuleEnvDeployInspector | paasng.platform.engine.workflow.protections.ModuleEnvDeployInspector | 不适用 | module |
| EnvRoleOperation | paasng.platform.environments.constants.EnvRoleOperation | value, DEPLOY | module |
| RoleNotAllowError | paasng.platform.environments.exceptions.RoleNotAllowError | 不适用 | module |
| env_role_protection_check | paasng.platform.environments.utils.env_role_protection_check | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| VersionType | paasng.platform.sourcectl.constants.VersionType | value, TAG, IMAGE | module |
| GitLabBranchNameBugError | paasng.platform.sourcectl.exceptions.GitLabBranchNameBugError | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| get_version_service | paasng.platform.sourcectl.version_services.get_version_service | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | RESTRICT_ROLE_DEPLOY_ENABLED, f, CANNOT_DEPLOY_APP, CANNOT_DEPLOY_ONGOING_EXISTS, CANNOT_GET_REVISION, DEPLOY_INTERRUPTION_FAILED, CANNOT_GET_DEPLOYMENT, CANNOT_GET_DEPLOYMENT_PHASES | module |
| LimitOffsetPagination | rest_framework.pagination.LimitOffsetPagination | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeploymentViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | paginator, check_preparations, deploy, _get_version_info, _handle_deploy_failed, get_deployment_result, export_deployment_log, list, get_resumable_deployment, user_interrupt | serializer_class, permission_classes | 无 | 
    应用部署相关API
    基于engine的build & release
     |
| DeployPhaseViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get_frame, get_result | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/views/misc.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | strptime, datetime | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| user_id_encoder | bkpaas_auth.models.user_id_encoder | encode | module |
| settings | django.conf.settings | USER_TYPE | module |
| JsonResponse | django.http.JsonResponse | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| fetch_user_roles | paasng.infras.iam.helpers.fetch_user_roles | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| AppInstancesNotFoundError | paasng.misc.monitoring.metrics.exceptions.AppInstancesNotFoundError | 不适用 | module |
| AppMetricNotSupportedError | paasng.misc.monitoring.metrics.exceptions.AppMetricNotSupportedError | 不适用 | module |
| RequestMetricBackendError | paasng.misc.monitoring.metrics.exceptions.RequestMetricBackendError | 不适用 | module |
| list_app_proc_all_metrics | paasng.misc.monitoring.metrics.shim.list_app_proc_all_metrics | 不适用 | module |
| list_app_proc_metrics | paasng.misc.monitoring.metrics.shim.list_app_proc_metrics | 不适用 | module |
| MetricSmartTimeRange | paasng.misc.monitoring.metrics.utils.MetricSmartTimeRange | from_request_data | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| start_archive_step | paasng.platform.engine.deploy.archive.start_archive_step | 不适用 | module |
| OfflineOperationExistError | paasng.platform.engine.exceptions.OfflineOperationExistError | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | DoesNotExist | module |
| OfflineOperation | paasng.platform.engine.models.offline.OfflineOperation | get, objects, DoesNotExist | module |
| ModuleEnvironmentOperations | paasng.platform.engine.models.operations.ModuleEnvironmentOperations | select_related, objects | module |
| CreateOfflineOperationSLZ | paasng.platform.engine.serializers.CreateOfflineOperationSLZ | 不适用 | module |
| InstanceMetricsResultSerializer | paasng.platform.engine.serializers.InstanceMetricsResultSerializer | 不适用 | module |
| OfflineOperationSLZ | paasng.platform.engine.serializers.OfflineOperationSLZ | 不适用 | module |
| OperationSLZ | paasng.platform.engine.serializers.OperationSLZ | 不适用 | module |
| QueryOperationsSLZ | paasng.platform.engine.serializers.QueryOperationsSLZ | 不适用 | module |
| ResourceMetricsResultSerializer | paasng.platform.engine.serializers.ResourceMetricsResultSerializer | 不适用 | module |
| ResourceMetricsSLZ | paasng.platform.engine.serializers.ResourceMetricsSLZ | 不适用 | module |
| OfflineOperationGetter | paasng.platform.engine.utils.query.OfflineOperationGetter | 不适用 | module |
| EnvRoleOperation | paasng.platform.environments.constants.EnvRoleOperation | value, DEPLOY | module |
| RoleNotAllowError | paasng.platform.environments.exceptions.RoleNotAllowError | 不适用 | module |
| env_role_protection_check | paasng.platform.environments.utils.env_role_protection_check | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | RESTRICT_ROLE_DEPLOY_ENABLED, f, CANNOT_OFFLINE_APP, CANNOT_GET_OFFLINE, CANNOT_FETCH_RESOURCE_METRICS, APP_METRICS_UNSUPPORTED | module |
| LimitOffsetPagination | rest_framework.pagination.LimitOffsetPagination | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| OfflineViewset | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | offline, get_offline_result, get_resumable_offline_operations | serializer_class, permission_classes | 无 | 
    应用下线相关API
    基于stop process实现
     |
| OperationsViewset | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | paginator, list | serializer_class, permission_classes | 无 | 
    应用操作记录相关API
    比如：部署记录和下线记录
     |
| ProcessResourceMetricsViewset | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | _format_datetime, list | permission_classes | 无 | 进程资源使用 Metrics API |

---


### 模块: apiserver/paasng/paasng/platform/engine/views/release.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| get_latest_build_id | paas_wl.bk_app.applications.api.get_latest_build_id | 不适用 | module |
| ProcessManager | paas_wl.bk_app.processes.processes.ProcessManager | 不适用 | module |
| env_is_deployed | paasng.accessories.publish.entrance.exposer.env_is_deployed | 不适用 | module |
| get_exposed_url | paasng.accessories.publish.entrance.exposer.get_exposed_url | 不适用 | module |
| get_preallocated_url | paasng.accessories.publish.entrance.preallocated.get_preallocated_url | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | VIEW_BASIC_INFO, BASIC_DEVELOP | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| release_by_engine | paasng.platform.engine.deploy.release.legacy.release_by_engine | 不适用 | module |
| ENVIRONMENT_NAME_FOR_GLOBAL | paasng.platform.engine.models.config_var.ENVIRONMENT_NAME_FOR_GLOBAL | 不适用 | module |
| DeploymentSLZ | paasng.platform.engine.serializers.DeploymentSLZ | 不适用 | module |
| GetReleasedInfoSLZ | paasng.platform.engine.serializers.GetReleasedInfoSLZ | 不适用 | module |
| OfflineOperationSLZ | paasng.platform.engine.serializers.OfflineOperationSLZ | 不适用 | module |
| DeploymentGetter | paasng.platform.engine.utils.query.DeploymentGetter | 不适用 | module |
| OfflineOperationGetter | paasng.platform.engine.utils.query.OfflineOperationGetter | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | APP_NOT_RELEASED, f, CANNOT_DEPLOY_APP | module |
| allow_resp_patch | paasng.utils.views.allow_resp_patch | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ReleasedInfoViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get_current_info, get_current_state, get_deployment_data | serializer_class, permission_classes | 无 | 不适用 |
| ReleasesViewset | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | release | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/engine/workflow/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| DeploymentCoordinator | apiserver.paasng.paasng.platform.engine.workflow.flow.DeploymentCoordinator | 不适用 | module |
| DeploymentStateMgr | apiserver.paasng.paasng.platform.engine.workflow.flow.DeploymentStateMgr | 不适用 | module |
| DeployProcedure | apiserver.paasng.paasng.platform.engine.workflow.flow.DeployProcedure | 不适用 | module |
| DeployStep | apiserver.paasng.paasng.platform.engine.workflow.flow.DeployStep | 不适用 | module |
| ServerSendEvent | apiserver.paasng.paasng.platform.engine.workflow.messaging.ServerSendEvent | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/platform/engine/workflow/flow.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| time | time | module |
| redis | Redis | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| partial | functools.partial | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| force_str | django.utils.encoding.force_str | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| AppModelResource | paas_wl.bk_app.cnative.specs.models.AppModelResource | get, objects | module |
| publish_to_market_by_deployment | paasng.accessories.publish.market.status.publish_to_market_by_deployment | 不适用 | module |
| ProvisionInstanceError | paasng.accessories.servicehub.exceptions.ProvisionInstanceError | 不适用 | module |
| get_default_redis | paasng.core.core.storages.redisdb.get_default_redis | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| get_bkapp_resource | paasng.platform.bkapp_model.manifest.get_bkapp_resource | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | PENDING, SUCCESSFUL, FAILED, get_finished_states, INTERRUPTED | module |
| DeployShouldAbortError | paasng.platform.engine.exceptions.DeployShouldAbortError | 不适用 | module |
| HandleAppDescriptionError | paasng.platform.engine.exceptions.HandleAppDescriptionError | 不适用 | module |
| StepNotInPresetListError | paasng.platform.engine.exceptions.StepNotInPresetListError | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | get, objects | module |
| DeployPhaseTypes | paasng.platform.engine.models.DeployPhaseTypes | 不适用 | module |
| ModuleEnvironmentOperations | paasng.platform.engine.models.operations.ModuleEnvironmentOperations | filter, objects | module |
| post_appenv_deploy | paasng.platform.engine.signals.post_appenv_deploy | send | module |
| post_phase_end | paasng.platform.engine.signals.post_phase_end | send | module |
| EngineDeployClient | paasng.platform.engine.utils.client.EngineDeployClient | 不适用 | module |
| DeployStream | paasng.platform.engine.utils.output.DeployStream | 不适用 | module |
| StreamType | paasng.platform.engine.utils.output.StreamType | STDERR | module |
| Style | paasng.platform.engine.utils.output.Style | Title, Warning, Error | module |
| get_default_stream | paasng.platform.engine.utils.output.get_default_stream | 不适用 | module |
| find_coded_error_message | paasng.utils.error_message.find_coded_error_message | 不适用 | module |
| DeployPhase | paasng.platform.engine.models.phases.DeployPhase | 不适用 | module |
| DeployStep | paasng.platform.engine.models.steps.DeployStep | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployProcedure | 无 | __init__, __enter__, __exit__, _get_step_obj | 无 | 无 | A application deploy procedure wrapper

    :param... |
| DeploymentStateMgr | 无 | __init__, from_deployment_id, phase, update, finish, _stylize_error | 无 | 无 | Deployment state manager |
| DeploymentCoordinator | 无 | __init__, acquire_lock, release_lock, set_deployment, get_current_deployment, update_polling_time, status_polling_timeout, release_on_error | DEFAULT_LOCK_TIMEOUT, DEFAULT_TOKEN, POLLING_TIMEOUT | 无 | Manage environment's deploy status to avoid duplic... |
| DeployStep | 无 | __init__, from_deployment_id, procedures, create_bkapp_revision | 无 | 无 | Base class for a deploy step |

---


### 模块: apiserver/paasng/paasng/platform/engine/workflow/messaging.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| ClassVar | typing.ClassVar | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ServerSendEvent | 无 | from_raw, is_internal, to_yield_str_list, to_eof_str_list | __slots__ | dataclass | SSE 事件对象 |

---


### 模块: apiserver/paasng/paasng/platform/engine/workflow/protections.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| ObjectDoesNotExist | django.db.models.ObjectDoesNotExist | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| Product | paasng.accessories.publish.market.models.Product | filter, objects | module |
| BaseCondition | paasng.core.core.protections.base.BaseCondition | 不适用 | module |
| BaseConditionChecker | paasng.core.core.protections.base.BaseConditionChecker | 不适用 | module |
| ConditionNotMatched | paasng.core.core.protections.exceptions.ConditionNotMatched | 不适用 | module |
| fetch_user_roles | paasng.infras.iam.helpers.fetch_user_roles | 不适用 | module |
| AppEnvironment | paasng.platform.applications.constants.AppEnvironment | value, PRODUCTION | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | filter, objects | module |
| DeployConditions | paasng.platform.engine.constants.DeployConditions | value, FILL_PRODUCT_INFO, NEED_TO_BIND_OAUTH_INFO, DONT_HAVE_ENOUGH_PERMISSIONS, NEED_TO_CORRECT_REPO_INFO, CHECK_ENV_PROTECTION, NEED_TO_COMPLETE_PROCFILE, FILL_PLUGIN_TAG_INFO | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | CUSTOM_IMAGE | module |
| EnvRoleOperation | paasng.platform.environments.constants.EnvRoleOperation | value, DEPLOY | module |
| RoleNotAllowError | paasng.platform.environments.exceptions.RoleNotAllowError | 不适用 | module |
| env_role_protection_check | paasng.platform.environments.utils.env_role_protection_check | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| ModuleSpecs | paasng.platform.modules.specs.ModuleSpecs | 不适用 | module |
| AccessTokenForbidden | paasng.platform.sourcectl.exceptions.AccessTokenForbidden | 不适用 | module |
| BasicAuthError | paasng.platform.sourcectl.exceptions.BasicAuthError | 不适用 | module |
| UserNotBindedToSourceProviderError | paasng.platform.sourcectl.exceptions.UserNotBindedToSourceProviderError | 不适用 | module |
| get_sourcectl_types | paasng.platform.sourcectl.source_types.get_sourcectl_types | 不适用 | module |
| get_version_service | paasng.platform.sourcectl.version_services.get_version_service | 不适用 | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |
| User | bkpaas_auth.models.User | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| register_extra_conditions | apiserver.paasng.paasng.platform.engine.workflow.protections_ext.register_extra_conditions | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployCondition | paasng.core.core.protections.base.BaseCondition | validate, __init__ | 无 | 无 | 不适用 |
| ProductInfoCondition | DeployCondition | validate | action_name | 无 | 检查是否已经完善应用信息 |
| RepoAccessCondition | DeployCondition | validate | 无 | 无 | 检查用户是否有该模块的源码仓库的访问权限 |
| EnvProtectionCondition | DeployCondition | validate | action_name | 无 | 检查该用户是否有该模块环境的部署权限 |
| ProcfileCondition | DeployCondition | validate | action_name | 无 | 检查是否已经完善进程启动命名 |
| PluginTagValidationCondition | DeployCondition | validate | action_name | 无 | 检查插件应用是否设置了分类 |
| ModuleEnvDeployInspector | paasng.core.core.protections.base.BaseConditionChecker | __init__, __str__ | condition_classes | 无 | Prepare to deploy a ModuleEnvironment |

---


### 模块: apiserver/paasng/paasng/platform/environments/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/environments/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | value, ADMINISTRATOR | module |
| ChoicesEnum | paasng.utils.basic.ChoicesEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EnvRoleOperation | paasng.utils.basic.ChoicesEnum | get_default_role | DEPLOY, _choices_labels, __default | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/environments/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RoleNotAllowError | Exception | 无 | 无 | 无 | 该角色没有权限执行操作 |

---


### 模块: apiserver/paasng/paasng/platform/environments/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, IntegerField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/environments/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/environments/models.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| models | django.db.models | IntegerField, ForeignKey, CASCADE, CharField | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | get_django_choices | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| EnvRoleOperation | paasng.platform.environments.constants.EnvRoleOperation | get_choices | module |
| TimestampedModel | paasng.utils.models.TimestampedModel | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EnvRoleProtection | paasng.utils.models.TimestampedModel | 无 | allowed_role, module_env, operation | 无 | 模块环境角色保护 |

---


### 模块: apiserver/paasng/paasng/platform/environments/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | ModelSerializer, SerializerMethodField, Serializer, ChoiceField, CharField, ListField, IntegerField | module |
| MinimalModuleSLZ | paasng.platform.modules.serializers.MinimalModuleSLZ | 不适用 | module |
| EnvRoleOperation | apiserver.paasng.paasng.platform.environments.constants.EnvRoleOperation | get_choices | module |
| EnvRoleProtection | apiserver.paasng.paasng.platform.environments.models.EnvRoleProtection | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EnvRoleProtectionSLZ | rest_framework.serializers.ModelSerializer | get_environment, get_module | module, environment | 无 | 不适用 |
| EnvRoleProtectionListSLZ | rest_framework.serializers.Serializer | 无 | operation, env, allowed_roles | 无 | 不适用 |
| EnvRoleProtectionCreateSLZ | EnvRoleProtectionListSLZ | 无 | env | 无 | 不适用 |
| BatchEnvRoleProtectionSLZ | rest_framework.serializers.Serializer | 无 | envs, operation | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/environments/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path(make_app_pattern('/env_protection/$', include_envs=False), views.ModuleEnvRoleProtectionViewSet.as_view({'get': 'list', 'post': 'toggle'}), name='api.environments.role_restricts'), re_path(make_app_pattern('/env_protection/batch$', include_envs=False), views.ModuleEnvRoleProtectionViewSet.as_view({'post': 'batch_save'}), name='api.environments.role_restricts_batch')]` | module |



---


### 模块: apiserver/paasng/paasng/platform/environments/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| RoleNotAllowError | paasng.platform.environments.exceptions.RoleNotAllowError | 不适用 | module |
| EnvRoleProtection | paasng.platform.environments.models.EnvRoleProtection | filter, objects, bulk_create | module |
| Module | paasng.platform.modules.models.module.Module | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| env_role_protection_check | `def env_role_protection_check(operation: str, env: ModuleEnvironment, roles: List[ApplicationRole]):` | 无 | 检查是否存在环境保护 |
| batch_save_protections | `@transaction.atomic:` | transaction.atomic | 不适用 |


---


### 模块: apiserver/paasng/paasng/platform/environments/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| viewsets | rest_framework.viewsets | GenericViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| app_view_actions_perm | paasng.infras.accounts.permissions.application.app_view_actions_perm | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | VIEW_BASIC_INFO, MANAGE_ENV_PROTECTION | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | DISABLE, ENABLE, MODIFY | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | DEPLOY_RESTRICTION | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| batch_save_protections | paasng.platform.environments.utils.batch_save_protections | 不适用 | module |
| EnvRoleOperation | apiserver.paasng.paasng.platform.environments.constants.EnvRoleOperation | get_default_role | module |
| EnvRoleProtection | apiserver.paasng.paasng.platform.environments.models.EnvRoleProtection | all, objects, bulk_create, filter | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ModuleEnvRoleProtectionViewSet | paasng.platform.applications.mixins.ApplicationCodeInPathMixin, rest_framework.viewsets.GenericViewSet | get_envs, list, toggle, batch_save | queryset, serializer_class, permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/evaluation/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/evaluation/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EvaluationConfig | django.apps.AppConfig | ready | name, verbose_name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/evaluation/collectors/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppDeploymentCollector | apiserver.paasng.paasng.platform.evaluation.collectors.deployment.AppDeploymentCollector | 不适用 | module |
| AppResQuotaCollector | apiserver.paasng.paasng.platform.evaluation.collectors.resource.AppResQuotaCollector | 不适用 | module |
| AppUserVisitCollector | apiserver.paasng.paasng.platform.evaluation.collectors.user_visit.AppUserVisitCollector | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/platform/evaluation/collectors/deployment.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | STAG, PROD | module |
| Deployment | paasng.platform.engine.models.Deployment | filter, objects | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EnvSummary | 无 | 无 | 无 | dataclass | 环境资源使用数据 |
| ModuleSummary | 无 | 无 | 无 | dataclass | 模块资源使用数据 |
| AppSummary | 无 | 无 | 无 | dataclass | 应用资源使用数据 |
| AppDeploymentCollector | 无 | __init__, collect, _calc_module_summary, _calc_env_summaries | 无 | 无 | 应用资源历史使用数据采集器 |

---


### 模块: apiserver/paasng/paasng/platform/evaluation/collectors/resource.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| parse_quantity | kubernetes.utils.parse_quantity | 不适用 | module |
| PLAN_TO_REQUEST_QUOTA_MAP | paas_wl.bk_app.cnative.specs.procs.quota.PLAN_TO_REQUEST_QUOTA_MAP | items | module |
| ProcessManager | paas_wl.bk_app.processes.processes.ProcessManager | 不适用 | module |
| MetricsSeriesType | paasng.misc.monitoring.metrics.constants.MetricsSeriesType | CURRENT | module |
| MetricsInstanceResult | paasng.misc.monitoring.metrics.models.MetricsInstanceResult | 不适用 | module |
| get_resource_metric_manager | paasng.misc.monitoring.metrics.models.get_resource_metric_manager | 不适用 | module |
| MetricSmartTimeRange | paasng.misc.monitoring.metrics.utils.MetricSmartTimeRange | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | STAG, PROD | module |
| MetricsType | paasng.platform.engine.constants.MetricsType | value, CPU, MEM | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ResSummary | 无 | 无 | 无 | dataclass | 单类资源使用数据
    单位：
    - CPU 类型资源：m
    - 内存 类型资源：Mi... |
| ResRequirement | 无 | 无 | 无 | dataclass | 资源集合 |
| ResQuota | 无 | 无 | 无 | dataclass | 资源配额方案 |
| ProcSummary | 无 | 无 | 无 | dataclass | 进程资源使用数据 |
| EnvSummary | 无 | 无 | 无 | dataclass | 环境资源使用数据 |
| ModuleSummary | 无 | 无 | 无 | dataclass | 模块资源使用数据 |
| AppSummary | 无 | 无 | 无 | dataclass | 应用资源使用数据 |
| AppResQuotaCollector | 无 | __init__, collect, _calc_module_summary, _calc_env_summary, _calc_proc_summary, _calc_res_summary, _get_proc_res_quota, _format_cpu, _format_memory | 无 | 无 | 应用资源历史使用数据采集器 |

---


### 模块: apiserver/paasng/paasng/platform/evaluation/collectors/user_visit.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| date | datetime.date | today | module |
| timedelta | datetime.timedelta | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| SiteMetricsClient | paasng.accessories.paas_analysis.clients.SiteMetricsClient | 不适用 | module |
| MetricSourceType | paasng.accessories.paas_analysis.constants.MetricSourceType | INGRESS | module |
| get_or_create_site_by_env | paasng.accessories.paas_analysis.services.get_or_create_site_by_env | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | STAG, PROD | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EnvSummary | 无 | 无 | 无 | dataclass | 环境资源使用数据 |
| ModuleSummary | 无 | 无 | 无 | dataclass | 模块资源使用数据 |
| AppSummary | 无 | 无 | 无 | dataclass | 应用资源使用数据 |
| AppUserVisitCollector | 无 | __init__, collect, _calc_module_summary, _calc_env_pv_uv | 无 | 无 | 应用访问数据采集器 |

---


### 模块: apiserver/paasng/paasng/platform/evaluation/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BatchTaskStatus | blue_krill.data_types.enum.StrStructuredEnum | 无 | RUNNING, FINISHED | 无 | 任务状态 |
| EmailNotificationType | blue_krill.data_types.enum.StrStructuredEnum | 无 | IDLE_APP_MODULE_ENVS | 无 | 邮件通知类型 |
| EmailReceiverType | blue_krill.data_types.enum.StrStructuredEnum | 无 | PLAT_ADMIN, APP_DEVELOPER | 无 | 邮件接收者类型 |
| OperationIssueType | blue_krill.data_types.enum.StrStructuredEnum | 无 | NONE, OWNERLESS, IDLE, UNVISITED, MAINTAINLESS, UNDEPLOY, MISCONFIGURED | 无 | 应用运营问题类型 |

---


### 模块: apiserver/paasng/paasng/platform/evaluation/evaluators.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| arrow | get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| timedelta | datetime.timedelta | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| settings | django.conf.settings | BKPAAS_PLATFORM_MANAGERS | module |
| timezone | django.utils.timezone | now | module |
| fetch_application_members | paasng.infras.iam.helpers.fetch_application_members | 不适用 | module |
| AppSummary | paasng.platform.evaluation.collectors.user_visit.AppSummary | 不适用 | module |
| ProcSummary | paasng.platform.evaluation.collectors.resource.ProcSummary | 不适用 | module |
| OperationIssueType | paasng.platform.evaluation.constants.OperationIssueType | NONE, MAINTAINLESS, MISCONFIGURED, UNVISITED, IDLE, UNDEPLOY, OWNERLESS | module |
| AppOperationReport | paasng.platform.evaluation.models.AppOperationReport | 不适用 | module |
| StaffStatusProvider | paasng.platform.evaluation.providers.StaffStatusProvider | 不适用 | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EnvEvaluateResult | 无 | 无 | 无 | dataclass | 环境运营情况评估结果 |
| ModuleEvaluateResult | 无 | 无 | 无 | dataclass | 模块运营情况评估结果 |
| AppEvaluateResult | 无 | 无 | 无 | dataclass | 应用运营情况评估结果 |
| AppOperationEvaluator | 无 | __init__, evaluate, _evaluate_by_operation_history, _evaluate_by_resource_usage, _evaluate_by_user_visit, _evaluate_by_process_status, _evaluate_by_app_members_status, _iter_procs | 无 | 无 | 
    综合各项指标，评估应用运营情况

    注：评估结果有六种，优先级从高到低分别是：
  ... |

---


### 模块: apiserver/paasng/paasng/platform/evaluation/handlers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| receiver | django.dispatch.receiver | 不适用 | module |
| module_environment_offline_success | paasng.platform.applications.signals.module_environment_offline_success | 不适用 | module |
| OfflineOperation | paasng.platform.engine.models.OfflineOperation | 不适用 | module |
| OperationIssueType | paasng.platform.evaluation.constants.OperationIssueType | UNDEPLOY | module |
| AppOperationReport | paasng.platform.evaluation.models.AppOperationReport | filter, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| on_environment_offline_succeed | `@receiver(module_environment_offline_success):` | receiver | 如果某个环境被下架，且运营报告存在，需要及时更新运营报告中该环境的评估结果（避免下架后还出现在闲置应... |


---


### 模块: apiserver/paasng/paasng/platform/evaluation/management/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/evaluation/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/evaluation/management/commands/collect_app_operation_report.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| collect_and_update_app_operation_reports | paasng.platform.evaluation.tasks.collect_and_update_app_operation_reports | delay | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/evaluation/management/commands/send_idle_email_to_app_developer.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| send_idle_email_to_app_developers | paasng.platform.evaluation.tasks.send_idle_email_to_app_developers | delay | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/evaluation/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| paasng.platform.evaluation.constants | OperationIssueType, constants, evaluation, platform | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, IntegerField, FloatField, JSONField, BigIntegerField, DateTimeField, CharField, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/evaluation/migrations/0002_auto_20240530_1152.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.platform.evaluation.constants | BatchTaskStatus, constants, evaluation, platform | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel, RemoveField, AddField | module |
| models | django.db.models | AutoField, DateTimeField, IntegerField, JSONField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/evaluation/migrations/0003_appoperationemailnotificationtask.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.platform.evaluation.constants | BatchTaskStatus, constants, evaluation, platform | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, IntegerField, JSONField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/evaluation/migrations/0004_idleappnotificationmuterule.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.utils.models | BkUserField, models, utils | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/evaluation/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/evaluation/models.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| models | django.db.models | Model, DateTimeField, IntegerField, JSONField, CharField, OneToOneField, CASCADE, FloatField, BigIntegerField | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| BatchTaskStatus | paasng.platform.evaluation.constants.BatchTaskStatus | get_choices, RUNNING | module |
| OperationIssueType | paasng.platform.evaluation.constants.OperationIssueType | NONE | module |
| AuditedModel | paasng.utils.models.AuditedModel | 不适用 | module |
| BkUserField | paasng.utils.models.BkUserField | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppOperationReportCollectionTask | django.db.models.Model | 无 | start_at, end_at, total_count, succeed_count, failed_count, failed_app_codes, status | 无 | 应用运营报告采集任务 |
| AppOperationReport | django.db.models.Model | 无 | app, cpu_requests, mem_requests, cpu_limits, mem_limits, cpu_usage_avg, mem_usage_avg, res_summary, pv, uv, visit_summary, latest_deployed_at, latest_deployer, latest_operated_at, latest_operator, latest_operation, deploy_summary, administrators, developers, issue_type, evaluate_result, collected_at | 无 | 应用运营报告（含资源使用，用户活跃，运维操作等） |
| AppOperationEmailNotificationTask | django.db.models.Model | 无 | start_at, end_at, total_count, succeed_count, failed_count, failed_usernames, notification_type, status | 无 | 应用运营报告邮件通知任务 |
| IdleAppNotificationMuteRule | paasng.utils.models.AuditedModel | 无 | user, app_code, module_name, environment, expired_at | 无 | 闲置应用通知屏蔽规则 |

---


### 模块: apiserver/paasng/paasng/platform/evaluation/notifiers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| arrow | now, get | module |
| humanize | activate, i18n, naturaltime, deactivate | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| user_id_encoder | bkpaas_auth.core.encoder.user_id_encoder | encode | module |
| settings | django.conf.settings | BKPAAS_URL, USER_TYPE | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |
| loader | django.template.loader | render_to_string | module |
| timezone | django.utils.timezone | now | module |
| AppEnvironment | paasng.platform.applications.constants.AppEnvironment | get_choice_label | module |
| EmailReceiverType | paasng.platform.evaluation.constants.EmailReceiverType | PLAT_ADMIN, APP_DEVELOPER | module |
| OperationIssueType | paasng.platform.evaluation.constants.OperationIssueType | OWNERLESS, IDLE, UNVISITED, MAINTAINLESS, UNDEPLOY, MISCONFIGURED | module |
| AppOperationReport | paasng.platform.evaluation.models.AppOperationReport | 不适用 | module |
| IdleAppNotificationMuteRule | paasng.platform.evaluation.models.IdleAppNotificationMuteRule | filter, objects | module |
| dictx | paasng.utils.dictx | get_items | module |
| get_notification_backend | paasng.utils.notifier.get_notification_backend | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppOperationReportNotifier | 无 | send, _gen_plat_admin_email_title_and_content, _gen_app_developers_email_title_and_content | 无 | 无 | 将蓝鲸应用的运营报告发送到指定对象 |

---


### 模块: apiserver/paasng/paasng/platform/evaluation/providers.py



#### 星号导入

| 模块路径 | 代码块 |
|---------|-------|
| apiserver.paasng.paasng.platform.evaluation.providers_ext | module |



#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| StaffStatusProvider | 无 | is_active | 无 | 无 | 提供员工状态 |

---


### 模块: apiserver/paasng/paasng/platform/evaluation/tasks.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| asdict | dataclasses.asdict | 不适用 | module |
| List | typing.List | 不适用 | module |
| shared_task | celery.shared_task | 不适用 | module |
| settings | django.conf.settings | ENABLE_SEND_OPERATION_REPORT_EMAIL_TO_PLAT_MANAGE, BKPAAS_PLATFORM_MANAGERS | module |
| timezone | django.utils.timezone | now | module |
| fetch_role_members | paasng.infras.iam.helpers.fetch_role_members | 不适用 | module |
| ApplicationPermission | paasng.infras.iam.permissions.resources.application.ApplicationPermission | 不适用 | module |
| Operation | paasng.misc.operations.models.Operation | filter, objects | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | ADMINISTRATOR, DEVELOPER | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | ENGINELESS_APP | module |
| Application | paasng.platform.applications.models.Application | exclude, objects, filter | module |
| JustLeaveAppManager | paasng.platform.applications.models.JustLeaveAppManager | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | STAG, PROD | module |
| Deployment | paasng.platform.engine.models.Deployment | filter, objects | module |
| AppDeploymentCollector | paasng.platform.evaluation.collectors.AppDeploymentCollector | 不适用 | module |
| AppResQuotaCollector | paasng.platform.evaluation.collectors.AppResQuotaCollector | 不适用 | module |
| AppUserVisitCollector | paasng.platform.evaluation.collectors.AppUserVisitCollector | 不适用 | module |
| BatchTaskStatus | paasng.platform.evaluation.constants.BatchTaskStatus | FINISHED | module |
| EmailNotificationType | paasng.platform.evaluation.constants.EmailNotificationType | IDLE_APP_MODULE_ENVS | module |
| EmailReceiverType | paasng.platform.evaluation.constants.EmailReceiverType | PLAT_ADMIN, APP_DEVELOPER | module |
| OperationIssueType | paasng.platform.evaluation.constants.OperationIssueType | NONE, IDLE | module |
| AppOperationEvaluator | paasng.platform.evaluation.evaluators.AppOperationEvaluator | 不适用 | module |
| AppOperationEmailNotificationTask | paasng.platform.evaluation.models.AppOperationEmailNotificationTask | create, objects | module |
| AppOperationReport | paasng.platform.evaluation.models.AppOperationReport | update_or_create, objects, exclude, filter | module |
| AppOperationReportCollectionTask | paasng.platform.evaluation.models.AppOperationReportCollectionTask | create, objects | module |
| AppOperationReportNotifier | paasng.platform.evaluation.notifiers.AppOperationReportNotifier | 不适用 | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| collect_and_update_app_operation_reports | `@shared_task:` | shared_task | 采集并更新指定应用的资源使用情况报告 |
| send_idle_email_to_app_developers | `@shared_task:` | shared_task | 发送应用闲置模块邮件给应用管理员/开发者 |


---


### 模块: apiserver/paasng/paasng/platform/evaluation/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path(make_app_pattern('/idle_notification/mute_rules/$', include_envs=True), views.IdleAppNotificationMuteRuleViewSet.as_view({'post': 'create'}), name='api.evaluation.idle_notification_mute_rules')]` | module |



---


### 模块: apiserver/paasng/paasng/platform/evaluation/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| timedelta | datetime.timedelta | 不适用 | module |
| timezone | django.utils.timezone | now | module |
| status | rest_framework.status | HTTP_201_CREATED | module |
| viewsets | rest_framework.viewsets | GenericViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| IdleAppNotificationMuteRule | paasng.platform.evaluation.models.IdleAppNotificationMuteRule | update_or_create, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| IdleAppNotificationMuteRuleViewSet | paasng.platform.applications.mixins.ApplicationCodeInPathMixin, rest_framework.viewsets.GenericViewSet | create | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/app_migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/app_migrations/base.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| time | time | module |
| traceback | format_stack | module |
| six | with_metaclass | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| MigrationFailed | paasng.platform.mgrlegacy.exceptions.MigrationFailed | 不适用 | module |
| MigrationContext | paasng.platform.mgrlegacy.models.MigrationContext | 不适用 | module |
| MigrationRegister | paasng.platform.mgrlegacy.models.MigrationRegister | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseMigration | six.with_metaclass(MigrationRegister) | get_description, __init__, set_log, append_log, add_log, update_ongoing, apply_migration, apply_rollback, get_info, migrate, rollback, get_name, should_skip | 无 | 无 | Base class for application migration |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/app_migrations/basic.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | ENABLE_BK_OAUTH | module |
| post_save | django.db.models.signals.post_save | disconnect, connect | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | filter, objects | module |
| application_oauth_handler | paasng.accessories.publish.sync_market.handlers.application_oauth_handler | 不适用 | module |
| BKIAMGatewayServiceError | paasng.infras.iam.exceptions.BKIAMGatewayServiceError | 不适用 | module |
| add_role_members | paasng.infras.iam.helpers.add_role_members | 不适用 | module |
| OAuth2Client | paasng.infras.oauth2.models.OAuth2Client | get_or_create, objects, filter | module |
| ApplicationCleaner | paasng.platform.applications.cleaner.ApplicationCleaner | 不适用 | module |
| AppFeatureFlag | paasng.platform.applications.constants.AppFeatureFlag | ENABLE_BK_LOG_COLLECTOR | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | ENGINELESS_APP, CLOUD_NATIVE | module |
| turn_on_bk_log_feature | paasng.platform.applications.handlers.turn_on_bk_log_feature | 不适用 | module |
| register_builtin_user_groups_and_grade_manager | paasng.platform.applications.helpers.register_builtin_user_groups_and_grade_manager | 不适用 | module |
| Application | paasng.platform.applications.models.Application | update_or_create, objects, filter | module |
| ApplicationFeatureFlag | paasng.platform.applications.models.ApplicationFeatureFlag | filter, objects | module |
| create_default_module | paasng.platform.applications.utils.create_default_module | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | BUILDPACK | module |
| EngineApp | paasng.platform.engine.models.EngineApp | filter, objects | module |
| AppMember | paasng.platform.mgrlegacy.constants.AppMember | 不适用 | module |
| MigrationProcess | paasng.platform.mgrlegacy.models.MigrationProcess | filter, objects | module |
| ExposedURLType | paasng.platform.modules.constants.ExposedURLType | value, SUBPATH | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | S_MART, AUTHORIZED_VCS | module |
| ModuleInitializer | paasng.platform.modules.manager.ModuleInitializer | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| error_codes | paasng.utils.error_codes.error_codes | f, INITIALIZE_APP_MEMBERS_ERROR | module |
| BaseMigration | apiserver.paasng.paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseObjectMigration | apiserver.paasng.paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | get_description, migrate, rollback, _get_type | 无 | 无 | 
    Migrate application object, must happen first... |
| MainInfoMigration | apiserver.paasng.paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | get_description, add_application_role, add_engine_app, migrate, rollback | 无 | 无 | Migrate main information of application, must happ... |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/app_migrations/egress_gateway.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| IntegrityError | django.db.utils.IntegrityError | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| RCStateAppBinding | paas_wl.workloads.networking.egress.models.RCStateAppBinding | create, objects, get | module |
| RegionClusterState | paas_wl.workloads.networking.egress.models.RegionClusterState | filter, objects | module |
| BaseMigration | apiserver.paasng.paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EgressGatewayMigration | apiserver.paasng.paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | migrate, rollback, get_description | 无 | 无 | A Migration Process To enable app egress gateway |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/app_migrations/entrance.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| set_migrated_state | paasng.accessories.publish.sync_market.utils.set_migrated_state | 不适用 | module |
| post_change_app_router | paasng.core.signals.post_change_app_router | send | module |
| rollback_change_app_router | paasng.core.signals.rollback_change_app_router | send | module |
| BaseMigration | apiserver.paasng.paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EntranceMigration | apiserver.paasng.paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | get_description, migrate, rollback | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/app_migrations/envs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | BK_PAAS2_URL, BK_PAAS2_INNER_URL, BK_PAAS2_PLATFORM_ENVS | module |
| BaseEnvironmentVariableMigration | paasng.platform.mgrlegacy.app_migrations.envs_base.BaseEnvironmentVariableMigration | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DefaultEnvironmentVariableMigration | paasng.platform.mgrlegacy.app_migrations.envs_base.BaseEnvironmentVariableMigration | get_global_envs, get_stag_envs, get_prod_envs | 无 | 无 | 私有化版本环境变量迁移，Mysql 和 RabbitMQ 的环境变量通过增强服务迁移 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/app_migrations/envs_base.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| asdict | dataclasses.asdict | 不适用 | module |
| groupby | itertools.groupby | 不适用 | module |
| attrgetter | operator.attrgetter | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| AppEnvVarManger | paasng.accessories.publish.sync_market.managers.AppEnvVarManger | 不适用 | module |
| console_db | paasng.core.core.storages.sqlalchemy.console_db | get_scoped_session | module |
| EnvItem | paasng.infras.legacydb.entities.EnvItem | 不适用 | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | get_choices, value, STAG, PROD, GLOBAL | module |
| ENVIRONMENT_ID_FOR_GLOBAL | paasng.platform.engine.models.config_var.ENVIRONMENT_ID_FOR_GLOBAL | 不适用 | module |
| ConfigVar | paasng.platform.engine.models.config_var.ConfigVar | bulk_create, objects, filter | module |
| BaseMigration | paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | 不适用 | module |
| ApplicationEnvironment | paasng.platform.applications.models.ApplicationEnvironment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseEnvironmentVariableMigration | paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | get_description, _get_environment, _add_environment_variable, get_global_envs, get_stag_envs, get_prod_envs, get_custom_envs, transform_system_envs, handle_env, migrate, rollback | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/app_migrations/market.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| ProductSourceUrlType | paasng.accessories.publish.market.constant.ProductSourceUrlType | value, THIRD_PARTY | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | update_or_create, objects, filter | module |
| BaseMigration | paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MarketMigration | paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | get_description, migrate, rollback | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/app_migrations/product.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| DisplayOptions | paasng.accessories.publish.market.models.DisplayOptions | create, objects, filter | module |
| Product | paasng.accessories.publish.market.models.Product | create, objects, filter | module |
| Tag | paasng.accessories.publish.market.models.Tag | filter, objects | module |
| product_create_or_update_by_operator | paasng.accessories.publish.market.signals.product_create_or_update_by_operator | send | module |
| TagMap | paasng.accessories.publish.sync_market.models.TagMap | get, objects | module |
| BaseMigration | paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProductMigration | paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | get_description, migrate, rollback | 无 | 无 | Create Product without sync to bk_console |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/app_migrations/service.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| logging | getLogger | module |
| uuid | UUID | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ClassVar | typing.ClassVar | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| LEGACY_PLAN_ID | paasng.accessories.servicehub.constants.LEGACY_PLAN_ID | 不适用 | module |
| LEGACY_PLAN_INSTANCE | paasng.accessories.servicehub.constants.LEGACY_PLAN_INSTANCE | 不适用 | module |
| LocalPlainInstanceMgr | paasng.accessories.servicehub.local.manager.LocalPlainInstanceMgr | 不适用 | module |
| LocalServiceObj | paasng.accessories.servicehub.local.manager.LocalServiceObj | 不适用 | module |
| LocalServiceMgr | paasng.accessories.servicehub.manager.LocalServiceMgr | 不适用 | module |
| RemoteServiceMgr | paasng.accessories.servicehub.manager.RemoteServiceMgr | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | find_by_name, bind_service | module |
| RemoteServiceEngineAppAttachment | paasng.accessories.servicehub.models.RemoteServiceEngineAppAttachment | 不适用 | module |
| ServiceEngineAppAttachment | paasng.accessories.servicehub.models.ServiceEngineAppAttachment | 不适用 | module |
| RemotePlainInstanceMgr | paasng.accessories.servicehub.remote.manager.RemotePlainInstanceMgr | 不适用 | module |
| get_remote_store | paasng.accessories.servicehub.remote.store.get_remote_store | 不适用 | module |
| PlainInstanceMgr | paasng.accessories.servicehub.services.PlainInstanceMgr | 不适用 | module |
| Plan | paasng.accessories.services.models.Plan | get_or_create, objects | module |
| ServiceInstance | paasng.accessories.services.models.ServiceInstance | create, objects, filter | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | STAG, PROD | module |
| BaseMigration | paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| local_service_mgr | 不适用 | `local_service_mgr = LocalServiceMgr()` | module |
| remote_service_mgr | 不适用 | `remote_service_mgr = RemoteServiceMgr(get_remote_store())` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LegacyBaseServiceMigration | paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | get_service, _bind_service, _get_environment_attachment, _add_service_instance, get_stag_service_data, get_prod_service_data, get_service_data, migrate, rollback | 无 | 无 | 不适用 |
| BaseServiceMigration | paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | migrate, rollback, get_service, bind_service_to_default_module, bind_default_plan_as_fallback, migrate_service_instance, rollback_service_instance, get_engine_app_attachment, get_service_instance_info, get_instance_mgr, get_stag_service_instance_info, get_prod_service_instance_info, get_plan_uuid | 无 | 无 | 不适用 |
| BaseLocalServiceMigration | BaseServiceMigration | get_plan_uuid, get_instance_mgr | service_mgr, engine_app_attachment_cls | 无 | 不适用 |
| BaseRemoteServiceMigration | BaseServiceMigration | get_plan_uuid, get_instance_mgr | service_mgr, engine_app_attachment_cls | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/app_migrations/service_mysql.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| AppSecureInfoManger | paasng.accessories.publish.sync_market.managers.AppSecureInfoManger | 不适用 | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | value, STAG, PROD | module |
| ConfigVar | paasng.platform.engine.models.config_var.ConfigVar | bulk_create, objects | module |
| BaseRemoteServiceMigration | paasng.platform.mgrlegacy.app_migrations.service.BaseRemoteServiceMigration | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MysqlServiceMigration | paasng.platform.mgrlegacy.app_migrations.service.BaseRemoteServiceMigration | get_description, should_skip, _add_envs, get_stag_service_instance_info, get_prod_service_instance_info | service_name | 无 | only enabled for smart app(not normal app) |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/app_migrations/service_rabbitmq.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | 不适用 | module |
| ConfigVar | paasng.platform.engine.models.config_var.ConfigVar | create, objects | module |
| BaseRemoteServiceMigration | paasng.platform.mgrlegacy.app_migrations.service.BaseRemoteServiceMigration | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RabbitMQServiceMigration | paasng.platform.mgrlegacy.app_migrations.service.BaseRemoteServiceMigration | get_description, migrate, rollback_service_instance, should_skip, get_default_service_instance_info, get_stag_service_instance_info, get_prod_service_instance_info | service_name | 无 | RabbitMQ 增强服务迁移

    逻辑介绍:
    - 不迁移 rabbitmq 实例, ... |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/app_migrations/sourcectl.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppManger | paasng.accessories.publish.sync_market.managers.AppManger | 不适用 | module |
| AppSecureInfoManger | paasng.accessories.publish.sync_market.managers.AppSecureInfoManger | 不适用 | module |
| console_db | paasng.core.core.storages.sqlalchemy.console_db | get_scoped_session | module |
| BaseMigration | paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | 不适用 | module |
| get_repo_connector | paasng.platform.sourcectl.connector.get_repo_connector | 不适用 | module |
| upload_package_via_url | paasng.platform.sourcectl.package.uploader.upload_package_via_url | 不适用 | module |
| get_sourcectl_names | paasng.platform.sourcectl.source_types.get_sourcectl_names | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SourceControlMigration | paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | get_description, should_skip, migrate, rollback | 无 | 无 | Migrate source control data, only enabled for norm... |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AddonsUrlRegister | paasng.utils.addons.AddonsUrlRegister | 不适用 | module |
| PlugableAppConfig | paasng.utils.addons.PlugableAppConfig | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |
| urlpatterns | apiserver.paasng.paasng.platform.mgrlegacy.urls.urlpatterns | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| contribute_to_app | `def contribute_to_app(app_name):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MgrlegacyConfig | paasng.utils.addons.PlugableAppConfig | 无 | name, default | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/cnative_migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/cnative_migrations/application.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | CLOUD_NATIVE, DEFAULT | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, DEFAULT, CLOUD_NATIVE | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| DefaultAppLegacyData | paasng.platform.mgrlegacy.entities.DefaultAppLegacyData | 不适用 | module |
| PreCheckMigrationFailed | paasng.platform.mgrlegacy.exceptions.PreCheckMigrationFailed | 不适用 | module |
| CNativeBaseMigrator | apiserver.paasng.paasng.platform.mgrlegacy.cnative_migrations.base.CNativeBaseMigrator | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationTypeMigrator | apiserver.paasng.paasng.platform.mgrlegacy.cnative_migrations.base.CNativeBaseMigrator | _generate_legacy_data, _can_migrate_or_raise, _migrate, _rollback, _update_wl_app_type, _get_wl_app_type | 无 | 无 | ApplicationTypeMigrator to migrate the type field ... |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/cnative_migrations/base.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ABC | abc.ABC | 不适用 | module |
| abstractmethod | abc.abstractmethod | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| DefaultAppLegacyData | paasng.platform.mgrlegacy.entities.DefaultAppLegacyData | 不适用 | module |
| BackupLegacyDataFailed | paasng.platform.mgrlegacy.exceptions.BackupLegacyDataFailed | 不适用 | module |
| MigrationFailed | paasng.platform.mgrlegacy.exceptions.MigrationFailed | 不适用 | module |
| RollbackFailed | paasng.platform.mgrlegacy.exceptions.RollbackFailed | 不适用 | module |
| CNativeMigrationProcess | paasng.platform.mgrlegacy.models.CNativeMigrationProcess | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CNativeBaseMigrator | abc.ABC | __init__, __init_subclass__, get_class, get_name, migrate, rollback, _backup_legacy_data, _generate_legacy_data, _migrate, _can_migrate_or_raise, _rollback | 无 | 无 | cloud-native base migrator

    :param migration_p... |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/cnative_migrations/build_config.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ABC | abc.ABC | 不适用 | module |
| abstractmethod | abc.abstractmethod | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, CLOUD_NATIVE | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | BUILDPACK, CUSTOM_IMAGE, value | module |
| BuildLegacyData | paasng.platform.mgrlegacy.entities.BuildLegacyData | 不适用 | module |
| DefaultAppLegacyData | paasng.platform.mgrlegacy.entities.DefaultAppLegacyData | 不适用 | module |
| PreCheckMigrationFailed | paasng.platform.mgrlegacy.exceptions.PreCheckMigrationFailed | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | value, CNATIVE_IMAGE | module |
| ModuleRuntimeBinder | paasng.platform.modules.helpers.ModuleRuntimeBinder | 不适用 | module |
| ModuleInitializer | paasng.platform.modules.manager.ModuleInitializer | 不适用 | module |
| AppBuildPack | paasng.platform.modules.models.AppBuildPack | get, objects | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | get, objects | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | get, objects | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects, filter | module |
| SourceOriginSpecs | paasng.platform.modules.specs.SourceOriginSpecs | get | module |
| CNativeBaseMigrator | apiserver.paasng.paasng.platform.mgrlegacy.cnative_migrations.base.CNativeBaseMigrator | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BuildConfigMigrator | apiserver.paasng.paasng.platform.mgrlegacy.cnative_migrations.base.CNativeBaseMigrator | _generate_legacy_data, _can_migrate_or_raise, _migrate, _rollback | 无 | 无 | BuildConfigMigrator to migrate the app all build c... |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/cnative_migrations/cluster.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, CLOUD_NATIVE | module |
| ClusterLegacyData | paasng.platform.mgrlegacy.entities.ClusterLegacyData | 不适用 | module |
| DefaultAppLegacyData | paasng.platform.mgrlegacy.entities.DefaultAppLegacyData | 不适用 | module |
| PreCheckMigrationFailed | paasng.platform.mgrlegacy.exceptions.PreCheckMigrationFailed | 不适用 | module |
| get_cnative_target_cluster | paasng.platform.mgrlegacy.utils.get_cnative_target_cluster | 不适用 | module |
| CNativeBaseMigrator | apiserver.paasng.paasng.platform.mgrlegacy.cnative_migrations.base.CNativeBaseMigrator | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApplicationClusterMigrator | apiserver.paasng.paasng.platform.mgrlegacy.cnative_migrations.base.CNativeBaseMigrator | _generate_legacy_data, _can_migrate_or_raise, _migrate, _rollback | 无 | 无 | ApplicationClusterMigrator to migrate the relation... |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/cnative_migrations/wl_app.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| model_to_dict | django.forms.models.model_to_dict | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.app.WlApp | create, objects, filter, get | module |
| Config | paas_wl.bk_app.applications.models.config.Config | update_or_create, objects | module |
| Release | paas_wl.bk_app.applications.models.release.Release | get_latest, objects, create, DoesNotExist | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, DEFAULT | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| DefaultAppLegacyData | paasng.platform.mgrlegacy.entities.DefaultAppLegacyData | 不适用 | module |
| PreCheckMigrationFailed | paasng.platform.mgrlegacy.exceptions.PreCheckMigrationFailed | 不适用 | module |
| WlAppBackupRel | paasng.platform.mgrlegacy.models.WlAppBackupRel | create, objects, get, DoesNotExist | module |
| CNativeBaseMigrator | apiserver.paasng.paasng.platform.mgrlegacy.cnative_migrations.base.CNativeBaseMigrator | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| WlAppBackupMigrator | apiserver.paasng.paasng.platform.mgrlegacy.cnative_migrations.base.CNativeBaseMigrator | _can_migrate_or_raise, _generate_legacy_data, _migrate, _rollback | 无 | 无 | 不适用 |
| WlAppBackupManager | 无 | __init__, create, delete, get | 无 | 无 | WlApp 备份管理器 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| ChoicesEnum | paasng.utils.basic.ChoicesEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MigrationStatus | paasng.utils.basic.ChoicesEnum | get_active_states, check_active | DEFAULT, ON_MIGRATION, FAILED, DONE_MIGRATION, ON_ROLLBACK, ROLLBACKED, ON_CONFIRMING, CONFIRMED, ROLLBACK_FAILED, _choices_labels, _active_states | 无 | 
    new status flow
    start -> ON_MIGRATION -> ... |
| LegacyAppTag | paasng.utils.basic.ChoicesEnum | 无 | SUPPORT, NOT_SUPPORT, ON_MIGRATION, FINISHED_MIGRATION, _choices_labels | 无 | 不适用 |
| LegacyAppState | paasng.utils.basic.ChoicesEnum | 无 | OUTLINE, DEVELOPMENT, TEST, ONLINE, IN_TEST, IN_ONLINE, IN_OUTLINE, _choices_labels | 无 | 命名保持跟 PaaS2.0 一致，方便核对 |
| AppMember | 无 | 无 | 无 | dataclass | 不适用 |
| CNativeMigrationStatus | blue_krill.data_types.enum.StrStructuredEnum | 无 | DEFAULT, ON_MIGRATION, MIGRATION_SUCCEEDED, MIGRATION_FAILED, CONFIRMED, ON_ROLLBACK, ROLLBACK_SUCCEEDED, ROLLBACK_FAILED, NO_NEED_MIGRATION | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, DEFAULT | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | 不适用 | module |
| register | paasng.utils.structure.register | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| RollbackResult | 不适用 | `RollbackResult = MigrationResult` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ClusterLegacyData | pydantic.BaseModel | 无 | 无 | register | Cluster info before migration |
| BuildLegacyData | pydantic.BaseModel | 无 | 无 | register | Build config info before migration |
| DefaultAppLegacyData | pydantic.BaseModel | 无 | 无 | register | Data before migration, used for rollback |
| MigrationResult | pydantic.BaseModel | 无 | 无 | register | 
    Record the result when the migrator performs ... |
| ProcessDetails | pydantic.BaseModel | 无 | 无 | register | Details of migration or rollback process |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MigrationFailed | Exception | 无 | 无 | 无 | 不适用 |
| NotSupportError | Exception | 无 | 无 | 无 | 不适用 |
| PreCheckMigrationFailed | Exception | 无 | 无 | 无 | Pre-check migrate failed |
| BackupLegacyDataFailed | Exception | 无 | 无 | 无 | Backup legacy data failed |
| RollbackFailed | Exception | 无 | 无 | 无 | rollback failed |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/legacy_proxy.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| requests | get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| user_id_encoder | bkpaas_auth.models.user_id_encoder | encode | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME, BK_PAAS2_URL, APPLICATION_DEFAULT_LOGO, USER_TYPE | module |
| ContentFile | django.core.files.base.ContentFile | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| AppType | paasng.accessories.publish.market.constant.AppType | value, THIRD_PARTY, PAAS_APP | module |
| AppEnvVarManger | paasng.accessories.publish.sync_market.managers.AppEnvVarManger | 不适用 | module |
| AppSecureInfoManger | paasng.accessories.publish.sync_market.managers.AppSecureInfoManger | 不适用 | module |
| AppLanguage | paasng.platform.applications.constants.AppLanguage | value, PYTHON, JAVA | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | value, ADMINISTRATOR | module |
| AppMember | paasng.platform.mgrlegacy.constants.AppMember | 不适用 | module |
| LegacyAppState | paasng.platform.mgrlegacy.constants.LegacyAppState | value, OUTLINE, DEVELOPMENT | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LegacyAppProxy | 无 | __init__, is_from_legacy_v1, to_paasv3_region, is_smart, legacy_url, is_third_app, _get_app_type, is_supported, is_celery_enabled, is_celery_beat_enabled, get_source_init_template, get_language, get_secret_key, get_unified_password, get_environment_vars, get_logo_url, get_logo_filename, get_logo_file, is_prod_deployed, is_stag_deployed, has_prod_deployed, has_stag_deployed, offline_url, get_app_members, get_app_creator_id, get_app_description, get_app_type, is_app_resizable | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/management/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/management/commands/make_legacy_app_for_test.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| random | choices | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ArgumentParser | argparse.ArgumentParser | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| method_decorator | django.utils.decorators.method_decorator | 不适用 | module |
| RegionConverter | paasng.accessories.publish.sync_market.constant.RegionConverter | to_new | module |
| AppDeveloperManger | paasng.accessories.publish.sync_market.managers.AppDeveloperManger | 不适用 | module |
| AppManger | paasng.accessories.publish.sync_market.managers.AppManger | 不适用 | module |
| AppTagManger | paasng.accessories.publish.sync_market.managers.AppTagManger | 不适用 | module |
| TagMap | paasng.accessories.publish.sync_market.models.TagMap | first, objects, create | module |
| market_models | paasng.accessories.publish.sync_market.models.market_models | get_or_create, objects, Tag | module |
| run_required_db_console_config | paasng.accessories.publish.sync_market.utils.run_required_db_console_config | 不适用 | module |
| console_db | paasng.core.core.storages.sqlalchemy.console_db | session_scope | module |
| get_random_secret_key | paasng.infras.oauth2.utils.get_random_secret_key | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle, get_or_create_legacy_app, random_str, get_or_create_tagmap | 无 | 无 | 创建提供给`单元测试`使用或`本地测试一键迁移`的 legacy app
    Usage:
  ... |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/migrate.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| traceback | format_stack | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| suppress | contextlib.suppress | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| AppManger | paasng.accessories.publish.sync_market.managers.AppManger | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, DEFAULT | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| CNativeBaseMigrator | paasng.platform.mgrlegacy.cnative_migrations.base.CNativeBaseMigrator | get_class | module |
| CNativeMigrationStatus | paasng.platform.mgrlegacy.constants.CNativeMigrationStatus | value, DEFAULT, NO_NEED_MIGRATION | module |
| MigrationStatus | paasng.platform.mgrlegacy.constants.MigrationStatus | value, ON_MIGRATION, ON_ROLLBACK | module |
| MigrationResult | paasng.platform.mgrlegacy.entities.MigrationResult | 不适用 | module |
| RollbackResult | paasng.platform.mgrlegacy.entities.RollbackResult | 不适用 | module |
| BackupLegacyDataFailed | paasng.platform.mgrlegacy.exceptions.BackupLegacyDataFailed | 不适用 | module |
| MigrationFailed | paasng.platform.mgrlegacy.exceptions.MigrationFailed | 不适用 | module |
| PreCheckMigrationFailed | paasng.platform.mgrlegacy.exceptions.PreCheckMigrationFailed | 不适用 | module |
| RollbackFailed | paasng.platform.mgrlegacy.exceptions.RollbackFailed | 不适用 | module |
| CNativeMigrationProcess | paasng.platform.mgrlegacy.models.CNativeMigrationProcess | filter, objects, DoesNotExist | module |
| MigrationContext | paasng.platform.mgrlegacy.models.MigrationContext | 不适用 | module |
| MigrationRegister | paasng.platform.mgrlegacy.models.MigrationRegister | get_class | module |
| CNativeMigrationProcessSLZ | paasng.platform.mgrlegacy.serializers.CNativeMigrationProcessSLZ | 不适用 | module |
| MIGRATE_TO_CNATIVE_CLASSES_LIST | paasng.platform.mgrlegacy.task_data.MIGRATE_TO_CNATIVE_CLASSES_LIST | 不适用 | module |
| LegacyAppProxy | paasng.platform.mgrlegacy.legacy_proxy.LegacyAppProxy | 不适用 | module |
| MIGRATION_CLASSES_LIST | paasng.platform.mgrlegacy.task_data.MIGRATION_CLASSES_LIST | 不适用 | module |
| THIRD_APP_MIGRATION_CLASSES_LIST | paasng.platform.mgrlegacy.task_data.THIRD_APP_MIGRATION_CLASSES_LIST | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| run_migration | `def run_migration(migration_process, session):` | 无 | 不适用 |
| run_single_migration | `def run_single_migration(migration_process, migration_class, session):` | 无 | 不适用 |
| run_rollback | `def run_rollback(migration_process, session):` | 无 | Rollback an finished migration process

    :param... |
| run_single_rollback | `def run_single_rollback(migration_process, migration_class, session):` | 无 | 不适用 |
| migrate_default_to_cnative | `def migrate_default_to_cnative(migration_process: CNativeMigrationProcess):` | 无 | 
    migrate default app to cloud-native app. auto... |
| rollback_cnative_to_default | `def rollback_cnative_to_default(rollback_process: CNativeMigrationProcess, last_migration_process: CNativeMigrationProcess):` | 无 | rollback cloud-native app to default app

    :par... |
| get_migration_process_status | `def get_migration_process_status(app: Application) -> Dict[str, str]:` | 无 | get cnative migration process status

    :param a... |


---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| jsonfield.fields | JSONField, fields | module |
| paasng.utils.models | BkUserField, models, utils | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, IntegerField, BooleanField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/migrations/0002_auto_20211130_1129.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/migrations/0003_cnativemigrationprocess.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| paasng.platform.mgrlegacy.entities | BkUserField, models, utils, DefaultAppLegacyDataField, mgrlegacy, platform, DefaultAppLegacyData, entities, ProcessDetailsField, ProcessDetails | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/migrations/0004_wlappbackuprel.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, UUIDField, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/migrations/0005_auto_20240606_2254.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterModelOptions, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | now, datetime | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| itemgetter | operator.itemgetter | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| models | django.db.models | Manager, IntegerField, ForeignKey, CASCADE, DateTimeField, CharField, BooleanField, OneToOneField, UUIDField | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ApplicationEnvironment | paasng.platform.applications.models.ApplicationEnvironment | 不适用 | module |
| CNativeMigrationStatus | paasng.platform.mgrlegacy.constants.CNativeMigrationStatus | get_choices, value, DEFAULT, ON_MIGRATION, ON_ROLLBACK, MIGRATION_SUCCEEDED, MIGRATION_FAILED, ROLLBACK_SUCCEEDED, ROLLBACK_FAILED, CONFIRMED | module |
| MigrationStatus | paasng.platform.mgrlegacy.constants.MigrationStatus | get_active_states, value, DEFAULT, get_choices, ON_MIGRATION, FAILED, CONFIRMED, ROLLBACKED, DONE_MIGRATION | module |
| OwnerTimestampedModel | paasng.utils.models.OwnerTimestampedModel | 不适用 | module |
| TimestampedModel | paasng.utils.models.TimestampedModel | 不适用 | module |
| make_json_field | paasng.utils.models.make_json_field | 不适用 | module |
| DefaultAppLegacyData | apiserver.paasng.paasng.platform.mgrlegacy.entities.DefaultAppLegacyData | 不适用 | module |
| MigrationResult | apiserver.paasng.paasng.platform.mgrlegacy.entities.MigrationResult | 不适用 | module |
| ProcessDetails | apiserver.paasng.paasng.platform.mgrlegacy.entities.ProcessDetails | 不适用 | module |
| RollbackResult | apiserver.paasng.paasng.platform.mgrlegacy.entities.RollbackResult | 不适用 | module |
| LegacyAppProxy | paasng.platform.mgrlegacy.legacy_proxy.LegacyAppProxy | 不适用 | module |
| AppManger | paasng.accessories.publish.sync_market.managers.AppManger | 不适用 | module |
| migrate_with_rollback_on_failure | apiserver.paasng.paasng.platform.mgrlegacy.tasks.migrate_with_rollback_on_failure | apply_async | module |
| rollback_migration_process | apiserver.paasng.paasng.platform.mgrlegacy.tasks.rollback_migration_process | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| DefaultAppLegacyDataField | 不适用 | `DefaultAppLegacyDataField = make_json_field('DefaultAppLegacyDataField', DefaultAppLegacyData)` | module |
| ProcessDetailsField | 不适用 | `ProcessDetailsField = make_json_field('ProcessDetailsField', ProcessDetails)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MigrationProcessManager | django.db.models.Manager | get_or_create_migration_process_for_legacy | 无 | 无 | 不适用 |
| MigrationProcess | paasng.utils.models.OwnerTimestampedModel | on_migration, failed, confirmed, rollbacked, is_v3_prod_available, is_v3_stag_available, set_app, set_ongoing, append_migration, append_rollback, fail_on, set_status, set_done_migrate_state, set_rollback_state, set_confirmed_state, is_active, run, rollback, finished_operations, __repr__, __str__ | legacy_app_id, app, status, failed_date, migrated_date, confirmed_date, rollbacked_date, ongoing_migration, finished_migrations, finished_rollbacks, legacy_app_logo, legacy_app_is_already_online, legacy_app_state, legacy_app_has_all_deployed, objects | 无 | An migration process |
| CNativeMigrationProcess | paasng.utils.models.OwnerTimestampedModel | create_migration_process, create_rollback_process, is_active, append_migration, append_rollback, finish_migration, finish_rollback, confirm | app, status, created_at, confirm_at | 无 | 不适用 |
| MigrationContext | 无 | __init__ | 无 | 无 | Migration context |
| MigrationRegister | type | __new__, get_class | 无 | 无 | 不适用 |
| WlAppBackupRel | paasng.utils.models.TimestampedModel | 无 | app_environment, original_id, backup_id | 无 | WlApp 的备份关系表 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, CharField, BooleanField, FloatField, IntegerField, ListField, DateTimeField, ModelSerializer, HiddenField, CurrentUserDefault, ChoiceField, SerializerMethodField, DictField | module |
| InstanceListSLZ | paas_wl.bk_app.processes.serializers.InstanceListSLZ | 不适用 | module |
| ProcessListSLZ | paas_wl.bk_app.processes.serializers.ProcessListSLZ | 不适用 | module |
| CNativeMigrationStatus | paasng.platform.mgrlegacy.constants.CNativeMigrationStatus | value, MIGRATION_FAILED, ROLLBACK_FAILED | module |
| CNativeMigrationProcess | paasng.platform.mgrlegacy.models.CNativeMigrationProcess | 不适用 | module |
| MigrationProcess | paasng.platform.mgrlegacy.models.MigrationProcess | 不适用 | module |
| DjangoTranslatedCharField | paasng.utils.i18n.serializers.DjangoTranslatedCharField | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MigrationRunResult | rest_framework.serializers.Serializer | 无 | name, description, failed_reason, log, successful, apply_type, finished, msecs_cost, created_ts | 无 | migration 步骤执行结果 |
| LegacyAppSLZ | rest_framework.serializers.Serializer | 无 | category, legacy_app_id, code, name, logo, tag, not_support_reasons, language, created, latest_migration_id, finished_migration, is_active, is_prod_deployed, has_prod_deployed_before_migration, stag_exposed_link, prod_exposed_link, region, migration_finished_date, legacy_url | 无 | 不适用 |
| LegacyAppStateSLZ | rest_framework.serializers.Serializer | 无 | is_prod_deployed, is_stag_deployed, offline_url, is_third_app | 无 | 不适用 |
| MigrationProcessCreateSLZ | rest_framework.serializers.ModelSerializer | 无 | legacy_app_id, owner | 无 | 不适用 |
| MigrationProcessDetailSLZ | rest_framework.serializers.ModelSerializer | 无 | ongoing_migration, finished_migrations, finished_rollbacks, finished_operations, is_active, is_v3_prod_available, is_v3_stag_available | 无 | 不适用 |
| MigrationProcessOperateSLZ | rest_framework.serializers.Serializer | 无 | 无 | 无 | 不适用 |
| MigrationProcessConfirmSLZ | rest_framework.serializers.Serializer | 无 | 无 | 无 | 不适用 |
| QueryMigrationAppSLZ | rest_framework.serializers.Serializer | 无 | result_type | 无 | 不适用 |
| ApplicationMigrationInfoSLZ | rest_framework.serializers.Serializer | 无 | is_need_alert_migration_timeout | 无 | 不适用 |
| CNativeMigrationProcessSLZ | rest_framework.serializers.ModelSerializer | get_error_msg, get_details | error_msg, details | 无 | 不适用 |
| ListProcessesSLZ | rest_framework.serializers.Serializer | 无 | processes, instances, process_packages | 无 | 不适用 |
| ChecklistInfoSLZ | rest_framework.serializers.Serializer | 无 | root_domains, namespaces, rcs_bindings | 无 | 普通应用迁移云原生应用前的差异化数据 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/task_data.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| BaseObjectMigration | apiserver.paasng.paasng.platform.mgrlegacy.app_migrations.basic.BaseObjectMigration | 不适用 | module |
| MainInfoMigration | apiserver.paasng.paasng.platform.mgrlegacy.app_migrations.basic.MainInfoMigration | 不适用 | module |
| EgressGatewayMigration | apiserver.paasng.paasng.platform.mgrlegacy.app_migrations.egress_gateway.EgressGatewayMigration | 不适用 | module |
| DefaultEnvironmentVariableMigration | apiserver.paasng.paasng.platform.mgrlegacy.app_migrations.envs.DefaultEnvironmentVariableMigration | 不适用 | module |
| MarketMigration | apiserver.paasng.paasng.platform.mgrlegacy.app_migrations.market.MarketMigration | 不适用 | module |
| ProductMigration | apiserver.paasng.paasng.platform.mgrlegacy.app_migrations.product.ProductMigration | 不适用 | module |
| MysqlServiceMigration | apiserver.paasng.paasng.platform.mgrlegacy.app_migrations.service_mysql.MysqlServiceMigration | 不适用 | module |
| RabbitMQServiceMigration | apiserver.paasng.paasng.platform.mgrlegacy.app_migrations.service_rabbitmq.RabbitMQServiceMigration | 不适用 | module |
| SourceControlMigration | apiserver.paasng.paasng.platform.mgrlegacy.app_migrations.sourcectl.SourceControlMigration | 不适用 | module |
| ApplicationTypeMigrator | apiserver.paasng.paasng.platform.mgrlegacy.cnative_migrations.application.ApplicationTypeMigrator | 不适用 | module |
| CNativeBaseMigrator | apiserver.paasng.paasng.platform.mgrlegacy.cnative_migrations.base.CNativeBaseMigrator | 不适用 | module |
| BuildConfigMigrator | apiserver.paasng.paasng.platform.mgrlegacy.cnative_migrations.build_config.BuildConfigMigrator | 不适用 | module |
| ApplicationClusterMigrator | apiserver.paasng.paasng.platform.mgrlegacy.cnative_migrations.cluster.ApplicationClusterMigrator | 不适用 | module |
| WlAppBackupMigrator | apiserver.paasng.paasng.platform.mgrlegacy.cnative_migrations.wl_app.WlAppBackupMigrator | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| MIGRATION_CLASSES_LIST | 不适用 | `MIGRATION_CLASSES_LIST = [BaseObjectMigration, MainInfoMigration, SourceControlMigration, ProductMigration, DefaultEnvironmentVariableMigration, MysqlServiceMigration, RabbitMQServiceMigration, EgressGatewayMigration]` | module |
| THIRD_APP_MIGRATION_CLASSES_LIST | 不适用 | `THIRD_APP_MIGRATION_CLASSES_LIST = [BaseObjectMigration, MainInfoMigration, ProductMigration, MarketMigration]` | module |



---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/tasks.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| shared_task | celery.shared_task | 不适用 | module |
| NamespacesHandler | paas_wl.bk_app.deploy.app_res.controllers.NamespacesHandler | new_by_app | module |
| get_entrances | paas_wl.workloads.networking.entrance.entrance.get_entrances | 不适用 | module |
| ModuleEntrancesSLZ | paas_wl.workloads.networking.entrance.serializers.ModuleEntrancesSLZ | 不适用 | module |
| sync_external_url_to_market | paasng.accessories.publish.sync_market.handlers.sync_external_url_to_market | 不适用 | module |
| console_db | paasng.core.core.storages.sqlalchemy.console_db | session_scope | module |
| migrate | paasng.platform.mgrlegacy.migrate | migrate_default_to_cnative, rollback_cnative_to_default | module |
| WlAppBackupManager | paasng.platform.mgrlegacy.cnative_migrations.wl_app.WlAppBackupManager | 不适用 | module |
| MigrationStatus | paasng.platform.mgrlegacy.constants.MigrationStatus | value, ROLLBACK_FAILED, ON_CONFIRMING, DONE_MIGRATION | module |
| CNativeMigrationProcess | paasng.platform.mgrlegacy.models.CNativeMigrationProcess | get, objects | module |
| MigrationProcess | paasng.platform.mgrlegacy.models.MigrationProcess | get, objects | module |
| run_migration | paasng.platform.mgrlegacy.migrate.run_migration | 不适用 | module |
| run_rollback | paasng.platform.mgrlegacy.migrate.run_rollback | 不适用 | module |
| EntranceMigration | paasng.platform.mgrlegacy.app_migrations.entrance.EntranceMigration | 不适用 | module |
| run_single_migration | paasng.platform.mgrlegacy.migrate.run_single_migration | 不适用 | module |
| run_single_rollback | paasng.platform.mgrlegacy.migrate.run_single_rollback | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| migrate_with_rollback_on_failure | `@shared_task:` | shared_task | 
    根据应用编码同步应用，失败自动回滚
     |
| rollback_migration_process | `@shared_task:` | shared_task | 
    回滚应用migration
     |
| confirm_with_rollback_on_failure | `@shared_task:` | shared_task | 不适用 |
| migrate_default_to_cnative | `@shared_task:` | shared_task | 不适用 |
| rollback_cnative_to_default | `@shared_task:` | shared_task | 不适用 |
| confirm_migration | `@shared_task:` | shared_task | 不适用 |


---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/mgrlegacy/applications/$', views.LegacyAppViewset.as_view({'get': 'list'}), name='api.mgrlegacy.applications.list'), re_path(make_app_pattern('/exposed_url_info', include_envs=False, prefix='api/mgrlegacy/applications/'), views.LegacyAppViewset.as_view({'get': 'exposed_url_info'}), name='api.mgrlegacy.applications.exposed_url_info'), re_path('^api/mgrlegacy/migrations/progress/$', views.MigrationCreateViewset.as_view({'post': 'create'}), name='api.mgrlegacy.migrations.progress.create'), re_path('^api/mgrlegacy/migrations/progress/(?P<id>\\d+)/state', views.MigrationDetailViewset.as_view({'get': 'state'}), name='api.mgrlegacy.migrations.progress.state'), re_path('^api/mgrlegacy/migrations/progress/(?P<id>\\d+)/old_state', views.MigrationDetailViewset.as_view({'get': 'old_state'}), name='api.mgrlegacy.migrations.progress.old_state'), re_path('^api/mgrlegacy/migrations/progress/(?P<id>\\d+)/confirm', views.MigrationConfirmViewset.as_view({'post': 'confirm'}), name='api.mgrlegacy.migrations.progress.confirm'), re_path('^api/mgrlegacy/migrations/progress/(?P<id>\\d+)/rollback', views.MigrationDetailViewset.as_view({'post': 'rollback'}), name='api.mgrlegacy.migrations.progress.rollback'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/migration/info$', views.ApplicationMigrationInfoAPIView.as_view({'get': 'retrieve'}), name='api.applications.migration.info'), re_path('^api/mgrlegacy/cloud-native/applications/(?P<code>[^/]+)/migrate/$', views.CNativeMigrationViewSet.as_view({'post': 'migrate'})), re_path('^api/mgrlegacy/cloud-native/applications/(?P<code>[^/]+)/rollback/$', views.CNativeMigrationViewSet.as_view({'post': 'rollback'})), re_path('^api/mgrlegacy/cloud-native/applications/(?P<code>[^/]+)/migration_processes/$', views.CNativeMigrationViewSet.as_view({'get': 'list_processes'})), re_path('^api/mgrlegacy/cloud-native/applications/(?P<code>[^/]+)/migration_processes/latest/$', views.CNativeMigrationViewSet.as_view({'get': 'get_latest_process'})), re_path('^api/mgrlegacy/cloud-native/migration_processes/(?P<process_id>\\d+)/$', views.CNativeMigrationViewSet.as_view({'get': 'get_process_by_id'})), re_path('^api/mgrlegacy/cloud-native/migration_processes/(?P<process_id>\\d+)/confirm/$', views.CNativeMigrationViewSet.as_view({'put': 'confirm'})), re_path(make_app_pattern('/processes/$', prefix='api/mgrlegacy/applications/'), views.DefaultAppProcessViewSet.as_view({'put': 'update', 'get': 'list'})), re_path('^api/mgrlegacy/applications/(?P<code>[^/]+)/entrances/$', views.DefaultAppEntranceViewSet.as_view({'get': 'list_all_entrances'})), re_path('^api/mgrlegacy/applications/(?P<code>[^/]+)/checklist_info/$', views.RetrieveChecklistInfoViewSet.as_view({'get': 'get'}))]` | module |



---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| typing | Tuple, List | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| PermissionDenied | rest_framework.exceptions.PermissionDenied | 不适用 | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | 不适用 | module |
| RegionClusterService | paas_wl.infras.cluster.shim.RegionClusterService | 不适用 | module |
| AppDeveloperManger | paasng.accessories.publish.sync_market.managers.AppDeveloperManger | 不适用 | module |
| get_region | paasng.core.region.models.get_region | 不适用 | module |
| AppLanguage | paasng.platform.applications.constants.AppLanguage | value, PYTHON, PHP, JAVA | module |
| Application | paasng.platform.applications.models.Application | filter, objects, get | module |
| LegacyAppTag | paasng.platform.mgrlegacy.constants.LegacyAppTag | value, NOT_SUPPORT, SUPPORT, FINISHED_MIGRATION, ON_MIGRATION | module |
| MigrationStatus | paasng.platform.mgrlegacy.constants.MigrationStatus | value, CONFIRMED | module |
| MigrationProcess | paasng.platform.mgrlegacy.models.MigrationProcess | filter, objects | module |
| get_region_aware | paasng.utils.configs.get_region_aware | 不适用 | module |
| LegacyAppProxy | paasng.platform.mgrlegacy.legacy_proxy.LegacyAppProxy | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| check_operation_perms | `def check_operation_perms(username, legacy_app_id, session):` | 无 | 不适用 |
| get_cnative_target_cluster | `def get_cnative_target_cluster(region: str) -> Cluster:` | 无 | Get the target cluster when migrating an applicati... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LegacyAppManager | 无 | __init__, is_finished_migration, get_latest_migration_id, is_active, legacy_app_logo, region, app_migration_tag, is_ready_for_migration, is_done_migration, category, is_not_supported_migration, get_logo_url, has_prod_deployed_before_migration, serialize_data, get_language, get_migration_finished_date, get_stag_exposed_link, get_prod_exposed_link | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/mgrlegacy/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | now, datetime, timedelta | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | MIGRATION_REMIND_DAYS | module |
| Http404 | django.http.Http404 | 不适用 | module |
| JsonResponse | django.http.JsonResponse | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| timezone | django.utils.timezone | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_204_NO_CONTENT | module |
| viewsets | rest_framework.viewsets | ViewSet, ModelViewSet, GenericViewSet | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| ProcessesHandler | paas_wl.bk_app.deploy.app_res.controllers.ProcessesHandler | new_by_app | module |
| get_processes_info | paas_wl.bk_app.mgrlegacy.processes.get_processes_info | 不适用 | module |
| ProcessUpdateType | paas_wl.bk_app.processes.constants.ProcessUpdateType | START, STOP | module |
| ProcessManager | paas_wl.bk_app.processes.processes.ProcessManager | 不适用 | module |
| UpdateProcessSLZ | paas_wl.bk_app.processes.serializers.UpdateProcessSLZ | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| get_mapper_proc_config_latest | paas_wl.infras.resources.generation.mapper.get_mapper_proc_config_latest | 不适用 | module |
| RCStateAppBinding | paas_wl.workloads.networking.egress.models.RCStateAppBinding | get, objects, DoesNotExist | module |
| RegionClusterState | paas_wl.workloads.networking.egress.models.RegionClusterState | filter, objects | module |
| RCStateAppBindingSLZ | paas_wl.workloads.networking.egress.serializers.RCStateAppBindingSLZ | 不适用 | module |
| RegionClusterStateSLZ | paas_wl.workloads.networking.egress.serializers.RegionClusterStateSLZ | 不适用 | module |
| console_db | paasng.core.core.storages.sqlalchemy.console_db | session_scope | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| check_application_perm | paasng.infras.accounts.permissions.application.check_application_perm | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | VIEW_BASIC_INFO, BASIC_DEVELOP | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, CLOUD_NATIVE | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| WlAppBackupManager | paasng.platform.mgrlegacy.cnative_migrations.wl_app.WlAppBackupManager | 不适用 | module |
| CNativeMigrationStatus | paasng.platform.mgrlegacy.constants.CNativeMigrationStatus | value, MIGRATION_SUCCEEDED | module |
| MigrationStatus | paasng.platform.mgrlegacy.constants.MigrationStatus | value, CONFIRMED | module |
| LegacyAppProxy | paasng.platform.mgrlegacy.legacy_proxy.LegacyAppProxy | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | APP_NOT_OFFLINE_IN_PAAS3, APP_NOT_DEPLOYED_IN_ANY_ENV, APP_NOT_OFFLINE_IN_PAAS2, f, APP_ROLLBACK_FAILED, APP_MIGRATION_CONFIRMED_FAILED, APP_MIGRATION_FAILED | module |
| get_exposed_url | paasng.accessories.publish.entrance.exposer.get_exposed_url | 不适用 | module |
| AppDeveloperManger | paasng.accessories.publish.sync_market.managers.AppDeveloperManger | 不适用 | module |
| AppManger | paasng.accessories.publish.sync_market.managers.AppManger | 不适用 | module |
| turn_on_bk_log_feature | paasng.platform.applications.handlers.turn_on_bk_log_feature | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| CNativeMigrationProcess | paasng.platform.mgrlegacy.models.CNativeMigrationProcess | create_migration_process, filter, objects, create_rollback_process, DoesNotExist | module |
| MigrationProcess | paasng.platform.mgrlegacy.models.MigrationProcess | get_or_create_migration_process_for_legacy, objects, all, get, filter | module |
| ApplicationMigrationInfoSLZ | paasng.platform.mgrlegacy.serializers.ApplicationMigrationInfoSLZ | 不适用 | module |
| ChecklistInfoSLZ | paasng.platform.mgrlegacy.serializers.ChecklistInfoSLZ | 不适用 | module |
| CNativeMigrationProcessSLZ | paasng.platform.mgrlegacy.serializers.CNativeMigrationProcessSLZ | 不适用 | module |
| LegacyAppSLZ | paasng.platform.mgrlegacy.serializers.LegacyAppSLZ | 不适用 | module |
| LegacyAppStateSLZ | paasng.platform.mgrlegacy.serializers.LegacyAppStateSLZ | 不适用 | module |
| ListProcessesSLZ | paasng.platform.mgrlegacy.serializers.ListProcessesSLZ | 不适用 | module |
| MigrationProcessConfirmSLZ | paasng.platform.mgrlegacy.serializers.MigrationProcessConfirmSLZ | 不适用 | module |
| MigrationProcessCreateSLZ | paasng.platform.mgrlegacy.serializers.MigrationProcessCreateSLZ | 不适用 | module |
| MigrationProcessDetailSLZ | paasng.platform.mgrlegacy.serializers.MigrationProcessDetailSLZ | 不适用 | module |
| MigrationProcessOperateSLZ | paasng.platform.mgrlegacy.serializers.MigrationProcessOperateSLZ | 不适用 | module |
| QueryMigrationAppSLZ | paasng.platform.mgrlegacy.serializers.QueryMigrationAppSLZ | 不适用 | module |
| confirm_migration | paasng.platform.mgrlegacy.tasks.confirm_migration | delay | module |
| confirm_with_rollback_on_failure | paasng.platform.mgrlegacy.tasks.confirm_with_rollback_on_failure | apply_async | module |
| migrate_default_to_cnative | paasng.platform.mgrlegacy.tasks.migrate_default_to_cnative | delay | module |
| migrate_with_rollback_on_failure | paasng.platform.mgrlegacy.tasks.migrate_with_rollback_on_failure | apply_async | module |
| rollback_cnative_to_default | paasng.platform.mgrlegacy.tasks.rollback_cnative_to_default | delay | module |
| rollback_migration_process | paasng.platform.mgrlegacy.tasks.rollback_migration_process | apply_async | module |
| LegacyAppManager | paasng.platform.mgrlegacy.utils.LegacyAppManager | 不适用 | module |
| check_operation_perms | paasng.platform.mgrlegacy.utils.check_operation_perms | 不适用 | module |
| get_cnative_target_cluster | paasng.platform.mgrlegacy.utils.get_cnative_target_cluster | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LegacyAppViewset | rest_framework.viewsets.ViewSet | list, exposed_url_info | 无 | 无 | View class for applications |
| MigrationCreateViewset | rest_framework.viewsets.ModelViewSet | create | serializer_class | 无 | View class for legacy app migration |
| MigrationDetailViewset | rest_framework.viewsets.ModelViewSet | get_queryset, state, old_state, rollback | serializer_class | 无 | 不适用 |
| MigrationConfirmViewset | rest_framework.viewsets.GenericViewSet | get_queryset, confirm | lookup_field, serializer_class | 无 | 不适用 |
| ApplicationMigrationInfoAPIView | rest_framework.viewsets.ViewSet | retrieve | 无 | 无 | 不适用 |
| CNativeMigrationViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | migrate, rollback, get_process_by_id, get_latest_process, list_processes, confirm, _can_migrate_or_raise | permission_classes | 无 | 
    普通应用向云原生应用迁移的相关接口
     |
| DefaultAppProcessViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list, update, _get_wl_app | permission_classes | 无 | 普通应用进程管理接口 |
| DefaultAppEntranceViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list_all_entrances | permission_classes | 无 | 普通应用访问地址查询接口 |
| RetrieveChecklistInfoViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get, _get_rcs_binding, _get_app_root_domains | permission_classes | 无 | 普通应用迁移前的 Checklist 数据查询接口 |

---


### 模块: apiserver/paasng/paasng/platform/modules/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/modules/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PlugableAppConfig | paasng.utils.addons.PlugableAppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ModulesConfig | paasng.utils.addons.PlugableAppConfig | ready | name, default | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| DEFAULT_ENGINE_APP_PREFIX | bkapp | `DEFAULT_ENGINE_APP_PREFIX = 'bkapp'` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ModuleName | blue_krill.data_types.enum.StrStructuredEnum | 无 | DEFAULT | 无 | 不适用 |
| ExposedURLType | blue_krill.data_types.enum.IntStructuredEnum | 无 | SUBPATH, SUBDOMAIN | 无 | 不适用 |
| SourceOrigin | blue_krill.data_types.enum.IntStructuredEnum | get_default_origins, get_package_origins | AUTHORIZED_VCS, BK_LESS_CODE, S_MART, IMAGE_REGISTRY, SCENE, CNATIVE_IMAGE, AI_AGENT | 无 | Source origin defines the origin of module's sourc... |
| APP_CATEGORY | blue_krill.data_types.enum.StrStructuredEnum | 无 | NORMAL_APP, S_MART_APP, CNATIVE_APP, LEGACY_APP | 无 | Application category, used when setting label to i... |
| DeployHookType | blue_krill.data_types.enum.StrStructuredEnum | _missing_ | PRE_RELEASE_HOOK | 无 | DeployHook Type |
| BuildPackType | blue_krill.data_types.enum.StrStructuredEnum | get_buildpack_builder_type_map | TAR, OCI_EMBEDDED, OCI_IMAGE, OCI_FILE | 无 | 不适用 |
| AppImageType | blue_krill.data_types.enum.StrStructuredEnum | get_builder_buildpack_type_map | LEGACY, CNB | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| define | attrs.define | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | 不适用 | module |
| AppBuildPack | paasng.platform.modules.models.AppBuildPack | 不适用 | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | 不适用 | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | 不适用 | module |
| ImageTagOptions | paasng.platform.modules.models.build_cfg.ImageTagOptions | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BuildConfig | 无 | 无 | 无 | define | BuildConfig dataclass, provide similar attribute o... |

---


### 模块: apiserver/paasng/paasng/platform/modules/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BindError | Exception | 无 | 无 | 无 | 绑定错误 |
| BPNotFound | Exception | 无 | 无 | 无 | base exception for bp |
| BuildPackStackNotFound | BPNotFound | 无 | 无 | 无 | Error when a BuildPack Stack is not found |
| BuildPacksNotFound | BPNotFound | 无 | 无 | 无 | Error when some BuildPacks are not found |
| ModuleInitializationError | Exception | 无 | 无 | 无 | Error when initializing module |

---


### 模块: apiserver/paasng/paasng/platform/modules/handlers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| apply_async_on_commit | blue_krill.async_utils.django_utils.apply_async_on_commit | 不适用 | module |
| Signal | django.dispatch.Signal | 不适用 | module |
| receiver | django.dispatch.receiver | 不适用 | module |
| setup_module_log_model | paasng.accessories.log.tasks.setup_module_log_model | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| on_module_initialized | 不适用 | `on_module_initialized = Signal()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| async_setup_module_log_model | `@receiver(on_module_initialized):` | receiver | 不适用 |


---


### 模块: apiserver/paasng/paasng/platform/modules/helpers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| TypedDict | typing.TypedDict | 不适用 | module |
| overload | typing.overload | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | 不适用 | module |
| Domain | paas_wl.infras.cluster.models.Domain | 不适用 | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | PROD | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | BUILDPACK, DOCKERFILE, CUSTOM_IMAGE | module |
| APP_CATEGORY | paasng.platform.modules.constants.APP_CATEGORY | value, CNATIVE_APP, S_MART_APP, NORMAL_APP | module |
| ExposedURLType | paasng.platform.modules.constants.ExposedURLType | SUBDOMAIN | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | S_MART | module |
| BindError | paasng.platform.modules.exceptions.BindError | 不适用 | module |
| BuildPacksNotFound | paasng.platform.modules.exceptions.BuildPacksNotFound | 不适用 | module |
| BuildPackStackNotFound | paasng.platform.modules.exceptions.BuildPackStackNotFound | 不适用 | module |
| AppBuildPack | paasng.platform.modules.models.AppBuildPack | 不适用 | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | filter_module_available, objects, DoesNotExist | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | filter_module_available, objects, DoesNotExist | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| ImageTagOptions | paasng.platform.modules.models.build_cfg.ImageTagOptions | 不适用 | module |
| str2bool | paasng.utils.validators.str2bool | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| update_build_config_with_method | `def update_build_config_with_method(build_config: BuildConfig, build_method: RuntimeType, data: Dict):` | 无 | 根据指定的 build_method 更新部分字段

    :param build_config... |
| get_module_clusters | `def get_module_clusters(module: 'Module') -> Dict[AppEnvName, Cluster]:` | 无 | return all cluster info of module envs |
| get_module_prod_env_root_domains | `def get_module_prod_env_root_domains(module: 'Module', include_reserved: bool = False) -> List[Domain]:` | 无 | 返回当前模块（生产环境）支持的所有根域名

    :param module: 模块
    :p... |
| get_image_labels_by_module | `def get_image_labels_by_module(module: 'Module') -> Dict[str, str]:` | 无 | 根据 module 的属性获取筛选镜像的label |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BuildConfigData | typing.TypedDict | 无 | 无 | 无 | 不适用 |
| SlugbuilderBinder | 无 | __init__, bind_buildpack, unbind_buildpack, set_buildpacks | 无 | 无 | slugbuilder 和 buildpack 绑定工具 |
| ModuleRuntimeBinder | 无 | __init__, bind_bp_stack, bind_image, clear_runtime, bind_buildpacks, bind_buildpack, get_ordered_buildpacks_list | 无 | 无 | 模块相关运行时绑定工具 |
| ModuleRuntimeManager | 无 | __init__, is_secure_encrypted_runtime, is_need_blobstore_env, is_cnb_runtime, get_slug_builder, get_slug_builder, get_slug_builder, get_slug_runner, get_slug_runner, get_slug_runner, list_buildpacks | SECURE_ENCRYPTED_LABEL, HTTP_SUPPORTED_LABEL, CNB_LABEL | 无 | 模块相关运行时查询工具(NG) |

---


### 模块: apiserver/paasng/paasng/platform/modules/management/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/modules/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/modules/management/commands/bind_buildpacks.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| typing | List, Iterable | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| SlugbuilderBinder | paasng.platform.modules.helpers.SlugbuilderBinder | 不适用 | module |
| AppBuildPack | paasng.platform.modules.models.AppBuildPack | all, objects | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | get, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, get_slugbuilder, get_buildpacks, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/management/commands/bind_runtime.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| typing | List, Iterable | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| ModuleRuntimeBinder | paasng.platform.modules.helpers.ModuleRuntimeBinder | 不适用 | module |
| AppBuildPack | paasng.platform.modules.models.AppBuildPack | all, objects | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | get, objects | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | get, objects | module |
| Module | paasng.platform.modules.models.Module | all, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, get_slugbuilder, get_slugrunner, get_buildpacks, get_modules, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/management/commands/manage_buildpack.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| AppBuildPack | paasng.platform.modules.models.AppBuildPack | update_or_create, objects, __name__ | module |
| parse_assignment_list | paasng.platform.modules.utils.parse_assignment_list | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/management/commands/manage_image.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | 不适用 | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | 不适用 | module |
| parse_assignment_list | paasng.platform.modules.utils.parse_assignment_list | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle, update_or_create_image | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/management/commands/push_smart_image.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| contextlib | contextmanager | module |
| logging | getLogger | module |
| os | unlink | module |
| pathlib | Path | module |
| shutil | rmtree | module |
| tempfile | mktemp, mkdtemp | module |
| urllib3 | disable_warnings, InsecureRequestWarning, exceptions | module |
| requests | request, Session | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| APIEndpoint | moby_distribution.APIEndpoint | 不适用 | module |
| DockerRegistryV2Client | moby_distribution.DockerRegistryV2Client | from_api_endpoint | module |
| ImageRef | moby_distribution.ImageRef | from_image, from_tarball | module |
| parse_image | moby_distribution.registry.utils.parse_image | 不适用 | module |
| AppImageType | paasng.platform.modules.constants.AppImageType | value, CNB, LEGACY | module |
| bksmart_settings | paasng.platform.smart_app.conf.bksmart_settings | name, cnb_base_image, tag, base_image, get_client, registry | module |
| str2bool | paasng.utils.validators.str2bool | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| patch_ssl_verification | `@contextlib.contextmanager:` | contextlib.contextmanager | Context manager to temporarily disable SSL verific... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/manager.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| namedtuple | collections.namedtuple | 不适用 | module |
| contextmanager | contextlib.contextmanager | 不适用 | module |
| attrgetter | operator.attrgetter | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| create_app_ignore_duplicated | paas_wl.bk_app.applications.api.create_app_ignore_duplicated | 不适用 | module |
| update_metadata_by_env | paas_wl.bk_app.applications.api.update_metadata_by_env | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | CLOUD_NATIVE, DEFAULT | module |
| delete_module_related_res | paas_wl.bk_app.deploy.actions.delete.delete_module_related_res | 不适用 | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| ServiceObjNotFound | paasng.accessories.servicehub.exceptions.ServiceObjNotFound | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | list_all_rels, get, find_by_name, bind_service | module |
| SharingReferencesManager | paasng.accessories.servicehub.sharing.SharingReferencesManager | 不适用 | module |
| get_oauth2_client_secret | paasng.infras.oauth2.utils.get_oauth2_client_secret | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | create, objects | module |
| Monitoring | paasng.platform.bkapp_model.entities.Monitoring | 不适用 | module |
| Process | paasng.platform.bkapp_model.entities.Process | 不适用 | module |
| sync_processes | paasng.platform.bkapp_model.entities_syncer.sync_processes | 不适用 | module |
| FieldMgrName | paasng.platform.bkapp_model.fieldmgr.constants.FieldMgrName | WEB_FORM | module |
| ObservabilityConfig | paasng.platform.bkapp_model.models.ObservabilityConfig | upsert_by_module, objects | module |
| ProcessSpecEnvOverlay | paasng.platform.bkapp_model.models.ProcessSpecEnvOverlay | save_by_module, objects | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | CUSTOM_IMAGE, BUILDPACK, DOCKERFILE | module |
| EngineApp | paasng.platform.engine.models.EngineApp | create, objects | module |
| entities | paasng.platform.modules.entities | BuildConfig | module |
| DEFAULT_ENGINE_APP_PREFIX | paasng.platform.modules.constants.DEFAULT_ENGINE_APP_PREFIX | 不适用 | module |
| ModuleName | paasng.platform.modules.constants.ModuleName | value, DEFAULT | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | IMAGE_REGISTRY | module |
| ModuleInitializationError | paasng.platform.modules.exceptions.ModuleInitializationError | 不适用 | module |
| on_module_initialized | paasng.platform.modules.handlers.on_module_initialized | send | module |
| ModuleRuntimeBinder | paasng.platform.modules.helpers.ModuleRuntimeBinder | 不适用 | module |
| get_image_labels_by_module | paasng.platform.modules.helpers.get_image_labels_by_module | 不适用 | module |
| update_build_config_with_method | paasng.platform.modules.helpers.update_build_config_with_method | 不适用 | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | get, objects, select_default_runtime | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | get, objects | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| ImageTagOptions | paasng.platform.modules.models.build_cfg.ImageTagOptions | 不适用 | module |
| ModuleSpecs | paasng.platform.modules.specs.ModuleSpecs | 不适用 | module |
| get_repo_connector | paasng.platform.sourcectl.connector.get_repo_connector | 不适用 | module |
| init_image_repo | paasng.platform.sourcectl.docker.models.init_image_repo | 不适用 | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | NORMAL | module |
| TmplRegionNotSupported | paasng.platform.templates.exceptions.TmplRegionNotSupported | 不适用 | module |
| AppBuildPack | paasng.platform.templates.manager.AppBuildPack | 不适用 | module |
| TemplateRuntimeManager | paasng.platform.templates.manager.TemplateRuntimeManager | 不适用 | module |
| Template | paasng.platform.templates.models.Template | DoesNotExist, filter, objects | module |
| ReplaceableFunction | paasng.utils.addons.ReplaceableFunction | 不适用 | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |
| get_items | paasng.utils.dictx.get_items | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | f, CANNOT_CREATE_APP | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| make_app_metadata | 不适用 | `make_app_metadata = ReplaceableFunction(default_factory=dict)` | module |
| ModuleInitResult | 不适用 | `ModuleInitResult = namedtuple('ModuleInitResult', 'source_init_result')` | module |
| PresetServiceSpecs | 不适用 | `PresetServiceSpecs = Dict[str, Dict]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| init_module_in_view | `def init_module_in_view(*args, **kwargs) -> ModuleInitResult:` | 无 | Initialize a module in view function, see `initial... |
| initialize_smart_module | `def initialize_smart_module(module: Module, cluster_name: Optional[str] = None):` | 无 | Initialize a module for s-mart app |
| initialize_module | `def initialize_module(module: Module, repo_type: str, repo_url: Optional[str], repo_auth_info: Optional[dict], source_dir: str = '', cluster_name: Optional[str] = None, bkapp_spec: Optional[Dict] = None) -> ModuleInitResult:` | 无 | Initialize a module

    :param repo_type: sourcec... |
| make_engine_app_name | `def make_engine_app_name(module: Module, app_code: str, env: str) -> str:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ModuleBuildpackPlaner | 无 | __init__, get_required_buildpacks, get_language_buildpack | 无 | 无 | ModuleBuildpackPlaner 的职责是协助 ModuleInitializer 初始化... |
| ModuleInitializer | 无 | __init__, make_engine_app_name, make_engine_meta_info, create_engine_apps, initialize_vcs_with_template, _should_initialize_vcs, bind_default_services, initialize_docker_build_config, bind_default_runtime, bind_runtime_by_labels, initialize_app_model_resource, _get_or_create_engine_app | default_environments | 无 | Initializer for Module |
| ModuleCleaner | 无 | __init__, clean, delete_services, delete_engine_apps, delete_module | 无 | 无 | 不适用 |
| DefaultServicesBinder | 无 | __init__, bind, find_services_from_template, _bind | 无 | 无 | A helper type for binding module's default service... |

---


### 模块: apiserver/paasng/paasng/platform/modules/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| jsonfield.fields | JSONField, fields | module |
| paasng.utils.models | BkUserField, models, utils | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel, AddField | module |
| models | django.db.models | AutoField, CharField, DateTimeField, BooleanField, UUIDField, SmallIntegerField, IntegerField, ForeignKey, ManyToManyField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/migrations/0002_auto_20210201_1659.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| jsonfield.fields | JSONField, fields | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/migrations/0003_auto_20210702_1219.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| jsonfield.fields | JSONField, fields | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | NullBooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/migrations/0004_module_user_preferred_root_domain.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/migrations/0005_deployconfig.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| jsonfield.fields | JSONField, fields | module |
| paasng.platform.modules.models.deploy_config | HookListField, deploy_config, models, modules, platform | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | UUIDField, DateTimeField, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/migrations/0006_auto_20220509_1544.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.platform.modules.models.deploy_config | HookListField, deploy_config, models, modules, platform, HookList | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RenameField, AddField, AlterField | module |
| models | django.db.models | CharField, BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/migrations/0007_module_runtime_type.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.platform.engine.constants | RuntimeType, constants, engine, platform | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/migrations/0008_buildconfig.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | SET_NULL, deletion, models, db, CASCADE | module |
| paasng.platform.engine.constants | RuntimeType, constants, engine, platform, DockerBuildArgsField, build_cfg, models, modules, ImageTagOptionsField, ImageTagOptions | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | UUIDField, DateTimeField, CharField, ForeignKey, ManyToManyField, OneToOneField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/migrations/0009_auto_20230530_1613.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| migrate_to_buildconfig | `def migrate_to_buildconfig(apps, schema_editor):` | 无 | 迁移 buildpacks/builder/runner 的绑定关系到 BuildConfig 模型 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LegacyModuleRuntimeManager | 无 | __init__, get_slug_builder, get_slug_runner, list_buildpacks | 无 | 无 | 不适用 |
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/migrations/0010_remove_module_runtime_type.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RemoveField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/migrations/0011_auto_20231019_0944.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | TextField, CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/migrations/0012_appslugbuilder_step_meta_set.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | SET_NULL, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/migrations/0013_buildconfig_use_bk_ci_pipeline.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/migrations/0014_remove_buildconfig_image.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RemoveField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/migrations/0015_auto_20240511_1554.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/migrations/0016_auto_20240904_1439.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/modules/models/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BuildConfig | apiserver.paasng.paasng.platform.modules.models.build_cfg.BuildConfig | 不适用 | module |
| DeployConfig | apiserver.paasng.paasng.platform.modules.models.deploy_config.DeployConfig | 不适用 | module |
| Module | apiserver.paasng.paasng.platform.modules.models.module.Module | 不适用 | module |
| AppBuildPack | apiserver.paasng.paasng.platform.modules.models.runtime.AppBuildPack | 不适用 | module |
| AppSlugBuilder | apiserver.paasng.paasng.platform.modules.models.runtime.AppSlugBuilder | 不适用 | module |
| AppSlugRunner | apiserver.paasng.paasng.platform.modules.models.runtime.AppSlugRunner | 不适用 | module |
| BuildPackType | apiserver.paasng.paasng.platform.modules.models.runtime.BuildPackType | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/platform/modules/models/build_cfg.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| define | attr.define | 不适用 | module |
| models | django.db.models | Manager, OneToOneField, CASCADE, CharField, ManyToManyField, ForeignKey, SET_NULL, TextField, BooleanField | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | BUILDPACK | module |
| UuidAuditedModel | paasng.utils.models.UuidAuditedModel | 不适用 | module |
| make_json_field | paasng.utils.models.make_json_field | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| DockerBuildArgsField | 不适用 | `DockerBuildArgsField = make_json_field('DockerBuildArgsField', Dict[str, str])` | module |
| ImageTagOptionsField | 不适用 | `ImageTagOptionsField = make_json_field('ImageTagOptionsField', ImageTagOptions)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ImageTagOptions | 无 | 无 | 无 | define | 镜像 Tag 选项 |
| BuildConfigManager | django.db.models.Manager | get_or_create_by_module | 无 | 无 | 不适用 |
| BuildConfig | paasng.utils.models.UuidAuditedModel | 无 | module, build_method, buildpacks, buildpack_builder, buildpack_runner, dockerfile_path, docker_build_args, image_repository, image_credential_name, use_bk_ci_pipeline, objects | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/models/deploy_config.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| shlex | split, join | module |
| cattr | structure, unstructure, register_structure_hook, register_unstructure_hook | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| define | attrs.define | 不适用 | module |
| models | django.db.models | OneToOneField, CASCADE | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| DEFAULT_SLUG_RUNNER_ENTRYPOINT | paasng.platform.bkapp_model.constants.DEFAULT_SLUG_RUNNER_ENTRYPOINT | 不适用 | module |
| DeployHookType | paasng.platform.modules.constants.DeployHookType | 不适用 | module |
| UuidAuditedModel | paasng.utils.models.UuidAuditedModel | 不适用 | module |
| make_legacy_json_field | paasng.utils.models.make_legacy_json_field | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| HookListField | 不适用 | `HookListField = make_legacy_json_field('HookListField', HookList)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Hook | 无 | get_command, get_args, get_proc_command | 无 | define | 不适用 |
| HookList | List[Hook] | get_hook, upsert, disable, __cattrs_structure__, __cattrs_unstructure__ | __origin__ | 无 | 不适用 |
| DeployConfig | paasng.utils.models.UuidAuditedModel | 无 | module, procfile | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/modules/models/module.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| models | django.db.models | UUIDField, ForeignKey, CASCADE, CharField, BooleanField, SmallIntegerField, IntegerField, DateTimeField | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | AUTHORIZED_VCS | module |
| BkUserField | paasng.utils.models.BkUserField | 不适用 | module |
| OwnerTimestampedModel | paasng.utils.models.OwnerTimestampedModel | 不适用 | module |
| RepositoryInstance | paasng.platform.sourcectl.models.RepositoryInstance | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| set_source_obj_finder_func | `def set_source_obj_finder_func(func):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Module | paasng.utils.models.OwnerTimestampedModel | has_deployed, get_source_obj, get_source_origin, get_envs, __str__ | id, application, name, is_default, language, source_init_template, source_origin, source_type, source_repo_id, exposed_url_type, user_preferred_root_domain, last_deployed_date, creator | 无 | Module for Application
    Every application has a... |

---


### 模块: apiserver/paasng/paasng/platform/modules/models/runtime.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| operator | or_ | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| reduce | functools.reduce | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | DEFAULT_RUNTIME_IMAGES, values | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| models | django.db.models | Manager, QuerySet, Q, CharField, BooleanField, ManyToManyField, ForeignKey, SET_NULL | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| TranslatedFieldWithFallback | translated_fields.TranslatedFieldWithFallback | 不适用 | module |
| AppImageType | paasng.platform.modules.constants.AppImageType | get_choices | module |
| BuildPackType | paasng.platform.modules.constants.BuildPackType | get_choices | module |
| TimestampedModel | paasng.utils.models.TimestampedModel | 不适用 | module |
| Module | apiserver.paasng.paasng.platform.modules.models.module.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BuildpackManager | django.db.models.Manager | filter_module_available, filter_by_region, get_by_natural_key | 无 | 无 | 不适用 |
| AppBuildPack | paasng.utils.models.TimestampedModel | natural_key, info, __str__ | language, type, name, display_name, address, version, environments, is_hidden, description, modules, objects | 无 | buildpack 配置 |
| AppImageStackQuerySet | django.db.models.QuerySet | filter_module_available, filter_by_region, filter_by_full_image, filter_by_labels | 无 | 无 | 不适用 |
| AppImageStackManager | django.db.models.Manager | filter_module_available, filter_by_full_image, filter_by_labels, select_default_runtime, get_by_natural_key | _queryset_class | 无 | 不适用 |
| AppImage | paasng.utils.models.TimestampedModel | set_label, get_label, full_image, __str__, natural_key | name, display_name, type, image, tag, is_hidden, is_default, description, environments, labels | 无 | 不适用 |
| AppSlugRunner | AppImage | 无 | modules, objects | 无 | 应用运行环境 |
| AppSlugBuilder | AppImage | get_buildpack_choices, list_region_available_buildpacks | buildpacks, modules, step_meta_set, objects | 无 | 应用构建环境 |

---


### 模块: apiserver/paasng/paasng/platform/modules/protections.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext | django.utils.translation.gettext | 不适用 | module |
| LiveEnvAddresses | paas_wl.workloads.networking.entrance.shim.LiveEnvAddresses | 不适用 | module |
| BaseCondition | paasng.core.core.protections.base.BaseCondition | 不适用 | module |
| BaseConditionChecker | paasng.core.core.protections.base.BaseConditionChecker | 不适用 | module |
| ConditionNotMatched | paasng.core.core.protections.exceptions.ConditionNotMatched | 不适用 | module |
| DeployOperationManager | paasng.platform.engine.models.managers.DeployOperationManager | 不适用 | module |
| DeploymentGetter | paasng.platform.engine.utils.query.DeploymentGetter | 不适用 | module |
| OfflineOperationGetter | paasng.platform.engine.utils.query.OfflineOperationGetter | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ModuleDeleteCondition | paasng.core.core.protections.base.BaseCondition | __init__, validate | 无 | 无 | Abstract base class for delete module condition |
| NoPendingOperationsCondition | ModuleDeleteCondition | validate | action_name | 无 | 检查模块是否存在未完成的操作(部署或下架) |
| AllEnvsArchivedCondition | ModuleDeleteCondition | validate | action_name | 无 | 检查模块的所有环境是否均已下架 |
| CustomDomainUnBoundCondition | ModuleDeleteCondition | validate | action_name | 无 | 检查模块是否已解绑所有独立域名 |
| ModuleDeletionPreparer | paasng.core.core.protections.base.BaseConditionChecker | __init__ | condition_classes | 无 | Prepare to delete a module |

---


### 模块: apiserver/paasng/paasng/platform/modules/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| string | digits, ascii_letters | module |
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | BK_CI_PAAS_PROJECT_ID, BK_CI_BUILD_PIPELINE_ID | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | RegexField, ModelSerializer, SerializerMethodField, IntegerField, Serializer, ChoiceField, CharField, JSONField, ListField, BooleanField, DictField, ValidationError | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| ClusterSLZ | paas_wl.infras.cluster.serializers.ClusterSLZ | 不适用 | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| DockerfilePathField | paasng.platform.applications.serializers.fields.DockerfilePathField | 不适用 | module |
| SourceDirField | paasng.platform.applications.serializers.fields.SourceDirField | 不适用 | module |
| ModuleDeployHookSLZ | paasng.platform.bkapp_model.serializers.ModuleDeployHookSLZ | 不适用 | module |
| ModuleProcessSpecSLZ | paasng.platform.bkapp_model.serializers.ModuleProcessSpecSLZ | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | get_choices, BUILDPACK, DOCKERFILE, CUSTOM_IMAGE | module |
| entities | paasng.platform.modules.entities | BuildConfig | module |
| DeployHookType | paasng.platform.modules.constants.DeployHookType | get_choices | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | get_choices, AUTHORIZED_VCS, IMAGE_REGISTRY, CNATIVE_IMAGE | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | 不适用 | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| Module | paasng.platform.modules.models.Module | filter, objects | module |
| ImageTagOptions | paasng.platform.modules.models.build_cfg.ImageTagOptions | 不适用 | module |
| ModuleSpecs | paasng.platform.modules.specs.ModuleSpecs | 不适用 | module |
| SourceOriginSpecs | paasng.platform.modules.specs.SourceOriginSpecs | get | module |
| GitRepository | paasng.platform.sourcectl.models.GitRepository | 不适用 | module |
| RepoBasicAuthHolder | paasng.platform.sourcectl.models.RepoBasicAuthHolder | get_by_repo, objects | module |
| SvnRepository | paasng.platform.sourcectl.models.SvnRepository | 不适用 | module |
| RepositorySLZ | paasng.platform.sourcectl.serializers.RepositorySLZ | 不适用 | module |
| validate_image_url | paasng.platform.sourcectl.validators.validate_image_url | 不适用 | module |
| get_version_service | paasng.platform.sourcectl.version_services.get_version_service | 不适用 | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | normal_app_types, NORMAL | module |
| Template | paasng.platform.templates.models.Template | get, objects, filter | module |
| TranslatedCharField | paasng.utils.i18n.serializers.TranslatedCharField | 不适用 | module |
| SourceControlField | paasng.utils.serializers.SourceControlField | 不适用 | module |
| UserNameField | paasng.utils.serializers.UserNameField | 不适用 | module |
| RE_APP_CODE | paasng.utils.validators.RE_APP_CODE | 不适用 | module |
| DnsSafeNameValidator | paasng.utils.validators.DnsSafeNameValidator | 不适用 | module |
| ReservedWordValidator | paasng.utils.validators.ReservedWordValidator | 不适用 | module |
| validate_image_repo | paasng.utils.validators.validate_image_repo | 不适用 | module |
| validate_procfile | paasng.utils.validators.validate_procfile | 不适用 | module |
| validate_repo_url | paasng.utils.validators.validate_repo_url | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| validate_build_method | `def validate_build_method(build_method: RuntimeType, source_origin: SourceOrigin):` | 无 | 根据 SourceOrigin 校验 build_method |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ModuleNameField | rest_framework.serializers.RegexField | __init__ | 无 | 无 | Field for validating Module Name |
| ModuleSLZ | rest_framework.serializers.ModelSerializer | get_repo_auth_info, get_web_config, get_template_display_name, get_clusters, get_build_method | repo, repo_auth_info, web_config, template_display_name, source_origin, clusters, creator, owner | 无 | 不适用 |
| ModuleWithOwnerAndCreatorSLZ | rest_framework.serializers.ModelSerializer | 无 | creator, owner | 无 | 不适用 |
| MinimalModuleSLZ | rest_framework.serializers.ModelSerializer | 无 | source_origin | 无 | 不适用 |
| ListModulesSLZ | rest_framework.serializers.Serializer | 无 | source_origin | 无 | Serializer for listing modules |
| CreateModuleSLZ | rest_framework.serializers.Serializer | validate_name, validate_source_init_template, to_internal_value | name, source_init_template, source_origin, source_control_type, source_repo_url, source_repo_auth_info, source_dir | 无 | Serializer for create module |
| AppSlugBuilderMinimalSLZ | rest_framework.serializers.ModelSerializer | 无 | display_name, description | 无 | 不适用 |
| AppSlugRunnerMinimalSLZ | rest_framework.serializers.ModelSerializer | 无 | display_name, description | 无 | 不适用 |
| AppBuildPackMinimalSLZ | rest_framework.serializers.Serializer | 无 | id, language, name, display_name, description | 无 | 不适用 |
| ModuleRuntimeSLZ | rest_framework.serializers.Serializer | 无 | image, slugbuilder, slugrunner, buildpacks | 无 | 不适用 |
| ModuleRuntimeBindSLZ | rest_framework.serializers.Serializer | 无 | image, buildpacks_id | 无 | 不适用 |
| RepositoryWithPermissionSLZ | paasng.platform.sourcectl.serializers.RepositorySLZ | get_authorized | authorized | 无 | 不适用 |
| ImageTagOptionsSLZ | rest_framework.serializers.Serializer | validate_prefix, to_internal_value | prefix, with_version, with_build_time, with_commit_id | 无 | 不适用 |
| ModuleSourceConfigSLZ | rest_framework.serializers.Serializer | validate_source_init_template, validate, _validate_source_repo_url | source_init_template, source_origin, source_control_type, source_repo_url, source_repo_auth_info, source_dir | 无 | 模块源码仓库/模板等信息 |
| ModuleBuildConfigSLZ | rest_framework.serializers.Serializer | validate, validate_use_bk_ci_pipeline | build_method, tag_options, bp_stack_name, buildpacks, dockerfile_path, docker_build_args, image_repository, image_credential_name, use_bk_ci_pipeline | 无 | 模块镜像构建信息 |
| ImageCredentialSLZ | rest_framework.serializers.Serializer | 无 | name, username, password | 无 | 镜像凭证相关参数 |
| CreateModuleBuildConfigSLZ | rest_framework.serializers.Serializer | to_internal_value, validate | build_method, tag_options, dockerfile_path, docker_build_args, image_repository, image_credential | 无 | Serializer for create module build config |
| BkAppSpecSLZ | rest_framework.serializers.Serializer | validate | build_config, processes, hook | 无 | Serializer for create bkapp spec of module |
| CreateCNativeModuleSLZ | rest_framework.serializers.Serializer | validate, validate_name | name, source_config, bkapp_spec | 无 | Serializer for create cloud-native application's m... |
| ModuleRuntimeOverviewSLZ | rest_framework.serializers.Serializer | get_stack, get_image, get_source_origin | repo, stack, image, language, source_origin, buildpacks | 无 | 模块运行时概览-序列化器 |
| ModuleDeployHookSLZ | rest_framework.serializers.Serializer | validate_command | type, command, enabled | 无 | 不适用 |
| ProcfileSLZ | rest_framework.serializers.Serializer | validate_command | name, command | 无 | 不适用 |
| ModuleDeployProcfileSLZ | rest_framework.serializers.Serializer | validate_procfile, to_representation | procfile | 无 | 不适用 |
| ModuleDeployConfigSLZ | ModuleDeployProcfileSLZ | 无 | hooks | 无 | 模块部署配置-序列化器 |

---


### 模块: apiserver/paasng/paasng/platform/modules/specs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ABC | abc.ABC | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| ArtifactType | paas_wl.bk_app.applications.constants.ArtifactType | NONE, IMAGE, SLUG | module |
| AppSpecs | paasng.platform.applications.specs.AppSpecs | 不适用 | module |
| SlugbuilderInfo | paasng.platform.engine.configurations.building.SlugbuilderInfo | from_module | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | CUSTOM_IMAGE, DOCKERFILE, BUILDPACK | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | AUTHORIZED_VCS, BK_LESS_CODE, AI_AGENT, S_MART, IMAGE_REGISTRY, CNATIVE_IMAGE, SCENE | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| source_origin_property | `def source_origin_property(name: str):` | 无 | Make a property object which read values from 'sel... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ModuleSpecs | 无 | __init__, templated_source_enabled, runtime_type, artifact_type, to_dict | has_vcs, has_template_code, deploy_via_package | 无 | Read module's specifications which were determined... |
| SourceOriginSpecs | abc.ABC | __init_subclass__, get, supported_runtime_types | 无 | 无 | Module's specifications derived from SourceOrigin |
| AuthorizedVcsSpecs | SourceOriginSpecs | supported_runtime_types | source_origin, has_vcs, has_template_code, deploy_via_package | 无 | Specs for source_origin: AUTHORIZED_VCS |
| PackageMixin | 无 | 无 | runtime_type, has_vcs, has_template_code, deploy_via_package | 无 | Stores common mixin properties for external packag... |
| BkLessCodeSpecs | PackageMixin, SourceOriginSpecs | 无 | source_origin | 无 | Specs for source_origin: BK_LESS_CODE |
| AIAgentSpecs | PackageMixin, SourceOriginSpecs | 无 | source_origin | 无 | Specs for source_origin: AI_AGENT |
| SMartSpecs | PackageMixin, SourceOriginSpecs | 无 | source_origin | 无 | Specs for source_origin: S_MART |
| ImageRegistrySpecs | SourceOriginSpecs | 无 | source_origin, runtime_type, has_vcs, has_template_code, deploy_via_package | 无 | Specs for source_origin: IMAGE_REGISTRY |
| CNativeImageSpecs | SourceOriginSpecs | 无 | source_origin, runtime_type, has_vcs, has_template_code, deploy_via_package | 无 | Specs for source_origin: CNATIVE_IMAGE |
| SceneSpecs | SourceOriginSpecs | 无 | source_origin, runtime_type, has_vcs, has_template_code, deploy_via_package | 无 | Specs for source_origin: SCENE |

---


### 模块: apiserver/paasng/paasng/platform/modules/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |
| urlpatterns | apiserver.paasng.paasng.platform.modules.urls_ext.urlpatterns | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/bkapps/applications/(?P<code>[^/]+)/modules/$', views.ModuleViewSet.as_view({'get': 'list', 'post': 'create'}), name='modules'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/modules/(?P<module_name>[^/]+)/$', views.ModuleViewSet.as_view({'get': 'retrieve', 'delete': 'destroy'}), name='module.actions'), re_path(make_app_pattern('/set_default/$', include_envs=False), views.ModuleViewSet.as_view({'post': 'set_as_default'}), name='module.set_default'), re_path('^api/bkapps/cloud-native/(?P<code>[^/]+)/modules/$', views.ModuleViewSet.as_view({'post': 'create_cloud_native_module'}), name='module.create.cloud_native'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/modules/(?P<module_name>[^/]+)/runtime/list/$', views.ModuleRuntimeViewSet.as_view({'get': 'list_available'}), name='api.modules.runtime.available_list'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/modules/(?P<module_name>[^/]+)/runtime/$', views.ModuleRuntimeViewSet.as_view({'get': 'retrieve', 'post': 'bind'}), name='api.modules.runtime'), re_path(make_app_pattern('/runtime/overview', include_envs=False), views.ModuleRuntimeOverviewView.as_view(), name='api.modules.deployment.meta_info'), re_path(make_app_pattern('/build_config/$', include_envs=False), views.ModuleBuildConfigViewSet.as_view({'get': 'retrieve', 'post': 'modify'}), name='api.modules.build_config'), re_path(make_app_pattern('/bp_runtimes/$', include_envs=False), views.ModuleBuildConfigViewSet.as_view({'get': 'list_available_bp_runtimes'}), name='api.modules.bp_runtime.available_list'), re_path(make_app_pattern('/deploy_config/$', include_envs=False), views.ModuleDeployConfigViewSet.as_view({'get': 'retrieve'}), name='api.modules.deploy_config'), re_path(make_app_pattern('/deploy_config/hooks/$', include_envs=False), views.ModuleDeployConfigViewSet.as_view({'post': 'upsert_hook'}), name='api.modules.deploy_config.hooks.upsert'), re_path(make_app_pattern('/deploy_config/hooks/(?P<type_>[^/]+)/disable/$', include_envs=False), views.ModuleDeployConfigViewSet.as_view({'put': 'disable_hook'}), name='api.modules.deploy_config.hooks.disable'), re_path(make_app_pattern('/deploy_config/procfile/$', include_envs=False), views.ModuleDeployConfigViewSet.as_view({'post': 'update_procfile'}), name='api.modules.deploy_config.procfile.update'), re_path('^api/bkapps/applications/(?P<code>[^/]+)/modules/(?P<module_name>[^/]+)/template/$', views.ModuleTemplateViewSet.as_view({'get': 'retrieve'}), name='api.modules.template')]` | module |



---


### 模块: apiserver/paasng/paasng/platform/modules/utils.py





#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| parse_assignment_list | `def parse_assignment_list(assignments):` | 无 | 
    Parse assignment expression list, for example... |


---


### 模块: apiserver/paasng/paasng/platform/modules/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | BK_COOKIE_NAME, MAX_MODULES_COUNT_PER_APPLICATION | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| IntegrityError | django.db.IntegrityError | 不适用 | module |
| transaction | django.db.transaction | atomic | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_200_OK, HTTP_204_NO_CONTENT | module |
| views | rest_framework.views | APIView | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| get_application_cluster | paas_wl.infras.cluster.shim.get_application_cluster | 不适用 | module |
| AppUserCredential | paas_wl.workloads.images.models.AppUserCredential | create, objects | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | DoesNotExist | module |
| ModulePublishPreparer | paasng.accessories.publish.market.protections.ModulePublishPreparer | 不适用 | module |
| get_region | paasng.core.region.models.get_region | 不适用 | module |
| app_action_required | paasng.infras.accounts.permissions.application.app_action_required | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| check_application_perm | paasng.infras.accounts.permissions.application.check_application_perm | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | MANAGE_MODULE, VIEW_BASIC_INFO, DELETE_APPLICATION, BASIC_DEVELOP | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | DELETE, MODIFY | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | MODULE, BUILD_CONFIG | module |
| ResultCode | paasng.misc.audit.constants.ResultCode | FAILURE, SUCCESS | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| application_default_module_switch | paasng.platform.applications.signals.application_default_module_switch | send | module |
| AppSpecs | paasng.platform.applications.specs.AppSpecs | 不适用 | module |
| make_bk_lesscode_client | paasng.platform.bk_lesscode.client.make_bk_lesscode_client | 不适用 | module |
| LessCodeApiError | paasng.platform.bk_lesscode.exceptions.LessCodeApiError | 不适用 | module |
| LessCodeGatewayServiceError | paasng.platform.bk_lesscode.exceptions.LessCodeGatewayServiceError | 不适用 | module |
| fieldmgr | paasng.platform.bkapp_model.fieldmgr | APP_DESC, FieldMgrName | module |
| Process | paasng.platform.bkapp_model.entities.Process | 不适用 | module |
| sync_processes | paasng.platform.bkapp_model.entities_syncer.sync_processes | 不适用 | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | filter, objects | module |
| generate_image_repository | paasng.platform.engine.configurations.image.generate_image_repository | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | BUILDPACK, DOCKERFILE, CUSTOM_IMAGE | module |
| DeployHookType | paasng.platform.modules.constants.DeployHookType | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | BK_LESS_CODE | module |
| BPNotFound | paasng.platform.modules.exceptions.BPNotFound | 不适用 | module |
| ModuleRuntimeBinder | paasng.platform.modules.helpers.ModuleRuntimeBinder | 不适用 | module |
| ModuleRuntimeManager | paasng.platform.modules.helpers.ModuleRuntimeManager | 不适用 | module |
| get_image_labels_by_module | paasng.platform.modules.helpers.get_image_labels_by_module | 不适用 | module |
| update_build_config_with_method | paasng.platform.modules.helpers.update_build_config_with_method | 不适用 | module |
| ModuleCleaner | paasng.platform.modules.manager.ModuleCleaner | 不适用 | module |
| init_module_in_view | paasng.platform.modules.manager.init_module_in_view | 不适用 | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | filter_by_labels, objects, filter_module_available | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | filter_by_labels, objects, filter_module_available | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| Module | paasng.platform.modules.models.Module | create, objects | module |
| ModuleDeletionPreparer | paasng.platform.modules.protections.ModuleDeletionPreparer | 不适用 | module |
| CreateCNativeModuleSLZ | paasng.platform.modules.serializers.CreateCNativeModuleSLZ | 不适用 | module |
| CreateModuleSLZ | paasng.platform.modules.serializers.CreateModuleSLZ | 不适用 | module |
| ListModulesSLZ | paasng.platform.modules.serializers.ListModulesSLZ | 不适用 | module |
| MinimalModuleSLZ | paasng.platform.modules.serializers.MinimalModuleSLZ | 不适用 | module |
| ModuleBuildConfigSLZ | paasng.platform.modules.serializers.ModuleBuildConfigSLZ | 不适用 | module |
| ModuleDeployConfigSLZ | paasng.platform.modules.serializers.ModuleDeployConfigSLZ | 不适用 | module |
| ModuleDeployHookSLZ | paasng.platform.modules.serializers.ModuleDeployHookSLZ | 不适用 | module |
| ModuleDeployProcfileSLZ | paasng.platform.modules.serializers.ModuleDeployProcfileSLZ | 不适用 | module |
| ModuleRuntimeBindSLZ | paasng.platform.modules.serializers.ModuleRuntimeBindSLZ | 不适用 | module |
| ModuleRuntimeOverviewSLZ | paasng.platform.modules.serializers.ModuleRuntimeOverviewSLZ | 不适用 | module |
| ModuleRuntimeSLZ | paasng.platform.modules.serializers.ModuleRuntimeSLZ | 不适用 | module |
| ModuleSLZ | paasng.platform.modules.serializers.ModuleSLZ | 不适用 | module |
| ModuleSpecs | paasng.platform.modules.specs.ModuleSpecs | 不适用 | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | NORMAL | module |
| Template | paasng.platform.templates.models.Template | get, objects | module |
| TemplateRenderOutputSLZ | paasng.platform.templates.serializers.TemplateRenderOutputSLZ | 不适用 | module |
| openapi_empty_response | paasng.utils.api_docs.openapi_empty_response | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | f, CREATE_LESSCODE_APP_ERROR, CANNOT_DELETE_MODULE, CANNOT_SET_DEFAULT, CREATE_MODULE_QUOTA_EXCEEDED, CREATE_CREDENTIALS_FAILED, BIND_RUNTIME_FAILED, MODIFY_UNSUPPORTED | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ModuleViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | create, list, retrieve, destroy, set_as_default, create_cloud_native_module, _ensure_allow_create_module, _init_image_credential | 无 | 无 | 不适用 |
| ModuleRuntimeViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list_available, retrieve, bind | permission_classes | 无 | 不适用 |
| ModuleRuntimeOverviewView | rest_framework.views.APIView, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get | permission_classes | 无 | 不适用 |
| ModuleBuildConfigViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | _gen_build_config_data, retrieve, modify, list_available_bp_runtimes | permission_classes | 无 | 不适用 |
| ModuleDeployConfigViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | retrieve, upsert_hook, disable_hook, update_procfile | permission_classes, schema | 无 | 普通应用的「部署配置」API |
| ModuleTemplateViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | retrieve | permission_classes | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/scene_app/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/scene_app/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SceneAppConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/scene_app/initializer.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| yaml | full_load, YAMLError | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| settings | django.conf.settings | BLOBSTORE_BUCKET_APP_SOURCE | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| create_oauth2_client | paasng.infras.oauth2.utils.create_oauth2_client | 不适用 | module |
| get_oauth2_client_secret | paasng.infras.oauth2.utils.get_oauth2_client_secret | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| AppDescriptionHandler | paasng.platform.declarative.handlers.AppDescriptionHandler | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | SCENE | module |
| BlobStoreSyncProcedure | paasng.platform.sourcectl.connector.BlobStoreSyncProcedure | 不适用 | module |
| SourceSyncResult | paasng.platform.sourcectl.connector.SourceSyncResult | 不适用 | module |
| get_repo_connector | paasng.platform.sourcectl.connector.get_repo_connector | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | SCENE | module |
| Templater | paasng.platform.templates.templater.Templater | 不适用 | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |
| make_blob_store | paasng.utils.blobstore.make_blob_store | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SceneAPPInitializer | 无 | __init__, execute, _gen_downloadable_app_template | 无 | 无 | 场景 SaaS 应用初始化 |

---


### 模块: apiserver/paasng/paasng/platform/scene_app/migrations/0001_initial.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, CharField, BooleanField, JSONField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/scene_app/migrations/0002_delete_scenetmpl.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, DeleteModel | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/scene_app/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/scheduler/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/scheduler/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |
| settings | django.conf.settings | DISABLE_PERIODICAL_JOBS | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SchedulerConfig | django.apps.AppConfig | ready | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/scheduler/jobs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BackgroundScheduler | apscheduler.schedulers.background.BackgroundScheduler | 不适用 | module |
| settings | django.conf.settings | REMOTE_SERVICES_UPDATE_INTERVAL_MINUTES | module |
| fetch_all_remote_services | paasng.accessories.servicehub.remote.collector.fetch_all_remote_services | 不适用 | module |
| get_remote_store | paasng.accessories.servicehub.remote.store.get_remote_store | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| scheduler | 不适用 | `scheduler = Scheduler()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| update_remote_services | `@scheduler.scheduled_job('interval', minutes=settings.REMOTE_SERVICES_UPDATE_INTERVAL_MINUTES):` | scheduler.scheduled_job | Update remote services periodically |


---


### 模块: apiserver/paasng/paasng/platform/scheduler/management/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/scheduler/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/scheduler/management/commands/run_scheduler.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| signal | signal, SIGINT, SIGTERM | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| scheduler | paasng.platform.scheduler.jobs.scheduler | shutdown, start | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| shutdown_gracefully | `def shutdown_gracefully(sig, frame):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/scheduler/management/commands/update_remote_services_config.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| update_remote_services | paasng.platform.scheduler.jobs.update_remote_services | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/smart_app/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/smart_app/conf.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | SMART_DOCKER_REGISTRY_HOST, SMART_DOCKER_REGISTRY_NAMESPACE, SMART_DOCKER_REGISTRY_USERNAME, SMART_DOCKER_REGISTRY_PASSWORD, SMART_IMAGE_NAME, SMART_IMAGE_TAG, SMART_CNB_IMAGE_NAME, SMART_CNB_IMAGE_TAG | module |
| APIEndpoint | moby_distribution.APIEndpoint | 不适用 | module |
| DockerRegistryV2Client | moby_distribution.DockerRegistryV2Client | from_api_endpoint | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| bksmart_settings | 不适用 | `bksmart_settings = Settings()` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RegistryConf | pydantic.BaseModel | get_client | 无 | 无 | S-Mart 注册表配置 |
| BaseImageConf | pydantic.BaseModel | 无 | 无 | 无 | slug S-Mart 基础镜像配置, 用于配置合并镜像层时的基础镜像 |
| CNBBaseImageConf | pydantic.BaseModel | 无 | 无 | 无 | cloud native S-Mart 基础镜像配置, 用于配置合并镜像层时的基础镜像 |
| Settings | pydantic.BaseModel | reload | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/smart_app/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SMartPackageBuilderVersionFlag | blue_krill.data_types.enum.StrStructuredEnum | 无 | SOURCE_PACKAGE, SLUG_IMAGE_LAYERS, CNB_IMAGE_LAYERS | 无 | s-mart 包构建器版本, 不同版本的构建器输出的产物类型不一样 |

---


### 模块: apiserver/paasng/paasng/platform/smart_app/entities.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DockerExportedImageManifest | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/smart_app/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PreparedPackageNotFound | Exception | 无 | 无 | 无 | raised when prepared package was not found |

---


### 模块: apiserver/paasng/paasng/platform/smart_app/management/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/smart_app/management/commands/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/smart_app/management/commands/smart_tool.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| wraps | functools.wraps | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| user_id_encoder | bkpaas_auth.models.user_id_encoder | encode | module |
| APIError | blue_krill.web.std_error.APIError | 不适用 | module |
| settings | django.conf.settings | USER_TYPE | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| ApplicationDesc | paasng.platform.declarative.application.resources.ApplicationDesc | 不适用 | module |
| AppSpecVersion | paasng.platform.declarative.constants.AppSpecVersion | VER_1 | module |
| ControllerError | paasng.platform.declarative.exceptions.ControllerError | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| get_desc_handler | paasng.platform.declarative.handlers.get_desc_handler | 不适用 | module |
| get_app_description | paasng.platform.smart_app.services.app_desc.get_app_description | 不适用 | module |
| SourcePackageStatReader | paasng.platform.smart_app.services.detector.SourcePackageStatReader | 不适用 | module |
| dispatch_package_to_modules | paasng.platform.smart_app.services.dispatch.dispatch_package_to_modules | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | f, FAILED_TO_HANDLE_APP_DESC, MISSING_DESCRIPTION_INFO, MISSING_VERSION_INFO | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger('commands')` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| handle_error | `def handle_error(func):` | 无 | 不适用 |
| validate_app_desc | `def validate_app_desc(app_desc: ApplicationDesc):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/smart_app/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| re | fullmatch | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, CharField, DictField, FileField, ValidationError, ListField, JSONField, ChoiceField | module |
| MarketSLZ | paasng.platform.declarative.application.validations.v2.MarketSLZ | 不适用 | module |
| ModuleDescriptionSLZ | paasng.platform.declarative.application.validations.v2.ModuleDescriptionSLZ | 不适用 | module |
| DiffType | paasng.platform.declarative.constants.DiffType | get_choices | module |
| TranslatedCharField | paasng.utils.i18n.serializers.TranslatedCharField | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppDescriptionSLZ | rest_framework.serializers.Serializer | 无 | region, code, name, market, modules | 无 | Represent application description object only |
| PackageStashRequestSLZ | rest_framework.serializers.Serializer | validate_package | package | 无 | Handle S-mart application uploads |
| PackageStashResponseSLZ | rest_framework.serializers.Serializer | 无 | app_description, signature, supported_services | 无 | 不适用 |
| DiffItemSLZ | rest_framework.serializers.Serializer | 无 | resource, diff_type | 无 | 不适用 |
| DescriptionDiffResultSLZ | rest_framework.serializers.Serializer | 无 | services | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/smart_app/services/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/smart_app/services/app_desc.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| ApplicationDesc | paasng.platform.declarative.application.resources.ApplicationDesc | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| get_desc_handler | paasng.platform.declarative.handlers.get_desc_handler | 不适用 | module |
| SPStat | paasng.platform.sourcectl.models.SPStat | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_app_description | `def get_app_description(stat: SPStat) -> ApplicationDesc:` | 无 | Get application description object from source pac... |


---


### 模块: apiserver/paasng/paasng/platform/smart_app/services/detector.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64encode | module |
| hashlib | sha256 | module |
| logging | getLogger | module |
| re | compile | module |
| zipfile | is_zipfile | module |
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PathLike | os.PathLike | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| YAMLError | yaml.YAMLError | 不适用 | module |
| AppDescPluginType | paasng.platform.declarative.constants.AppDescPluginType | APP_VERSION | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| get_desc_handler | paasng.platform.declarative.handlers.get_desc_handler | 不适用 | module |
| PackageInvalidFileFormatError | paasng.platform.sourcectl.exceptions.PackageInvalidFileFormatError | 不适用 | module |
| ReadFileNotFoundError | paasng.platform.sourcectl.exceptions.ReadFileNotFoundError | 不适用 | module |
| ReadLinkFileOutsideDirectoryError | paasng.platform.sourcectl.exceptions.ReadLinkFileOutsideDirectoryError | 不适用 | module |
| SPStat | paasng.platform.sourcectl.models.SPStat | 不适用 | module |
| BinaryTarClient | paasng.platform.sourcectl.package.client.BinaryTarClient | 不适用 | module |
| ZipClient | paasng.platform.sourcectl.package.client.ZipClient | 不适用 | module |
| path_may_escape | paasng.utils.file.path_may_escape | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| relative_path_of_app_desc | `def relative_path_of_app_desc(filepath: str) -> Optional[str]:` | 无 | Get the relative path of the app description file,... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SourcePackageStatReader | 无 | __init__, accessor, get_meta_info, _try_extract_version, compute_sha256_digest, read, _load_logo | 无 | 无 | Read local source package's stats |

---


### 模块: apiserver/paasng/paasng/platform/smart_app/services/dispatch.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ThreadPoolExecutor | concurrent.futures.ThreadPoolExecutor | 不适用 | module |
| PathLike | os.PathLike | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| List | typing.List | 不适用 | module |
| Set | typing.Set | 不适用 | module |
| ImageJSON | moby_distribution.ImageJSON | 不适用 | module |
| ImageRef | moby_distribution.ImageRef | from_image | module |
| LayerRef | moby_distribution.LayerRef | 不适用 | module |
| User | paasng.infras.accounts.models.User | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| get_source_dir_from_desc | paasng.platform.declarative.handlers.get_source_dir_from_desc | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| bksmart_settings | paasng.platform.smart_app.conf.bksmart_settings | get_client, registry | module |
| SMartPackageBuilderVersionFlag | paasng.platform.smart_app.constants.SMartPackageBuilderVersionFlag | CNB_IMAGE_LAYERS | module |
| DockerExportedImageManifest | paasng.platform.smart_app.entities.DockerExportedImageManifest | 不适用 | module |
| SourcePackageStatReader | paasng.platform.smart_app.services.detector.SourcePackageStatReader | 不适用 | module |
| SMartImageManager | paasng.platform.smart_app.services.image_mgr.SMartImageManager | 不适用 | module |
| patch_smart_tarball | paasng.platform.smart_app.services.patcher.patch_smart_tarball | 不适用 | module |
| SourcePackage | paasng.platform.sourcectl.models.SourcePackage | store, objects | module |
| SPStat | paasng.platform.sourcectl.models.SPStat | 不适用 | module |
| SPStoragePolicy | paasng.platform.sourcectl.models.SPStoragePolicy | 不适用 | module |
| generate_storage_path | paasng.platform.sourcectl.package.uploader.generate_storage_path | 不适用 | module |
| upload_to_blob_store | paasng.platform.sourcectl.package.uploader.upload_to_blob_store | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| uncompress_directory | paasng.platform.sourcectl.utils.uncompress_directory | 不适用 | module |
| remove_prefix | paasng.utils.text.remove_prefix | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| dispatch_package_to_modules | `def dispatch_package_to_modules(application: Application, tarball_filepath: PathLike, stat: SPStat, operator: User, modules: Set[str]) -> List[SourcePackage]:` | 无 | Dispatch package to those modules which mentioned ... |
| patch_and_store_package | `def patch_and_store_package(module: Module, tarball_filepath: Path, stat: SPStat, operator: User) -> SourcePackage:` | 无 | Patch an uncompressed package and upload compresse... |
| dispatch_slug_image_to_registry | `def dispatch_slug_image_to_registry(module: Module, workplace: Path, stat: SPStat, operator: User) -> SourcePackage:` | 无 | Merge image layer to base image, then push the new... |
| dispatch_cnb_image_to_registry | `def dispatch_cnb_image_to_registry(module: Module, workplace: Path, stat: SPStat, operator: User) -> SourcePackage:` | 无 | Merge image layer to base image, then push the new... |


---


### 模块: apiserver/paasng/paasng/platform/smart_app/services/image_mgr.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| NamedImage | moby_distribution.registry.utils.NamedImage | 不适用 | module |
| parse_image | moby_distribution.registry.utils.parse_image | 不适用 | module |
| Module | paasng.platform.modules.models.module.Module | 不适用 | module |
| AppSlugRunner | paasng.platform.modules.models.runtime.AppSlugRunner | filter, objects | module |
| bksmart_settings | paasng.platform.smart_app.conf.bksmart_settings | name, base_image, tag, host, registry, cnb_base_image, namespace | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SMartImageManager | 无 | __init__, get_slugrunner_image_info, get_cnb_runner_image_info, get_image_info | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/smart_app/services/patcher.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| get_deploy_desc_by_module | paasng.platform.declarative.handlers.get_deploy_desc_by_module | 不适用 | module |
| patch_source_dir_procfile | paasng.platform.engine.utils.patcher.patch_source_dir_procfile | 不适用 | module |
| validate_source_dir_str | paasng.platform.engine.utils.source.validate_source_dir_str | 不适用 | module |
| ModuleSpecs | paasng.platform.modules.specs.ModuleSpecs | 不适用 | module |
| SPStat | paasng.platform.sourcectl.models.SPStat | 不适用 | module |
| BinaryTarClient | paasng.platform.sourcectl.package.client.BinaryTarClient | 不适用 | module |
| compress_directory | paasng.platform.sourcectl.utils.compress_directory | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| patch_smart_tarball | `def patch_smart_tarball(tarball_path: Path, dest_dir: Path, module: 'Module', stat: SPStat) -> Path:` | 无 | Patch a s-mart source package to add Procfile, ret... |


---


### 模块: apiserver/paasng/paasng/platform/smart_app/services/path.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| zipfile | ZipFile | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PathLike | os.PathLike | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| PurePath | pathlib.PurePath | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| Protocol | typing_extensions.Protocol | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PathProtocol | typing_extensions.Protocol | __truediv__, write_text, exists, is_file, is_dir, relative_to | 无 | 无 | PathProtocol 是 pathlib.Path 的子集, 声明了 detector 和 pa... |
| LocalFSPath | os.PathLike | __init__, __truediv__, write_text, exists, is_file, is_dir, relative_to, __fspath__ | 无 | 无 | A PathLike obj, which will auto mkdir parent dir w... |
| ZipPath | os.PathLike | __init__, __truediv__, write_text, exists, is_file, is_dir, relative_to, __fspath__ | 无 | 无 | A PathLike obj describing the relative path in the... |

---


### 模块: apiserver/paasng/paasng/platform/smart_app/services/prepared.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PathLike | os.PathLike | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| HttpRequest | django.http.request.HttpRequest | 不适用 | module |
| slugify | django.utils.text.slugify | 不适用 | module |
| PreparedPackageNotFound | paasng.platform.smart_app.exceptions.PreparedPackageNotFound | 不适用 | module |
| download_file_via_url | paasng.platform.sourcectl.package.downloader.download_file_via_url | 不适用 | module |
| upload_to_blob_store | paasng.platform.sourcectl.package.uploader.upload_to_blob_store | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PreparedSourcePackage | 无 | __init__, generate_storage_path, store, retrieve | _package_path_key | 无 | Upload a package to remote backend and store info ... |

---


### 模块: apiserver/paasng/paasng/platform/smart_app/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/sourcectl/smart_packages/$', views.SMartPackageCreatorViewSet.as_view({'post': 'upload'}), name='api.sourcectl.smart_packages'), re_path('^api/sourcectl/smart_packages/prepared/$', views.SMartPackageCreatorViewSet.as_view({'post': 'create_prepared'}), name='api.sourcectl.smart_packages.prepared'), re_path('^api/bkapps/s-mart/$', views.SMartPackageCreatorViewSet.as_view({'post': 'upload'}), name='api.applications.create.smart_packages.upload'), re_path('^api/bkapps/s-mart/confirm/$', views.SMartPackageCreatorViewSet.as_view({'post': 'create_prepared'}), name='api.applications.create.smart_packages.confirm'), re_path('api/bkapps/applications/(?P<code>[^/]+)/source_package/$', views.SMartPackageManagerViewSet.as_view({'get': 'list'}), name='api.sourcectl.source_package.s-mart.list'), re_path('api/bkapps/applications/(?P<code>[^/]+)/source_package/stash/$', views.SMartPackageManagerViewSet.as_view({'post': 'stash'}), name='api.sourcectl.source_package.s-mart.stash'), re_path('api/bkapps/applications/(?P<code>[^/]+)/source_package/commit/(?P<signature>[^/]+)/$', views.SMartPackageManagerViewSet.as_view({'post': 'commit'}), name='api.sourcectl.source_package.s-mart.commit'), re_path('api/bkapps/applications/(?P<code>[^/]+)/source_package/(?P<pk>[^/]+)/$', views.SMartPackageManagerViewSet.as_view({'get': 'retrieve'}), name='api.sourcectl.source_package.s-mart.detail')]` | module |



---


### 模块: apiserver/paasng/paasng/platform/smart_app/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| tarfile | open, TarError | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PathLike | os.PathLike | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| List | typing.List | 不适用 | module |
| cast | typing.cast | 不适用 | module |
| DownloadFailedError | blue_krill.storages.blobstore.exceptions.DownloadFailedError | 不适用 | module |
| UploadFailedError | blue_krill.storages.blobstore.exceptions.UploadFailedError | 不适用 | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| Http404 | django.http.response.Http404 | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| method_decorator | django.utils.decorators.method_decorator | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| RequestError | moby_distribution.registry.exceptions.RequestError | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED | module |
| viewsets | rest_framework.viewsets | ViewSet, ListModelMixin, mixins | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| JSONParser | rest_framework.parsers.JSONParser | 不适用 | module |
| MultiPartParser | rest_framework.parsers.MultiPartParser | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| ServiceObj | paasng.accessories.servicehub.manager.ServiceObj | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | list_by_region | module |
| AccountFeatureFlag | paasng.infras.accounts.models.AccountFeatureFlag | has_feature, objects | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | get_profile, objects | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ApplicationDesc | paasng.platform.declarative.application.resources.ApplicationDesc | 不适用 | module |
| AppSpecVersion | paasng.platform.declarative.constants.AppSpecVersion | VER_3 | module |
| ControllerError | paasng.platform.declarative.exceptions.ControllerError | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| get_desc_handler | paasng.platform.declarative.handlers.get_desc_handler | 不适用 | module |
| PreparedPackageNotFound | paasng.platform.smart_app.exceptions.PreparedPackageNotFound | 不适用 | module |
| AppDescriptionSLZ | paasng.platform.smart_app.serializers.AppDescriptionSLZ | 不适用 | module |
| PackageStashRequestSLZ | paasng.platform.smart_app.serializers.PackageStashRequestSLZ | 不适用 | module |
| PackageStashResponseSLZ | paasng.platform.smart_app.serializers.PackageStashResponseSLZ | 不适用 | module |
| get_app_description | paasng.platform.smart_app.services.app_desc.get_app_description | 不适用 | module |
| SourcePackageStatReader | paasng.platform.smart_app.services.detector.SourcePackageStatReader | 不适用 | module |
| dispatch_package_to_modules | paasng.platform.smart_app.services.dispatch.dispatch_package_to_modules | 不适用 | module |
| PreparedSourcePackage | paasng.platform.smart_app.services.prepared.PreparedSourcePackage | 不适用 | module |
| SourcePackage | paasng.platform.sourcectl.models.SourcePackage | 不适用 | module |
| download_package | paasng.platform.sourcectl.package.downloader.download_package | 不适用 | module |
| SourcePackageSLZ | paasng.platform.sourcectl.serializers.SourcePackageSLZ | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | f, OBJECT_STORE_EXCEPTION, MISSING_VERSION_INFO, PREPARED_PACKAGE_NOT_FOUND, FILE_CORRUPTED_ERROR, FAILED_TO_HANDLE_APP_DESC, FAILED_TO_PUSH_IMAGE | module |
| get_filepath | paasng.utils.views.get_filepath | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SMartPackageCreatorViewSet | rest_framework.viewsets.ViewSet | handle_exception, upload, create_prepared, validate_app_desc, is_valid_tar_file | permission_classes, parser_classes | 无 | 上传与管理 S-Mart 应用市场规则的源码包，可通过源码包直接创建应用 |
| SMartPackageManagerViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin, rest_framework.viewsets.mixins.ListModelMixin | get_queryset, handle_exception, retrieve, validate_app_desc, stash, commit | serializer_class, permission_classes, search_fields, ordering, ordering_fields, parser_classes | method_decorator | 管理某个 S-Mart 应用的源码包 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/sourcectl/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |
| models_utils | paasng.platform.sourcectl.models_utils | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SourceCtlConfig | django.apps.AppConfig | ready | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| abc | ABC, abstractmethod | module |
| itertools | count | module |
| logging | getLogger, warning | module |
| requests | session, Response | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| OAuth2Error | oauthlib.oauth2.rfc6749.errors.OAuth2Error | 不适用 | module |
| Oauth2TokenHolder | paasng.infras.accounts.models.Oauth2TokenHolder | 不适用 | module |
| exceptions | paasng.platform.sourcectl.exceptions | AccessTokenMissingError, AccessTokenError, CallGitApiFailed, RemoteResourceNotFoundError, AccessTokenForbidden, RequestTimeOutError, RequestError, AccessTokenRefreshError | module |
| GitProject | paasng.platform.sourcectl.models.GitProject | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| PAGE_START_AT | 1 | `PAGE_START_AT = 1` | module |
| DEFAULT_PER_PAGE | 100 | `DEFAULT_PER_PAGE = 100` | module |
| DEFAULT_TIMEOUT | 90 | `DEFAULT_TIMEOUT = 90` | module |
| DEFAULT_REPO_REF | master | `DEFAULT_REPO_REF = 'master'` | module |
| RETRY_TIME | 3 | `RETRY_TIME = 3` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| GitRepoProvider | blue_krill.data_types.enum.StrStructuredEnum | 无 | GitHub, Gitee, GitLab | 无 | Git 仓库服务提供方 |
| BaseGitApiClient | abc.ABC | __init__, list_repo, repo_get_raw_file, repo_list_branches, repo_list_tags, repo_last_commit, get_user_info, get_project_info, list_all_commit_logs, calculate_user_contribution, _fetch_all_items, _fetch_items, _request_with_retry, _validate_resp, _refresh_token | 无 | 无 | Git 基础 API SDK |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/connector.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| abc | ABC, abstractmethod | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| urljoin | urllib.parse.urljoin | 不适用 | module |
| settings | django.conf.settings | BLOBSTORE_BUCKET_APP_SOURCE | module |
| Model | django.db.models.Model | 不适用 | module |
| get_oauth2_client_secret | paasng.infras.oauth2.utils.get_oauth2_client_secret | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| GitRepository | paasng.platform.sourcectl.models.GitRepository | 不适用 | module |
| RepoBasicAuthHolder | paasng.platform.sourcectl.models.RepoBasicAuthHolder | update_or_create, objects | module |
| RepositoryInstance | paasng.platform.sourcectl.models.RepositoryInstance | 不适用 | module |
| SvnRepository | paasng.platform.sourcectl.models.SvnRepository | 不适用 | module |
| get_sourcectl_type | paasng.platform.sourcectl.source_types.get_sourcectl_type | 不适用 | module |
| get_sourcectl_types | paasng.platform.sourcectl.source_types.get_sourcectl_types | 不适用 | module |
| get_svn_authorization_manager | paasng.platform.sourcectl.svn.admin.get_svn_authorization_manager | 不适用 | module |
| promote_repo_privilege_temporary | paasng.platform.sourcectl.svn.admin.promote_repo_privilege_temporary | 不适用 | module |
| SvnRepositoryClient | paasng.platform.sourcectl.svn.client.SvnRepositoryClient | 不适用 | module |
| acquire_repo | paasng.platform.sourcectl.svn.client.acquire_repo | 不适用 | module |
| CannotInitNonEmptyTrunk | paasng.platform.sourcectl.svn.exceptions.CannotInitNonEmptyTrunk | 不适用 | module |
| get_bksvn_config | paasng.platform.sourcectl.svn.server_config.get_bksvn_config | 不适用 | module |
| compress_directory | paasng.platform.sourcectl.utils.compress_directory | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | NORMAL | module |
| Templater | paasng.platform.templates.templater.Templater | 不适用 | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |
| unique_id_generator | paasng.utils.basic.unique_id_generator | 不适用 | module |
| BlobStore | paasng.utils.blobstore.BlobStore | 不适用 | module |
| make_blob_store | paasng.utils.blobstore.make_blob_store | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_repo_connector | `def get_repo_connector(repo_type: str, module: Module) -> ModuleRepoConnector:` | 无 | Get a connector object by given repository type

 ... |
| generate_downloadable_app_template | `def generate_downloadable_app_template(module: Module, context: Optional[Dict[str, Any]] = None) -> SourceSyncResult:` | 无 | Generate a downloadable URL for templated app sour... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SourceSyncResult | 无 | is_success | 无 | dataclass | The result of one templated source sync procedure |
| ModuleRepoConnector | abc.ABC | __init__, bind, sync_templated_sources, write_templates_to_dir | 无 | 无 | A ModuleRepoConnector connects application with VC... |
| DBBasedMixin | 无 | repository_model, _get_or_create_repo_obj, save_repo_info, untie_repo, get_repo | 无 | 无 | Databased based repo connector which provides some... |
| IntegratedSvnAppRepoConnector | ModuleRepoConnector, DBBasedMixin | __init__, _initial_application_root, _acquire_module_repo, _acquire_repo, bind, sync_templated_sources | auth_method, repository_model | 无 | RepoBinder for integrated svn repository, features... |
| ExternalGitAppRepoConnector | ModuleRepoConnector, DBBasedMixin | bind, sync_templated_sources | auth_method, repository_model | 无 | RepoBinder for external git repository, features:
... |
| ExternalBasicAuthRepoConnector | ModuleRepoConnector, DBBasedMixin | repository_model, update_repo_basic_auth, bind, sync_templated_sources | auth_method | 无 | RepoBinder for external basic auth repository(incl... |
| SvnSyncProcedure | 无 | run | 无 | dataclass | Sync templated sources to SVN repo with a commit |
| BlobStoreSyncProcedure | 无 | run | downloadable_address_expires_in | dataclass | Sync templated source to Blob Store. |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| FeatureFlagField | blue_krill.data_types.enum.FeatureFlagField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| AccountFeatureFlag | paasng.infras.accounts.constants.AccountFeatureFlag | register_ext_feature_flag | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| register_new_sourcectl_type | `def register_new_sourcectl_type(feature_flag: FeatureFlagField):` | 无 | 暴露给 TE 版本的注册 SourcectlType 的方法

    :param feature... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DiffFeatureType | blue_krill.data_types.enum.StrStructuredEnum | 无 | INTERNAL, EXTERNAL | 无 | 代码对比类型 |
| BasicSourceType | blue_krill.data_types.enum.StrStructuredEnum | 无 | GIT, SVN, PACKAGE | 无 | 基础源码类型 |
| VersionType | blue_krill.data_types.enum.StrStructuredEnum | 无 | TAG, BRANCH, TRUNK, IMAGE, PACKAGE | 无 | 版本类型. 对应 VersionInfo.version_type |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/controllers/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/sourcectl/controllers/bare_git.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| operator | attrgetter | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| Iterator | typing.Iterator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| quote | urllib.parse.quote | 不适用 | module |
| urlparse | urllib.parse.urlparse | 不适用 | module |
| MutableURL | blue_krill.data_types.url.MutableURL | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| BasicAuthError | paasng.platform.sourcectl.exceptions.BasicAuthError | 不适用 | module |
| ReadFileNotFoundError | paasng.platform.sourcectl.exceptions.ReadFileNotFoundError | 不适用 | module |
| ReadLinkFileOutsideDirectoryError | paasng.platform.sourcectl.exceptions.ReadLinkFileOutsideDirectoryError | 不适用 | module |
| AlternativeVersion | paasng.platform.sourcectl.models.AlternativeVersion | 不适用 | module |
| CommitLog | paasng.platform.sourcectl.models.CommitLog | 不适用 | module |
| Repository | paasng.platform.sourcectl.models.Repository | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| RepositoryInstance | paasng.platform.sourcectl.models.RepositoryInstance | 不适用 | module |
| GitClient | paasng.platform.sourcectl.git.client.GitClient | 不适用 | module |
| GitCommandExecutionError | paasng.platform.sourcectl.git.client.GitCommandExecutionError | 不适用 | module |
| Ref | paasng.platform.sourcectl.git.client.Ref | 不适用 | module |
| RepoBasicAuthHolder | paasng.platform.sourcectl.models.RepoBasicAuthHolder | get_by_repo, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BareGitRepoController | 无 | __init__, init_by_module, list_all_repositories, touch, export, list_alternative_versions, transfer_refs_to_versions, extract_smart_revision, extract_version_info, build_url, build_compare_url, get_diff_commit_logs, read_file | 无 | 无 | Git 协议仓库控制器 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/controllers/bare_svn.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| SvnRepoController | paasng.platform.sourcectl.controllers.bk_svn.SvnRepoController | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| RepoBasicAuthHolder | paasng.platform.sourcectl.models.RepoBasicAuthHolder | get_by_repo, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BareSvnRepoController | paasng.platform.sourcectl.controllers.bk_svn.SvnRepoController | init_by_module | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/controllers/bk_svn.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| os | join, path | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| BasicAuthError | paasng.platform.sourcectl.exceptions.BasicAuthError | 不适用 | module |
| AlternativeVersion | paasng.platform.sourcectl.models.AlternativeVersion | 不适用 | module |
| CommitLog | paasng.platform.sourcectl.models.CommitLog | 不适用 | module |
| Repository | paasng.platform.sourcectl.models.Repository | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| SvnRepositoryClient | paasng.platform.sourcectl.svn.client.SvnRepositoryClient | 不适用 | module |
| svn_version_types | paasng.platform.sourcectl.svn.client.svn_version_types | get_version_by_type | module |
| get_bksvn_config | paasng.platform.sourcectl.svn.server_config.get_bksvn_config | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SvnRepoController | 无 | __init__, get_client, init_by_module, list_all_repositories, touch, export, list_alternative_versions, extract_smart_revision, extract_version_info, build_url, build_compare_url, get_diff_commit_logs, read_file | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/controllers/docker.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | utcfromtimestamp, datetime | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| APIEndpoint | moby_distribution.APIEndpoint | 不适用 | module |
| DockerRegistryV2Client | moby_distribution.DockerRegistryV2Client | from_api_endpoint | module |
| ImageRef | moby_distribution.ImageRef | from_image | module |
| Tags | moby_distribution.Tags | 不适用 | module |
| AlternativeVersion | paasng.platform.sourcectl.models.AlternativeVersion | 不适用 | module |
| RepoBasicAuthHolder | paasng.platform.sourcectl.models.RepoBasicAuthHolder | get_by_repo, objects, DoesNotExist | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| docker_registry_config | paasng.platform.sourcectl.source_types.docker_registry_config | default_registry | module |
| remove_suffix | paasng.utils.text.remove_suffix | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| REGISTRY_ALIASES | {'docker.io': 'index.docker.io'} | `REGISTRY_ALIASES = {'docker.io': 'index.docker.io'}` | module |
| TAG_LIST_TIMEOUT | 30 | `TAG_LIST_TIMEOUT = 30` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DockerRegistryController | 无 | init_by_module, __init__, touch, get_client, extract_version_info, list_alternative_versions, inspect_version, extract_smart_revision, build_url | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/controllers/gitee.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| arrow | get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| quote | urllib.parse.quote | 不适用 | module |
| MutableURL | blue_krill.data_types.url.MutableURL | 不适用 | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| exceptions | paasng.platform.sourcectl.exceptions | RemoteResourceNotFoundError, AccessTokenForbidden, AccessTokenMissingError | module |
| GitClient | paasng.platform.sourcectl.git.client.GitClient | 不适用 | module |
| GiteeApiClient | paasng.platform.sourcectl.gitee.client.GiteeApiClient | 不适用 | module |
| AlternativeVersion | paasng.platform.sourcectl.models.AlternativeVersion | 不适用 | module |
| CommitLog | paasng.platform.sourcectl.models.CommitLog | 不适用 | module |
| GitProject | paasng.platform.sourcectl.models.GitProject | parse_from_repo_url | module |
| Repository | paasng.platform.sourcectl.models.Repository | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| BaseGitRepoController | paasng.platform.sourcectl.repo_controller.BaseGitRepoController | 不适用 | module |
| get_sourcectl_names | paasng.platform.sourcectl.source_types.get_sourcectl_names | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| GiteeRepoController | paasng.platform.sourcectl.repo_controller.BaseGitRepoController | __init__, get_client, project, list_all_repositories, touch, export, list_alternative_versions, extract_smart_revision, extract_version_info, build_url, build_compare_url, get_diff_commit_logs, read_file, _branch_data_to_version, _build_repo_url_with_auth | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/controllers/github.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| shutil | copytree, rmtree | module |
| arrow | get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PathLike | os.PathLike | 不适用 | module |
| path | os.path | join | module |
| walk | os.walk | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| ZipFile | zipfile.ZipFile | 不适用 | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| exceptions | paasng.platform.sourcectl.exceptions | RemoteResourceNotFoundError, AccessTokenForbidden | module |
| GitHubApiClient | paasng.platform.sourcectl.github.client.GitHubApiClient | 不适用 | module |
| AlternativeVersion | paasng.platform.sourcectl.models.AlternativeVersion | 不适用 | module |
| CommitLog | paasng.platform.sourcectl.models.CommitLog | 不适用 | module |
| GitProject | paasng.platform.sourcectl.models.GitProject | parse_from_repo_url | module |
| Repository | paasng.platform.sourcectl.models.Repository | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| BaseGitRepoController | paasng.platform.sourcectl.repo_controller.BaseGitRepoController | 不适用 | module |
| get_sourcectl_names | paasng.platform.sourcectl.source_types.get_sourcectl_names | 不适用 | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| GitHubRepoController | paasng.platform.sourcectl.repo_controller.BaseGitRepoController | __init__, get_client, project, list_all_repositories, touch, export, list_alternative_versions, extract_smart_revision, extract_version_info, build_url, build_compare_url, get_diff_commit_logs, read_file, _branch_data_to_version | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/controllers/gitlab.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | strptime, datetime | module |
| shutil | move, rmtree | module |
| arrow | get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| wraps | functools.wraps | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| GitlabAuthenticationError | gitlab.exceptions.GitlabAuthenticationError | 不适用 | module |
| GitlabGetError | gitlab.exceptions.GitlabGetError | 不适用 | module |
| exceptions | paasng.platform.sourcectl.exceptions | RemoteResourceNotFoundError, GitLabCommonError, AccessTokenForbidden, GitLabBranchNameBugError | module |
| GitLabApiClient | paasng.platform.sourcectl.gitlab.client.GitLabApiClient | 不适用 | module |
| AlternativeVersion | paasng.platform.sourcectl.models.AlternativeVersion | 不适用 | module |
| CommitLog | paasng.platform.sourcectl.models.CommitLog | 不适用 | module |
| DiffChange | paasng.platform.sourcectl.models.DiffChange | format_from_gitlab | module |
| GitProject | paasng.platform.sourcectl.models.GitProject | parse_from_repo_url | module |
| Repository | paasng.platform.sourcectl.models.Repository | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| BaseGitRepoController | paasng.platform.sourcectl.repo_controller.BaseGitRepoController | 不适用 | module |
| get_sourcectl_names | paasng.platform.sourcectl.source_types.get_sourcectl_names | 不适用 | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |
| uncompress_directory | paasng.platform.sourcectl.utils.uncompress_directory | 不适用 | module |
| remove_suffix | paasng.utils.text.remove_suffix | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| error_converter | `def error_converter(func):` | 无 | 不适用 |
| strftime_for_gitlab_project | `def strftime_for_gitlab_project(datetime_str):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| GitlabRepoController | paasng.platform.sourcectl.repo_controller.BaseGitRepoController | __init__, get_client, project, list_all_repositories, touch, export, list_alternative_versions, extract_smart_revision, extract_version_info, build_url, build_compare_url, get_diff_commit_logs, read_file, _branch_data_to_version | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/controllers/package.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| shutil | move, rmtree | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PathLike | os.PathLike | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Module | paasng.platform.modules.models.module.Module | 不适用 | module |
| VersionType | paasng.platform.sourcectl.constants.VersionType | value, PACKAGE, TAG | module |
| AlternativeVersion | paasng.platform.sourcectl.models.AlternativeVersion | 不适用 | module |
| SourcePackage | paasng.platform.sourcectl.models.SourcePackage | filter, default_objects, DoesNotExist | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| BasePackageClient | paasng.platform.sourcectl.package.client.BasePackageClient | 不适用 | module |
| get_client | paasng.platform.sourcectl.package.client.get_client | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PackageController | 无 | __init__, init_by_module, get_client, extract_version_info, touch, export, list_alternative_versions, inspect_version, extract_smart_revision, build_url | 无 | 无 | This class provides the basic method for reading s... |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/docker/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/sourcectl/docker/models.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| DockerRepository | paasng.platform.sourcectl.models.DockerRepository | filter, objects, create | module |
| RepoBasicAuthHolder | paasng.platform.sourcectl.models.RepoBasicAuthHolder | update_or_create, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| REPO_TYPE | docker | `REPO_TYPE = 'docker'` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_or_create_repo_obj | `def get_or_create_repo_obj(application: Application, repo_type: str, repo_url: str, source_dir: str) -> DockerRepository:` | 无 | Get or create a repository object by given url and... |
| init_image_repo | `def init_image_repo(module: Module, repo_url: str, source_dir: str, repo_auth_info: Dict):` | 无 | Init a container image based module's repo related... |


---


### 模块: apiserver/paasng/paasng/platform/sourcectl/exceptions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| GitProject | apiserver.paasng.paasng.platform.sourcectl.models.GitProject | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RemoteResourceNotFoundError | Exception | 无 | 无 | 无 | A base common exception for remote resource not fo... |
| ReadFileNotFoundError | Exception | 无 | 无 | 无 | File not found when reading file from remote repos... |
| ReadLinkFileOutsideDirectoryError | Exception | 无 | 无 | 无 | When trying to read a link file that link to outsi... |
| BasePackageError | Exception | 无 | 无 | 无 | The base error class for package clients. |
| PackageInvalidFileFormatError | BasePackageError | 无 | 无 | 无 | The package file is not in a valid format, it migh... |
| GitLabCommonError | Exception | 无 | 无 | 无 | 不适用 |
| AccessTokenError | Exception | 无 | 无 | 无 | access token 校验失败 |
| AccessTokenHolderError | Exception | 无 | 无 | 无 | token holder 异常（如：未提供） |
| RequestError | Exception | 无 | 无 | 无 | 请求异常 |
| RequestTimeOutError | RequestError | 无 | 无 | 无 | 请求超时 |
| AccessTokenMissingError | AccessTokenError | 无 | 无 | 无 | 缺少 access token |
| ExceptionWithGitProject | Exception | __init__, fullname, __str__ | 无 | 无 | 不适用 |
| UserNotBindedToSourceProviderError | ExceptionWithGitProject | 无 | 无 | 无 | 用户未提供服务源码仓库的凭据 |
| AccessTokenForbidden | ExceptionWithGitProject | 无 | 无 | 无 | Access token 无权限 |
| AccessTokenRefreshError | AccessTokenError | 无 | 无 | 无 | 不适用 |
| ExceptionWithMessage | Exception | __init__ | 无 | 无 | 不适用 |
| GetProcfileError | ExceptionWithMessage | 无 | 无 | 无 | When no valid Procfile can be found in application... |
| GetProcfileFormatError | GetProcfileError | 无 | 无 | 无 | The Procfile exists but the content format is inco... |
| GetAppYamlError | ExceptionWithMessage | 无 | 无 | 无 | When no valid app_desc.yaml can be found in applic... |
| GetAppYamlFormatError | GetAppYamlError | 无 | 无 | 无 | The app_desc.yaml exists but the content format is... |
| GetDockerIgnoreError | ExceptionWithMessage | 无 | 无 | 无 | When .dockerignore can not be found in application... |
| GitLabBranchNameBugError | Exception | 无 | 无 | 无 | existing bug in gitlab
    https://gitlab.com/gitl... |
| PackageAlreadyExists | Exception | 无 | 无 | 无 | 源码包已存在 |
| GitBranchNotFound | Exception | 无 | 无 | 无 | git 仓库找不到对应分支 |
| UnsupportedGitRepoEncode | Exception | 无 | 无 | 无 | 当前编码格式不受支持 |
| DownloadGitZipBallError | Exception | 无 | 无 | 无 | 下载源码包失败 |
| CallGitApiFailed | Exception | 无 | 无 | 无 | 调用 Git API 失败 |
| BasicAuthError | Exception | 无 | 无 | 无 | 用户名/密码错误 |
| OauthAuthorizationRequired | Exception | __init__ | 无 | 无 | 需要进行 Oauth 授权 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/git/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/sourcectl/git/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| os | getcwd, copy, environ | module |
| re | compile, M, match, sub | module |
| shutil | rmtree | module |
| subprocess | Popen, PIPE, STDOUT, TimeoutExpired | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| datetime | datetime.datetime | fromtimestamp | module |
| Path | pathlib.Path | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| MutableURL | blue_krill.data_types.url.MutableURL | 不适用 | module |
| force_str | django.utils.encoding.force_str | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| GitCommandExecutionError | Exception | 无 | 无 | 无 | 执行 git 命令时发生错误 |
| Ref | 无 | __str__ | 无 | dataclass | 不适用 |
| GitCommand | 无 | __init__, to_cmd, get_sensitive_texts, __str__ | 无 | 无 | 不适用 |
| GitCloneCommand | GitCommand | __init__, to_cmd, get_sensitive_texts | 无 | 无 | 不适用 |
| GitClient | 无 | checkout, clone, clone_no_blob, list_remote, list_remote_raw, list_refs, clean_meta_info, init_repo, add, commit, push, _get_commit_info, parse_ref, run, err_stdout_as_exc | COMMIT_INFO_REGEX, META_GIT_DIR, _git_filepath, _default_timeout | 无 | Git 客户端 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/gitee/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/sourcectl/gitee/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64decode | module |
| logging | getLogger | module |
| arrow | get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| urljoin | urllib.parse.urljoin | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| exceptions | paasng.platform.sourcectl.exceptions | UnsupportedGitRepoEncode | module |
| DEFAULT_REPO_REF | paasng.platform.sourcectl.client.DEFAULT_REPO_REF | 不适用 | module |
| BaseGitApiClient | paasng.platform.sourcectl.client.BaseGitApiClient | 不适用 | module |
| GitRepoProvider | paasng.platform.sourcectl.client.GitRepoProvider | Gitee | module |
| GitProject | paasng.platform.sourcectl.models.GitProject | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| GiteeApiClient | paasng.platform.sourcectl.client.BaseGitApiClient | __init__, list_repo, repo_get_raw_file, repo_list_branches, repo_list_tags, repo_last_commit, get_current_user, get_user_info, get_project_info, list_all_commit_logs, calculate_user_contribution | 无 | 无 | Gitee API SDK |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/github/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| GitHubApiClient | apiserver.paasng.paasng.platform.sourcectl.github.client.GitHubApiClient | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/platform/sourcectl/github/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64decode | module |
| logging | getLogger | module |
| pathlib | Path | module |
| arrow | get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| urljoin | urllib.parse.urljoin | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| exceptions | paasng.platform.sourcectl.exceptions | UnsupportedGitRepoEncode, DownloadGitZipBallError | module |
| DEFAULT_REPO_REF | paasng.platform.sourcectl.client.DEFAULT_REPO_REF | 不适用 | module |
| DEFAULT_TIMEOUT | paasng.platform.sourcectl.client.DEFAULT_TIMEOUT | 不适用 | module |
| BaseGitApiClient | paasng.platform.sourcectl.client.BaseGitApiClient | 不适用 | module |
| GitRepoProvider | paasng.platform.sourcectl.client.GitRepoProvider | GitHub | module |
| GitProject | paasng.platform.sourcectl.models.GitProject | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| GitHubApiClient | paasng.platform.sourcectl.client.BaseGitApiClient | __init__, list_repo, repo_get_raw_file, repo_list_branches, repo_list_tags, repo_archive, repo_last_commit, get_user_info, get_project_info, list_all_commit_logs, calculate_user_contribution | 无 | 无 | Github API SDK |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/gitlab/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| GitLabApiClient | apiserver.paasng.paasng.platform.sourcectl.gitlab.client.GitLabApiClient | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/platform/sourcectl/gitlab/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64decode | module |
| arrow | get | module |
| gitlab | Gitlab | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Counter | collections.Counter | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Generator | typing.Generator | 不适用 | module |
| List | typing.List | 不适用 | module |
| GitlabGetError | gitlab.exceptions.GitlabGetError | 不适用 | module |
| ProjectFile | gitlab.v4.objects.ProjectFile | 不适用 | module |
| ReadFileNotFoundError | paasng.platform.sourcectl.exceptions.ReadFileNotFoundError | 不适用 | module |
| GitProject | paasng.platform.sourcectl.models.GitProject | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| GitLabApiClient | 无 | __init__, list_repo, get_project_info, repo_get_raw_file, repo_list_branches, repo_list_tags, repo_compare, list_all_commit_logs, repo_contributors, repo_last_commit, repo_archive, user, calculate_user_contribution, calculate_user_commit_calendar | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/management/commands/clean_source_package.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | S_MART | module |
| Module | paasng.platform.modules.models.module.Module | filter, objects | module |
| ModuleSpecs | paasng.platform.modules.specs.ModuleSpecs | 不适用 | module |
| delete_from_blob_store | paasng.platform.sourcectl.package.cleaner.delete_from_blob_store | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle, _handle_module | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/management/commands/encryption_migration_sourcectl.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ReEncryptCommand | paasng.utils.encrypt_cmd.ReEncryptCommand | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | paasng.utils.encrypt_cmd.ReEncryptCommand | 无 | help, app_label | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| blue_krill.models.fields | EncryptField, fields, models | module |
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| jsonfield.fields | JSONField, fields | module |
| paasng.utils.models | BkUserField, models, utils | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, BooleanField, IntegerField, ForeignKey, BigIntegerField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/migrations/0002_auto_20210422_1719.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/migrations/0003_auto_20211014_1725.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| urlparse | urllib.parse.urlparse | 不适用 | module |
| migrations | django.db.migrations | Migration, AddField, RunPython, AlterField | module |
| models | django.db.models | CharField, BooleanField | module |
| settings | django.conf.settings | BLOBSTORE_BUCKET_AP_PACKAGES | module |
| detect_default_blob_store | paasng.utils.blobstore.detect_default_blob_store | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| forwards | `def forwards(apps, schema_editor):` | 无 | extend full url |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/migrations/0004_dockerrepository.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.platform.sourcectl.models | BkUserField, models, utils, RepositoryMixin, sourcectl, platform | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DateTimeField, Model | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/migrations/0005_alter_dockerrepository_repo_url.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/migrations/0006_sourcetypespecconfig.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, CharField, BooleanField, JSONField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/migrations/0007_init_source_type_specs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| init_source_type_specs | `def init_source_type_specs(apps, schema_editor):` | 无 | 初始化代码库配置（BareGit, BaseSVN） |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/migrations/0008_auto_20220909_1452.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | JSONField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/migrations/0009_encrypt_client_secret_in_db.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EncryptHandler | blue_krill.encrypt.handler.EncryptHandler | 不适用 | module |
| get_default_secret_key | blue_krill.encrypt.utils.get_default_secret_key | 不适用 | module |
| migrations | django.db.migrations | Migration, RunPython | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| encrypt_client_secret_in_db | `def encrypt_client_secret_in_db(apps, schema_editor):` | 无 | encrypt client secret in database before change
  ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/migrations/0010_alter_sourcetypespecconfig_client_secret.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| blue_krill.models.fields | EncryptField, fields, models | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/migrations/0011_mig_spec_cls.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| migrate_spec_cls | `def migrate_spec_cls(apps, schema_editor):` | 无 | Migrate the "spec_cls" attribute to new import loc... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/sourcectl/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | datetime, now | module |
| logging | getLogger | module |
| re | compile, search | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| namedtuple | collections.namedtuple | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Generic | typing.Generic | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| TypeVar | typing.TypeVar | 不适用 | module |
| urlparse | urllib.parse.urlparse | 不适用 | module |
| User | bkpaas_auth.models.User | 不适用 | module |
| EncryptField | blue_krill.models.fields.EncryptField | 不适用 | module |
| models | django.db.models | CharField, Manager, BooleanField, ForeignKey, CASCADE, BigIntegerField, IntegerField, JSONField | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| TranslatedFieldWithFallback | translated_fields.TranslatedFieldWithFallback | 不适用 | module |
| Protocol | typing_extensions.Protocol | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| PackageAlreadyExists | paasng.platform.sourcectl.exceptions.PackageAlreadyExists | 不适用 | module |
| get_sourcectl_type | paasng.platform.sourcectl.source_types.get_sourcectl_type | 不适用 | module |
| get_svn_authorization_manager_cls | paasng.platform.sourcectl.svn.admin.get_svn_authorization_manager_cls | 不适用 | module |
| get_bksvn_config | paasng.platform.sourcectl.svn.server_config.get_bksvn_config | 不适用 | module |
| AuditedModel | paasng.utils.models.AuditedModel | 不适用 | module |
| BkUserField | paasng.utils.models.BkUserField | 不适用 | module |
| OwnerTimestampedModel | paasng.utils.models.OwnerTimestampedModel | 不适用 | module |
| TimestampedModel | paasng.utils.models.TimestampedModel | 不适用 | module |
| remove_prefix | paasng.utils.text.remove_prefix | 不适用 | module |
| remove_suffix | paasng.utils.text.remove_suffix | 不适用 | module |
| BkSvnSourceTypeSpec | paasng.platform.sourcectl.type_specs.BkSvnSourceTypeSpec | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| T | 不适用 | `T = TypeVar('T')` | module |
| BasicAuth | 不适用 | `BasicAuth = namedtuple('BasicAuth', 'username,password')` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RepositoryInstance | typing_extensions.Protocol | get_identity, get_source_type, get_source_dir, get_display_name, get_repo_url, get_repo_fullname | 无 | 无 | A interface for Repository Obj |
| RepositoryMixin | 无 | display_name, get_identity, get_source_type, get_source_dir, get_display_name, get_repo_url, get_repo_fullname | 无 | 无 | 不适用 |
| SvnRepository | paasng.utils.models.OwnerTimestampedModel, RepositoryMixin | get_repo_fullname, get_repo_url, get_trunk_url | server_name, repo_url, source_dir | 无 | 基于 Svn 的软件存储库 |
| SvnAccountManager | django.db.models.Manager | generate_account_by_user, create_account, reset_account | 无 | 无 | 不适用 |
| SvnAccount | paasng.utils.models.TimestampedModel | 无 | account, user, synced_from_paas20, objects | 无 | svn account for developer |
| GitRepository | paasng.utils.models.OwnerTimestampedModel, RepositoryMixin | get_repo_fullname, _get_alias_name | server_name, repo_url, source_dir | 无 | 基于 Git 的软件存储库 |
| DockerRepository | paasng.utils.models.OwnerTimestampedModel, RepositoryMixin | display_name, get_repo_fullname | server_name, repo_url, source_dir | 无 | 容器镜像仓库 |
| SourcePackageRepository | 无 | __init__, get_identity, get_source_type, get_source_dir, get_repo_url, get_repo_fullname, get_display_name | 无 | 无 | 不适用 |
| SourcePackageManager | django.db.models.Manager | get_queryset, store | 无 | 无 | 不适用 |
| SourcePackage | paasng.utils.models.OwnerTimestampedModel | 无 | module, version, package_name, package_size, storage_engine, storage_path, storage_url, meta_info, sha256_signature, relative_path, is_deleted, objects, default_objects | 无 | 源码包存储信息 |
| SPStat | 无 | 无 | 无 | dataclass | SourcePackage stats.

    :param name: The package... |
| SPStoragePolicy | 无 | 无 | 无 | dataclass | 源码包存储策略 |
| Repository | 无 | fullname | 无 | dataclass | Git 的仓库模型 |
| AlternativeVersion | 无 | 无 | 无 | dataclass | 不适用 |
| CommitLog | 无 | 无 | 无 | dataclass | 不适用 |
| DiffChange | tuple | format_from_gitlab | 无 | 无 | 不适用 |
| VersionInfo | 无 | 无 | 无 | dataclass | VersionInfo 是对代码版本的一种通用抽象

    对于 SVN 仓库而言:
      ... |
| GenericPage | Generic[T] | __iter__, __len__ | 无 | dataclass | 不适用 |
| GitProject | 无 | parse_from_repo_url, parse_from_path_with_namespace, path_with_namespace | 无 | dataclass | 
    Git项目
     |
| BasicAuthHolderManager | django.db.models.Manager | exists_by_repo, get_by_repo | 无 | 无 | 不适用 |
| RepoBasicAuthHolder | paasng.utils.models.TimestampedModel | basic_auth, desensitized_info | username, password, repo_id, repo_type, module, objects | 无 | Repo 鉴权 |
| SourceTypeSpecConfigMgr | django.db.models.Manager | build_configs | 无 | 无 | 不适用 |
| SourceTypeSpecConfig | paasng.utils.models.AuditedModel | to_dict | name, label, enabled, spec_cls, server_config, display_info, authorization_base_url, client_id, client_secret, redirect_uri, token_base_url, oauth_display_info, objects | 无 | SourceTypeSpec 数据存储 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/models_utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | IMAGE_REGISTRY | module |
| Module | paasng.platform.modules.models.module.Module | 不适用 | module |
| set_source_obj_finder_func | paasng.platform.modules.models.module.set_source_obj_finder_func | 不适用 | module |
| ModuleSpecs | paasng.platform.modules.specs.ModuleSpecs | 不适用 | module |
| DockerRepository | paasng.platform.sourcectl.models.DockerRepository | get, objects | module |
| GitRepository | paasng.platform.sourcectl.models.GitRepository | get, objects | module |
| RepositoryInstance | paasng.platform.sourcectl.models.RepositoryInstance | 不适用 | module |
| SourcePackageRepository | paasng.platform.sourcectl.models.SourcePackageRepository | 不适用 | module |
| SvnRepository | paasng.platform.sourcectl.models.SvnRepository | get, objects | module |
| get_sourcectl_names | paasng.platform.sourcectl.source_types.get_sourcectl_names | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| find_by_module | `def find_by_module(module: Module) -> RepositoryInstance:` | 无 | Find the repository inst by the given module |


---


### 模块: apiserver/paasng/paasng/platform/sourcectl/package/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/sourcectl/package/cleaner.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| SourcePackage | paasng.platform.sourcectl.models.SourcePackage | 不适用 | module |
| parse_url | paasng.platform.sourcectl.package.utils.parse_url | 不适用 | module |
| StoreType | paasng.utils.blobstore.StoreType | HTTP, HTTPS | module |
| make_blob_store | paasng.utils.blobstore.make_blob_store | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| delete_from_blob_store | `def delete_from_blob_store(package: SourcePackage):` | 无 | 从 blob_store 删除源码包

    不支持 http/https 协议的源码包 |


---


### 模块: apiserver/paasng/paasng/platform/sourcectl/package/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| abc | abstractmethod | module |
| logging | getLogger | module |
| os | relpath, path, join, sep | module |
| re | search | module |
| subprocess | Popen, PIPE | module |
| tarfile | open, AbsoluteLinkError, OutsideDestinationError, LinkOutsideDestinationError, data_filter | module |
| tempfile | mktemp | module |
| zipfile | ZipFile, is_zipfile | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| IO | typing.IO | 不适用 | module |
| List | typing.List | 不适用 | module |
| Literal | typing.Literal | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| PackageInvalidFileFormatError | paasng.platform.sourcectl.exceptions.PackageInvalidFileFormatError | 不适用 | module |
| ReadFileNotFoundError | paasng.platform.sourcectl.exceptions.ReadFileNotFoundError | 不适用 | module |
| ReadLinkFileOutsideDirectoryError | paasng.platform.sourcectl.exceptions.ReadLinkFileOutsideDirectoryError | 不适用 | module |
| SourcePackage | paasng.platform.sourcectl.models.SourcePackage | 不适用 | module |
| download_file_via_url | paasng.platform.sourcectl.package.downloader.download_file_via_url | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| uncompress_directory | paasng.platform.sourcectl.utils.uncompress_directory | 不适用 | module |
| remove_prefix | paasng.utils.text.remove_prefix | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| storage_engine_maps | 不适用 | `storage_engine_maps = {'GenericRemoteClient': GenericRemoteClient, 'GenericLocalClient': GenericLocalClient, 'TarClient': TarClient, 'ZipClient': ZipClient, 'S3TarClient': GenericRemoteClient, 'HTTPTarClient': GenericRemoteClient}` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_client | `def get_client(package: SourcePackage) -> BasePackageClient:` | 无 | 根据源码包存储信息, 获取对应的源码包操作客户端 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BasePackageClient | 无 | read_file, export, close, list, __enter__, __exit__ | 无 | 无 | 不适用 |
| TarClient | BasePackageClient | __init__, read_file, export, close, list | 无 | 无 | 基于本地 tar 包初始化的 client |
| BinaryTarClient | BasePackageClient | __init__, read_file, export, close, list, _is_invalid_file_format_error, _is_not_found_error | 无 | 无 | A tarball extractor faster than the tarfile librar... |
| ZipClient | BasePackageClient | __init__, read_file, export, close, list | 无 | 无 | 基于本地 zip 包初始化的 client |
| GenericLocalClient | BasePackageClient | __init__, detect_client, read_file, export, close, list | 无 | 无 | 同时支持 zip, tar 格式的 SourcePackage 客户端 |
| GenericRemoteClient | GenericLocalClient | __init__, close | 无 | 无 | 操作远程 tar 包的 通用 client |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/package/downloader.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| requests | get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PathLike | os.PathLike | 不适用 | module |
| SourcePackage | paasng.platform.sourcectl.models.SourcePackage | 不适用 | module |
| parse_url | paasng.platform.sourcectl.package.utils.parse_url | 不适用 | module |
| StoreType | paasng.utils.blobstore.StoreType | HTTP, HTTPS | module |
| download_file_from_blob_store | paasng.utils.blobstore.download_file_from_blob_store | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| download_file_via_http | `def download_file_via_http(target_url: str, local_path: PathLike):` | 无 | 从目标地址下载文件到目标位置 |
| download_file_via_url | `def download_file_via_url(url: str, local_path: PathLike):` | 无 | 不适用 |
| download_package | `def download_package(package: SourcePackage, dest_path: PathLike):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/platform/sourcectl/package/uploader.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PathLike | os.PathLike | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| ObjectAlreadyExists | blue_krill.storages.blobstore.exceptions.ObjectAlreadyExists | 不适用 | module |
| settings | django.conf.settings | BLOBSTORE_BUCKET_AP_PACKAGES | module |
| SourcePackageStatReader | paasng.platform.smart_app.services.detector.SourcePackageStatReader | 不适用 | module |
| patch_smart_tarball | paasng.platform.smart_app.services.patcher.patch_smart_tarball | 不适用 | module |
| PackageAlreadyExists | paasng.platform.sourcectl.exceptions.PackageAlreadyExists | 不适用 | module |
| SourcePackage | paasng.platform.sourcectl.models.SourcePackage | store, objects | module |
| SPStat | paasng.platform.sourcectl.models.SPStat | 不适用 | module |
| SPStoragePolicy | paasng.platform.sourcectl.models.SPStoragePolicy | 不适用 | module |
| download_file_via_url | paasng.platform.sourcectl.package.downloader.download_file_via_url | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |
| make_blob_store | paasng.utils.blobstore.make_blob_store | 不适用 | module |
| User | bkpaas_auth.models.User | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| upload_to_blob_store | `def upload_to_blob_store(package: PathLike, key: str, allow_overwrite: bool = False) -> str:` | 无 | Upload package to Source Package Bucket

    :para... |
| generate_storage_path | `def generate_storage_path(module: 'Module', stat: SPStat) -> str:` | 无 | 生成源码包存储在 S3 中的路径 |
| upload_package_via_url | `def upload_package_via_url(module: 'Module', package_url: str, version: str, filename: str, operator: 'User', allow_overwrite: bool = True, need_patch: bool = False) -> 'SourcePackage':` | 无 | Upload package to object storage via url path |


---


### 模块: apiserver/paasng/paasng/platform/sourcectl/package/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| urlparse | urllib.parse.urlparse | 不适用 | module |
| settings | django.conf.settings | BLOBSTORE_BUCKET_AP_PACKAGES | module |
| StoreType | paasng.utils.blobstore.StoreType | 不适用 | module |
| detect_default_blob_store | paasng.utils.blobstore.detect_default_blob_store | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| parse_url | `def parse_url(url: str) -> BlobObject:` | 无 | 解析 s3/bkrpeo 协议的 url |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BlobObject | 无 | 无 | 无 | dataclass | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/perm.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Sequence | typing.Sequence | 不适用 | module |
| AccountFeatureFlag | paasng.infras.accounts.models.AccountFeatureFlag | get_user_features, objects | module |
| User | paasng.infras.accounts.models.User | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| get_sourcectl_type | paasng.platform.sourcectl.source_types.get_sourcectl_type | 不适用 | module |
| get_sourcectl_types | paasng.platform.sourcectl.source_types.get_sourcectl_types | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| render_providers | `def render_providers(providers: Sequence[str]) -> List[Dict[str, str]]:` | 无 | Render a source provider types into a list of deta... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| UserSourceProviders | 无 | __init__, list_available, list_module_available | 无 | 无 | An object to manage which source providers can a u... |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/repo_controller.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| abc | abstractmethod | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PathLike | os.PathLike | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| ProviderType | bkpaas_auth.core.encoder.ProviderType | DATABASE | module |
| user_id_encoder | bkpaas_auth.core.encoder.user_id_encoder | decode | module |
| Protocol | typing_extensions.Protocol | 不适用 | module |
| Oauth2TokenHolder | paasng.infras.accounts.models.Oauth2TokenHolder | DoesNotExist | module |
| PrivateTokenHolder | paasng.infras.accounts.models.PrivateTokenHolder | DoesNotExist | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | get, objects, DoesNotExist | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | AUTHORIZED_VCS, SCENE | module |
| exceptions | paasng.platform.sourcectl.exceptions | UserNotBindedToSourceProviderError | module |
| AlternativeVersion | paasng.platform.sourcectl.models.AlternativeVersion | 不适用 | module |
| CommitLog | paasng.platform.sourcectl.models.CommitLog | 不适用 | module |
| GitProject | paasng.platform.sourcectl.models.GitProject | parse_from_repo_url | module |
| Repository | paasng.platform.sourcectl.models.Repository | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| get_sourcectl_type | paasng.platform.sourcectl.source_types.get_sourcectl_type | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_repo_controller_cls | `def get_repo_controller_cls(source_origin: Union[int, SourceOrigin], source_control_type) -> Type[RepoController]:` | 无 | 不适用 |
| get_repo_controller | `def get_repo_controller(module: 'Module', operator: Optional[str] = None) -> RepoController:` | 无 | 不适用 |
| list_git_repositories | `def list_git_repositories(source_control_type: str, operator: str) -> List[Repository]:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RepoController | typing_extensions.Protocol | init_by_module, list_all_repositories, touch, export, build_url, build_compare_url, extract_version_info, extract_smart_revision, list_alternative_versions, get_diff_commit_logs, read_file | 无 | 无 | RepoController 是一种用于操作源码仓库的对象，主要功能包括读取某个（特定版本的）文件内... |
| BaseGitRepoController | 无 | __init__, get_client, init_by_module, get_user_credentials | 无 | 无 | Git RepoController 基类 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, CharField, SerializerMethodField, BooleanField, IntegerField, ModelSerializer, ReadOnlyField, HiddenField, CurrentUserDefault, DateTimeField, JSONField, ListField, URLField, FileField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| UniqueTogetherValidator | rest_framework.validators.UniqueTogetherValidator | 不适用 | module |
| SourceDirField | paasng.platform.applications.serializers.fields.SourceDirField | 不适用 | module |
| VersionType | paasng.platform.sourcectl.constants.VersionType | value, TAG, IMAGE | module |
| RepositoryInstance | paasng.platform.sourcectl.models.RepositoryInstance | 不适用 | module |
| SvnAccount | paasng.platform.sourcectl.models.SvnAccount | all, objects | module |
| SvnRepository | paasng.platform.sourcectl.models.SvnRepository | 不适用 | module |
| get_sourcectl_type | paasng.platform.sourcectl.source_types.get_sourcectl_type | 不适用 | module |
| BkSvnSourceTypeSpec | paasng.platform.sourcectl.type_specs.BkSvnSourceTypeSpec | 不适用 | module |
| SourceControlField | paasng.utils.serializers.SourceControlField | 不适用 | module |
| UserNameField | paasng.utils.serializers.UserNameField | 不适用 | module |
| VerificationCodeField | paasng.utils.serializers.VerificationCodeField | 不适用 | module |
| validate_image_repo | paasng.utils.validators.validate_image_repo | 不适用 | module |
| validate_repo_url | paasng.utils.validators.validate_repo_url | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RepositorySLZ | rest_framework.serializers.Serializer | to_representation, get_repo_url, get_diff_feature | source_type, type, trunk_url, repo_url, source_dir, repo_fullname, diff_feature, linked_to_internal_svn, display_name | 无 | Serializer for svn repo |
| SVNAccountResponseSLZ | rest_framework.serializers.Serializer | 无 | account, user, region, id, password | 无 | 不适用 |
| SvnAccountSLZ | rest_framework.serializers.ModelSerializer | 无 | account, user, verification_code, synced_from_paas20 | 无 | 不适用 |
| SvnAccountCreateSLZ | rest_framework.serializers.ModelSerializer | 无 | account, user, validators | 无 | 不适用 |
| AlternativeVersionSLZ | rest_framework.serializers.Serializer | get_display_type | name, type, display_type, revision, url, last_update, message, extra | 无 | 不适用 |
| PageNumberPaginationSLZ | rest_framework.serializers.Serializer | 无 | page, page_size | 无 | 不适用 |
| RepoSLZ | rest_framework.serializers.Serializer | 无 | fullname, description, avatar_url, web_url, http_url_to_repo, ssh_url_to_repo, created_at, last_activity_at | 无 | 这个 SLZ 用于 models.Repository, 而不是 GitRepository， Sv... |
| CommitLogSLZ | rest_framework.serializers.Serializer | 无 | message, revision, date, author, changelist | 无 | 不适用 |
| RepoBackendModifySLZ | rest_framework.serializers.Serializer | validate_source_repo_url | source_control_type, source_repo_url, source_repo_auth_info, source_dir | 无 | 应用引擎相关参数 |
| SourcePackageSLZ | rest_framework.serializers.Serializer | 无 | id, version, package_name, package_size, sha256_signature, is_deleted, updated, created, operator | 无 | 不适用 |
| SourcePackageUploadViaUrlSLZ | rest_framework.serializers.Serializer | 无 | package_url, version, allow_overwrite | 无 | 不适用 |
| SourcePackageUploadViaFileSLZ | rest_framework.serializers.Serializer | 无 | package, allow_overwrite | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/signals.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Signal | django.dispatch.Signal | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| svn_account_updated | 不适用 | `svn_account_updated = Signal()` | module |
| empty_svn_accounts_fetched | 不适用 | `empty_svn_accounts_fetched = Signal()` | module |
| repo_updated | 不适用 | `repo_updated = Signal()` | module |



---


### 模块: apiserver/paasng/paasng/platform/sourcectl/source_types.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| OrderedDict | collections.OrderedDict | 不适用 | module |
| defaultdict | collections.defaultdict | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| List | typing.List | 不适用 | module |
| NamedTuple | typing.NamedTuple | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Sequence | typing.Sequence | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| FeatureFlagField | blue_krill.data_types.enum.FeatureFlagField | 不适用 | module |
| ImproperlyConfigured | django.core.exceptions.ImproperlyConfigured | 不适用 | module |
| setting_changed | django.test.signals.setting_changed | connect | module |
| import_string | django.utils.module_loading.import_string | 不适用 | module |
| get_language | django.utils.translation.get_language | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |
| OAuth2Backend | paasng.infras.accounts.oauth.backends.OAuth2Backend | 不适用 | module |
| set_get_backends_callback_func | paasng.infras.accounts.oauth.utils.set_get_backends_callback_func | 不适用 | module |
| DiffFeatureType | paasng.platform.sourcectl.constants.DiffFeatureType | EXTERNAL | module |
| RegionAwareConfig | paasng.utils.configs.RegionAwareConfig | 不适用 | module |
| get_settings | paasng.utils.configs.get_settings | 不适用 | module |
| camel_to_snake | paasng.utils.text.camel_to_snake | 不适用 | module |
| remove_suffix | paasng.utils.text.remove_suffix | 不适用 | module |
| ModuleRepoConnector | paasng.platform.sourcectl.connector.ModuleRepoConnector | 不适用 | module |
| RepoController | paasng.platform.sourcectl.repo_controller.RepoController | 不适用 | module |
| register_new_sourcectl_type | apiserver.paasng.paasng.platform.sourcectl.constants.register_new_sourcectl_type | 不适用 | module |
| SourceTypeSpecConfig | paasng.platform.sourcectl.models.SourceTypeSpecConfig | build_configs, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| docker_registry_config | 不适用 | `docker_registry_config = DockerRegistryConf()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_sourcectl_types | `def get_sourcectl_types() -> SourceTypes:` | 无 | Get current sourcectl types object |
| refresh_sourcectl_types | `def refresh_sourcectl_types(source_type_configs: List):` | 无 | Refresh current sourcectl types with given user se... |
| get_sourcectl_type | `def get_sourcectl_type(name: str) -> SourceTypeSpec:` | 无 | Get source control type spec by name |
| get_sourcectl_names | `def get_sourcectl_names():` | 无 | Get current sourcectl types names helper object |
| reload_settings | `def reload_settings(setting, value, enter, *args, **kwargs):` | 无 | listen the signal for override_settings, and reloa... |
| list_oauth_backends | `def list_oauth_backends() -> List[Tuple[str, OAuth2Backend]]:` | 无 | Return the oauth backends by the current source ty... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DisplayInfo | typing.NamedTuple | 无 | 无 | 无 | The sourcectl type information to be displayed on ... |
| DiffFeature | 无 | to_dict | 无 | dataclass | describe diff feature of source type |
| SourceTypeSpec | 无 | __init__, support_oauth, make_oauth_backend, get_server_config, config_as_arguments, make_feature_flag_field | 无 | 无 | Source type specifications |
| ServerConfig | 无 | __init__, get, get_region_agnostic | 无 | 无 | A region related server config wrapper tool class
... |
| SourceTypes | 无 | __init__, items, get_choices, get_choice_label, get, search, find_by_type, clear, load_from_configs | 无 | 无 | Stores source types |
| SourcectlTypeNames | 无 | __init__, get, get_default, filter_by_basic_type, validate_svn, validate_git, __getattr__, _build_name_index, _build_type_name_index, _build_shorter_type_name_index | common_spec_type_suffix | 无 | Source type "NAME" helper class |
| DockerRegistryConf | pydantic.BaseModel | reload | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/svn/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| SvnRepositoryClient | apiserver.paasng.paasng.platform.sourcectl.svn.client.SvnRepositoryClient | 不适用 | module |





---


### 模块: apiserver/paasng/paasng/platform/sourcectl/svn/admin.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| contextlib | contextmanager | module |
| inspect | stack | module |
| json | loads | module |
| logging | getLogger | module |
| requests | get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| import_string | django.utils.module_loading.import_string | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| get_sourcectl_names | paasng.platform.sourcectl.source_types.get_sourcectl_names | 不适用 | module |
| get_bksvn_config | paasng.platform.sourcectl.svn.server_config.get_bksvn_config | 不适用 | module |
| SVNServiceError | apiserver.paasng.paasng.platform.sourcectl.svn.exceptions.SVNServiceError | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_svn_authorization_manager_cls | `def get_svn_authorization_manager_cls(region: str) -> Type[SvnApplicationAuthorization]:` | 无 | 不适用 |
| get_svn_authorization_manager | `def get_svn_authorization_manager(application):` | 无 | 不适用 |
| promote_repo_privilege_temporary | `@contextlib.contextmanager:` | contextlib.contextmanager | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseSvnAuthClient | 无 | add_user, reset_user, add_dir, add_group, mod_authz, mod_authz_common, del_authz | 无 | 无 | 不适用 |
| BaseRealSvnAuthClient | BaseSvnAuthClient | __init__, get_admin_url, request, add_user, reset_user, add_dir, add_group, mod_authz, mod_authz_common, del_authz | SVN_SECRET, SVN_OPERATE_ERROR_NOTIFIER, DUMMY, TIMEOUT, SSL_VERIFY, BASE_SVN_ADD_USER, BASE_SVN_MOD_COMMON, BASE_SVN_MOD_GROUP, BASE_SVN_MOD_AUTHZ, BASE_SVN_ADD_DIR, BASE_SVN_DEL_AUTHZ | 无 | 不适用 |
| IeodSvnAuthClient | BaseRealSvnAuthClient | 无 | REGION, BASE_SVN_ADD_DIR | 无 | SVN用户账号注册及授权（互娱内部版） |
| SvnApplicationAuthorization | 无 | __init__, create_svn_client, group_name, code, initialize, update_developers, set_paas_user_root_privilege, set_paas_user_privilege, destroy | 无 | 无 | 不适用 |
| SvnAuthClient4Developer | BaseSvnAuthClient | mock, add_user, reset_user, add_dir, add_group, mod_authz, mod_authz_common, del_authz | 无 | 无 | 供开发时使用, 模拟真实的接口 |
| IeodSvnApplicationAuthorization | SvnApplicationAuthorization | 无 | svn_client_cls | 无 | 不适用 |
| DummyAppAuthorization | SvnApplicationAuthorization | 无 | svn_client_cls | 无 | Dummy authorization type which does no real author... |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/svn/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| os | join, path | module |
| pathlib | Path | module |
| re | compile | module |
| urllib.parse | urljoin, parse | module |
| arrow | get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Counter | collections.Counter | 不适用 | module |
| copy_tree | distutils.dir_util.copy_tree | 不适用 | module |
| attrgetter | operator.attrgetter | 不适用 | module |
| copyfile | shutil.copyfile | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| force_str | django.utils.encoding.force_str | 不适用 | module |
| SvnException | svn.common.SvnException | 不适用 | module |
| LocalClient | svn.local.LocalClient | 不适用 | module |
| RemoteClient | svn.remote.RemoteClient | 不适用 | module |
| ReadFileNotFoundError | paasng.platform.sourcectl.exceptions.ReadFileNotFoundError | 不适用 | module |
| AlreadyInitializedSvnRepo | paasng.platform.sourcectl.svn.exceptions.AlreadyInitializedSvnRepo | 不适用 | module |
| CannotInitNonEmptyTrunk | paasng.platform.sourcectl.svn.exceptions.CannotInitNonEmptyTrunk | 不适用 | module |
| compress_directory | paasng.platform.sourcectl.utils.compress_directory | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| get_all_intermediate_dirs | paasng.platform.sourcectl.utils.get_all_intermediate_dirs | 不适用 | module |
| AlternativeVersion | paasng.platform.sourcectl.models.AlternativeVersion | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| svn_version_types | 不适用 | `svn_version_types = SvnVersionTypes()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| smart_repo_client | `def smart_repo_client(repo_url, username, password):` | 无 | 不适用 |
| acquire_repo | `def acquire_repo(desired_name, base_url, username, password, with_branches_and_tags):` | 无 | Get a new repo url

    :param str desired_name: s... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| VersionType | 无 | __init__, get_rel_path | 无 | 无 | Version type for svn repository type |
| SvnVersionTypes | 无 | __init__, get_version_by_type, get_version_by_dirname, parse_smart_revision_str | RE_SMART_REVISION | 无 | All supported svn version types |
| RepoProvider | 无 | __init__, provision, initialize_repo, make_tag_from_trunk | default_init_repo_message | 无 | Provider for svn repository |
| SvnRepositoryClient | 无 | __init__, sync_dir, read_file, export, list_alternative_versions, get_latest_revision, get_commit_logs, package, patch_files, extract_smart_revision, __str__ | default_ignores | 无 | Client for SVN Repository |
| RemoteClient | OrigRemoteClient | checkout, delete, tag_trunk, calculate_user_contribution | 无 | 无 | SVN Remote Client for blueking |
| LocalClient | OrigLocalClient | add, update, commit, delete | 无 | 无 | SVN Local Client for blueking |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/svn/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AlreadyInitializedSvnRepo | Exception | 无 | 无 | 无 | 不适用 |
| CannotInitNonEmptyTrunk | Exception | 无 | 无 | 无 | 不适用 |
| RelatedServiceError | Exception | 无 | 无 | 无 | 不适用 |
| SVNServiceError | RelatedServiceError | 无 | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/svn/server_config.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| urlparse | urllib.parse.urlparse | 不适用 | module |
| get_sourcectl_types | paasng.platform.sourcectl.source_types.get_sourcectl_types | 不适用 | module |
| BkSvnSourceTypeSpec | paasng.platform.sourcectl.type_specs.BkSvnSourceTypeSpec | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_bksvn_config | `def get_bksvn_config(region: str, name: Optional[str] = None) -> BkSvnServerConfig:` | 无 | Get the config object of bk svn source controll ty... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkSvnServerConfig | 无 | get_base_path, get_admin_credentials, as_module_arguments | 无 | dataclass | Server config for Bk Svn |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/type_specs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| GiteeBackend | paasng.infras.accounts.oauth.backends.GiteeBackend | 不适用 | module |
| GitHubBackend | paasng.infras.accounts.oauth.backends.GitHubBackend | 不适用 | module |
| GitLabBackend | paasng.infras.accounts.oauth.backends.GitLabBackend | 不适用 | module |
| ExternalBasicAuthRepoConnector | paasng.platform.sourcectl.connector.ExternalBasicAuthRepoConnector | 不适用 | module |
| ExternalGitAppRepoConnector | paasng.platform.sourcectl.connector.ExternalGitAppRepoConnector | 不适用 | module |
| IntegratedSvnAppRepoConnector | paasng.platform.sourcectl.connector.IntegratedSvnAppRepoConnector | 不适用 | module |
| DiffFeatureType | paasng.platform.sourcectl.constants.DiffFeatureType | INTERNAL | module |
| BareGitRepoController | paasng.platform.sourcectl.controllers.bare_git.BareGitRepoController | 不适用 | module |
| BareSvnRepoController | paasng.platform.sourcectl.controllers.bare_svn.BareSvnRepoController | 不适用 | module |
| SvnRepoController | paasng.platform.sourcectl.controllers.bk_svn.SvnRepoController | 不适用 | module |
| GiteeRepoController | paasng.platform.sourcectl.controllers.gitee.GiteeRepoController | 不适用 | module |
| GitHubRepoController | paasng.platform.sourcectl.controllers.github.GitHubRepoController | 不适用 | module |
| GitlabRepoController | paasng.platform.sourcectl.controllers.gitlab.GitlabRepoController | 不适用 | module |
| DiffFeature | paasng.platform.sourcectl.source_types.DiffFeature | 不适用 | module |
| SourceTypeSpec | paasng.platform.sourcectl.source_types.SourceTypeSpec | 不适用 | module |
| TcGitBackend | paasng.infras.accounts.oauth.backends_ext.TcGitBackend | 不适用 | module |
| TcGitRepoController | paasng.platform.sourcectl.controllers.tcgit.TcGitRepoController | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkSvnSourceTypeSpec | paasng.platform.sourcectl.source_types.SourceTypeSpec | config_as_arguments | connector_class, repo_controller_class, oauth_backend_class, basic_type, diff_feature, _default_label, _default_display_info | 无 | 不适用 |
| GitHubSourceTypeSpec | paasng.platform.sourcectl.source_types.SourceTypeSpec | 无 | connector_class, repo_controller_class, oauth_backend_class, basic_type, _default_label, _default_display_info | 无 | 不适用 |
| GiteeSourceTypeSpec | paasng.platform.sourcectl.source_types.SourceTypeSpec | 无 | connector_class, repo_controller_class, oauth_backend_class, basic_type, _default_label, _default_display_info | 无 | 不适用 |
| BareGitSourceTypeSpec | paasng.platform.sourcectl.source_types.SourceTypeSpec | 无 | connector_class, repo_controller_class, oauth_backend_class, basic_type, diff_feature, _default_label, _default_display_info | 无 | 不适用 |
| BareSvnSourceTypeSpec | paasng.platform.sourcectl.source_types.SourceTypeSpec | 无 | connector_class, repo_controller_class, oauth_backend_class, basic_type, diff_feature, _default_label, _default_display_info | 无 | 不适用 |
| GitLabSourceTypeSpec | paasng.platform.sourcectl.source_types.SourceTypeSpec | 无 | connector_class, repo_controller_class, oauth_backend_class, basic_type, _default_label, _default_display_info | 无 | 不适用 |
| TcGitSourceTypeSpec | paasng.platform.sourcectl.source_types.SourceTypeSpec | 无 | connector_class, repo_controller_class, oauth_backend_class, basic_type, _default_label, _default_display_info | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_app_pattern | paasng.utils.basic.make_app_pattern | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/sourcectl/bksvn/accounts/$', views.SvnAccountViewSet.as_view({'get': 'list', 'post': 'create'}), name='api.sourcectl.bksvn.accounts'), re_path('^api/sourcectl/bksvn/accounts/(?P<id>\\d+)/reset/$', views.SvnAccountViewSet.as_view({'put': 'update'}), name='api.sourcectl.bksvn.accounts.reset'), re_path('^api/sourcectl/(?P<source_control_type>.+)/repos/', views.GitRepoViewSet.as_view({'get': 'get_repo_list'})), re_path('^api/sourcectl/providers/$', views.AccountAllowAppSourceControlView.as_view(), name='api.sourcectl.providers.list'), re_path(make_app_pattern('/providers/$', include_envs=False, prefix='api/sourcectl/applications/'), views.ModuleSourceProvidersViewSet.as_view({'get': 'list'}), name='api.sourcectl.module_providers.list'), re_path('^api/sourcectl/init_templates/(?P<code>[^/]+)/$', views.ModuleInitTemplateViewSet.as_view({'post': 'download_default'}), name='api.sourcectl.template.generator'), re_path(make_app_pattern('/sourcectl/init_template/$', include_envs=False), views.ModuleInitTemplateViewSet.as_view({'post': 'download'}), name='api.sourcectl.init_template'), re_path(make_app_pattern('/sourcectl/repo/modify/$', include_envs=False), views.RepoBackendControlViewSet.as_view({'post': 'modify'}), name='api.sourcectl.repo.modify'), re_path(make_app_pattern('/source_package/link/$', include_envs=False), views.ModuleSourcePackageViewSet.as_view({'post': 'upload_via_url'}), name='api.sourcectl.source_package.create_via_url'), re_path(make_app_pattern('/source_package/$', include_envs=False), views.ModuleSourcePackageViewSet.as_view({'get': 'list'}), name='api.sourcectl.source_package')]` | module |



---


### 模块: apiserver/paasng/paasng/platform/sourcectl/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| os | normpath, path, abspath, dirname | module |
| shutil | rmtree | module |
| subprocess | Popen, PIPE | module |
| tarfile | TarFile, CompressionError, open | module |
| tempfile | mkdtemp, mktemp | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| PurePath | pathlib.PurePath | 不适用 | module |
| PureWindowsPath | pathlib.PureWindowsPath | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| ContextManager | typing.ContextManager | 不适用 | module |
| Iterator | typing.Iterator | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| Pattern | paasng.utils.patternmatcher.Pattern | 不适用 | module |
| GzipFile | gzip.GzipFile | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| ExcludeChecker | 不适用 | `ExcludeChecker = Callable[[str], bool]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| compress_directory_ext | `def compress_directory_ext(source_path: Union[str, Path], target_path: Union[str, Path], should_ignore: Optional[ExcludeChecker] = None):` | 无 | Compress a directory using tar+gz

    :param sour... |
| compress_directory | `def compress_directory(source_path, target_path):` | 无 | Compress a directory using tar command |
| uncompress_directory | `def uncompress_directory(source_path, target_path):` | 无 | uncompress a tar file using tar command |
| get_all_intermediate_dirs | `def get_all_intermediate_dirs(path: str) -> List[str]:` | 无 | 
    >>> get_all_intermediate_dirs("")
    ['']
  ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DockerIgnore | 无 | __init__, should_ignore, clean_path, _parse_content | 无 | 无 | DockerIgnore provide a test for whether to ignore ... |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/validators.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| docker_registry_config | paasng.platform.sourcectl.source_types.docker_registry_config | default_registry, allow_third_party_registry | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| validate_image_url | `def validate_image_url(url: str, region: str) -> str:` | 无 | 检查镜像地址(判断是否支持第三方镜像) |


---


### 模块: apiserver/paasng/paasng/platform/sourcectl/version_services.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Protocol | typing_extensions.Protocol | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | AUTHORIZED_VCS, SCENE, IMAGE_REGISTRY, get_package_origins | module |
| DockerRegistryController | paasng.platform.sourcectl.controllers.docker.DockerRegistryController | init_by_module | module |
| AlternativeVersion | paasng.platform.sourcectl.models.AlternativeVersion | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| RepoController | paasng.platform.sourcectl.repo_controller.RepoController | 不适用 | module |
| get_repo_controller | paasng.platform.sourcectl.repo_controller.get_repo_controller | 不适用 | module |
| Module | paasng.platform.modules.models.module.Module | 不适用 | module |
| PackageController | paasng.platform.sourcectl.controllers.package.PackageController | init_by_module | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_version_service | `def get_version_service(module: 'Module', operator: Optional[str] = None) -> DeployableVersionService:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DeployableVersionService | typing_extensions.Protocol | touch, build_url, extract_smart_revision, list_alternative_versions, inspect_version | 无 | 无 | DeployableVersionService 负责管理当前模块的可部署的版本信息:
    - ... |
| RepoVersionService | 无 | __init__, touch, build_url, extract_smart_revision, list_alternative_versions, inspect_version | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/sourcectl/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | now, datetime | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| urlparse | urllib.parse.urlparse | 不适用 | module |
| UploadFailedError | blue_krill.storages.blobstore.exceptions.UploadFailedError | 不适用 | module |
| settings | django.conf.settings | ENABLE_VERIFICATION_CODE | module |
| method_decorator | django.utils.decorators.method_decorator | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| status | rest_framework.status | HTTP_201_CREATED, HTTP_501_NOT_IMPLEMENTED | module |
| viewsets | rest_framework.viewsets | ModelViewSet, ViewSet | module |
| PermissionDenied | rest_framework.exceptions.PermissionDenied | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| OrderingFilter | rest_framework.filters.OrderingFilter | 不适用 | module |
| SearchFilter | rest_framework.filters.SearchFilter | 不适用 | module |
| JSONParser | rest_framework.parsers.JSONParser | 不适用 | module |
| MultiPartParser | rest_framework.parsers.MultiPartParser | 不适用 | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| APIView | rest_framework.views.APIView | 不适用 | module |
| SvnException | svn.common.SvnException | 不适用 | module |
| RegionType | paasng.core.region.states.RegionType | get_choice_label | module |
| FunctionType | paasng.infras.accounts.constants.FunctionType | value, SVN | module |
| Oauth2TokenHolder | paasng.infras.accounts.models.Oauth2TokenHolder | DoesNotExist | module |
| make_verifier | paasng.infras.accounts.models.make_verifier | 不适用 | module |
| get_backend | paasng.infras.accounts.oauth.utils.get_backend | 不适用 | module |
| application_perm_class | paasng.infras.accounts.permissions.application.application_perm_class | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | BASIC_DEVELOP | module |
| DataType | paasng.misc.audit.constants.DataType | RAW_DATA | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | MODIFY | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | APP_DOMAIN | module |
| DataDetail | paasng.misc.audit.service.DataDetail | 不适用 | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| ApplicationCodeInPathMixin | paasng.platform.applications.mixins.ApplicationCodeInPathMixin | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | IMAGE_REGISTRY | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| ModuleSpecs | paasng.platform.modules.specs.ModuleSpecs | 不适用 | module |
| serializers | paasng.platform.sourcectl.serializers | 不适用 | module |
| generate_downloadable_app_template | paasng.platform.sourcectl.connector.generate_downloadable_app_template | 不适用 | module |
| get_repo_connector | paasng.platform.sourcectl.connector.get_repo_connector | 不适用 | module |
| init_image_repo | paasng.platform.sourcectl.docker.models.init_image_repo | 不适用 | module |
| AccessTokenForbidden | paasng.platform.sourcectl.exceptions.AccessTokenForbidden | 不适用 | module |
| OauthAuthorizationRequired | paasng.platform.sourcectl.exceptions.OauthAuthorizationRequired | 不适用 | module |
| PackageAlreadyExists | paasng.platform.sourcectl.exceptions.PackageAlreadyExists | 不适用 | module |
| UserNotBindedToSourceProviderError | paasng.platform.sourcectl.exceptions.UserNotBindedToSourceProviderError | 不适用 | module |
| SvnAccount | paasng.platform.sourcectl.models.SvnAccount | all, objects, create_account, reset_account | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| upload_package_via_url | paasng.platform.sourcectl.package.uploader.upload_package_via_url | 不适用 | module |
| UserSourceProviders | paasng.platform.sourcectl.perm.UserSourceProviders | 不适用 | module |
| render_providers | paasng.platform.sourcectl.perm.render_providers | 不适用 | module |
| get_repo_controller | paasng.platform.sourcectl.repo_controller.get_repo_controller | 不适用 | module |
| list_git_repositories | paasng.platform.sourcectl.repo_controller.list_git_repositories | 不适用 | module |
| empty_svn_accounts_fetched | paasng.platform.sourcectl.signals.empty_svn_accounts_fetched | send | module |
| repo_updated | paasng.platform.sourcectl.signals.repo_updated | send | module |
| svn_account_updated | paasng.platform.sourcectl.signals.svn_account_updated | send | module |
| get_sourcectl_type | paasng.platform.sourcectl.source_types.get_sourcectl_type | 不适用 | module |
| get_sourcectl_types | paasng.platform.sourcectl.source_types.get_sourcectl_types | 不适用 | module |
| promote_repo_privilege_temporary | paasng.platform.sourcectl.svn.admin.promote_repo_privilege_temporary | 不适用 | module |
| RepoProvider | paasng.platform.sourcectl.svn.client.RepoProvider | 不适用 | module |
| BkSvnSourceTypeSpec | paasng.platform.sourcectl.type_specs.BkSvnSourceTypeSpec | 不适用 | module |
| get_version_service | paasng.platform.sourcectl.version_services.get_version_service | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | ERROR_SENDING_NOTIFICATION, f, CANNOT_GET_REPO, UNSUPPORTED_SOURCE_ORIGIN, PACKAGE_ALREADY_EXISTS, OBJECT_STORE_EXCEPTION, CANNOT_INIT_APP_TEMPLATE, CANNOT_MODIFY_REPO_BACKEND, format, CANNOT_BIND_REPO, NEED_TO_BIND_OAUTH_INFO, CANNOT_CREATE_SVN_TAG, UNSUPPORTED_SOURCE_TYPE | module |
| get_notification_backend | paasng.utils.notifier.get_notification_backend | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SvnAccountViewSet | rest_framework.viewsets.ModelViewSet | get_queryset, list, process_password, notify_svn_account_changed, get_create_serializer, create, update | required_session_code_verifier_methods, queryset, serializer_class, pagination_class, lookup_field | 无 | 
    SVN账户 相关
    list: 账户列表
    - [测试地址](/api/use... |
| GitRepoViewSet | rest_framework.viewsets.ViewSet | handle_exception, get_repo_list | permission_classes | 无 | 不适用 |
| AccountAllowAppSourceControlView | rest_framework.views.APIView | get | 无 | 无 | 返回 用户支持的 APP 仓储列表 |
| ModuleSourceProvidersViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | list | permission_classes | 无 | 获取某个应用模块可用的源码仓库 |
| ModuleSourcePackageViewSet | rest_framework.viewsets.ModelViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get_module, get_queryset, handle_exception, upload_via_url | serializer_class, permission_classes, filter_backends, search_fields, ordering, ordering_fields, parser_classes | method_decorator | 管理某个应用模块的源码包 |
| ModuleInitTemplateViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | download, download_default, _create_downloadable_address | permission_classes | 无 | 重新生成应用模块初始化代码，并提供下载地址 |
| RepoBackendControlViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | modify, _modify_image | permission_classes | 无 | 源码仓库控制 |
| RepoDataViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | get_repo_branches, get_diff_commit_logs, get_compare_url | permission_classes | 无 | 不适用 |
| SVNRepoTagsView | rest_framework.views.APIView, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | post | permission_classes | 无 | 不适用 |
| RevisionInspectViewSet | rest_framework.viewsets.ViewSet, paasng.platform.applications.mixins.ApplicationCodeInPathMixin | retrieve | permission_classes | 无 | This ViewSet provides a service for querying detai... |

---


### 模块: apiserver/paasng/paasng/platform/templates/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/templates/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TemplateConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/templates/command.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| fnmatch | fnmatch | module |
| logging | getLogger | module |
| os | walk, join, path, islink, chmod | module |
| shutil | copyfile | module |
| stat | S_IXUSR, S_IXGRP, S_IXOTH | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Context | django.template.Context | 不适用 | module |
| Template | django.template.Template | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EnhancedTemplateCommand | 无 | __init__, should_ignore, render, handle | IGNORE_PATTERNS | 无 | Enhanced TemplateCommand, based on django's defaul... |

---


### 模块: apiserver/paasng/paasng/platform/templates/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TemplateType | blue_krill.data_types.enum.StrStructuredEnum | normal_app_types | NORMAL, SCENE, PLUGIN | 无 | 模板类型 |

---


### 模块: apiserver/paasng/paasng/platform/templates/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseTemplateError | Exception | 无 | 无 | 无 | 不适用 |
| TmplNotExists | BaseTemplateError | 无 | 无 | 无 | 指定类型的模板不存在 |
| TmplRegionNotSupported | BaseTemplateError | 无 | 无 | 无 | 模板存在，但是指定的版本不可用 |

---


### 模块: apiserver/paasng/paasng/platform/templates/fixtures.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Context | django.template.Context | 不适用 | module |
| Engine | django.template.Engine | 不适用 | module |
| Path | unipath.Path | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseFixture | 无 | __init__, write_tmpl, write_to_file, append_to_file, render_string | 无 | 无 | Base class for fixture |
| ProcfileFixture | BaseFixture | setup | fixtures_dirname | 无 | Fixture for Profile |

---


### 模块: apiserver/paasng/paasng/platform/templates/manager.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| attrgetter | operator.attrgetter | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | DOCKERFILE, BUILDPACK | module |
| APP_CATEGORY | paasng.platform.modules.constants.APP_CATEGORY | value, NORMAL_APP | module |
| BuildConfig | paasng.platform.modules.entities.BuildConfig | 不适用 | module |
| AppBuildPack | paasng.platform.modules.models.AppBuildPack | 不适用 | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | select_default_runtime, objects, get | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | get, objects | module |
| ImageTagOptions | paasng.platform.modules.models.build_cfg.ImageTagOptions | 不适用 | module |
| TmplRegionNotSupported | paasng.platform.templates.exceptions.TmplRegionNotSupported | 不适用 | module |
| Template | paasng.platform.templates.models.Template | get, objects, DoesNotExist | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| retrieve_template_build_config | `def retrieve_template_build_config(region: str, template: Template) -> BuildConfig:` | 无 | 根据传入的 region 和 template 构造根据该模板创建应用时会使用的 BuildConf... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TemplateRuntimeManager | 无 | __init__, get_preset_services_config, get_docker_build_config, get_required_buildpacks, get_template_required_buildpacks, get_language_buildpack | 无 | 无 | 模板的运行时管理器 |

---


### 模块: apiserver/paasng/paasng/platform/templates/migrations/0001_initial.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, CharField, BooleanField, JSONField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/templates/migrations/0002_template_processes.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | JSONField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/templates/migrations/0003_alter_template_repo_url.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/templates/migrations/0004_auto_20230510_1926.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterModelOptions, AlterField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/templates/migrations/0005_template_runtime_type.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| paasng.platform.engine.constants | RuntimeType, constants, engine, platform | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | CharField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/templates/migrations/__init__.py







---


### 模块: apiserver/paasng/paasng/platform/templates/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| models | django.db.models | Manager, CharField, BooleanField, JSONField | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| TranslatedFieldWithFallback | translated_fields.TranslatedFieldWithFallback | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | BUILDPACK | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | NORMAL, get_django_choices | module |
| AuditedModel | paasng.utils.models.AuditedModel | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TemplateManager | django.db.models.Manager | filter_by_region | 无 | 无 | 不适用 |
| Template | paasng.utils.models.AuditedModel | 无 | name, type, display_name, description, language, market_ready, preset_services_config, blob_url, enabled_regions, required_buildpacks, processes, tags, repo_url, runtime_type, objects | 无 | 开发模板配置 |

---


### 模块: apiserver/paasng/paasng/platform/templates/serializers.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| serializers | rest_framework.serializers | Serializer, CharField, JSONField, SerializerMethodField, ChoiceField, ListField, DictField | module |
| DockerfilePathField | paasng.platform.applications.serializers.fields.DockerfilePathField | 不适用 | module |
| AppBuildPackMinimalSLZ | paasng.platform.modules.serializers.AppBuildPackMinimalSLZ | 不适用 | module |
| AppSlugBuilderMinimalSLZ | paasng.platform.modules.serializers.AppSlugBuilderMinimalSLZ | 不适用 | module |
| ImageTagOptionsSLZ | paasng.platform.modules.serializers.ImageTagOptionsSLZ | 不适用 | module |
| RuntimeType | paasng.platform.modules.serializers.RuntimeType | get_choices | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | PLUGIN | module |
| TranslatedCharField | paasng.utils.i18n.serializers.TranslatedCharField | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SearchTemplateSLZ | rest_framework.serializers.Serializer | validate_tags | region, tags, fuzzy_name | 无 | 获取可用模板列表 |
| TemplateSLZ | rest_framework.serializers.Serializer | get_region | name, display_name, description, tags, region, repo_url | 无 | 模板数据 |
| BuildConfigPreviewSLZ | rest_framework.serializers.Serializer | 无 | image_repository_template, build_method, tag_options, bp_stack_name, buildpacks, dockerfile_path, docker_build_args | 无 | 构建配置预览 |
| TemplateDetailSLZ | rest_framework.serializers.Serializer | 无 | slugbuilder, build_config | 无 | 模板详情 |
| TemplateRenderOutputSLZ | rest_framework.serializers.Serializer | get_render_method, get_source_dir | name, display_name, description, repo_url, render_method, source_dir | 无 | 模板渲染信息 |

---


### 模块: apiserver/paasng/paasng/platform/templates/templater.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| urlparse | urllib.parse.urlparse | 不适用 | module |
| settings | django.conf.settings | COMPONENT_SYSTEM_HOST_IN_TEST, LOGIN_FULL | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| EnhancedTemplateCommand | paasng.platform.templates.command.EnhancedTemplateCommand | 不适用 | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | 不适用 | module |
| TmplNotExists | paasng.platform.templates.exceptions.TmplNotExists | 不适用 | module |
| TmplRegionNotSupported | paasng.platform.templates.exceptions.TmplRegionNotSupported | 不适用 | module |
| ProcfileFixture | paasng.platform.templates.fixtures.ProcfileFixture | 不适用 | module |
| Template | paasng.platform.templates.models.Template | get, objects | module |
| StoreType | paasng.platform.templates.utils.StoreType | S3, BKREPO | module |
| download_from_blob_store | paasng.platform.templates.utils.download_from_blob_store | 不适用 | module |
| uncompress_tar_to_local_path | paasng.platform.templates.utils.uncompress_tar_to_local_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| DEFAULT_EXECUTABLE_FILES | ['bin/pre-compile', 'bin/pre_compile', 'bin/post-compile', 'bin/post_compile'] | `DEFAULT_EXECUTABLE_FILES = ['bin/pre-compile', 'bin/pre_compile', 'bin/post-compile', 'bin/post_compile']` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Templater | 无 | __init__, download_tmpl, write_to_dir | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/platform/templates/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | paasng.utils.basic.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^api/bkapps/(?P<tpl_type>[^/]+)/tmpls/$', views.TemplateViewSet.as_view({'get': 'list_tmpls'}), name='api.templates.list_tmpls'), re_path('^api/tmpls/(?P<tpl_type>[^/]+)/region/(?P<region>[^/]+)/$', views.RegionTemplateViewSet.as_view({'get': 'list'}), name='api.templates.list'), re_path('^api/tmpls/(?P<tpl_type>[^/]+)/region/(?P<region>[^/]+)/template/(?P<tpl_name>[^/]+)$', views.RegionTemplateViewSet.as_view({'get': 'retrieve'}), name='api.templates.detail')]` | module |



---


### 模块: apiserver/paasng/paasng/platform/templates/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| tempfile | mkdtemp | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PathLike | os.PathLike | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| uncompress_directory | paasng.platform.sourcectl.utils.uncompress_directory | 不适用 | module |
| StoreType | paasng.utils.blobstore.StoreType | 不适用 | module |
| download_file_from_blob_store | paasng.utils.blobstore.download_file_from_blob_store | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| download_from_blob_store | `def download_from_blob_store(bucket: str, s3_path: PathLike, local_path=None, store_type: Optional[StoreType] = None) -> Path:` | 无 | [Deprecated] Download template from BlobStore
    ... |
| uncompress_tar_to_local_path | `def uncompress_tar_to_local_path(src: PathLike, local_path=None) -> Path:` | 无 | 解压一个本地目录下的 tar 包至 local_path
    :param src: tar 包... |


---


### 模块: apiserver/paasng/paasng/platform/templates/views.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| swagger_auto_schema | drf_yasg.utils.swagger_auto_schema | 不适用 | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| Response | rest_framework.response.Response | 不适用 | module |
| get_image_repository_template | paasng.platform.engine.configurations.image.get_image_repository_template | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | BUILDPACK, DOCKERFILE | module |
| TmplRegionNotSupported | paasng.platform.templates.exceptions.TmplRegionNotSupported | 不适用 | module |
| TemplateRuntimeManager | paasng.platform.templates.manager.TemplateRuntimeManager | 不适用 | module |
| retrieve_template_build_config | paasng.platform.templates.manager.retrieve_template_build_config | 不适用 | module |
| Template | paasng.platform.templates.models.Template | filter_by_region, objects | module |
| SearchTemplateSLZ | paasng.platform.templates.serializers.SearchTemplateSLZ | 不适用 | module |
| TemplateDetailSLZ | paasng.platform.templates.serializers.TemplateDetailSLZ | 不适用 | module |
| TemplateSLZ | paasng.platform.templates.serializers.TemplateSLZ | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | f, NORMAL_TMPL_NOT_FOUND, UNKNOWN_TEMPLATE | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TemplateViewSet | rest_framework.viewsets.ViewSet | list_tmpls | 无 | 无 | 不适用 |
| RegionTemplateViewSet | rest_framework.viewsets.ViewSet | list, retrieve | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/settings/__init__.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| copy | deepcopy | module |
| os | environ, join, path, get | module |
| ssl | CERT_NONE, CERT_REQUIRED | module |
| sys | argv | module |
| pymysql | install_as_MySQLdb | module |
| urllib3 | ssl_, util | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ProviderType | bkpaas_auth.core.constants.ProviderType | value, BK | module |
| messages | django.contrib.messages | ERROR | module |
| DatabaseFeatures | django.db.backends.mysql.features.DatabaseFeatures | 不适用 | module |
| force_bytes | django.utils.encoding.force_bytes | 不适用 | module |
| force_str | django.utils.encoding.force_str | 不适用 | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| LazySettings | dynaconf.LazySettings | 不适用 | module |
| Validator | dynaconf.Validator | 不适用 | module |
| parse_image | moby_distribution.registry.utils.parse_image | 不适用 | module |
| cache_from_redis_url | apiserver.paasng.paasng.settings.utils.cache_from_redis_url | 不适用 | module |
| get_database_conf | apiserver.paasng.paasng.settings.utils.get_database_conf | 不适用 | module |
| get_default_keepalive_options | apiserver.paasng.paasng.settings.utils.get_default_keepalive_options | 不适用 | module |
| get_paas_service_jwt_clients | apiserver.paasng.paasng.settings.utils.get_paas_service_jwt_clients | 不适用 | module |
| get_service_remote_endpoints | apiserver.paasng.paasng.settings.utils.get_service_remote_endpoints | 不适用 | module |
| is_in_celery_worker | apiserver.paasng.paasng.settings.utils.is_in_celery_worker | 不适用 | module |
| is_redis_backend | apiserver.paasng.paasng.settings.utils.is_redis_backend | 不适用 | module |
| is_redis_sentinel_backend | apiserver.paasng.paasng.settings.utils.is_redis_sentinel_backend | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| BASE_DIR | 不适用 | `BASE_DIR = Path(__file__).parents[2]` | module |
| SETTINGS_FILES_GLOB | 不适用 | `SETTINGS_FILES_GLOB = str(BASE_DIR / 'settings_files/*.yaml')` | module |
| LOCAL_SETTINGS | 不适用 | `LOCAL_SETTINGS = str(BASE_DIR / 'settings_local.yaml')` | module |
| settings | 不适用 | `settings = LazySettings(environments=False, load_dotenv=True, includes=[SETTINGS_FILES_GLOB, LOCAL_SETTINGS], validators=[Validator('BKKRILL_ENCRYPT_SECRET_KEY', must_exist=True)], ENVVAR_PREFIX_FOR_DYNACONF='PAAS', ENVVAR_FOR_DYNACONF='PAAS_SETTINGS')` | module |
| BKKRILL_ENCRYPT_SECRET_KEY | 不适用 | `BKKRILL_ENCRYPT_SECRET_KEY = force_bytes(settings.get('BKKRILL_ENCRYPT_SECRET_KEY', ''))` | module |
| SECRET_KEY | 不适用 | `SECRET_KEY = settings.get('SECRET_KEY') or force_str(BKKRILL_ENCRYPT_SECRET_KEY)` | module |
| BK_CRYPTO_TYPE | 不适用 | `BK_CRYPTO_TYPE = settings.get('BK_CRYPTO_TYPE', 'CLASSIC')` | module |
| ENCRYPT_CIPHER_TYPE | 不适用 | `ENCRYPT_CIPHER_TYPE = 'SM4CTR' if BK_CRYPTO_TYPE == 'SHANGMI' else 'FernetCipher'` | module |
| DEBUG | 不适用 | `DEBUG = settings.get('DEBUG', False)` | module |
| SESSION_COOKIE_HTTPONLY | False | `SESSION_COOKIE_HTTPONLY = False` | module |
| RUNNING_TESTS | 不适用 | `RUNNING_TESTS = 'test' in sys.argv or 'pytest' in sys.argv[0] or 'PYTEST_XDIST_TESTRUNUID' in os.environ` | module |
| INSTALLED_APPS | ['django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'drf_yasg', 'bootstrap3', 'corsheaders', 'webpack_loader', 'django_prometheus', 'paasng.misc.plat_config', 'paasng.infras.accounts', 'paasng.platform.applications', 'paasng.accessories.log', 'paasng.platform.modules', 'paasng.infras.oauth2', 'paasng.misc.operations', 'paasng.platform.environments', 'paasng.accessories.ci', 'paasng.platform.bkapp_model', 'paasng.platform.engine', 'paasng.platform.engine.streaming', 'paasng.platform.evaluation', 'paasng.accessories.publish.market', 'paasng.accessories.publish.sync_market', 'paasng.platform.sourcectl', 'paasng.accessories.servicehub', 'paasng.accessories.services', 'paasng.accessories.dev_sandbox', 'paasng.platform.templates', 'paasng.plat_admin.api_doc', 'paasng.plat_admin.admin42', 'paasng.plat_admin.system', 'paasng.plat_admin.admin_cli', 'paasng.misc.monitoring.monitor', 'paasng.misc.monitoring.healthz', 'paasng.misc.monitoring.metrics', 'paasng.misc.search', 'paasng.accessories.smart_advisor', 'paasng.platform.bk_lesscode', 'paasng.infras.iam.bkpaas_iam_migration', 'paasng.infras.iam.members', 'paasng.infras.bkmonitorv3', 'paasng.platform.declarative', 'paasng.platform.scene_app', 'paasng.platform.smart_app', 'paasng.bk_plugins.bk_plugins', 'paasng.bk_plugins.pluginscenter', 'paasng.bk_plugins.pluginscenter.iam_adaptor', 'paasng.platform.mgrlegacy', 'bkpaas_auth', 'apigw_manager.apigw', 'paasng.plat_admin.initialization', 'paasng.platform.scheduler', 'paasng.misc.audit', 'revproxy', 'paas_wl.bk_app.applications', 'paas_wl.infras.cluster', 'paas_wl.workloads.networking.egress', 'paas_wl.workloads.networking.ingress', 'paas_wl.workloads.networking.entrance', 'paas_wl.infras.resource_templates', 'paas_wl.workloads.release_controller.hooks', 'paas_wl.bk_app.processes', 'paas_wl.workloads.images', 'paas_wl.bk_app.monitoring.app_monitor', 'paas_wl.bk_app.cnative.specs', 'paas_wl.bk_app.deploy', 'paas_wl.infras.resources.generation', 'bk_notice_sdk'] | `INSTALLED_APPS = ['django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'drf_yasg', 'bootstrap3', 'corsheaders', 'webpack_loader', 'django_prometheus', 'paasng.misc.plat_config', 'paasng.infras.accounts', 'paasng.platform.applications', 'paasng.accessories.log', 'paasng.platform.modules', 'paasng.infras.oauth2', 'paasng.misc.operations', 'paasng.platform.environments', 'paasng.accessories.ci', 'paasng.platform.bkapp_model', 'paasng.platform.engine', 'paasng.platform.engine.streaming', 'paasng.platform.evaluation', 'paasng.accessories.publish.market', 'paasng.accessories.publish.sync_market', 'paasng.platform.sourcectl', 'paasng.accessories.servicehub', 'paasng.accessories.services', 'paasng.accessories.dev_sandbox', 'paasng.platform.templates', 'paasng.plat_admin.api_doc', 'paasng.plat_admin.admin42', 'paasng.plat_admin.system', 'paasng.plat_admin.admin_cli', 'paasng.misc.monitoring.monitor', 'paasng.misc.monitoring.healthz', 'paasng.misc.monitoring.metrics', 'paasng.misc.search', 'paasng.accessories.smart_advisor', 'paasng.platform.bk_lesscode', 'paasng.infras.iam.bkpaas_iam_migration', 'paasng.infras.iam.members', 'paasng.infras.bkmonitorv3', 'paasng.platform.declarative', 'paasng.platform.scene_app', 'paasng.platform.smart_app', 'paasng.bk_plugins.bk_plugins', 'paasng.bk_plugins.pluginscenter', 'paasng.bk_plugins.pluginscenter.iam_adaptor', 'paasng.platform.mgrlegacy', 'bkpaas_auth', 'apigw_manager.apigw', 'paasng.plat_admin.initialization', 'paasng.platform.scheduler', 'paasng.misc.audit', 'revproxy', 'paas_wl.bk_app.applications', 'paas_wl.infras.cluster', 'paas_wl.workloads.networking.egress', 'paas_wl.workloads.networking.ingress', 'paas_wl.workloads.networking.entrance', 'paas_wl.infras.resource_templates', 'paas_wl.workloads.release_controller.hooks', 'paas_wl.bk_app.processes', 'paas_wl.workloads.images', 'paas_wl.bk_app.monitoring.app_monitor', 'paas_wl.bk_app.cnative.specs', 'paas_wl.bk_app.deploy', 'paas_wl.infras.resources.generation', 'bk_notice_sdk']` | module |
| EXTRA_INSTALLED_APPS | 不适用 | `EXTRA_INSTALLED_APPS = settings.get('EXTRA_INSTALLED_APPS', [])` | module |
| MIDDLEWARE | ['django_prometheus.middleware.PrometheusBeforeMiddleware', 'paasng.infras.accounts.middlewares.RequestIDProvider', 'paasng.utils.api_middleware.ApiLogMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.locale.LocaleMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'paasng.utils.middlewares.WhiteNoiseRespectPrefixMiddleware', 'bkpaas_auth.middlewares.CookieLoginMiddleware', 'paasng.infras.accounts.middlewares.SiteAccessControlMiddleware', 'paasng.infras.accounts.middlewares.PrivateTokenAuthenticationMiddleware', 'apigw_manager.apigw.authentication.ApiGatewayJWTGenericMiddleware', 'apigw_manager.apigw.authentication.ApiGatewayJWTAppMiddleware', 'paasng.infras.accounts.middlewares.WrapUsernameAsUserMiddleware', 'apigw_manager.apigw.authentication.ApiGatewayJWTUserMiddleware', 'paasng.infras.accounts.middlewares.AuthenticatedAppAsUserMiddleware', 'blue_krill.auth.client.VerifiedClientMiddleware', 'paasng.infras.accounts.internal.user.SysUserFromVerifiedClientMiddleware', 'paasng.utils.middlewares.AutoDisableCSRFMiddleware', 'paasng.utils.middlewares.APILanguageMiddleware', 'django_prometheus.middleware.PrometheusAfterMiddleware'] | `MIDDLEWARE = ['django_prometheus.middleware.PrometheusBeforeMiddleware', 'paasng.infras.accounts.middlewares.RequestIDProvider', 'paasng.utils.api_middleware.ApiLogMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.locale.LocaleMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'paasng.utils.middlewares.WhiteNoiseRespectPrefixMiddleware', 'bkpaas_auth.middlewares.CookieLoginMiddleware', 'paasng.infras.accounts.middlewares.SiteAccessControlMiddleware', 'paasng.infras.accounts.middlewares.PrivateTokenAuthenticationMiddleware', 'apigw_manager.apigw.authentication.ApiGatewayJWTGenericMiddleware', 'apigw_manager.apigw.authentication.ApiGatewayJWTAppMiddleware', 'paasng.infras.accounts.middlewares.WrapUsernameAsUserMiddleware', 'apigw_manager.apigw.authentication.ApiGatewayJWTUserMiddleware', 'paasng.infras.accounts.middlewares.AuthenticatedAppAsUserMiddleware', 'blue_krill.auth.client.VerifiedClientMiddleware', 'paasng.infras.accounts.internal.user.SysUserFromVerifiedClientMiddleware', 'paasng.utils.middlewares.AutoDisableCSRFMiddleware', 'paasng.utils.middlewares.APILanguageMiddleware', 'django_prometheus.middleware.PrometheusAfterMiddleware']` | module |
| ADMIN_USERNAME | 不适用 | `ADMIN_USERNAME = settings.get('ADMIN_USERNAME', 'admin')` | module |
| AUTH_USER_MODEL | bkpaas_auth.User | `AUTH_USER_MODEL = 'bkpaas_auth.User'` | module |
| AUTHENTICATION_BACKENDS | ['bkpaas_auth.backends.UniversalAuthBackend', 'bkpaas_auth.backends.APIGatewayAuthBackend'] | `AUTHENTICATION_BACKENDS = ['bkpaas_auth.backends.UniversalAuthBackend', 'bkpaas_auth.backends.APIGatewayAuthBackend']` | module |
| ROOT_URLCONF | paasng.urls | `ROOT_URLCONF = 'paasng.urls'` | module |
| REQUEST_ID_META_KEY | HTTP_X_REQUEST_ID | `REQUEST_ID_META_KEY = 'HTTP_X_REQUEST_ID'` | module |
| REQUEST_ID_HEADER_KEY | X-Request-Id | `REQUEST_ID_HEADER_KEY = 'X-Request-Id'` | module |
| WSGI_APPLICATION | paasng.wsgi.application | `WSGI_APPLICATION = 'paasng.wsgi.application'` | module |
| AUTH_PASSWORD_VALIDATORS | [{'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'}, {'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator'}, {'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator'}, {'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator'}] | `AUTH_PASSWORD_VALIDATORS = [{'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'}, {'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator'}, {'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator'}, {'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator'}]` | module |
| LANGUAGE_CODE | zh-cn | `LANGUAGE_CODE = 'zh-cn'` | module |
| LANGUAGES | (('zh-cn', '简体中文'), ('en', 'English')) | `LANGUAGES = (('zh-cn', '简体中文'), ('en', 'English'))` | module |
| TIME_ZONE | Asia/Shanghai | `TIME_ZONE = 'Asia/Shanghai'` | module |
| USE_I18N | True | `USE_I18N = True` | module |
| USE_L10N | True | `USE_L10N = True` | module |
| USE_TZ | True | `USE_TZ = True` | module |
| LANGUAGE_COOKIE_NAME | blueking_language | `LANGUAGE_COOKIE_NAME = 'blueking_language'` | module |
| LANGUAGE_COOKIE_PATH | / | `LANGUAGE_COOKIE_PATH = '/'` | module |
| LANGUAGE_COOKIE_DOMAIN | 不适用 | `LANGUAGE_COOKIE_DOMAIN = settings.get('BK_COOKIE_DOMAIN')` | module |
| LOCALE_PATHS | 不适用 | `LOCALE_PATHS = (os.path.join(BASE_DIR, 'locale'), )` | module |
| CHANGELOG_PATH | 不适用 | `CHANGELOG_PATH = os.path.join(BASE_DIR, 'changelog')` | module |
| SITE_URL | / | `SITE_URL = '/'` | module |
| STATIC_ROOT | 不适用 | `STATIC_ROOT = str(BASE_DIR / 'public' / 'static')` | module |
| STATIC_URL | 不适用 | `STATIC_URL = settings.get('STATIC_URL', '/static/')` | module |
| STATICFILES_DIRS | ('',) | `STATICFILES_DIRS = (str(BASE_DIR / 'public' / 'assets'), )` | module |
| DEFAULT_AUTO_FIELD | django.db.models.AutoField | `DEFAULT_AUTO_FIELD = 'django.db.models.AutoField'` | module |
| WEBPACK_LOADER | {'DEFAULT': {'BUNDLE_DIR_NAME': 'bundles/', 'STATS_FILE': ''}} | `WEBPACK_LOADER = {'DEFAULT': {'BUNDLE_DIR_NAME': 'bundles/', 'STATS_FILE': str(BASE_DIR / 'public' / 'webpack-stats.json')}}` | module |
| STATICFILES_FINDERS | ('django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder') | `STATICFILES_FINDERS = ('django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder')` | module |
| TEMPLATE_CONTEXT_PROCESSORS | ('django.contrib.auth.context_processors.auth', 'django.template.context_processors.request', 'django.template.context_processors.csrf', 'django.template.context_processors.i18n', 'paasng.plat_admin.admin42.context_processors.admin_config') | `TEMPLATE_CONTEXT_PROCESSORS = ('django.contrib.auth.context_processors.auth', 'django.template.context_processors.request', 'django.template.context_processors.csrf', 'django.template.context_processors.i18n', 'paasng.plat_admin.admin42.context_processors.admin_config')` | module |
| TEMPLATE_DIRS | [''] | `TEMPLATE_DIRS = [str(BASE_DIR / 'templates')]` | module |
| TEMPLATES | [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [''], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.contrib.auth.context_processors.auth', 'django.template.context_processors.request', 'django.template.context_processors.csrf', 'django.template.context_processors.i18n', 'paasng.plat_admin.admin42.context_processors.admin_config']}}] | `TEMPLATES = [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': list(TEMPLATE_DIRS), 'APP_DIRS': True, 'OPTIONS': {'context_processors': list(TEMPLATE_CONTEXT_PROCESSORS)}}]` | module |
| REST_FRAMEWORK | {'EXCEPTION_HANDLER': 'paasng.utils.views.custom_exception_handler', 'DEFAULT_PERMISSION_CLASSES': ('rest_framework.permissions.IsAuthenticated',), 'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.LimitOffsetPagination', 'PAGE_SIZE': 100, 'TEST_REQUEST_DEFAULT_FORMAT': 'json', 'DEFAULT_AUTHENTICATION_CLASSES': ('rest_framework.authentication.SessionAuthentication',), 'DATETIME_FORMAT': '%Y-%m-%d %H:%M:%S', 'SEARCH_PARAM': 'search_term', 'ORDERING_PARAM': 'order_by', 'DEFAULT_RENDERER_CLASSES': ['rest_framework.renderers.JSONRenderer', 'paasng.utils.views.BkStandardApiJSONRenderer']} | `REST_FRAMEWORK = {'EXCEPTION_HANDLER': 'paasng.utils.views.custom_exception_handler', 'DEFAULT_PERMISSION_CLASSES': ('rest_framework.permissions.IsAuthenticated', ), 'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.LimitOffsetPagination', 'PAGE_SIZE': 100, 'TEST_REQUEST_DEFAULT_FORMAT': 'json', 'DEFAULT_AUTHENTICATION_CLASSES': ('rest_framework.authentication.SessionAuthentication', ), 'DATETIME_FORMAT': '%Y-%m-%d %H:%M:%S', 'SEARCH_PARAM': 'search_term', 'ORDERING_PARAM': 'order_by', 'DEFAULT_RENDERER_CLASSES': ['rest_framework.renderers.JSONRenderer', 'paasng.utils.views.BkStandardApiJSONRenderer']}` | module |
| SWAGGER_SETTINGS | {'DEFAULT_AUTO_SCHEMA_CLASS': 'paasng.plat_admin.api_doc.extended_auto_schema.ExtendedSwaggerAutoSchema', 'DEFAULT_GENERATOR_CLASS': 'paasng.plat_admin.api_doc.generators.OpenAPISchemaGenerator'} | `SWAGGER_SETTINGS = {'DEFAULT_AUTO_SCHEMA_CLASS': 'paasng.plat_admin.api_doc.extended_auto_schema.ExtendedSwaggerAutoSchema', 'DEFAULT_GENERATOR_CLASS': 'paasng.plat_admin.api_doc.generators.OpenAPISchemaGenerator'}` | module |
| MESSAGE_TAGS | 不适用 | `MESSAGE_TAGS = {messages.ERROR: 'danger'}` | module |
| LOG_LEVEL | 不适用 | `LOG_LEVEL = settings.get('LOG_LEVEL', default='INFO')` | module |
| LOGGING_DIRECTORY | 不适用 | `LOGGING_DIRECTORY = settings.get('LOGGING_DIRECTORY', default=None)` | module |
| LOGGING_FILE_FORMAT | 不适用 | `LOGGING_FILE_FORMAT = settings.get('LOGGING_FILE_FORMAT', default='json')` | module |
| logging_to_console | True | `logging_to_console = True` | module, if |
| logging_directory | 不适用 | `logging_directory = Path(BASE_DIR) / Path(LOGGING_DIRECTORY)` | module, if |
| LOGGING_ALWAYS_CONSOLE | 不适用 | `LOGGING_ALWAYS_CONSOLE = settings.get('LOGGING_ALWAYS_CONSOLE', default=False)` | module |
| LOGGING | 不适用 | `LOGGING = build_logging_config(LOG_LEVEL, logging_to_console, logging_directory, LOGGING_FILE_FORMAT)` | module |
| NOTIFICATION_PLUGIN_CLASSES | 不适用 | `NOTIFICATION_PLUGIN_CLASSES = settings.get('NOTIFICATION_PLUGIN_CLASSES', {'mail': 'paasng.utils.notification_plugins.MailNotificationPlugin', 'sms': 'paasng.utils.notification_plugins.SMSNotificationPlugin', 'wechat': 'paasng.utils.notification_plugins.WeChatNotificationPlugin'})` | module |
| DATABASES | {} | `DATABASES = {}` | module |
| DATABASE_ROUTERS | ['paasng.core.core.storages.dbrouter.WorkloadsDBRouter'] | `DATABASE_ROUTERS = ['paasng.core.core.storages.dbrouter.WorkloadsDBRouter']` | module |
| REDIS_URL | 不适用 | `REDIS_URL = settings.get('REDIS_URL', 'redis://127.0.0.1:6379/0')` | module |
| SENTINEL_MASTER_NAME | 不适用 | `SENTINEL_MASTER_NAME = settings.get('SENTINEL_MASTER_NAME', 'mymaster')` | module |
| SENTINEL_PASSWORD | 不适用 | `SENTINEL_PASSWORD = settings.get('SENTINEL_PASSWORD', '')` | module |
| REDIS_CONNECTION_OPTIONS | 不适用 | `REDIS_CONNECTION_OPTIONS = {'socket_timeout': 3, 'socket_connect_timeout': 3, 'socket_keepalive': True, 'socket_keepalive_options': get_default_keepalive_options()}` | module |
| DEFAULT_CACHE_CONFIG | 不适用 | `DEFAULT_CACHE_CONFIG = settings.get('DEFAULT_CACHE_CONFIG')` | module |
| CACHES | {'default': {'BACKEND': 'django.core.cache.backends.filebased.FileBasedCache', 'LOCATION': '/tmp/django_cache'}} | `CACHES = {'default': {'BACKEND': 'django.core.cache.backends.filebased.FileBasedCache', 'LOCATION': '/tmp/django_cache'}}` | module, if, if |
| SESSION_COOKIE_NAME | bk_paas3_sessionid | `SESSION_COOKIE_NAME = 'bk_paas3_sessionid'` | module |
| CSRF_COOKIE_NAME | bk_paas3_csrftoken | `CSRF_COOKIE_NAME = 'bk_paas3_csrftoken'` | module |
| FORCE_SCRIPT_NAME | 不适用 | `FORCE_SCRIPT_NAME = settings.get('FORCE_SCRIPT_NAME')` | module |
| CSRF_COOKIE_DOMAIN | 不适用 | `CSRF_COOKIE_DOMAIN = settings.get('CSRF_COOKIE_DOMAIN')` | module |
| SESSION_COOKIE_DOMAIN | 不适用 | `SESSION_COOKIE_DOMAIN = settings.get('SESSION_COOKIE_DOMAIN')` | module |
| BK_COOKIE_DOMAIN | 不适用 | `BK_COOKIE_DOMAIN = settings.get('BK_COOKIE_DOMAIN')` | module |
| CSRF_TRUSTED_ORIGINS | 不适用 | `CSRF_TRUSTED_ORIGINS = settings.get('CSRF_TRUSTED_ORIGINS', [f'http://*{BK_COOKIE_DOMAIN}', f'https://*{BK_COOKIE_DOMAIN}'])` | module |
| BK_COOKIE_NAME | 不适用 | `BK_COOKIE_NAME = settings.get('BK_COOKIE_NAME', 'bk_token')` | module |
| ALLOWED_HOSTS | 不适用 | `ALLOWED_HOSTS = settings.get('ALLOWED_HOSTS', ['*'])` | module |
| CORS_ORIGIN_REGEX_WHITELIST | 不适用 | `CORS_ORIGIN_REGEX_WHITELIST = settings.get('CORS_ORIGIN_REGEX_WHITELIST', [])` | module |
| CORS_ORIGIN_ALLOW_ALL | 不适用 | `CORS_ORIGIN_ALLOW_ALL = settings.get('CORS_ORIGIN_ALLOW_ALL', False)` | module |
| CORS_ALLOW_CREDENTIALS | True | `CORS_ALLOW_CREDENTIALS = True` | module |
| SECURE_CROSS_ORIGIN_OPENER_POLICY | unsafe-none | `SECURE_CROSS_ORIGIN_OPENER_POLICY = 'unsafe-none'` | module |
| CELERY_BROKER_URL | 不适用 | `CELERY_BROKER_URL = settings.get('CELERY_BROKER_URL', REDIS_URL)` | module |
| CELERY_RESULT_BACKEND | 不适用 | `CELERY_RESULT_BACKEND = settings.get('CELERY_RESULT_BACKEND', REDIS_URL)` | module |
| CELERY_BROKER_HEARTBEAT | 不适用 | `CELERY_BROKER_HEARTBEAT = settings.get('CELERY_BROKER_HEARTBEAT')` | module, if |
| CELERY_ACCEPT_CONTENT | ['json'] | `CELERY_ACCEPT_CONTENT = ['json']` | module |
| CELERY_TASK_SERIALIZER | json | `CELERY_TASK_SERIALIZER = 'json'` | module |
| CELERY_RESULT_SERIALIZER | json | `CELERY_RESULT_SERIALIZER = 'json'` | module |
| CELERY_TIMEZONE | Asia/Shanghai | `CELERY_TIMEZONE = 'Asia/Shanghai'` | module |
| CELERY_ENABLE_UTC | False | `CELERY_ENABLE_UTC = False` | module |
| CELERY_BROKER_TRANSPORT_OPTIONS | 不适用 | `CELERY_BROKER_TRANSPORT_OPTIONS = copy.deepcopy(REDIS_CONNECTION_OPTIONS)` | module, if |
| CELERY_RESULT_BACKEND_TRANSPORT_OPTIONS | 不适用 | `CELERY_RESULT_BACKEND_TRANSPORT_OPTIONS = {'master_name': settings.get('CELERY_RESULT_BACKEND_SENTINEL_MASTER_NAME', SENTINEL_MASTER_NAME), 'sentinel_kwargs': {'password': settings.get('CELERY_RESULT_BACKEND_SENTINEL_PASSWORD', SENTINEL_PASSWORD)}}` | module, if |
| CELERY_BROKER_USE_SSL | 不适用 | `CELERY_BROKER_USE_SSL = settings.get('CELERY_BROKER_USE_SSL') or None` | module |
| CELERY_TASK_DEFAULT_QUEUE | 不适用 | `CELERY_TASK_DEFAULT_QUEUE = os.environ.get('CELERY_TASK_DEFAULT_QUEUE', 'celery')` | module |
| UNIQUE_ID_GEN_FUNC | paasng.accessories.services.utils.gen_unique_id | `UNIQUE_ID_GEN_FUNC = 'paasng.accessories.services.utils.gen_unique_id'` | module |
| BK_APP_CODE | 不适用 | `BK_APP_CODE = settings.get('BK_APP_CODE', 'bk_paas3')` | module |
| BK_APP_SECRET | 不适用 | `BK_APP_SECRET = settings.get('BK_APP_SECRET', '')` | module |
| IAM_SYSTEM_ID | 不适用 | `IAM_SYSTEM_ID = settings.get('IAM_SYSTEM_ID', default='bk_paas')` | module |
| IAM_PAAS_V3_SYSTEM_ID | 不适用 | `IAM_PAAS_V3_SYSTEM_ID = settings.get('IAM_PAAS_V3_SYSTEM_ID', default='bk_paas3')` | module |
| IAM_APP_CODE | 不适用 | `IAM_APP_CODE = settings.get('IAM_APP_CODE', default=BK_APP_CODE)` | module |
| IAM_APP_SECRET | 不适用 | `IAM_APP_SECRET = settings.get('IAM_APP_SECRET', default=BK_APP_SECRET)` | module |
| BK_IAM_MIGRATION_APP_NAME | bkpaas_iam_migration | `BK_IAM_MIGRATION_APP_NAME = 'bkpaas_iam_migration'` | module |
| BK_IAM_SKIP | 不适用 | `BK_IAM_SKIP = settings.get('BK_IAM_SKIP', False)` | module |
| IAM_PERM_EFFECTIVE_TIMEDELTA | 300 | `IAM_PERM_EFFECTIVE_TIMEDELTA = 5 * 60` | module |
| BKAUTH_DEFAULT_PROVIDER_TYPE | 不适用 | `BKAUTH_DEFAULT_PROVIDER_TYPE = settings.get('BKAUTH_DEFAULT_PROVIDER_TYPE', 'BK')` | module |
| BK_COMPONENT_API_URL | 不适用 | `BK_COMPONENT_API_URL = settings.get('BK_COMPONENT_API_URL', '')` | module |
| COMPONENT_SYSTEM_HOST | 不适用 | `COMPONENT_SYSTEM_HOST = settings.get('COMPONENT_SYSTEM_HOST', BK_COMPONENT_API_URL)` | module |
| COMPONENT_SYSTEM_HOST_IN_TEST | 不适用 | `COMPONENT_SYSTEM_HOST_IN_TEST = settings.get('COMPONENT_SYSTEM_HOST_IN_TEST', 'http://localhost:8080')` | module |
| BK_APIGW_NAME | 不适用 | `BK_APIGW_NAME = settings.get('BK_APIGW_NAME')` | module |
| APIGW_ENVIRONMENT | 不适用 | `APIGW_ENVIRONMENT = settings.get('APIGW_ENVIRONMENT', 'prod')` | module |
| BK_API_URL_TMPL | 不适用 | `BK_API_URL_TMPL = settings.get('BK_API_URL_TMPL', 'http://localhost:8080/api/{api_name}/')` | module |
| BK_API_DEFAULT_STAGE_MAPPINGS | 不适用 | `BK_API_DEFAULT_STAGE_MAPPINGS = settings.get('BK_API_DEFAULT_STAGE_MAPPINGS', {})` | module |
| REGION_TO_USER_AUTH_TYPE_MAP | 不适用 | `REGION_TO_USER_AUTH_TYPE_MAP = settings.get('REGION_TO_USER_AUTH_TYPE_MAP', {'default': 'default'})` | module |
| METRIC_CLIENT_TOKEN_DICT | 不适用 | `METRIC_CLIENT_TOKEN_DICT = settings.get('METRIC_CLIENT_TOKEN_DICT', {})` | module |
| IS_ALLOW_CREATE_SMART_APP_BY_DEFAULT | 不适用 | `IS_ALLOW_CREATE_SMART_APP_BY_DEFAULT = settings.get('IS_ALLOW_CREATE_SMART_APP_BY_DEFAULT', True)` | module |
| IS_ALLOW_CREATE_CLOUD_NATIVE_APP_BY_DEFAULT | 不适用 | `IS_ALLOW_CREATE_CLOUD_NATIVE_APP_BY_DEFAULT = settings.get('IS_ALLOW_CREATE_CLOUD_NATIVE_APP_BY_DEFAULT', False)` | module |
| MGRLEGACY_CLOUD_NATIVE_TARGET_CLUSTER | 不适用 | `MGRLEGACY_CLOUD_NATIVE_TARGET_CLUSTER = settings.get('MGRLEGACY_CLOUD_NATIVE_TARGET_CLUSTER', '')` | module |
| LESSCODE_APP_USE_CLOUD_NATIVE_TYPE | 不适用 | `LESSCODE_APP_USE_CLOUD_NATIVE_TYPE = settings.get('LESSCODE_APP_USE_CLOUD_NATIVE_TYPE', True)` | module |
| SOURCE_PACKAGE_APP_CLOUD_NATIVE | 不适用 | `SOURCE_PACKAGE_APP_CLOUD_NATIVE = settings.get('SOURCE_PACKAGE_APP_CLOUD_NATIVE', True)` | module |
| PLUGIN_APP_USE_CLOUD_NATIVE_TYPE | 不适用 | `PLUGIN_APP_USE_CLOUD_NATIVE_TYPE = settings.get('PLUGIN_APP_USE_CLOUD_NATIVE_TYPE', True)` | module |
| BKPAAS_K8S_CLUSTER_COMPONENTS | 不适用 | `BKPAAS_K8S_CLUSTER_COMPONENTS = settings.get('BKPAAS_K8S_CLUSTER_COMPONENTS', ['bk-ingress-nginx', 'bkapp-log-collection', 'bkpaas-app-operator', 'bcs-general-pod-autoscaler'])` | module |
| HEALTHZ_TOKEN | 不适用 | `HEALTHZ_TOKEN = settings.get('HEALTHZ_TOKEN')` | module |
| HEALTHZ_PROBES | 不适用 | `HEALTHZ_PROBES = settings.get('HEALTHZ_PROBES', ['paasng.misc.monitoring.healthz.probes.PlatformMysqlProbe', 'paasng.misc.monitoring.healthz.probes.WorkloadsMysqlProbe', 'paasng.misc.monitoring.healthz.probes.PlatformRedisProbe', 'paasng.misc.monitoring.healthz.probes.ServiceHubProbe', 'paasng.misc.monitoring.healthz.probes.PlatformBlobStoreProbe', 'paasng.misc.monitoring.healthz.probes.BKIAMProbe'])` | module |
| COMPONENT_SYSTEM_HEALTHZ_URL | 不适用 | `COMPONENT_SYSTEM_HEALTHZ_URL = settings.get('COMPONENT_SYSTEM_HEALTHZ_URL', 'http://localhost:8080')` | module |
| APIGW_HEALTHZ_URL | 不适用 | `APIGW_HEALTHZ_URL = settings.get('APIGW_HEALTHZ_URL', 'http://localhost:8080')` | module |
| AUTO_CREATE_REGULAR_USER | 不适用 | `AUTO_CREATE_REGULAR_USER = settings.get('AUTO_CREATE_REGULAR_USER', True)` | module |
| MAX_MODULES_COUNT_PER_APPLICATION | 不适用 | `MAX_MODULES_COUNT_PER_APPLICATION = settings.get('MAX_MODULES_COUNT_PER_APPLICATION', default=10, cast='@int')` | module |
| MAX_PROCESSES_PER_MODULE | 不适用 | `MAX_PROCESSES_PER_MODULE = settings.get('MAX_PROCESSES_PER_MODULE', default=16, cast='@int')` | module |
| PAAS_LEGACY_DBCONF | 不适用 | `PAAS_LEGACY_DBCONF = get_database_conf(settings, encrypted_url_var='PAAS_LEGACY_DATABASE_URL', env_var_prefix='PAAS_LEGACY_', for_tests=RUNNING_TESTS)` | module |
| PAAS_LEGACY_DB_ENCRYPT_KEY | 不适用 | `PAAS_LEGACY_DB_ENCRYPT_KEY = settings.get('PAAS_LEGACY_DB_ENCRYPT_KEY')` | module |
| BLOBSTORE_TYPE | 不适用 | `BLOBSTORE_TYPE = settings.get('BLOBSTORE_TYPE')` | module |
| BLOBSTORE_S3_ENDPOINT | 不适用 | `BLOBSTORE_S3_ENDPOINT = settings.get('BLOBSTORE_S3_ENDPOINT', default='http://127.0.0.1:9100')` | module |
| BLOBSTORE_S3_ACCESS_KEY | 不适用 | `BLOBSTORE_S3_ACCESS_KEY = settings.get('BLOBSTORE_S3_ACCESS_KEY', default='minio')` | module |
| BLOBSTORE_S3_SECRET_KEY | 不适用 | `BLOBSTORE_S3_SECRET_KEY = settings.get('BLOBSTORE_S3_SECRET_KEY', default='')` | module |
| BLOBSTORE_S3_REGION_NAME | 不适用 | `BLOBSTORE_S3_REGION_NAME = settings.get('BLOBSTORE_S3_REGION_NAME', 'us-east-1')` | module |
| BLOBSTORE_S3_SIG_VERSION | 不适用 | `BLOBSTORE_S3_SIG_VERSION = settings.get('BLOBSTORE_S3_SIG_VERSION', 's3v4')` | module |
| RGW_ENDPOINT_URL | 不适用 | `RGW_ENDPOINT_URL = settings.get('RGW_ENDPOINT_URL', default=BLOBSTORE_S3_ENDPOINT)` | module |
| RGW_ACCESS_KEY_ID | 不适用 | `RGW_ACCESS_KEY_ID = settings.get('RGW_ACCESS_KEY_ID', default=BLOBSTORE_S3_ACCESS_KEY)` | module |
| RGW_SECRET_ACCESS_KEY | 不适用 | `RGW_SECRET_ACCESS_KEY = settings.get('RGW_SECRET_ACCESS_KEY', default=BLOBSTORE_S3_SECRET_KEY)` | module |
| RGW_STORAGE_BUCKET_NAME | app-logo | `RGW_STORAGE_BUCKET_NAME = 'app-logo'` | module |
| BLOBSTORE_BKREPO_CONFIG | 不适用 | `BLOBSTORE_BKREPO_CONFIG = settings.get('BLOBSTORE_BKREPO_CONFIG')` | module |
| SERVICE_LOGO_BUCKET | 不适用 | `SERVICE_LOGO_BUCKET = settings.get('SERVICE_LOGO_BUCKET', 'bkpaas3-platform-assets')` | module |
| APP_LOGO_BUCKET | 不适用 | `APP_LOGO_BUCKET = settings.get('APP_LOGO_BUCKET', 'bkpaas3-apps-logo')` | module |
| APP_LOGO_MAX_AGE | 不适用 | `APP_LOGO_MAX_AGE = str(30 * 24 * 3600)` | module |
| PLUGIN_LOGO_BUCKET | 不适用 | `PLUGIN_LOGO_BUCKET = settings.get('PLUGIN_LOGO_BUCKET', 'bkpaas3-plugin-logo')` | module |
| PLUGIN_LOGO_MAX_AGE | 不适用 | `PLUGIN_LOGO_MAX_AGE = str(30 * 24 * 3600)` | module |
| BKPAAS_URL | 不适用 | `BKPAAS_URL = settings.get('BKPAAS_URL', '')` | module |
| BK_PAAS2_URL | 不适用 | `BK_PAAS2_URL = settings.get('BK_PAAS2_URL', '')` | module |
| BK_PAAS2_INNER_URL | 不适用 | `BK_PAAS2_INNER_URL = settings.get('BK_PAAS2_INNER_URL', BK_PAAS2_URL)` | module |
| APPLICATION_DEFAULT_LOGO | 不适用 | `APPLICATION_DEFAULT_LOGO = settings.get('APPLICATION_DEFAULT_LOGO', f'{BKPAAS_URL}/static/images/default_logo.png')` | module |
| PLUGIN_APP_DEFAULT_LOGO | 不适用 | `PLUGIN_APP_DEFAULT_LOGO = settings.get('PLUGIN_APP_DEFAULT_LOGO', default=f'{BKPAAS_URL}/static/images/plugin-default.svg')` | module |
| BK_SSM_URL | 不适用 | `BK_SSM_URL = settings.get('BK_SSM_URL', '')` | module |
| BK_IAM_V3_INNER_URL | 不适用 | `BK_IAM_V3_INNER_URL = settings.get('BK_IAM_V3_INNER_URL', 'http://localhost:8080')` | module |
| BK_IAM_APIGW_SERVICE_STAGE | 不适用 | `BK_IAM_APIGW_SERVICE_STAGE = settings.get('BK_IAM_APIGW_SERVICE_STAGE', 'stage')` | module |
| BK_IAM_USE_APIGATEWAY | 不适用 | `BK_IAM_USE_APIGATEWAY = settings.get('BK_IAM_USE_APIGATEWAY', True)` | module |
| BK_IAM_APIGATEWAY_URL | 不适用 | `BK_IAM_APIGATEWAY_URL = settings.get('BK_IAM_APIGATEWAY_URL', f"{BK_API_URL_TMPL.format(api_name='bk-iam')}/{BK_IAM_APIGW_SERVICE_STAGE}")` | module |
| BK_IAM_RESOURCE_API_HOST | 不适用 | `BK_IAM_RESOURCE_API_HOST = settings.get('BK_IAM_RESOURCE_API_HOST', BKPAAS_URL)` | module |
| BK_IAM_V3_APP_CODE | bk_iam | `BK_IAM_V3_APP_CODE = 'bk_iam'` | module |
| BK_DOMAIN | 不适用 | `BK_DOMAIN = settings.get('BK_DOMAIN', '')` | module |
| BK_CC_URL | 不适用 | `BK_CC_URL = settings.get('BK_CC_URL', '')` | module |
| BK_JOB_URL | 不适用 | `BK_JOB_URL = settings.get('BK_JOB_URL', '')` | module |
| BK_IAM_URL | 不适用 | `BK_IAM_URL = settings.get('BK_IAM_URL', '')` | module |
| BK_USER_URL | 不适用 | `BK_USER_URL = settings.get('BK_USER_URL', '')` | module |
| BK_MONITORV3_URL | 不适用 | `BK_MONITORV3_URL = settings.get('BK_MONITORV3_URL', '')` | module |
| BK_LOG_URL | 不适用 | `BK_LOG_URL = settings.get('BK_LOG_URL', '')` | module |
| BK_REPO_URL | 不适用 | `BK_REPO_URL = settings.get('BK_REPO_URL', '')` | module |
| BK_CI_URL | 不适用 | `BK_CI_URL = settings.get('BK_CI_URL', '')` | module |
| BK_CODECC_URL | 不适用 | `BK_CODECC_URL = settings.get('BK_CODECC_URL', '')` | module |
| BK_TURBO_URL | 不适用 | `BK_TURBO_URL = settings.get('BK_TURBO_URL', '')` | module |
| BK_PIPELINE_URL | 不适用 | `BK_PIPELINE_URL = settings.get('BK_PIPELINE_URL', '')` | module |
| BK_NODEMAN_URL | 不适用 | `BK_NODEMAN_URL = settings.get('BK_NODEMAN_URL', '')` | module |
| BK_BCS_URL | 不适用 | `BK_BCS_URL = settings.get('BK_BCS_URL', '')` | module |
| BK_BSCP_URL | 不适用 | `BK_BSCP_URL = settings.get('BK_BSCP_URL', '')` | module |
| BK_AUDIT_URL | 不适用 | `BK_AUDIT_URL = settings.get('BK_AUDIT_URL', '')` | module |
| BK_SHARED_RES_URL | 不适用 | `BK_SHARED_RES_URL = settings.get('BK_SHARED_RES_URL', '')` | module |
| BK_PAAS2_PLATFORM_ENVS | 不适用 | `BK_PAAS2_PLATFORM_ENVS = settings.get('BK_PAAS2_PLATFORM_ENVS', {'BK_IAM_INNER_HOST': {'value': settings.get('BK_IAM_INNER_URL', 'http://:'), 'description': _('蓝鲸权限中心旧版地址，建议切换为 BKPAAS_IAM_URL')}, 'BK_IAM_V3_APP_CODE': {'value': settings.get('BK_IAM_V3_APP_CODE', 'bk_iam'), 'description': _('蓝鲸权限中心的应用ID')}, 'BK_IAM_V3_INNER_HOST': {'value': BK_IAM_V3_INNER_URL, 'description': _('蓝鲸权限中心内网访问地址，建议切换为 BKPAAS_IAM_URL')}, 'BK_CC_HOST': {'value': BK_CC_URL, 'description': _('蓝鲸配置平台访问地址，建议切换为 BKPAAS_CC_URL')}, 'BK_JOB_HOST': {'value': BK_JOB_URL, 'description': _('蓝鲸作业平台访问地址，建议切换为 BKPAAS_JOB_URL')}})` | module |
| BK_IAM_USER_GROUP_APPLY_TMPL | 不适用 | `BK_IAM_USER_GROUP_APPLY_TMPL = BK_IAM_URL + '/apply-join-user-group?id={user_group_id}'` | module |
| BKPAAS_WEIXIN_URL_MAP | 不适用 | `BKPAAS_WEIXIN_URL_MAP = settings.get('BKPAAS_WEIXIN_URL_MAP', {'stag': 'http://localhost:8080/', 'prod': 'http://localhost:8080/'})` | module |
| MOBILE_DOAMIN_SUFFIXS | 不适用 | `MOBILE_DOAMIN_SUFFIXS = settings.get('MOBILE_DOAMIN_SUFFIXS', ['.example.com'])` | module |
| LOGIN_FULL | 不适用 | `LOGIN_FULL = settings.get('LOGIN_FULL', f'{BK_PAAS2_URL}/login/')` | module |
| LOGIN_SIMPLE | 不适用 | `LOGIN_SIMPLE = settings.get('LOGIN_SIMPLE', f'{BK_PAAS2_URL}/login/plain/')` | module |
| BK_LOGIN_API_URL | 不适用 | `BK_LOGIN_API_URL = settings.get('BK_LOGIN_API_URL', LOGIN_FULL)` | module |
| BK_CONSOLE_URL | 不适用 | `BK_CONSOLE_URL = settings.get('BK_CONSOLE_URL', f'{BK_PAAS2_URL}/console/')` | module |
| DUMMY_TEMPLATE_NAME | dummy_template | `DUMMY_TEMPLATE_NAME = 'dummy_template'` | module |
| DEFAULT_REGION_NAME | 不适用 | `DEFAULT_REGION_NAME = settings.get('DEFAULT_REGION_NAME', 'default')` | module |
| DEFAULT_REGION_TEMPLATE | 不适用 | `DEFAULT_REGION_TEMPLATE = {'name': 'default', 'display_name': '默认版', 'basic_info': {'description': '默认版', 'link_production_app': BK_CONSOLE_URL + '?app={code}', 'link_engine_app': 'http://example.com/{region}-{name}/', 'extra_logo_bucket_info': {}, 'deploy_ver_for_update_svn_account': 'default', 'legacy_deploy_version': 'default', 'built_in_config_var': {'LOGIN_URL': {'stag': LOGIN_FULL, 'prod': LOGIN_FULL}, 'REMOTE_STATIC_URL': {'stag': 'http://example.com/static_api/', 'prod': 'http://example.com/static_api/'}}}, 'entrance_config': {'exposed_url_type': 1, 'manually_upgrade_to_subdomain_allowed': False}, 'mul_modules_config': {'creation_allowed': True}, 'enabled_feature_flags': [], 'provide_env_vars_platform': True}` | module |
| REGION_CONFIGS | 不适用 | `REGION_CONFIGS = settings.get('REGION_CONFIGS', {'regions': [copy.deepcopy(DEFAULT_REGION_TEMPLATE)]})` | module |
| ENABLE_BK_OAUTH | 不适用 | `ENABLE_BK_OAUTH = settings.get('ENABLE_BK_OAUTH', False)` | module |
| BK_OAUTH_API_URL | 不适用 | `BK_OAUTH_API_URL = settings.get('BK_OAUTH_API_URL', 'http://localhost:8080')` | module |
| APIGW_PUBLIC_KEY | 不适用 | `APIGW_PUBLIC_KEY = settings.get('APIGW_PUBLIC_KEY', '')` | module |
| BKAUTH_BACKEND_TYPE | 不适用 | `BKAUTH_BACKEND_TYPE = settings.get('BKAUTH_BACKEND_TYPE', 'bk_token')` | module |
| BKAUTH_TOKEN_APP_CODE | 不适用 | `BKAUTH_TOKEN_APP_CODE = settings.get('BKAUTH_TOKEN_APP_CODE', BK_APP_CODE)` | module |
| BKAUTH_TOKEN_SECRET_KEY | 不适用 | `BKAUTH_TOKEN_SECRET_KEY = settings.get('BKAUTH_TOKEN_SECRET_KEY', BK_APP_SECRET)` | module |
| BKAUTH_USER_COOKIE_VERIFY_URL | 不适用 | `BKAUTH_USER_COOKIE_VERIFY_URL = settings.get('BKAUTH_USER_COOKIE_VERIFY_URL', f'{BK_LOGIN_API_URL}/api/v3/is_login/')` | module |
| BKAUTH_TOKEN_USER_INFO_ENDPOINT | 不适用 | `BKAUTH_TOKEN_USER_INFO_ENDPOINT = settings.get('BKAUTH_TOKEN_USER_INFO_ENDPOINT', f'{BK_COMPONENT_API_URL}/api/c/compapi/v2/bk_login/get_user/')` | module |
| BKAUTH_TOKEN_GRANT_ENDPOINT | 不适用 | `BKAUTH_TOKEN_GRANT_ENDPOINT = settings.get('BKAUTH_TOKEN_GRANT_ENDPOINT')` | module |
| BKAUTH_TOKEN_CHECK_ENDPOINT | 不适用 | `BKAUTH_TOKEN_CHECK_ENDPOINT = settings.get('BKAUTH_TOKEN_CHECK_ENDPOINT')` | module |
| BKAUTH_BK_LOGIN_DOMAIN | 不适用 | `BKAUTH_BK_LOGIN_DOMAIN = settings.get('BKAUTH_BK_LOGIN_DOMAIN')` | module |
| BKAUTH_BK_LOGIN_PATH | 不适用 | `BKAUTH_BK_LOGIN_PATH = settings.get('BKAUTH_BK_LOGIN_PATH', '/')` | module |
| USER_SELECTOR_LIST_API | Uninferable/api/c/compapi/v2/usermanage/fs_list_users/ | `USER_SELECTOR_LIST_API = f'{BK_COMPONENT_API_URL}/api/c/compapi/v2/usermanage/fs_list_users/'` | module |
| USER_TYPE | 不适用 | `USER_TYPE = ProviderType(USER_TYPE)` | module |
| TOKEN_AUTH_ENDPOINT | 不适用 | `TOKEN_AUTH_ENDPOINT = settings.get('TOKEN_AUTH_ENDPOINT', f'{BK_SSM_URL}/api/v1/auth/access-tokens')` | module |
| TOKEN_REFRESH_ENDPOINT | 不适用 | `TOKEN_REFRESH_ENDPOINT = settings.get('TOKEN_REFRESH_ENDPOINT', f'{BK_SSM_URL}/api/v1/auth/access-tokens/refresh')` | module |
| AUTH_ENV_NAME | 不适用 | `AUTH_ENV_NAME = settings.get('AUTH_ENV_NAME', 'prod')` | module |
| CLI_AUTH_CODE | 不适用 | `CLI_AUTH_CODE = settings.get('CLI_AUTH_CODE', '')` | module |
| CLI_AUTH_SECRET | 不适用 | `CLI_AUTH_SECRET = settings.get('CLI_AUTH_SECRET', '')` | module |
| IS_ALLOW_CREATE_BK_PLUGIN_APP | 不适用 | `IS_ALLOW_CREATE_BK_PLUGIN_APP = settings.get('IS_ALLOW_CREATE_BK_PLUGIN_APP', False)` | module |
| IS_ALLOW_PLUGIN_CENTER | 不适用 | `IS_ALLOW_PLUGIN_CENTER = settings.get('IS_ALLOW_PLUGIN_CENTER', False)` | module |
| BK_PLUGIN_APIGW_SERVICE_STAGE | 不适用 | `BK_PLUGIN_APIGW_SERVICE_STAGE = settings.get('BK_PLUGIN_APIGW_SERVICE_STAGE', 'prod')` | module |
| BK_PLUGIN_APIGW_SERVICE_USER_AUTH_TYPE | 不适用 | `BK_PLUGIN_APIGW_SERVICE_USER_AUTH_TYPE = settings.get('BK_PLUGIN_APIGW_SERVICE_USER_AUTH_TYPE', 'default')` | module |
| PLUGIN_VISIBILTY_LEVEL | 不适用 | `PLUGIN_VISIBILTY_LEVEL = settings.get('PLUGIN_VISIBILTY_LEVEL', 10)` | module |
| CONFIGVAR_SYSTEM_PREFIX | BKPAAS_ | `CONFIGVAR_SYSTEM_PREFIX = 'BKPAAS_'` | module |
| CONFIGVAR_PROTECTED_NAMES | ('SLUG_URL', 'HOME', 'S3CMD_CONF', 'HOSTNAME') | `CONFIGVAR_PROTECTED_NAMES = ('SLUG_URL', 'HOME', 'S3CMD_CONF', 'HOSTNAME')` | module |
| CONFIGVAR_PROTECTED_PREFIXES | 不适用 | `CONFIGVAR_PROTECTED_PREFIXES = settings.get('CONFIGVAR_PROTECTED_PREFIXES', ['BKPAAS_', 'KUBERNETES_'])` | module |
| PAAS_SERVICE_JWT_CLIENTS | 不适用 | `PAAS_SERVICE_JWT_CLIENTS = get_paas_service_jwt_clients(settings)` | module |
| BLOBSTORE_BUCKET_APP_SOURCE | 不适用 | `BLOBSTORE_BUCKET_APP_SOURCE = settings.get('BLOBSTORE_BUCKET_APP_SOURCE', 'bkpaas3-slug-packages')` | module |
| BLOBSTORE_BUCKET_TEMPLATES | 不适用 | `BLOBSTORE_BUCKET_TEMPLATES = settings.get('BLOBSTORE_BUCKET_TEMPLATES', 'bkpaas3-apps-tmpls')` | module |
| BLOBSTORE_BUCKET_AP_PACKAGES | 不适用 | `BLOBSTORE_BUCKET_AP_PACKAGES = settings.get('BLOBSTORE_BUCKET_AP_PACKAGES', 'bkpaas3-source-packages')` | module |
| SMART_APP_DEFAULT_SERVICES_CONFIG | 不适用 | `SMART_APP_DEFAULT_SERVICES_CONFIG = settings.get('SMART_APP_DEFAULT_SERVICES_CONFIG', {'mysql': {}})` | module |
| SLUG_ENCRYPT_SECRET_KEY | 不适用 | `SLUG_ENCRYPT_SECRET_KEY = settings.get('SLUG_ENCRYPT_SECRET_KEY', BKKRILL_ENCRYPT_SECRET_KEY)` | module |
| DEFAULT_PROC_SPEC_PLAN | Starter | `DEFAULT_PROC_SPEC_PLAN = 'Starter'` | module |
| PREMIUM_PROC_SPEC_PLAN | 4C2G5R | `PREMIUM_PROC_SPEC_PLAN = '4C2G5R'` | module |
| ULTIMATE_PROC_SPEC_PLAN | 4C4G5R | `ULTIMATE_PROC_SPEC_PLAN = '4C4G5R'` | module |
| ENGINE_PROC_REPLICAS_BY_TYPE | {} | `ENGINE_PROC_REPLICAS_BY_TYPE = {('web', 'stag'): 1, ('web', 'prod'): 2}` | module |
| ENGINE_APP_SOURCE_SIZE_WARNING_THRESHOLD_MB | 300 | `ENGINE_APP_SOURCE_SIZE_WARNING_THRESHOLD_MB = 300` | module |
| ENGINE_OFFLINE_RESUMABLE_SECS | 60 | `ENGINE_OFFLINE_RESUMABLE_SECS = 60` | module |
| DEFAULT_RUNTIME_IMAGES | 不适用 | `DEFAULT_RUNTIME_IMAGES = settings.get('DEFAULT_RUNTIME_IMAGES', {DEFAULT_REGION_NAME: 'blueking'})` | module |
| CODE_CHECK_CONFIGS | 不适用 | `CODE_CHECK_CONFIGS = settings.get('CODE_CHECK_CONFIGS', {})` | module |
| BK_CI_PAAS_PROJECT_ID | 不适用 | `BK_CI_PAAS_PROJECT_ID = settings.get('BK_CI_PAAS_PROJECT_ID', 'bk_paas3')` | module |
| BK_CI_BUILD_PIPELINE_ID | 不适用 | `BK_CI_BUILD_PIPELINE_ID = settings.get('BK_CI_BUILD_PIPELINE_ID', '')` | module |
| BK_CI_CLIENT_USERNAME | 不适用 | `BK_CI_CLIENT_USERNAME = settings.get('BK_CI_CLIENT_USERNAME', 'blueking')` | module |
| REMOTE_SERVICES_UPDATE_INTERVAL_MINUTES | 5 | `REMOTE_SERVICES_UPDATE_INTERVAL_MINUTES = 5` | module |
| DISABLE_PERIODICAL_JOBS | 不适用 | `DISABLE_PERIODICAL_JOBS = settings.get('DISABLE_PERIODICAL_JOBS', False)` | module |
| SERVICE_REMOTE_ENDPOINTS | 不适用 | `SERVICE_REMOTE_ENDPOINTS = SERVICE_REMOTE_ENDPOINTS.to_list()` | module, if |
| SERVICE_PROTECTED_SPEC_NAMES | ['app_zone'] | `SERVICE_PROTECTED_SPEC_NAMES = ['app_zone']` | module |
| APP_ZONE_CLUSTER_MAPPINGS | 不适用 | `APP_ZONE_CLUSTER_MAPPINGS = settings.get('APP_ZONE_CLUSTER_MAPPINGS', {})` | module |
| BK_CONSOLE_DBCONF | 不适用 | `BK_CONSOLE_DBCONF = get_database_conf(settings, encrypted_url_var='PAAS_LEGACY_DATABASE_URL', env_var_prefix='BK_CONSOLE_', for_tests=RUNNING_TESTS)` | module |
| APP_REQUIRE_CONTACTS | 不适用 | `APP_REQUIRE_CONTACTS = settings.get('APP_REQUIRE_CONTACTS', False)` | module |
| PHALANX_URL | 不适用 | `PHALANX_URL = settings.get('PHALANX_URL', 'http://localhost:8080')` | module |
| PHALANX_AUTH_TOKEN | 不适用 | `PHALANX_AUTH_TOKEN = settings.get('PHALANX_AUTH_TOKEN', '')` | module |
| PAAS_API_LOG_REDIS_HANDLER | 不适用 | `PAAS_API_LOG_REDIS_HANDLER = settings.get('PAAS_API_LOG_REDIS_HANDLER', {'enabled': False, 'url': 'redis://localhost:6379/0', 'queue_name': 'paas_ng-meters', 'tags': []})` | module |
| LOG_COLLECTOR_TYPE | 不适用 | `LOG_COLLECTOR_TYPE = settings.get('LOG_COLLECTOR_TYPE', 'ELK')` | module |
| ENABLE_BK_LOG_APIGW | 不适用 | `ENABLE_BK_LOG_APIGW = settings.get('ENABLE_BK_LOG_APIGW', True)` | module |
| BK_LOG_APIGW_SERVICE_STAGE | 不适用 | `BK_LOG_APIGW_SERVICE_STAGE = settings.get('BK_LOG_APIGW_SERVICE_STAGE', 'stag')` | module |
| BKLOG_TIME_ZONE | 不适用 | `BKLOG_TIME_ZONE = settings.get('BKLOG_TIME_ZONE')` | module |
| BKLOG_STORAGE_CLUSTER_ID | 不适用 | `BKLOG_STORAGE_CLUSTER_ID = settings.get('BKLOG_STORAGE_CLUSTER_ID')` | module |
| BKLOG_CONFIG | 不适用 | `BKLOG_CONFIG = settings.get('BKLOG_CONFIG', {'TIME_ZONE': BKLOG_TIME_ZONE, 'STORAGE_CLUSTER_ID': BKLOG_STORAGE_CLUSTER_ID})` | module |
| ELASTICSEARCH_HOSTS | 不适用 | `ELASTICSEARCH_HOSTS = settings.get('ELASTICSEARCH_HOSTS', [{'host': 'localhost', 'port': '9200'}])` | module |
| DEFAULT_ES_SEARCH_TIMEOUT | 30 | `DEFAULT_ES_SEARCH_TIMEOUT = 30` | module |
| ES_K8S_LOG_INDEX_PATTERNS | 不适用 | `ES_K8S_LOG_INDEX_PATTERNS = settings.get('ES_K8S_LOG_INDEX_PATTERNS', 'app_log-*')` | module |
| ES_K8S_LOG_INDEX_NGINX_PATTERNS | 不适用 | `ES_K8S_LOG_INDEX_NGINX_PATTERNS = settings.get('ES_K8S_LOG_INDEX_NGINX_PATTERNS', 'app_log-nginx-(?P<date>.+)')` | module |
| ES_JSON_FIELD_BLACKLIST | ['json.message', 'json.asctime', 'json.process'] | `ES_JSON_FIELD_BLACKLIST = ['json.message', 'json.asctime', 'json.process']` | module |
| BK_LOG_HIGHLIGHT_TAG | ('[bk-mark]', '[/bk-mark]') | `BK_LOG_HIGHLIGHT_TAG = ('[bk-mark]', '[/bk-mark]')` | module |
| ACCESS_CONTROL_CONFIG | 不适用 | `ACCESS_CONTROL_CONFIG = settings.get('ACCESS_CONTROL_CONFIG', {'module': ['user_access_control'], 'enabled_by_default': [], 'disable_switch_off': [], 'user_type': 'qq', 'user_tips': 'username_field', 'redis': {}})` | module |
| ACCESS_CONTROL_STRATEGY_DEFAULT_EXPIRES_DAYS | 90 | `ACCESS_CONTROL_STRATEGY_DEFAULT_EXPIRES_DAYS = 90` | module |
| PAAS_ANALYSIS_BASE_URL | 不适用 | `PAAS_ANALYSIS_BASE_URL = settings.get('PAAS_ANALYSIS_BASE_URL', 'http://localhost:8085')` | module |
| PAAS_ANALYSIS_JWT_CONF | 不适用 | `PAAS_ANALYSIS_JWT_CONF = settings.get('PAAS_ANALYSIS_JWT_CONF', {})` | module |
| IWIKI_WEB_UI_BASE_URL | 不适用 | `IWIKI_WEB_UI_BASE_URL = settings.get('IWIKI_WEB_UI_BASE_URL', 'http://localhost:8080')` | module |
| IWIKI_API_BASE_URL | 不适用 | `IWIKI_API_BASE_URL = settings.get('IWIKI_API_BASE_URL', 'http://localhost:8080')` | module |
| IWIKI_API_RIO_GW_TOKEN | 不适用 | `IWIKI_API_RIO_GW_TOKEN = settings.get('IWIKI_API_RIO_GW_TOKEN', '')` | module |
| MK_SEARCH_API_BASE_URL | 不适用 | `MK_SEARCH_API_BASE_URL = settings.get('MK_SEARCH_API_BASE_URL', 'http://localhost:8080')` | module |
| MK_SEARCH_API_RIO_GW_TOKEN | 不适用 | `MK_SEARCH_API_RIO_GW_TOKEN = settings.get('MK_SEARCH_API_RIO_GW_TOKEN', '')` | module |
| MK_SEARCH_API_PRIVATE_TOKEN | 不适用 | `MK_SEARCH_API_PRIVATE_TOKEN = settings.get('MK_SEARCH_API_PRIVATE_TOKEN', '')` | module |
| LEGACY_APP_MIGRATION_PROCESS_TIMEOUT | 600 | `LEGACY_APP_MIGRATION_PROCESS_TIMEOUT = 600` | module |
| LEGACY_APP_MIGRATION_DEPLOY_TIMEOUT | 1200 | `LEGACY_APP_MIGRATION_DEPLOY_TIMEOUT = 1200` | module |
| MIGRATION_REMIND_DAYS | 7 | `MIGRATION_REMIND_DAYS = 7` | module |
| IS_PATCH_CODE_IN_MGRLEGACY | 不适用 | `IS_PATCH_CODE_IN_MGRLEGACY = settings.get('IS_PATCH_CODE_IN_MGRLEGACY', True)` | module |
| BKDOC_URL | 不适用 | `BKDOC_URL = settings.get('BKDOC_URL', 'http://localhost:8080')` | module |
| BK_DOC_APP_ID | 不适用 | `BK_DOC_APP_ID = settings.get('BK_DOC_APP_ID', 'bk_docs_center')` | module |
| BK_DOCS_URL_PREFIX | 不适用 | `BK_DOCS_URL_PREFIX = settings.get('BK_DOCS_URL_PREFIX', 'https://bk.tencent.com/docs')` | module |
| BK_PAAS_DOCS_VER | 不适用 | `BK_PAAS_DOCS_VER = settings.get('BK_PAAS_DOCS_VER', '1.5')` | module |
| PAAS_DOCS_URL_PREFIX | Uninferable/markdown/ZH/PaaS/Uninferable | `PAAS_DOCS_URL_PREFIX = f'{BK_DOCS_URL_PREFIX}/markdown/ZH/PaaS/{BK_PAAS_DOCS_VER}'` | module |
| PLATFORM_FAQ_URL | 不适用 | `PLATFORM_FAQ_URL = settings.get('PLATFORM_FAQ_URL', f'{PAAS_DOCS_URL_PREFIX}/BaseGuide/faq')` | module |
| SUPPORT_LIVE_AGENT | 不适用 | `SUPPORT_LIVE_AGENT = settings.get('SUPPORT_LIVE_AGENT', False)` | module |
| LIVE_AGENT_CONFIG | 不适用 | `LIVE_AGENT_CONFIG = settings.get('LIVE_AGENT_CONFIG', {'text': '联系客服', 'link': 'about:blank'})` | module |
| COLORFUL_TERMINAL_OUTPUT | True | `COLORFUL_TERMINAL_OUTPUT = True` | module |
| SMART_DOCKER_REGISTRY_HOST | 不适用 | `SMART_DOCKER_REGISTRY_HOST = settings.get('SMART_DOCKER_REGISTRY_ADDR', 'index.docker.io')` | module |
| SMART_DOCKER_REGISTRY_NAMESPACE | 不适用 | `SMART_DOCKER_REGISTRY_NAMESPACE = settings.get('SMART_DOCKER_NAMESPACE', 'bkpaas/docker')` | module |
| SMART_DOCKER_REGISTRY_USERNAME | 不适用 | `SMART_DOCKER_REGISTRY_USERNAME = settings.get('SMART_DOCKER_USERNAME', 'bkpaas')` | module |
| SMART_DOCKER_REGISTRY_PASSWORD | 不适用 | `SMART_DOCKER_REGISTRY_PASSWORD = settings.get('SMART_DOCKER_PASSWORD', 'blueking')` | module |
| SMART_IMAGE_NAME | Uninferable/slug-pilot | `SMART_IMAGE_NAME = f'{SMART_DOCKER_REGISTRY_NAMESPACE}/slug-pilot'` | module |
| SMART_IMAGE_TAG | Uninferable-smart | `SMART_IMAGE_TAG = f"{parse_image(settings.get('APP_IMAGE', '')).tag or 'latest'}-{_SMART_TAG_SUFFIX}"` | module |
| SMART_CNB_IMAGE_NAME | Uninferable/run-heroku-bionic | `SMART_CNB_IMAGE_NAME = f'{SMART_DOCKER_REGISTRY_NAMESPACE}/run-heroku-bionic'` | module |
| SMART_CNB_IMAGE_TAG | Uninferable-smart | `SMART_CNB_IMAGE_TAG = f"{parse_image(settings.get('HEROKU_RUNNER_IMAGE', '')).tag or 'latest'}-{_SMART_TAG_SUFFIX}"` | module |
| BUILD_PROCESS_TIMEOUT | 不适用 | `BUILD_PROCESS_TIMEOUT = int(settings.get('BUILD_PROCESS_TIMEOUT', 60 * 15))` | module |
| APP_DOCKER_REGISTRY_HOST | 不适用 | `APP_DOCKER_REGISTRY_HOST = settings.get('APP_DOCKER_REGISTRY_ADDR', 'index.docker.io')` | module |
| APP_DOCKER_REGISTRY_SKIP_TLS_VERIFY | 不适用 | `APP_DOCKER_REGISTRY_SKIP_TLS_VERIFY = settings.get('APP_DOCKER_REGISTRY_SKIP_TLS_VERIFY', False)` | module |
| APP_DOCKER_REGISTRY_NAMESPACE | 不适用 | `APP_DOCKER_REGISTRY_NAMESPACE = settings.get('APP_DOCKER_NAMESPACE', 'bkpaas/docker')` | module |
| APP_DOCKER_REGISTRY_USERNAME | 不适用 | `APP_DOCKER_REGISTRY_USERNAME = settings.get('APP_DOCKER_USERNAME', 'bkpaas')` | module |
| APP_DOCKER_REGISTRY_PASSWORD | 不适用 | `APP_DOCKER_REGISTRY_PASSWORD = settings.get('APP_DOCKER_PASSWORD', 'blueking')` | module |
| ENABLE_BK_LESSCODE | 不适用 | `ENABLE_BK_LESSCODE = settings.get('ENABLE_BK_LESSCODE', True)` | module |
| BK_LESSCODE_APIGW_STAGE | 不适用 | `BK_LESSCODE_APIGW_STAGE = settings.get('BK_LESSCODE_APIGW_STAGE', 'prod')` | module |
| BK_LESSCODE_URL | 不适用 | `BK_LESSCODE_URL = settings.get('BK_LESSCODE_URL', '')` | module |
| BK_LESSCODE_TIPS | 不适用 | `BK_LESSCODE_TIPS = settings.get('BK_LESSCODE_TIPS', '')` | module |
| DOCKER_REGISTRY_CONFIG | 不适用 | `DOCKER_REGISTRY_CONFIG = settings.get('DOCKER_REGISTRY_CONFIG', {'DEFAULT_REGISTRY': 'https://hub.docker.com', 'ALLOW_THIRD_PARTY_REGISTRY': False})` | module |
| PLUGIN_REPO_CONF | 不适用 | `PLUGIN_REPO_CONF = settings.get('PLUGIN_REPO_CONF')` | module |
| IAM_PLUGINS_CENTER_SYSTEM_ID | 不适用 | `IAM_PLUGINS_CENTER_SYSTEM_ID = settings.get('IAM_PLUGINS_CENTER_SYSTEM_ID', default='bk_plugins')` | module |
| DISPLAY_BK_PLUGIN_APPS | 不适用 | `DISPLAY_BK_PLUGIN_APPS = settings.get('DISPLAY_BK_PLUGIN_APPS', True)` | module |
| PLUGIN_CENTER_PROJECT_ID | 不适用 | `PLUGIN_CENTER_PROJECT_ID = settings.get('PLUGIN_CENTER_PROJECT_ID', default='bkplugins')` | module |
| PLUGIN_CENTER_URL | 不适用 | `PLUGIN_CENTER_URL = settings.get('PLUGIN_CENTER_URL', default=f'{BKPAAS_URL}/plugin-center')` | module |
| ENABLE_BK_MONITOR | 不适用 | `ENABLE_BK_MONITOR = settings.get('ENABLE_BK_MONITOR', False)` | module |
| BKMONITOR_METRIC_RELABELINGS | 不适用 | `BKMONITOR_METRIC_RELABELINGS = settings.get('BKMONITOR_METRIC_RELABELINGS', [])` | module |
| ENABLE_BK_MONITOR_APIGW | 不适用 | `ENABLE_BK_MONITOR_APIGW = settings.get('ENABLE_BK_MONITOR_APIGW', True)` | module |
| RABBITMQ_MONITOR_CONF | 不适用 | `RABBITMQ_MONITOR_CONF = settings.get('RABBITMQ_MONITOR_CONF', {})` | module |
| BKREPO_MONITOR_CONF | 不适用 | `BKREPO_MONITOR_CONF = settings.get('BKREPO_MONITOR_CONF', {})` | module |
| GCS_MYSQL_MONITOR_CONF | 不适用 | `GCS_MYSQL_MONITOR_CONF = settings.get('GCS_MYSQL_MONITOR_CONF', {})` | module |
| BK_MONITOR_APIGW_SERVICE_STAGE | 不适用 | `BK_MONITOR_APIGW_SERVICE_STAGE = settings.get('BK_MONITOR_APIGW_SERVICE_STAGE', 'stage')` | module |
| ENABLE_BK_NOTICE | 不适用 | `ENABLE_BK_NOTICE = settings.get('ENABLE_BK_NOTICE', False)` | module |
| BK_NOTICE_ENV | 不适用 | `BK_NOTICE_ENV = settings.get('BK_NOTICE_ENV', 'prod')` | module |
| BK_NOTICE | 不适用 | `BK_NOTICE = {'STAGE': BK_NOTICE_ENV, 'LANGUAGE_COOKIE_NAME': LANGUAGE_COOKIE_NAME, 'DEFAULT_LANGUAGE': 'en', 'PLATFORM': BK_APP_CODE, 'BK_API_URL_TMPL': BK_API_URL_TMPL, 'BK_API_APP_CODE': BK_APP_CODE, 'BK_API_SECRET_KEY': BK_APP_SECRET}` | module |
| BK_AUDIT_DATA_TOKEN | 不适用 | `BK_AUDIT_DATA_TOKEN = settings.get('BK_AUDIT_DATA_TOKEN', '')` | module |
| BK_AUDIT_ENDPOINT | 不适用 | `BK_AUDIT_ENDPOINT = settings.get('BK_AUDIT_ENDPOINT', '')` | module |
| ENABLE_BK_AUDIT | 不适用 | `ENABLE_BK_AUDIT = bool(BK_AUDIT_DATA_TOKEN)` | module |
| BK_AUDIT_SETTINGS | 不适用 | `BK_AUDIT_SETTINGS = {'log_queue_limit': 50000, 'exporters': ['bk_audit.contrib.opentelemetry.exporters.OTLogExporter'], 'service_name_handler': 'bk_audit.contrib.opentelemetry.utils.ServiceNameHandler', 'ot_endpoint': BK_AUDIT_ENDPOINT, 'bk_data_token': BK_AUDIT_DATA_TOKEN}` | module |
| ENABLE_BCS | 不适用 | `ENABLE_BCS = settings.get('ENABLE_BCS', True)` | module |
| FOR_TESTS_LEGACY_APP_CODE | 不适用 | `FOR_TESTS_LEGACY_APP_CODE = settings.get('FOR_TESTS_LEGACY_APP_CODE', 'test-app')` | module |
| FOR_TESTS_SVN_SERVER_CONF | 不适用 | `FOR_TESTS_SVN_SERVER_CONF = settings.get('FOR_TESTS_SVN_SERVER_CONF')` | module |
| FOR_TESTS_APP_SVN_INFO | 不适用 | `FOR_TESTS_APP_SVN_INFO = settings.get('FOR_TESTS_APP_SVN_INFO')` | module |
| PAAS_X_BK_DATA_DB_CONF | 不适用 | `PAAS_X_BK_DATA_DB_CONF = settings.get('PAAS_X_BK_DATA_DB_CONF', {})` | module |
| DEBUG_FORCE_DISABLE_CSRF | 不适用 | `DEBUG_FORCE_DISABLE_CSRF = settings.get('DEBUG_FORCE_DISABLE_CSRF', False)` | module |
| SENTRY_CONFIG | 不适用 | `SENTRY_CONFIG = settings.get('SENTRY_CONFIG', {})` | module |
| ENABLE_OTEL_TRACE | 不适用 | `ENABLE_OTEL_TRACE = settings.get('ENABLE_OTEL_TRACE', False)` | module |
| OTEL_INSTRUMENT_DB_API | 不适用 | `OTEL_INSTRUMENT_DB_API = settings.get('OTEL_INSTRUMENT_DB_API', True)` | module |
| OTEL_SERVICE_NAME | 不适用 | `OTEL_SERVICE_NAME = settings.get('OTEL_SERVICE_NAME', 'bkpaas3-apiserver')` | module |
| OTEL_SAMPLER | 不适用 | `OTEL_SAMPLER = settings.get('OTEL_SAMPLER', 'always_on')` | module |
| OTEL_BK_DATA_TOKEN | 不适用 | `OTEL_BK_DATA_TOKEN = settings.get('OTEL_BK_DATA_TOKEN', '')` | module |
| OTEL_GRPC_URL | 不适用 | `OTEL_GRPC_URL = settings.get('OTEL_GRPC_URL', '')` | module |
| FORCE_USING_LEGACY_SUB_PATH_VAR_VALUE | 不适用 | `FORCE_USING_LEGACY_SUB_PATH_VAR_VALUE = settings.get('FORCE_USING_LEGACY_SUB_PATH_VAR_VALUE', False)` | module |
| USE_LEGACY_SUB_PATH_PATTERN | 不适用 | `USE_LEGACY_SUB_PATH_PATTERN = settings.get('USE_LEGACY_SUB_PATH_PATTERN', False)` | module |
| THIRD_APP_INIT_CODES | 不适用 | `THIRD_APP_INIT_CODES = settings.get('THIRD_APP_INIT_CODES', '')` | module |
| ALLOW_THIRD_APP_SYS_IDS | 不适用 | `ALLOW_THIRD_APP_SYS_IDS = settings.get('ALLOW_THIRD_APP_SYS_IDS', '')` | module |
| ALLOW_THIRD_APP_SYS_ID_LIST | 不适用 | `ALLOW_THIRD_APP_SYS_ID_LIST = ALLOW_THIRD_APP_SYS_IDS.split(',') if ALLOW_THIRD_APP_SYS_IDS else []` | module |
| BKPAAS_PLATFORM_MANAGERS | 不适用 | `BKPAAS_PLATFORM_MANAGERS = settings.get('BKPAAS_PLATFORM_MANAGERS', [])` | module |
| ENABLE_SEND_OPERATION_REPORT_EMAIL_TO_PLAT_MANAGE | 不适用 | `ENABLE_SEND_OPERATION_REPORT_EMAIL_TO_PLAT_MANAGE = settings.get('ENABLE_SEND_OPERATION_REPORT_EMAIL_TO_PLAT_MANAGE', False)` | module |
| ENABLE_VERIFICATION_CODE | 不适用 | `ENABLE_VERIFICATION_CODE = settings.get('ENABLE_VERIFICATION_CODE', False)` | module |
| DEFAULT_PERSISTENT_STORAGE_CLASS_NAME | 不适用 | `DEFAULT_PERSISTENT_STORAGE_CLASS_NAME = settings.get('DEFAULT_PERSISTENT_STORAGE_CLASS_NAME', 'cfs')` | module |
| DEFAULT_PERSISTENT_STORAGE_SIZE | 不适用 | `DEFAULT_PERSISTENT_STORAGE_SIZE = settings.get('DEFAULT_PERSISTENT_STORAGE_SIZE', '1Gi')` | module |
| FE_FEATURE_SETTINGS_MARKET_VISIBILITY | 不适用 | `FE_FEATURE_SETTINGS_MARKET_VISIBILITY = settings.get('FE_FEATURE_SETTINGS_MARKET_VISIBILITY', True)` | module |
| FE_FEATURE_SETTINGS_AGGREGATE_SEARCH | 不适用 | `FE_FEATURE_SETTINGS_AGGREGATE_SEARCH = settings.get('FE_FEATURE_SETTINGS_AGGREGATE_SEARCH', False)` | module |
| FE_FEATURE_SETTINGS_DOCUMENT_MANAGEMENT | 不适用 | `FE_FEATURE_SETTINGS_DOCUMENT_MANAGEMENT = settings.get('FE_FEATURE_SETTINGS_DOCUMENT_MANAGEMENT', False)` | module |
| FE_FEATURE_SETTINGS_DEVELOPMENT_TIME_RECORD | 不适用 | `FE_FEATURE_SETTINGS_DEVELOPMENT_TIME_RECORD = settings.get('FE_FEATURE_SETTINGS_DEVELOPMENT_TIME_RECORD', False)` | module |
| FE_FEATURE_SETTINGS_REGION_DISPLAY | 不适用 | `FE_FEATURE_SETTINGS_REGION_DISPLAY = settings.get('FE_FEATURE_SETTINGS_REGION_DISPLAY', False)` | module |
| FE_FEATURE_SETTINGS_ANALYTICS | 不适用 | `FE_FEATURE_SETTINGS_ANALYTICS = settings.get('FE_FEATURE_SETTINGS_ANALYTICS', False)` | module |
| FE_FEATURE_SETTINGS_IMAGE_APP_BIND_REPO | 不适用 | `FE_FEATURE_SETTINGS_IMAGE_APP_BIND_REPO = settings.get('FE_FEATURE_SETTINGS_IMAGE_APP_BIND_REPO', False)` | module |
| FE_FEATURE_SETTINGS_MGRLEGACY | 不适用 | `FE_FEATURE_SETTINGS_MGRLEGACY = settings.get('FE_FEATURE_SETTINGS_MGRLEGACY', False)` | module |
| FE_FEATURE_SETTINGS_CNATIVE_MGRLEGACY | 不适用 | `FE_FEATURE_SETTINGS_CNATIVE_MGRLEGACY = settings.get('FE_FEATURE_SETTINGS_CNATIVE_MGRLEGACY', False)` | module |
| FE_FEATURE_SETTINGS_APP_ACCESS_TOKEN | 不适用 | `FE_FEATURE_SETTINGS_APP_ACCESS_TOKEN = settings.get('FE_FEATURE_SETTINGS_APP_ACCESS_TOKEN', False)` | module |
| FORBIDDEN_REPO_PORTS | 不适用 | `FORBIDDEN_REPO_PORTS = settings.get('FORBIDDEN_REPO_PORTS', [])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| build_logging_config | `def build_logging_config(log_level: str, to_console: bool, file_directory: Optional[Path], file_format: str) -> Dict:` | 无 | Build the global logging config dict.

    :param ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PatchFeatures | 无 | minimum_database_version | 无 | 无 | Patched Django Features |

---


### 模块: apiserver/paasng/paasng/settings/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | environ | module |
| re | search | module |
| socket | TCP_KEEPIDLE, TCP_KEEPINTVL, TCP_KEEPCNT | module |
| sys | argv | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| SecureEnv | blue_krill.secure.dj_environ.SecureEnv | 不适用 | module |
| LazySettings | dynaconf.base.LazySettings | 不适用 | module |
| object_merge | dynaconf.utils.object_merge | 不适用 | module |
| Env | environ.Env | cache_url_config | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| NAME_FOR_SIMPLE_JWT | ONE_SIMPLE_JWT_AUTH_KEY | `NAME_FOR_SIMPLE_JWT = 'ONE_SIMPLE_JWT_AUTH_KEY'` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_database_conf | `def get_database_conf(settings: LazySettings, encrypted_url_var: str = 'DATABASE_URL', env_var_prefix: str = '', for_tests: bool = False) -> Optional[Dict]:` | 无 | Get a database config dict, will try to read encry... |
| get_paas_service_jwt_clients | `def get_paas_service_jwt_clients(settings: LazySettings) -> List:` | 无 | Get PAAS_SERVICE_JWT_CLIENTS from LazySettings obj... |
| get_default_keepalive_options | `def get_default_keepalive_options() -> Optional[Dict]:` | 无 | MacOS's socket module does not have below attrs, r... |
| get_service_remote_endpoints | `def get_service_remote_endpoints(settings: LazySettings) -> List[Dict]:` | 无 | 
    远程增强服务配置，支持简配的三类模板（mysql，bkrepo，rabbitmq）

  ... |
| is_redis_backend | `def is_redis_backend(backend: Optional[Union[Tuple, List, str]]) -> bool:` | 无 | Check if given celery backend is 'redis' type |
| is_redis_sentinel_backend | `def is_redis_sentinel_backend(backend: Optional[Union[Tuple, List, str]]) -> bool:` | 无 | Check if given celery backend is 'redis sentinel' ... |
| is_in_celery_worker | `def is_in_celery_worker(argv: Optional[List] = None) -> bool:` | 无 | Check if current module is running inside the cele... |
| cache_from_redis_url | `def cache_from_redis_url(url: str) -> Dict[str, Any]:` | 无 | 根据 redis url 生成 django CACHES setting

    :param ... |


---


### 模块: apiserver/paasng/paasng/settings/workloads.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| LazySettings | dynaconf.LazySettings | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| BASE_DIR | 不适用 | `BASE_DIR = Path(__file__).parents[2]` | module |
| SETTINGS_FILES_GLOB | 不适用 | `SETTINGS_FILES_GLOB = str(BASE_DIR / 'settings_files/*.yaml')` | module |
| LOCAL_SETTINGS | 不适用 | `LOCAL_SETTINGS = str(BASE_DIR / 'settings_local.yaml')` | module |
| settings | 不适用 | `settings = LazySettings(environments=False, load_dotenv=True, includes=[SETTINGS_FILES_GLOB, LOCAL_SETTINGS], ENVVAR_PREFIX_FOR_DYNACONF='PAAS_WL', ENVVAR_FOR_DYNACONF='PAAS_SETTINGS')` | module |
| DEFAULT_SLUGRUNNER_IMAGE | 不适用 | `DEFAULT_SLUGRUNNER_IMAGE = settings.get('DEFAULT_SLUGRUNNER_IMAGE', 'bkpaas/slugrunner:latest')` | module |
| DEFAULT_SLUGBUILDER_IMAGE | 不适用 | `DEFAULT_SLUGBUILDER_IMAGE = settings.get('DEFAULT_SLUGBUILDER_IMAGE', 'bkpaas/slugbuilder:latest')` | module |
| KANIKO_IMAGE | 不适用 | `KANIKO_IMAGE = settings.get('KANIKO_IMAGE', 'bkpaas/kaniko-executor')` | module |
| KANIKO_REGISTRY_MIRRORS | 不适用 | `KANIKO_REGISTRY_MIRRORS = settings.get('KANIKO_REGISTRY_MIRRORS', '')` | module |
| BUILDER_USERNAME | 不适用 | `BUILDER_USERNAME = settings.get('BUILDER_USERNAME', 'blueking')` | module |
| PYTHON_BUILDPACK_PIP_INDEX_URL | 不适用 | `PYTHON_BUILDPACK_PIP_INDEX_URL = settings.get('PYTHON_BUILDPACK_PIP_INDEX_URL')` | module |
| BUILD_EXTRA_ENV_VARS | 不适用 | `BUILD_EXTRA_ENV_VARS = settings.get('BUILD_EXTRA_ENV_VARS', {})` | module |
| CONTAINER_PORT | 不适用 | `CONTAINER_PORT = settings.get('CONTAINER_PORT', 5000)` | module |
| SERVICES_PLUGINS | 不适用 | `SERVICES_PLUGINS = settings.get('SERVICES_PLUGINS', default={})` | module |
| DEV_SANDBOX_DEVSERVER_PORT | 不适用 | `DEV_SANDBOX_DEVSERVER_PORT = settings.get('DEV_SANDBOX_DEVSERVER_PORT', 8000)` | module |
| DEV_SANDBOX_IMAGE | 不适用 | `DEV_SANDBOX_IMAGE = settings.get('DEV_SANDBOX_IMAGE', 'bkpaas/dev-heroku-bionic:latest')` | module |
| DEV_SANDBOX_WORKSPACE | 不适用 | `DEV_SANDBOX_WORKSPACE = settings.get('DEV_SANDBOX_WORKSPACE', '/cnb/devsandbox/src')` | module |
| DEV_SANDBOX_COUNT_LIMIT | 不适用 | `DEV_SANDBOX_COUNT_LIMIT = settings.get('DEV_SANDBOX_COUNT_LIMIT', 5)` | module |
| DEV_SANDBOX_CORS_ALLOW_ORIGINS | 不适用 | `DEV_SANDBOX_CORS_ALLOW_ORIGINS = settings.get('DEV_SANDBOX_CORS_ALLOW_ORIGINS', '')` | module |
| CODE_EDITOR_PORT | 不适用 | `CODE_EDITOR_PORT = settings.get('CODE_EDITOR_PORT', 8080)` | module |
| CODE_EDITOR_IMAGE | 不适用 | `CODE_EDITOR_IMAGE = settings.get('CODE_EDITOR_IMAGE', 'codercom/code-server:4.9.0')` | module |
| CODE_EDITOR_START_DIR | 不适用 | `CODE_EDITOR_START_DIR = settings.get('CODE_EDITOR_START_DIR', '/home/coder/project')` | module |
| STR_APP_NAME | ^([a-z0-9_-]){1,64}$ | `STR_APP_NAME = '^([a-z0-9_-]){1,64}$'` | module |
| PROC_TYPE_PATTERN | ^[a-z0-9]([-a-z0-9])*$ | `PROC_TYPE_PATTERN = '^[a-z0-9]([-a-z0-9])*$'` | module |
| DEFAULT_WEB_REPLICAS_MAP | 不适用 | `DEFAULT_WEB_REPLICAS_MAP = settings.get('DEFAULT_WEB_REPLICAS_MAP', {'stag': 1, 'prod': 2})` | module |
| SLUGBUILDER_RESOURCES_SPEC | 不适用 | `SLUGBUILDER_RESOURCES_SPEC = settings.get('SLUGBUILDER_RESOURCES_SPEC')` | module |
| SYSTEM_CONFIG_VARS_KEY_PREFIX | 不适用 | `SYSTEM_CONFIG_VARS_KEY_PREFIX = settings.get('SYSTEM_CONFIG_VARS_KEY_PREFIX', 'BKPAAS_')` | module |
| VOLUME_NAME_APP_LOGGING | 不适用 | `VOLUME_NAME_APP_LOGGING = settings.get('VOLUME_NAME_APP_LOGGING', 'applogs')` | module |
| VOLUME_MOUNT_APP_LOGGING_DIR | 不适用 | `VOLUME_MOUNT_APP_LOGGING_DIR = settings.get('VOLUME_MOUNT_APP_LOGGING_DIR', '/app/logs')` | module |
| VOLUME_HOST_PATH_APP_LOGGING_DIR | 不适用 | `VOLUME_HOST_PATH_APP_LOGGING_DIR = settings.get('VOLUME_HOST_PATH_APP_LOGGING_DIR', '/tmp/logs')` | module |
| MUL_MODULE_VOLUME_NAME_APP_LOGGING | 不适用 | `MUL_MODULE_VOLUME_NAME_APP_LOGGING = settings.get('MUL_MODULE_VOLUME_NAME_APP_LOGGING', 'appv3logs')` | module |
| MUL_MODULE_VOLUME_MOUNT_APP_LOGGING_DIR | 不适用 | `MUL_MODULE_VOLUME_MOUNT_APP_LOGGING_DIR = settings.get('MUL_MODULE_VOLUME_MOUNT_APP_LOGGING_DIR', '/app/v3logs')` | module |
| MUL_MODULE_VOLUME_HOST_PATH_APP_LOGGING_DIR | 不适用 | `MUL_MODULE_VOLUME_HOST_PATH_APP_LOGGING_DIR = settings.get('MUL_MODULE_VOLUME_HOST_PATH_APP_LOGGING_DIR', '/tmp/v3logs')` | module |
| K8S_DEFAULT_CONNECT_TIMEOUT | 5 | `K8S_DEFAULT_CONNECT_TIMEOUT = 5` | module |
| K8S_DEFAULT_READ_TIMEOUT | 60 | `K8S_DEFAULT_READ_TIMEOUT = 60` | module |
| KUBE_CONFIG_FILE | 不适用 | `KUBE_CONFIG_FILE = settings.get('KUBE_CONFIG_FILE', '/data/kubelet/conf/kubeconfig.yaml')` | module |
| MAX_RS_RETAIN | 3 | `MAX_RS_RETAIN = 3` | module |
| MAX_SLUG_SECONDS | 900 | `MAX_SLUG_SECONDS = 15 * 60` | module |
| GLOBAL_DEFAULT_MAPPER_VERSION | v1 | `GLOBAL_DEFAULT_MAPPER_VERSION = 'v1'` | module |
| LEGACY_MAPPER_VERSION | v1 | `LEGACY_MAPPER_VERSION = 'v1'` | module |
| DEFAULT_POD_LOGS_LINE | 512 | `DEFAULT_POD_LOGS_LINE = 512` | module |
| APP_INGRESS_CLASS | 不适用 | `APP_INGRESS_CLASS = settings.get('APP_INGRESS_CLASS')` | module |
| CUSTOM_DOMAIN_INGRESS_CLASS | 不适用 | `CUSTOM_DOMAIN_INGRESS_CLASS = settings.get('CUSTOM_DOMAIN_INGRESS_CLASS')` | module |
| APP_INGRESS_EXT_V1BETA1_PATH_TRAILING_SLASH | 不适用 | `APP_INGRESS_EXT_V1BETA1_PATH_TRAILING_SLASH = settings.get('APP_INGRESS_EXT_V1BETA1_PATH_TRAILING_SLASH', True)` | module |
| APP_INGRESS_V1_PATH_TRAILING_SLASH | 不适用 | `APP_INGRESS_V1_PATH_TRAILING_SLASH = APP_INGRESS_EXT_V1BETA1_PATH_TRAILING_SLASH` | module |
| ENABLE_MODERN_INGRESS_SUPPORT | 不适用 | `ENABLE_MODERN_INGRESS_SUPPORT = settings.get('ENABLE_MODERN_INGRESS_SUPPORT', True)` | module |
| COLORFUL_TERMINAL_OUTPUT | True | `COLORFUL_TERMINAL_OUTPUT = True` | module |
| CUSTOM_DOMAIN_CONFIG | 不适用 | `CUSTOM_DOMAIN_CONFIG = settings.get('CUSTOM_DOMAIN_CONFIG', {'enabled': True, 'valid_domain_suffixes': settings.get('VALID_CUSTOM_DOMAIN_SUFFIXES', []), 'allow_user_modifications': True})` | module |
| BCS_EGRESS_GATE_IMAGE | 不适用 | `BCS_EGRESS_GATE_IMAGE = settings.get('BCS_EGRESS_GATE_IMAGE', '')` | module |
| BCS_EGRESS_POD_IP_IMAGE | 不适用 | `BCS_EGRESS_POD_IP_IMAGE = settings.get('BCS_EGRESS_POD_IP_IMAGE', '')` | module |
| BCS_EGRESS_POD_CIDRS | 不适用 | `BCS_EGRESS_POD_CIDRS = settings.get('BCS_EGRESS_POD_CIDRS', [])` | module |
| DEFAULT_PROC_SPEC_PLAN | Starter | `DEFAULT_PROC_SPEC_PLAN = 'Starter'` | module |
| PREMIUM_PROC_SPEC_PLAN | 4C2G5R | `PREMIUM_PROC_SPEC_PLAN = '4C2G5R'` | module |
| ULTIMATE_PROC_SPEC_PLAN | 4C4G5R | `ULTIMATE_PROC_SPEC_PLAN = '4C4G5R'` | module |
| DEFAULT_PROC_SPEC_PLANS | {'Starter': {'max_replicas': 5, 'limits': {'cpu': '4096m', 'memory': '1024Mi'}, 'requests': {'cpu': '100m', 'memory': '256Mi'}}, '4C1G5R': {'max_replicas': 5, 'limits': {'cpu': '4096m', 'memory': '1024Mi'}, 'requests': {'cpu': '100m', 'memory': '256Mi'}}, '4C2G5R': {'max_replicas': 5, 'limits': {'cpu': '4096m', 'memory': '2048Mi'}, 'requests': {'cpu': '100m', 'memory': '896Mi'}}, '4C4G5R': {'max_replicas': 5, 'limits': {'cpu': '4096m', 'memory': '4096Mi'}, 'requests': {'cpu': '100m', 'memory': '2048Mi'}}} | `DEFAULT_PROC_SPEC_PLANS = {'Starter': {'max_replicas': 5, 'limits': {'cpu': '4096m', 'memory': '1024Mi'}, 'requests': {'cpu': '100m', 'memory': '256Mi'}}, '4C1G5R': {'max_replicas': 5, 'limits': {'cpu': '4096m', 'memory': '1024Mi'}, 'requests': {'cpu': '100m', 'memory': '256Mi'}}, '4C2G5R': {'max_replicas': 5, 'limits': {'cpu': '4096m', 'memory': '2048Mi'}, 'requests': {'cpu': '100m', 'memory': '896Mi'}}, '4C4G5R': {'max_replicas': 5, 'limits': {'cpu': '4096m', 'memory': '4096Mi'}, 'requests': {'cpu': '100m', 'memory': '2048Mi'}}}` | module |
| ENGINE_PROC_REPLICAS_BY_TYPE | {} | `ENGINE_PROC_REPLICAS_BY_TYPE = {('web', 'stag'): 1, ('web', 'prod'): 2}` | module |
| MONITOR_CONFIG | 不适用 | `MONITOR_CONFIG = settings.get('MONITOR_CONFIG', {})` | module |
| FOR_TESTS_APISERVER_URL | 不适用 | `FOR_TESTS_APISERVER_URL = settings.get('FOR_TESTS_APISERVER_URL', 'http://localhost:28080')` | module |
| FOR_TESTS_CA_DATA | 不适用 | `FOR_TESTS_CA_DATA = settings.get('FOR_TESTS_CA_DATA', '')` | module |
| FOR_TESTS_CERT_DATA | 不适用 | `FOR_TESTS_CERT_DATA = settings.get('FOR_TESTS_CERT_DATA', '')` | module |
| FOR_TESTS_KEY_DATA | 不适用 | `FOR_TESTS_KEY_DATA = settings.get('FOR_TESTS_KEY_DATA', '')` | module |
| FOR_TESTS_TOKEN_VALUE | 不适用 | `FOR_TESTS_TOKEN_VALUE = settings.get('FOR_TESTS_TOKEN_VALUE', '')` | module |
| FOR_TESTS_FORCE_DOMAIN | 不适用 | `FOR_TESTS_FORCE_DOMAIN = settings.get('FOR_TESTS_FORCE_DOMAIN', '')` | module |
| FOR_TESTS_CLUSTER_CONFIG | 不适用 | `FOR_TESTS_CLUSTER_CONFIG = {'url': FOR_TESTS_APISERVER_URL, 'ca_data': FOR_TESTS_CA_DATA, 'cert_data': FOR_TESTS_CERT_DATA, 'key_data': FOR_TESTS_KEY_DATA, 'token_value': FOR_TESTS_TOKEN_VALUE, 'force_domain': FOR_TESTS_FORCE_DOMAIN}` | module |
| FOR_TEST_E2E_INGRESS_CONFIG | 不适用 | `FOR_TEST_E2E_INGRESS_CONFIG = settings.get('FOR_TEST_E2E_INGRESS_CONFIG', {})` | module |



---


### 模块: apiserver/paasng/paasng/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| include | django.urls.include | 不适用 | module |
| path | django.urls.path | 不适用 | module |
| i18n | django.views.i18n | 不适用 | module |
| re_path | paasng.utils.basic.re_path | 不适用 | module |
| patch_datetime_field | paasng.utils.serializers.patch_datetime_field | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^', include('paasng.misc.metrics.urls')), re_path('^', include('paasng.misc.plat_config.urls')), re_path('^', include('paasng.infras.accounts.urls')), re_path('^', include('paasng.platform.applications.urls')), re_path('^', include('paasng.accessories.log.urls')), re_path('^', include('paasng.platform.modules.urls')), re_path('^', include('paasng.core.region.urls')), re_path('^', include('paasng.misc.audit.urls')), re_path('^', include('paasng.misc.operations.urls')), re_path('^', include('paasng.platform.environments.urls')), re_path('^', include('paasng.platform.engine.urls')), re_path('^', include('paasng.platform.engine.processes.urls')), re_path('^', include('paasng.accessories.ci.urls')), re_path('^', include('paasng.platform.bkapp_model.urls')), re_path('^', include('paasng.platform.engine.streaming.urls')), re_path('^', include('paasng.platform.sourcectl.urls')), re_path('^', include('paasng.accessories.servicehub.urls')), re_path('^', include('paasng.accessories.cloudapi.urls')), re_path('^', include('paasng.bk_plugins.bk_plugins.urls')), re_path('^', include('paasng.platform.templates.urls')), re_path('^', include('paasng.platform.smart_app.urls')), re_path('^', include('paasng.plat_admin.api_doc.urls')), re_path('^', include('paasng.accessories.publish.market.urls')), re_path('^', include('paasng.accessories.publish.sync_market.urls')), re_path('^', include('paasng.accessories.publish.entrance.urls')), re_path('^', include('paasng.accessories.urls')), re_path('^', include('paasng.infras.iam.open_apis.urls')), re_path('^', include('paasng.misc.search.urls')), re_path('^', include('paasng.misc.monitoring.healthz.urls')), re_path('^', include('paasng.misc.monitoring.monitor.urls')), re_path('^', include('paasng.plat_admin.system.urls')), re_path('^', include('paasng.platform.bk_lesscode.urls')), re_path('^', include('paasng.platform.evaluation.urls')), re_path('^', include('paasng.bk_plugins.pluginscenter.urls')), re_path('^', include('paasng.bk_plugins.pluginscenter.itsm_adaptor.open_apis.urls')), re_path('^', include('paasng.accessories.app_secret.urls')), re_path('^', include('paasng.misc.tools.urls')), re_path('^admin42/', include('paasng.plat_admin.admin42.urls')), re_path('^admin42/', include('paas_wl.apis.admin.urls')), re_path('^i18n/setlang/$', django_i18n_views.set_language, name='set_language'), path('', include('paasng.misc.changelog.urls')), path('', include('paas_wl.workloads.networking.entrance.urls')), path('', include('paas_wl.workloads.networking.egress.urls')), path('', include('paas_wl.workloads.networking.ingress.urls')), path('', include('paas_wl.workloads.images.urls')), path('', include('paas_wl.bk_app.processes.urls')), path('', include('paas_wl.bk_app.cnative.specs.urls')), path('', include('paasng.accessories.paas_analysis.urls')), path('', include('paasng.accessories.dev_sandbox.urls')), re_path('^notice/', include(('bk_notice_sdk.urls', 'notice'), namespace='notice'))]` | module |



---


### 模块: apiserver/paasng/paasng/utils/__init__.py







---


### 模块: apiserver/paasng/paasng/utils/addons.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| inspect | signature | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Callable | typing.Callable | 不适用 | module |
| List | typing.List | 不适用 | module |
| NoReturn | typing.NoReturn | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| AppConfig | django.apps.AppConfig | 不适用 | module |
| import_string | django.utils.module_loading.import_string | 不适用 | module |
| URLPattern | django.urls.URLPattern | 不适用 | module |
| URLResolver | django.urls.URLResolver | 不适用 | module |
| RegexURLPattern | django.urls.RegexURLPattern | 不适用 | module |
| RegexURLResolver | django.urls.RegexURLResolver | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| URL_PATTERNS_TYPE | 不适用 | `URL_PATTERNS_TYPE = List[Union[URLResolver, URLPattern]]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AddonsUrlRegister | 无 | __init__, register | 无 | 无 | register extra urlpatterns to the one provided |
| PlugableAppConfig | django.apps.AppConfig | ready | default | 无 | 不适用 |
| ReplaceableFunction | 无 | __init__, __call__, use | 无 | 无 | A dummy placeholder to register extra logic in oth... |

---


### 模块: apiserver/paasng/paasng/utils/api_docs.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| openapi | drf_yasg.openapi | Schema, TYPE_OBJECT, Response | module |
| Request | rest_framework.request.Request | 不适用 | module |
| SiteAction | paasng.infras.accounts.permissions.constants.SiteAction | VISIT_ADMIN42 | module |
| site_perm_class | paasng.infras.accounts.permissions.global_site.site_perm_class | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| openapi_empty_schema | 不适用 | `openapi_empty_schema = openapi.Schema(type=openapi.TYPE_OBJECT)` | module |
| openapi_empty_response | 不适用 | `openapi_empty_response = openapi.Response(_('操作成功后的空响应'), schema=openapi_empty_schema)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| is_rendering_openapi | `def is_rendering_openapi(request: Request) -> bool:` | 无 | 判断是否正在渲染 openapi 文档 |


---


### 模块: apiserver/paasng/paasng/utils/api_middleware.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| logging | getLogger | module |
| time | time | module |
| redis | from_url | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | DEBUG, PAAS_API_LOG_REDIS_HANDLER | module |
| HttpResponse | django.http.response.HttpResponse | 不适用 | module |
| resolve | django.urls.resolve | 不适用 | module |
| force_str | django.utils.encoding.force_str | 不适用 | module |
| API_VISITED_COUNTER | paasng.misc.metrics.API_VISITED_COUNTER | labels | module |
| API_VISITED_TIME_CONSUME_HISTOGRAM | paasng.misc.metrics.API_VISITED_TIME_CONSUME_HISTOGRAM | labels | module |
| get_client_ip | paasng.utils.basic.get_client_ip | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| save_redis | `def save_redis(doc: Dict):` | 无 | 
    保存日志数据到 Redis 队列
     |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApiLogMiddleware | 无 | __init__, __call__, truncate, get_api_data, save_data | project_code, index_name, max_content_size, doc_type | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/utils/basic.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| re | compile | module |
| subprocess | Popen, PIPE | module |
| requests | Session, HTTPAdapter, adapters | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| partial | functools.partial | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| settings | django.conf.settings | UNIQUE_ID_GEN_FUNC | module |
| RegexPattern | django.urls.resolvers.RegexPattern | 不适用 | module |
| URLPattern | django.urls.resolvers.URLPattern | 不适用 | module |
| URLResolver | django.urls.resolvers.URLResolver | 不适用 | module |
| force_str | django.utils.encoding.force_str | 不适用 | module |
| import_string | django.utils.module_loading.import_string | 不适用 | module |
| Protocol | typing_extensions.Protocol | 不适用 | module |
| Enum | aenum.Enum | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| MOSAIC_REG | 不适用 | `MOSAIC_REG = re.compile('(?<=\\d{3})(\\d{4})(?=\\d{4})')` | module |
| RE_SHA256SUM | 不适用 | `RE_SHA256SUM = re.compile('[0-9a-f]{64}')` | module |
| make_app_pattern_with_applications_prefix | 不适用 | `make_app_pattern_with_applications_prefix = partial(make_app_pattern, prefix='applications/')` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sha256_checksum | `def sha256_checksum(file_path):` | 无 | Calculate sha256sum of file |
| get_username_by_bkpaas_user_id | `def get_username_by_bkpaas_user_id(bkpaas_user_id):` | 无 | 不适用 |
| make_app_pattern | `def make_app_pattern(suffix, include_envs=True, support_envs: Tuple = ('stag', 'prod'), app_field_type='code', prefix: str = 'api/bkapps/applications/') -> str:` | 无 | Make an application URL path prefix

    :param ap... |
| make_app_pattern_with_global_envs | `def make_app_pattern_with_global_envs(suffix):` | 无 | 不适用 |
| get_client_ip | `def get_client_ip(request):` | 无 | 获取客户端IP |
| desensitize_simple_str | `def desensitize_simple_str(sensitive_str):` | 无 | 给简单字符串脱敏 |
| first_true | `def first_true(iterable: Iterable, default=None) -> Any:` | 无 | Return the first non-false item

    :param iterab... |
| re_path | `def re_path(route, view, kwargs=None, name=None):` | 无 | This `re_path` work like with `django.urls.re_path... |
| get_requests_session | `def get_requests_session() -> requests.Session:` | 无 | Return the global requests session object which su... |
| unique_id_generator | `def unique_id_generator(name: str, max_length: int = 16, namespace: str = 'default') -> str:` | 无 | The function which generates unique ID. |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ChoicesEnum | aenum.Enum | get_choices, get_choice_label | 无 | 无 | Enum with choices |
| LegacyRegexPattern | django.urls.resolvers.RegexPattern | match | 无 | 无 | This is a RegexPattern, which work like with the o... |
| UniqueIDGenerator | typing_extensions.Protocol | __call__ | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/utils/blobstore.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| logging | getLogger | module |
| urllib.parse | urlparse, parse | module |
| boto3 | resource | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PathLike | os.PathLike | 不适用 | module |
| dedent | textwrap.dedent | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BKRepoStorage | bkstorages.backends.bkrepo.BKRepoStorage | 不适用 | module |
| RGWBoto3Storage | bkstorages.backends.rgw.RGWBoto3Storage | 不适用 | module |
| EnumField | blue_krill.data_types.enum.EnumField | 不适用 | module |
| StrStructuredEnum | blue_krill.data_types.enum.StrStructuredEnum | 不适用 | module |
| BlobStore | blue_krill.storages.blobstore.base.BlobStore | 不适用 | module |
| BKGenericRepo | blue_krill.storages.blobstore.bkrepo.BKGenericRepo | 不适用 | module |
| S3Store | blue_krill.storages.blobstore.s3.S3Store | 不适用 | module |
| ClientError | botocore.exceptions.ClientError | 不适用 | module |
| Fernet | cryptography.fernet.Fernet | 不适用 | module |
| settings | django.conf.settings | BLOBSTORE_TYPE, BLOBSTORE_BKREPO_CONFIG, BLOBSTORE_S3_ACCESS_KEY, BLOBSTORE_S3_SECRET_KEY, BLOBSTORE_S3_ENDPOINT, BLOBSTORE_S3_REGION_NAME, BLOBSTORE_S3_SIG_VERSION, RGW_ACCESS_KEY_ID, RGW_SECRET_ACCESS_KEY, RGW_ENDPOINT_URL, BLOBSTORE_BUCKET_APP_SOURCE, SLUG_ENCRYPT_SECRET_KEY | module |
| force_bytes | django.utils.encoding.force_bytes | 不适用 | module |
| force_str | django.utils.encoding.force_str | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| detect_default_blob_store | `def detect_default_blob_store() -> StoreType:` | 无 | 如果没有指定 StoreType，且已有 BKRepo 配置，则优先使用 |
| make_blob_store | `def make_blob_store(bucket: str, store_type: Optional[StoreType] = None, **kwargs) -> BlobStore:` | 无 | 不适用 |
| get_storage_by_bucket | `def get_storage_by_bucket(bucket: str, store_type: Optional[str] = None):` | 无 | When current store_type is S3, this function may c... |
| generate_s3cmd_conf | `def generate_s3cmd_conf(endpoint, access_key, secret_key, region_name, sig_version, encrypt: bool = False):` | 无 | Generate conf file for s3cmd so docker container c... |
| make_blob_store_env | `def make_blob_store_env(encrypt: bool = False) -> Dict[str, str]:` | 无 | 不适用 |
| encrypt_slug_config | `def encrypt_slug_config(raw_content: str) -> str:` | 无 | 不适用 |
| download_file_from_blob_store | `def download_file_from_blob_store(bucket: str, key: str, local_path: PathLike, store_type: Optional[StoreType] = None):` | 无 | Download file to filepath
    :param str bucket: 对... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| StoreType | blue_krill.data_types.enum.StrStructuredEnum | 无 | S3, BKREPO, HTTP, HTTPS | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/utils/camel_converter.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| CommonCaseConvertor | blue_krill.cubing_case.CommonCaseConvertor | 不适用 | module |
| CommonCaseRegexPatterns | blue_krill.cubing_case.CommonCaseRegexPatterns | SNAKECASE | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| dict_to_camel | `def dict_to_camel(data: Dict[str, Any]) -> Dict[str, Any]:` | 无 | 
    Converts dict keys from snake case to camel c... |
| snake_to_camel | `def snake_to_camel(snake_string: str) -> str:` | 无 | Converts a snake case string to camel case.

    :... |


---


### 模块: apiserver/paasng/paasng/utils/configs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | getenv | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| settings | django.conf.settings | 不适用 | module |
| ImproperlyConfigured | django.core.exceptions.ImproperlyConfigured | 不适用 | module |
| get_attribute | rest_framework.fields.get_attribute | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_region_aware | `def get_region_aware(name: str, region: str, result_cls: Optional[Type] = None) -> Any:` | 无 | Shortcut function for getting a region aware confi... |
| get_settings | `def get_settings(django_settings_name: str, field_name: str, raise_if_missing=False, default=None):` | 无 | Get a settings value, first in django settings, th... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RegionAwareConfig | 无 | __init__, get, __bool__ | 无 | 无 | A region aware config wrapper tool class

    :par... |

---


### 模块: apiserver/paasng/paasng/utils/datetime.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | timedelta, strptime, datetime, fromtimestamp, date | module |
| logging | getLogger | module |
| math | ceil | module |
| arrow | get | module |
| pytz | utc | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| division | __future__.division | 不适用 | module |
| timezone | django.utils.timezone | get_current_timezone | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger('root')` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_time_delta | `def get_time_delta(time_delta_string: str):` | 无 | 
    5m -> datetime.timedelta(minutes=5)
    5d ->... |
| calculate_interval | `def calculate_interval(start_time, end_time, wide=False) -> str:` | 无 | 
    interval via the gap of query time
    fit fo... |
| calculate_gap_seconds_interval | `def calculate_gap_seconds_interval(gap_seconds, wide=False) -> str:` | 无 | 不适用 |
| trans_ts_to_local | `def trans_ts_to_local(ts):` | 无 | 
    to localtime
     |
| time_to_epoch_millis | `def time_to_epoch_millis(t, is_end=False):` | 无 | 
    utc datetime to epoch_millis
     |
| strftime_ms | `def strftime_ms(ms, fmt='%Y-%m-%d %H:%M:%S') -> str:` | 无 | 
    the timezone is local timezone
     |
| convert_timestamp_to_str | `def convert_timestamp_to_str(timestamp: int, timespec: str = 'seconds') -> str:` | 无 | 基于 datetime 的 isoformat, 将整型的时间戳转化成标准化的时间字符串

    ... |
| valid_date_type | `def valid_date_type(arg_date_str) -> datetime.date:` | 无 | custom argparse type for user datetime values give... |
| humanize_timedelta | `def humanize_timedelta(delta):` | 无 | humanize timedelta |


---


### 模块: apiserver/paasng/paasng/utils/dictx.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| reduce | functools.reduce | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Union | typing.Union | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_items | `def get_items(obj: Dict[str, Any], paths: Union[List[str], str], default: Any = None) -> Any:` | 无 | 
    根据指定的路径从字典中获取对应的值

    :param obj: 字典类型对象
   ... |


---


### 模块: apiserver/paasng/paasng/utils/encrypt.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AnyStr | typing.AnyStr | 不适用 | module |
| legacy_decrypt | blue_krill.encrypt.legacy.legacy_decrypt | 不适用 | module |
| legacy_encrypt | blue_krill.encrypt.legacy.legacy_encrypt | 不适用 | module |
| settings | django.conf.settings | 不适用 | module |
| ImproperlyConfigured | django.core.exceptions.ImproperlyConfigured | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| EncryptHandler | 无 | __init__, encrypt, decrypt | 无 | 无 | 密码加解密类 |

---


### 模块: apiserver/paasng/paasng/utils/encrypt_cmd.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EncryptField | blue_krill.models.fields.EncryptField | 不适用 | module |
| apps | django.apps.apps | get_models, get_app_config | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ReEncryptCommand | django.core.management.base.BaseCommand | add_arguments, handle, refresh_encrypt_fields, _get_model_classes | help | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/utils/error_codes.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ErrorCode | blue_krill.web.std_error.ErrorCode | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| error_codes | 不适用 | `error_codes = ErrorCodes()` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ErrorCodes | 无 | dump | ERROR_SENDING_NOTIFICATION, NOTIFICATION_DISABLED, MEMBERSHIP_DELETE_FAILED, MEMBERSHIP_OWNER_FAILED, QUERY_API_LIST_FAILED, CLIENT_CREDENTIALS_MISSING, CANNOT_CREATE_APP, CANNOT_INIT_APP_TEMPLATE, CANNOT_DELETE_APP, APP_RES_PROTECTED, CANNOT_SET_DEFAULT, CANNOT_DELETE_MODULE, CREATE_MODULE_QUOTA_EXCEEDED, CANNOT_OPERATE_PROCESS, QUERY_PROCESS_FAILED, PROCESS_OPERATION_TOO_OFTEN, CANNOT_BIND_SERVICE, CANNOT_PROVISION_INSTANCE, CANNOT_GET_CLUSTER_INFO, RESOURCE_POOL_IS_EMPTY, CANNOT_DESTROY_SERVICE, CREATE_SHARED_ATTACHMENT_ERROR, CANNOT_DESTROY_CI_RESOURCES, CANNOT_READ_INSTANCE_INFO, CANNOT_GET_DEPLOYMENT, CANNOT_GET_DEPLOYMENT_PHASES, CANNOT_DEPLOY_APP, CANNOT_DEPLOY_ONGOING_EXISTS, APP_NOT_RELEASED, RESTRICT_ROLE_DEPLOY_ENABLED, CHANNEL_NOT_FOUND, DEPLOY_INTERRUPTION_FAILED, RESOURCE_NOT_READY_BEFORE_OAUTH, FAILED_TO_GET_OAUTH_URL, CANNOT_BIND_REPO, CANNOT_GET_REPO, NEED_TO_BIND_OAUTH_INFO, CANNOT_GET_REVISION, CANNOT_MODIFY_REPO_BACKEND, CANNOT_CREATE_SVN_TAG, UNSUPPORTED_SOURCE_TYPE, UNSUPPORTED_SOURCE_ORIGIN, PACKAGE_ALREADY_EXISTS, MISSING_VERSION_INFO, OBJECT_STORE_EXCEPTION, BIND_RUNTIME_FAILED, QUERY_LOG_FAILED, QUERY_REQUEST_ERROR, CUSTOM_COLLECTOR_NOT_EXISTED, CANNOT_DELETE_CUSTOM_COLLECTOR, CUSTOM_COLLECTOR_UNSUPPORTED, CANNOT_MODIFY_ITEM, APP_NOT_DEPLOYED_IN_ANY_ENV, LEGACY_MIGRATION_CONFIRMED_FAILED, APP_NOT_OFFLINE_IN_PAAS3, APP_NOT_OFFLINE_IN_PAAS2, APP_MIGRATION_FAILED, APP_ROLLBACK_FAILED, APP_MIGRATION_CONFIRMED_FAILED, CANNOT_GET_OFFLINE, CANNOT_OFFLINE_APP, RELEASED_MARKET_CONDITION_NOT_MET, APP_METRICS_UNSUPPORTED, CANNOT_FETCH_RESOURCE_METRICS, INIT_ALERT_RULES_FAILED, QUERY_ALERTS_FAILED, QUERY_ALARM_STRATEGIES_FAILED, CANNOT_UPDATE_DOMAIN, CANNOT_CREATE_DOMAIN, CANNOT_DELETE_DOMAIN, ENGINE_DISABLED, REQUEST_PA_FAIL, ERROR_UPDATING_TRACKING_STATUS, NOT_YAML_FILE, ERROR_FILE_FORMAT, DOC_TEMPLATE_ID_NOT_FOUND, PREPARED_PACKAGE_NOT_FOUND, MISSING_DESCRIPTION_INFO, FAILED_TO_HANDLE_APP_DESC, FAILED_TO_PUSH_IMAGE, FILE_CORRUPTED_ERROR, CANNOT_GET_BK_USER_CREDENTIAL, OAUTH_UNKNOWN_BACKEND_NAME, FEATURE_FLAG_DISABLED, REMOTE_REQUEST_ERROR, CLOUDAPI_PATH_ERROR, CLOUDAPI_REGION_NOT_FOUND, APP_IS_NOT_BK_PLUGIN, UNABLE_TO_SET_DISTRIBUTORS, NORMAL_TMPL_NOT_FOUND, UNKNOWN_TEMPLATE, SCENE_TMPL_NOT_FOUND, SCENE_TMPL_DESC_ERROR, CREATE_LESSCODE_APP_ERROR, CONTROLLER_INTERNAL_ERROR, INITIALIZE_APP_MEMBERS_ERROR, CREATE_APP_MEMBERS_ERROR, UPDATE_APP_MEMBERS_ERROR, DELETE_APP_MEMBERS_ERROR, EGRESS_SPEC_NOT_FOUND, ACTION_NOT_AVAILABLE, MODIFY_UNSUPPORTED, DELETE_CUSTOM_DOMAIN_FAILED, CREATE_CUSTOM_DOMAIN_FAILED, UPDATE_CUSTOM_DOMAIN_FAILED, ERROR_UPDATING_PROC_SERVICE, ERROR_UPDATING_PROC_INGRESS, CREATE_CREDENTIALS_FAILED, IMPORT_MANIFEST_FAILED, DEV_SANDBOX_ALREADY_EXISTS, DEV_SANDBOX_NOT_FOUND, DEV_SANDBOX_COUNT_OVER_LIMIT | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/utils/error_message.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| APIError | blue_krill.web.std_error.APIError | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| ErrorDetail | rest_framework.exceptions.ErrorDetail | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | default_code | module |
| GetClusterEgressInfoError | paasng.accessories.servicehub.remote.exceptions.GetClusterEgressInfoError | 不适用 | module |
| ResourceNotEnoughError | paasng.accessories.services.exceptions.ResourceNotEnoughError | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | CANNOT_GET_CLUSTER_INFO, RESOURCE_POOL_IS_EMPTY | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| wrap_validation_error | `def wrap_validation_error(exc: ValidationError, parent: str) -> ValidationError:` | 无 | Wraps a `ValidationError` object, change the error... |
| find_innermost_exception | `def find_innermost_exception(exception: BaseException) -> BaseException:` | 无 | find the innermost exception in the exception chai... |
| detect_error_code | `def detect_error_code(exception_cls: Type[BaseException]) -> Optional[APIError]:` | 无 | 不适用 |
| find_coded_error_message | `def find_coded_error_message(exception: BaseException) -> Optional[str]:` | 无 | Turn a Exception into bk error code and error mess... |


---


### 模块: apiserver/paasng/paasng/utils/es_log/__init__.py







---


### 模块: apiserver/paasng/paasng/utils/es_log/misc.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | strptime, datetime | module |
| logging | getLogger | module |
| re | compile | module |
| arrow | get | module |
| pytz | utc | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Counter | collections.Counter | 不适用 | module |
| defaultdict | collections.defaultdict | 不适用 | module |
| attrgetter | operator.attrgetter | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Literal | typing.Literal | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| FieldBucketData | elasticsearch_dsl.response.aggs.FieldBucketData | 不适用 | module |
| get_attribute | rest_framework.fields.get_attribute | 不适用 | module |
| FieldFilter | paasng.utils.es_log.models.FieldFilter | 不适用 | module |
| calculate_percentage | paasng.utils.text.calculate_percentage | 不适用 | module |
| SmartTimeRange | paasng.utils.es_log.time_range.SmartTimeRange | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| flatten_structure | `def flatten_structure(structured_fields: Dict, parent: Optional[str] = None) -> Dict[str, Any]:` | 无 | 接收一个包含层级关系的结构体，并将其扁平化，返回转换后的结构体

    :param struct... |
| clean_histogram_buckets | `def clean_histogram_buckets(buckets: FieldBucketData) -> Dict:` | 无 | 从 ES 聚合桶中提取 PaaS 关心的字段 |
| format_timestamp | `def format_timestamp(value: Union[str, int, float], input_format: Literal['timestamp[s]', 'timestamp[ns]', 'datetime']) -> int:` | 无 | format a value to timestamp in seconds

    :param... |
| count_filters_options | `def count_filters_options(logs: List, properties: Dict[str, FieldFilter]) -> List[FieldFilter]:` | 无 | 统计 ES 日志的可选字段, 并填充到 filters 的 options |
| filter_indexes_by_time_range | `def filter_indexes_by_time_range(indexes: List[str], time_range: 'SmartTimeRange') -> List[str]:` | 无 | Attempt to filter indexes within the time_range fr... |


---


### 模块: apiserver/paasng/paasng/utils/es_log/models.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Generic | typing.Generic | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| TypedDict | typing.TypedDict | 不适用 | module |
| TypeVar | typing.TypeVar | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| define | attrs.define | 不适用 | module |
| field | attrs.field | 不适用 | module |
| fields | attrs.fields | 不适用 | module |
| LogLineInfoBrokenError | paasng.accessories.log.exceptions.LogLineInfoBrokenError | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| NOT_SET | 不适用 | `NOT_SET = object()` | module |
| MLine | 不适用 | `MLine = TypeVar('MLine', bound=LogLine)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| init_field_form_raw | `def init_field_form_raw(self):` | 无 | extract extra log field from raw, All fields excep... |
| extra_field | `def extra_field(source: Optional[Union[str, _GetterType]] = None, converter: Optional[_ConverterType] = None) -> Any:` | 无 | extra_field is used to declare extra for subclass ... |
| field_extractor_factory | `def field_extractor_factory(field_key: str, raise_exception: bool = True) -> _GetterType:` | 无 | 返回一个函数，用于从原始日志字典中提取指定字段的值

    :param field_key: 要... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| FlattenLog | typing.TypedDict | 无 | 无 | 无 | 
    :param timestamp: linux timestamp(seconds)
  ... |
| LogLine | 无 | 无 | __attrs_post_init__ | define | LogLine is object type of FlattenLog

    :param t... |
| Logs | Generic[MLine] | 无 | 无 | define | 不适用 |
| DataBucket | 无 | 无 | 无 | define | 不适用 |
| DateHistogram | 无 | 无 | 无 | define | 不适用 |
| FieldFilter | 无 | 无 | 无 | define | 字段选择器
    :param name: 查询字段的 title
    :param key:... |

---


### 模块: apiserver/paasng/paasng/utils/es_log/search.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Literal | typing.Literal | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | BK_LOG_HIGHLIGHT_TAG | module |
| Search | elasticsearch_dsl.Search | 不适用 | module |
| Agg | elasticsearch_dsl.aggs.Agg | 不适用 | module |
| Q | elasticsearch_dsl.query.Q | 不适用 | module |
| Query | elasticsearch_dsl.query.Query | 不适用 | module |
| SmartTimeRange | paasng.utils.es_log.time_range.SmartTimeRange | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SmartSearch | 无 | __init__, filter, exclude, limit_offset, query, sort, agg, highlight, to_dict | 无 | 无 | Proxy to elasticsearch_dsl.Search, will inject tim... |

---


### 模块: apiserver/paasng/paasng/utils/es_log/time_range.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | timedelta, datetime | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| cast | typing.cast | 不适用 | module |
| timezone | django.utils.timezone | now | module |
| calculate_gap_seconds_interval | paasng.utils.datetime.calculate_gap_seconds_interval | 不适用 | module |
| calculate_interval | paasng.utils.datetime.calculate_interval | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| DEFAULT_EPOCH | 不适用 | `DEFAULT_EPOCH = datetime.datetime(1970, 1, 1)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_time_delta | `def get_time_delta(time_delta_string) -> datetime.timedelta:` | 无 | 
    5m -> datetime.timedelta(minutes=5)
    5d ->... |
| get_epoch_milliseconds | `def get_epoch_milliseconds(dt: datetime.datetime, ignore_timezone: bool = False) -> int:` | 无 | Return total number of milliseconds to EPOCH.
    ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SmartTimeRange | 无 | __init__, is_absolute, _get_epoch_millis, get_head_and_tail, get_time_range_filter, detect_date_histogram_interval | 无 | 无 | 
    A tool class for LogClient, transfer time_ran... |

---


### 模块: apiserver/paasng/paasng/utils/file.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | isabs, path, commonpath, abspath, join | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| generate_random_string | paasng.utils.text.generate_random_string | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| path_may_escape | `def path_may_escape(input_path: str) -> bool:` | 无 | Check if the input path may escape from a given ro... |


---


### 模块: apiserver/paasng/paasng/utils/i18n/__init__.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| re | sub | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| lazy | django.utils.functional.lazy | 不适用 | module |
| get_language | django.utils.translation.get_language | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| TranslatedValue | 不适用 | `TranslatedValue = Dict[str, str]` | module |
| gettext_lazy | 不适用 | `gettext_lazy = lazy(gettext, str)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| to_translated_field | `def to_translated_field(field_name: str, language_code: Optional[str] = None) -> str:` | 无 | A function convect `field` to `field_{language_cod... |
| gettext | `def gettext(translated: TranslatedValue) -> str:` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/utils/i18n/celery.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| nullcontext | contextlib.nullcontext | 不适用 | module |
| Task | celery.Task | 不适用 | module |
| get_language | django.utils.translation.get_language | 不适用 | module |
| override | django.utils.translation.override | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| I18nTask | celery.Task | apply_async, __call__ | LANGUAGE_CODE_KEY | 无 | Celery Task with django i18n context |

---


### 模块: apiserver/paasng/paasng/utils/i18n/migrate.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| List | typing.List | 不适用 | module |
| Apps | django.apps.registry.Apps | 不适用 | module |
| BaseDatabaseSchemaEditor | django.db.backends.base.schema.BaseDatabaseSchemaEditor | 不适用 | module |
| CursorWrapper | django.db.backends.utils.CursorWrapper | 不适用 | module |
| Model | django.db.models.Model | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| copy_field | `def copy_field(app_label: str, model_name: str, from_field: str, to_field: str, batch_size: int = 2000):` | 无 | 不适用 |
| bulk_update_chunk_by_chunk | `def bulk_update_chunk_by_chunk(schema_editor: BaseDatabaseSchemaEditor, model: Model, from_field: str, to_field: str, batch_size: int):` | 无 | 不适用 |
| count_table | `def count_table(cursor: CursorWrapper, table_name: str) -> int:` | 无 | count the size of given table |
| fetchall_pks | `def fetchall_pks(cursor: CursorWrapper, table_name: str, pk_field: str, total_size: int, batch_size: int) -> List[Any]:` | 无 | 不适用 |
| flatfetchall | `def flatfetchall(cursor: CursorWrapper) -> List[Any]:` | 无 | Return all rows from a cursor as a flat list |


---


### 模块: apiserver/paasng/paasng/utils/i18n/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| copy | deepcopy | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ExitStack | contextlib.ExitStack | 不适用 | module |
| contextmanager | contextlib.contextmanager | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| overload | typing.overload | 不适用 | module |
| settings | django.conf.settings | LANGUAGES | module |
| Promise | django.utils.functional.Promise | 不适用 | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, Field, CharField, empty | module |
| get_attribute | rest_framework.fields.get_attribute | 不适用 | module |
| gettext_lazy | paasng.utils.i18n.gettext_lazy | 不适用 | module |
| to_translated_field | paasng.utils.i18n.to_translated_field | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| SerializerType | 不适用 | `SerializerType = Type[serializers.Serializer]` | module |
| DecoratorSign | 不适用 | `DecoratorSign = Callable[[SerializerType], SerializerType]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| i18n | `def i18n(cls_or_languages: Optional[Union[Optional[List[str]], SerializerType]] = None) -> Union[SerializerType, Callable[[SerializerType], SerializerType]]:` | 无 | `i18n` decorator will extend those fields wrapped ... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| I18NExtend | 无 | __init__, __set_name__, field | 无 | 无 | i18n extend flag for drf Serializer class.
    Thi... |
| TranslatedCharField | rest_framework.serializers.CharField | __init__, get_attribute, get_value, run_validation | 无 | 无 | A CharField supported i18n, which will work with d... |
| FallbackMixin | _Base | __init__, bind, get_value, get_attribute, override_field_name | 无 | 无 | A Mixin for drf.Field
    which will get value/att... |
| DjangoTranslatedCharField | rest_framework.serializers.CharField | to_representation | 无 | 无 | Translate strings using django gettext method |

---


### 模块: apiserver/paasng/paasng/utils/local.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | REQUEST_ID_META_KEY | module |
| Local | werkzeug.local.Local | 不适用 | module |
| release_local | werkzeug.local.release_local | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| local | 不适用 | `local = Local()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| new_request_id | `def new_request_id():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Singleton | 无 | __new__ | _instance | 无 | 不适用 |
| Local | Singleton | request, request, request_id, get_http_request_id, release | 无 | 无 | local 对象，配合中间件 RequestProvider 使用 |

---


### 模块: apiserver/paasng/paasng/utils/logging.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger, Handler, __init__, Filter | module |
| redis | from_url, BlockingConnectionPool, Redis | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| formatter | logstash.formatter | LogstashFormatterVersion1 | module |
| local | apiserver.paasng.paasng.utils.local.local | request_id | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger('console')` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LogstashRedisHandler | logging.Handler | __init__, emit | 无 | 无 | 不适用 |
| RequestIDFilter | logging.Filter | filter | 无 | 无 | RequestID 过滤器. 将 local.request_id 写入 LogRecord, 用于... |

---


### 模块: apiserver/paasng/paasng/utils/masked_curlify.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads, dumps, JSONDecodeError | module |
| curlify | to_curl | module |
| requests | CaseInsensitiveDict, structures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| parse_qs | urllib.parse.parse_qs | 不适用 | module |
| urlencode | urllib.parse.urlencode | 不适用 | module |
| urlparse | urllib.parse.urlparse | 不适用 | module |
| urlunparse | urllib.parse.urlunparse | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| DEFAULT_SCRUBBED_FIELDS | ('password', 'secret', 'passwd', 'api_key', 'apikey', 'bk_token', 'bk_ticket', 'access_token', 'auth', 'credentials') | `DEFAULT_SCRUBBED_FIELDS = ('password', 'secret', 'passwd', 'api_key', 'apikey', 'bk_token', 'bk_ticket', 'access_token', 'auth', 'credentials')` | module |
| MASKED_CONTENT | ****** | `MASKED_CONTENT = '******'` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| scrub_data | `def scrub_data(data: Dict[str, Any]) -> Dict[str, Any]:` | 无 | Scrub the data, mask all sensitive data fields.

 ... |
| mask_sensitive_data | `def mask_sensitive_data(request):` | 无 | 
    脱敏请求对象中的敏感数据。
     |
| to_curl | `def to_curl(request, compressed=False, verify=True):` | 无 | 将请求对象转换为一个 cURL 命令，同时对敏感信息进行脱敏处理。 |


---


### 模块: apiserver/paasng/paasng/utils/middlewares.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | FORCE_SCRIPT_NAME, SITE_URL, LANGUAGE_CODE | module |
| translation | django.utils.translation | activate, get_language | module |
| MiddlewareMixin | django.utils.deprecation.MiddlewareMixin | 不适用 | module |
| trans_real | django.utils.translation.trans_real | 不适用 | module |
| WhiteNoiseMiddleware | whitenoise.middleware.WhiteNoiseMiddleware | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| WhiteNoiseRespectPrefixMiddleware | whitenoise.middleware.WhiteNoiseMiddleware | process_request | 无 | 无 | Hack WhiteNoise middleware to respect FORCE_SCRIPT... |
| AutoDisableCSRFMiddleware | 无 | __init__, __call__, process_view | 无 | 无 | Disable CSRF checks on purpose |
| APILanguageMiddleware | django.utils.deprecation.MiddlewareMixin | process_request | 无 | 无 | Set the language for API requests |

---


### 模块: apiserver/paasng/paasng/utils/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | splitext, path | module |
| sys | _getframe | module |
| uuid | uuid4 | module |
| cattr | structure, unstructure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| TypeVar | typing.TypeVar | 不适用 | module |
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| is_bare | cattr._compat.is_bare | 不适用 | module |
| is_mapping | cattr._compat.is_mapping | 不适用 | module |
| is_sequence | cattr._compat.is_sequence | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| File | django.core.files.File | 不适用 | module |
| models | django.db.models | ImageField, CharField, Model, DateTimeField, Manager, UUIDField, Field, JSONField | module |
| ImageFieldFile | django.db.models.fields.files.ImageFieldFile | 不适用 | module |
| DeferredAttribute | django.db.models.query_utils.DeferredAttribute | 不适用 | module |
| ProcessedImageField | imagekit.models.ProcessedImageField | 不适用 | module |
| suggest_extension | imagekit.utils.suggest_extension | 不适用 | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| RegionList | paasng.core.region.models.RegionList | 不适用 | module |
| filter_region_by_name | paasng.core.region.models.filter_region_by_name | 不适用 | module |
| get_region | paasng.core.region.models.get_region | 不适用 | module |
| RegionType | paasng.core.region.states.RegionType | get_choice_label | module |
| RegionListValidator | paasng.utils.validators.RegionListValidator | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| F | 不适用 | `F = TypeVar('F', bound=models.Field)` | module |
| M | 不适用 | `M = TypeVar('M')` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| is_mapping | `def is_mapping(type: Any) -> bool:` | 无 | 判断 type 是否 mapping 类型 |
| is_bare | `def is_bare(type: Any) -> bool:` | 无 | 判断 type 是否空的 typing.Generic 类型 |
| is_sequence | `def is_sequence(type: Any) -> bool:` | 无 | 判断 type 是否 Sequence 类型 |
| generate | `def generate(generator, filename: str = '<memory>'):` | 无 | 
    Calls the ``generate()`` method of a generato... |
| make_legacy_json_field | `def make_legacy_json_field(cls_name: str, py_model: Type[M], module: Optional[str] = None) -> Type[JSONField]:` | 无 | 生成会自动进行类型转换为 `py_model` 的 jsonfield.JSONField

   ... |
| make_json_field | `def make_json_field(cls_name: str, py_model: Type[M], module: Optional[str] = None) -> Type[models.JSONField]:` | 无 | 生成会自动进行类型转换为 `py_model` 的 models.JSONField

    :p... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ImageField | django.db.models.ImageField | deconstruct | 无 | 无 | Clone of ImageField

    Removes `storage` field i... |
| ProcessedImageFieldFile | django.db.models.fields.files.ImageFieldFile | save | 无 | 无 | 不适用 |
| ProcessedImageField | OrigProcessedImageField | deconstruct | attr_class | 无 | Clone of ProcessedImageField

    Removes `storage... |
| BkUserFieldAttribute | django.db.models.query_utils.DeferredAttribute | __set__ | 无 | 无 | A wrapper for BkUserField, always transform value ... |
| BkUserField | django.db.models.CharField | __init__, from_db_value | description, descriptor_class | 无 | Field for storing blueking user pk |
| SimpleUserIDWrapper | str | username | 无 | 无 | A simple user wrapper for convenience |
| RegionListField | django.db.models.CharField | __init__, _default_value, get_db_prep_value, from_db_value | description | 无 | Field for storing region list
    receive region o... |
| TimestampedModel | django.db.models.Model | get_region_display | region, created, updated | 无 | Model with 'created' and 'updated' fields. |
| OwnerTimestampedModel | TimestampedModel | 无 | owner | 无 | Model with 'created' and 'updated' fields. |
| WithOwnerManager | django.db.models.Manager | get_user_id, owned_by | 无 | 无 | Manager for Models with a 'owner' field |
| AuditedModel | django.db.models.Model | 无 | created, updated | 无 | Audited model with 'created' and 'updated' fields. |
| UuidAuditedModel | AuditedModel | 无 | uuid | 无 | Add a UUID primary key to an :class:`AuditedModel`... |
| OrderByField | 无 | from_string, __str__ | 无 | dataclass | a helper class for process order_by string |

---


### 模块: apiserver/paasng/paasng/utils/monitoring/__init__.py







---


### 模块: apiserver/paasng/paasng/utils/monitoring/sentry.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| sentry_sdk | init | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| CeleryIntegration | sentry_sdk.integrations.celery.CeleryIntegration | 不适用 | module |
| DjangoIntegration | sentry_sdk.integrations.django.DjangoIntegration | 不适用 | module |
| RedisIntegration | sentry_sdk.integrations.redis.RedisIntegration | 不适用 | module |
| SqlalchemyIntegration | sentry_sdk.integrations.sqlalchemy.SqlalchemyIntegration | 不适用 | module |
| settings | django.conf.settings | SENTRY_CONFIG, get | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| init_sentry_sdk | `def init_sentry_sdk():` | 无 | Register celery error events to sentry |


---


### 模块: apiserver/paasng/paasng/utils/notification_plugins.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| requests | session | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Sequence | typing.Sequence | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| settings | django.conf.settings | COMPONENT_SYSTEM_HOST, BKAUTH_TOKEN_APP_CODE, BKAUTH_TOKEN_SECRET_KEY, items, NOTIFICATION_PLUGIN_CLASSES | module |
| import_string | django.utils.module_loading.import_string | 不适用 | module |
| UserNotificationPlugin | paasng.utils.notifier.UserNotificationPlugin | 不适用 | module |
| get_notification_backend | paasng.utils.notifier.get_notification_backend | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| register_plugins | `def register_plugins():` | 无 | Register all notification plugins, this function s... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseComponentAPIPlugin | paasng.utils.notifier.UserNotificationPlugin | __init__, get_common_params, _call_api, _get_inner_auth_pair, cat_names | 无 | 无 | Base class for notification plugins using componen... |
| MailNotificationPlugin | BaseComponentAPIPlugin | send | 无 | 无 | Send mail notification |
| WeComNotificationPlugin | BaseComponentAPIPlugin | send | 无 | 无 | Send WeCom(企业微信) notification |
| WeChatNotificationPlugin | BaseComponentAPIPlugin | send | 无 | 无 | Send WeChat notification |
| SMSNotificationPlugin | BaseComponentAPIPlugin | send | 无 | 无 | Send SMS notification |

---


### 模块: apiserver/paasng/paasng/utils/notifier.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Client | sentry_sdk.Client | 不适用 | module |
| Hub | sentry_sdk.Hub | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_notification_backend | `def get_notification_backend() -> UserNotificationBackend:` | 无 | Get current notification backend instance |
| log_event_to_sentry | `def log_event_to_sentry(content: str, dsn: str):` | 无 | mainly used for logging important event

    :para... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| UserNotificationPlugin | 无 | send | 无 | 无 | An object which sends notification to users |
| DummyUserNotificationPlugin | UserNotificationPlugin | send | 无 | 无 | A dummy implementation of user notification plugin |
| UserNotificationBackend | 无 | __init__, register, __getattr__ | 无 | 无 | Backend type for sending notifications to user |

---


### 模块: apiserver/paasng/paasng/utils/patternmatcher.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| io | StringIO | module |
| os | sep | module |
| re | Pattern, compile | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| should_escape | `def should_escape(ch: str) -> bool:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MatchType | blue_krill.data_types.enum.IntStructuredEnum | 无 | Unknown, Excat, Prefix, Suffix, Regexp | 无 | 不适用 |
| Pattern | 无 | match, compile | 无 | dataclass | Pattern defines a single regexp used to filter fil... |
| Scanner | 无 | __init__, peek, next, is_eof, _next | EOF | 无 | Scanner implements the minimum behavior of golang ... |

---


### 模块: apiserver/paasng/paasng/utils/procfile.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| shlex | quote | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| generate_bash_command_with_tokens | `def generate_bash_command_with_tokens(command: List[str], args: List[str]) -> str:` | 无 | returns a bash script that execute command + args ... |


---


### 模块: apiserver/paasng/paasng/utils/rate_limit/__init__.py







---


### 模块: apiserver/paasng/paasng/utils/rate_limit/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IntStructuredEnum | blue_krill.data_types.enum.IntStructuredEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| UserAction | blue_krill.data_types.enum.IntStructuredEnum | 无 | FETCH_DEPLOY_LOG, WATCH_PROCESS | 无 | 
    用于频率限制的用户操作

    Q: 为什么需要有 UserAction 这个枚举类，而... |

---


### 模块: apiserver/paasng/paasng/utils/rate_limit/fixed_window.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| abc | ABC, abstractmethod | module |
| time | time | module |
| redis | Redis | module |
| wrapt | decorator | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Response | rest_framework.response.Response | 不适用 | module |
| HTTP_429_TOO_MANY_REQUESTS | rest_framework.status.HTTP_429_TOO_MANY_REQUESTS | 不适用 | module |
| get_default_redis | paasng.core.core.storages.redisdb.get_default_redis | 不适用 | module |
| UserAction | paasng.utils.rate_limit.constants.UserAction | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| rate_limits_by_user | `def rate_limits_by_user(action: UserAction, window_size: int, threshold: int):` | 无 | 适用于 Django View 方法的装饰器，提供频率限制的能力 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RedisFixedWindowRateLimiter | abc.ABC | __init__, is_allowed, _gen_key | 无 | 无 | 基于 Redis 的固定窗口速率控制器 |
| UserActionRateLimiter | RedisFixedWindowRateLimiter | __init__, _gen_key | 无 | 无 | 针对用户行为的速率控制器 |

---


### 模块: apiserver/paasng/paasng/utils/rate_limit/token_bucket.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| abc | ABC, abstractmethod | module |
| time | time | module |
| msgpack | unpackb, packb | module |
| redis | Redis | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| UserAction | paasng.utils.rate_limit.constants.UserAction | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RedisTokenBucketRateLimiter | abc.ABC | __init__, is_allowed, _gen_key | 无 | 无 | 基于 Redis 的令牌桶速率控制器 |
| UserActionRateLimiter | RedisTokenBucketRateLimiter | __init__, _gen_key | 无 | 无 | 针对用户行为的速率控制器 |

---


### 模块: apiserver/paasng/paasng/utils/safe_jinja2.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | 不适用 | module |
| typing | 不适用 | module |
| jinja2 | FileSystemLoader | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| partial | functools.partial | 不适用 | module |
| SandboxedEnvironment | jinja2.sandbox.SandboxedEnvironment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| FileEnvironment | 不适用 | `FileEnvironment = _get_file_environment` | module |
| Template | 不适用 | `Template = _safe_template` | module |
| StrFormatCompatTemplate | 不适用 | `StrFormatCompatTemplate = partial(_safe_template, env_cls=NoCallableSandboxedEnvironment, variable_start_string='{', variable_end_string='}')` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| NoCallableSandboxedEnvironment | jinja2.sandbox.SandboxedEnvironment | is_safe_callable | 无 | 无 | A SandboxedEnvironment that does not allow any fun... |

---


### 模块: apiserver/paasng/paasng/utils/sanitizer.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| copy | deepcopy | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BleachSanitizerFilter | bleach.sanitizer.BleachSanitizerFilter | 不适用 | module |
| Cleaner | bleach.sanitizer.Cleaner | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| allow_tags | ['a', 'img', 'br', 'strong', 'b', 'code', 'pre', 'p', 'div', 'em', 'span', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'blockquote', 'ul', 'ol', 'tr', 'th', 'td', 'hr', 'li', 'u', 'embed', 's', 'table', 'thead', 'tbody', 'caption', 'small', 'q', 'sup', 'sub'] | `allow_tags = ['a', 'img', 'br', 'strong', 'b', 'code', 'pre', 'p', 'div', 'em', 'span', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'blockquote', 'ul', 'ol', 'tr', 'th', 'td', 'hr', 'li', 'u', 'embed', 's', 'table', 'thead', 'tbody', 'caption', 'small', 'q', 'sup', 'sub']` | module |
| common_attrs | ['id', 'style', 'class', 'name'] | `common_attrs = ['id', 'style', 'class', 'name']` | module |
| nonend_tags | ['img', 'hr', 'br', 'embed'] | `nonend_tags = ['img', 'hr', 'br', 'embed']` | module |
| tags_own_attrs | {'img': ['src', 'width', 'height', 'alt', 'align'], 'a': ['href', 'target', 'rel', 'title'], 'embed': ['src', 'width', 'height', 'type', 'allowfullscreen', 'loop', 'play', 'wmode', 'menu'], 'table': ['border', 'cellpadding', 'cellspacing']} | `tags_own_attrs = {'img': ['src', 'width', 'height', 'alt', 'align'], 'a': ['href', 'target', 'rel', 'title'], 'embed': ['src', 'width', 'height', 'type', 'allowfullscreen', 'loop', 'play', 'wmode', 'menu'], 'table': ['border', 'cellpadding', 'cellspacing']}` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| clean_html | `def clean_html(text):` | 无 | 采用bleach+内部版白名单方式 |
| test | `def test():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkBleachSanitizerFilter | bleach.sanitizer.BleachSanitizerFilter | limit_attribute_value, allow_token_a, allow_token | 无 | 无 | 不适用 |
| BkCleaner | bleach.sanitizer.Cleaner | clean | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/utils/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64decode, b64encode | module |
| re | compile | module |
| arrow | get | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| ProviderType | bkpaas_auth.core.constants.ProviderType | 不适用 | module |
| user_id_encoder | bkpaas_auth.models.user_id_encoder | encode | module |
| settings | django.conf.settings | USER_TYPE, USE_TZ | module |
| ContentFile | django.core.files.base.ContentFile | 不适用 | module |
| RegexValidator | django.core.validators.RegexValidator | 不适用 | module |
| timezone | django.utils.timezone | localtime | module |
| force_str | django.utils.encoding.force_str | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| basestring | past.builtins.basestring | 不适用 | module |
| fields | rest_framework.fields | to_representation, DateTimeField | module |
| serializers | rest_framework.serializers | RegexField, Field, CharField, DateTimeField, ChoiceField, ValidationError | module |
| empty | rest_framework.fields.empty | 不适用 | module |
| flatten_choices_dict | rest_framework.fields.flatten_choices_dict | 不适用 | module |
| to_choices_dict | rest_framework.fields.to_choices_dict | 不适用 | module |
| get_user_avatar | paasng.infras.accounts.utils.get_user_avatar | 不适用 | module |
| get_sourcectl_types | paasng.platform.sourcectl.source_types.get_sourcectl_types | 不适用 | module |
| convert_timestamp_to_str | paasng.utils.datetime.convert_timestamp_to_str | 不适用 | module |
| path_may_escape | paasng.utils.file.path_may_escape | 不适用 | module |
| clean_html | paasng.utils.sanitizer.clean_html | 不适用 | module |
| RE_CONFIG_VAR_KEY | paasng.utils.validators.RE_CONFIG_VAR_KEY | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| patch_datetime_field | `def patch_datetime_field():` | 无 | Patch DateTimeField which respect current timezone... |
| field_env_var_key | `def field_env_var_key():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| VerificationCodeField | rest_framework.serializers.RegexField | __init__ | 无 | 无 | 不适用 |
| UserField | rest_framework.serializers.Field | to_representation, to_internal_value | 无 | 无 | User field for present user friendly user object |
| UserNameField | rest_framework.serializers.Field | to_representation, to_internal_value | 无 | 无 | UserName field for present username friendly user ... |
| MaskField | rest_framework.serializers.CharField | to_internal_value | REGEX | 无 | 掩码字段: 只匹配符合正则规则的字符 |
| NickNameField | MaskField | 无 | REGEX | 无 | 
    名称字段，过滤[中文\w\-_]字符集
    >>> "".join(re.compil... |
| ChineseField | MaskField | 无 | REGEX | 无 | 
    中文字段
     |
| RichTextField | rest_framework.serializers.CharField | to_internal_value | 无 | 无 | 
    富文本字段，带XSS过滤供
     |
| MultiUserField | rest_framework.serializers.CharField | to_internal_value, to_representation | regex, validator, split_regex | 无 | 用于表示多个user |
| HumanizeDateTimeField | rest_framework.serializers.DateTimeField | to_representation | 无 | 无 | 不适用 |
| HumanizeTimestampField | rest_framework.serializers.Field | to_representation | 无 | 无 | 不适用 |
| Base64FileField | rest_framework.serializers.Field | to_internal_value, to_representation | _prefix, default_error_messages | 无 | This Field wrap bytes or base64 content into File-... |
| SourceControlField | rest_framework.serializers.ChoiceField | __init__, grouped_choices, choice_strings_to_values, _get_choices, _set_choices, to_internal_value | choices | 无 | This Field provide dynamic source type choices. |
| ConfigVarReservedKeyValidator | 无 | __init__, __call__ | 无 | 无 | 不适用 |
| IntegerOrCharField | rest_framework.serializers.CharField | to_internal_value, to_representation | 无 | 无 | 整型或字符串字段，优先整型 |
| SafePathField | rest_framework.serializers.RegexField | __init__, run_validation | regex, default_error_messages | 无 | 安全路径字段，只允许包含字母、数字、下划线、横线、点、斜杠，不允许绝对路径 & 路径逃逸（../） |

---


### 模块: apiserver/paasng/paasng/utils/structure.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | register_structure_hook, register_unstructure_hook | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| partial | functools.partial | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| TypeVar | typing.TypeVar | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| prepare_json_field | 不适用 | `prepare_json_field = register` | module |
| T | 不适用 | `T = TypeVar('T')` | module |
| NOTSET | 不适用 | `NOTSET = NotSetType()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| register | `def register(pydantic_model: Optional[Type[BaseModel]] = None, *, by_alias: bool = True, exclude_none: bool = False):` | 无 | 不适用 |
| remove_notset | `def remove_notset(d: Dict) -> Dict:` | 无 | Return a new dict without notset values |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| NotSetType | 无 | __repr__, __bool__, __copy__, __deepcopy__, dict | 无 | 无 | A simple type representing an absent value, can be... |
| AllowNotsetModel | pydantic.BaseModel | dict | 无 | 无 | Add support for NOTSET |

---


### 模块: apiserver/paasng/paasng/utils/termcolors.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| RESET | [0m | `RESET = '\x1b[0m'` | module |
| OPT_MAPS | {'bold': '\x1b[1m', 'underscore': '\x1b[4m', 'blink': '\x1b[5m', 'reverse': '\x1b[7m', 'conceal': '\x1b[8m'} | `OPT_MAPS = {'bold': '\x1b[1m', 'underscore': '\x1b[4m', 'blink': '\x1b[5m', 'reverse': '\x1b[7m', 'conceal': '\x1b[8m'}` | module |
| ANSI_MAPS | 不适用 | `ANSI_MAPS = {color: str(idx) for (idx, color) in enumerate(['black', 'red', 'green', 'yellow', 'blue', 'magenta', 'cyan', 'white'])}` | module |
| XTERM_PALETTE | {'0': [0, 0, 0], '1': [187, 0, 0], '2': [0, 187, 0], '3': [187, 187, 0], '4': [0, 0, 187], '5': [187, 0, 187], '6': [0, 187, 187], '7': [255, 255, 255], '8': [85, 85, 85], '9': [255, 85, 85], '10': [0, 255, 0], '11': [255, 255, 85], '12': [85, 85, 255], '13': [255, 85, 255], '14': [85, 255, 255], '15': [255, 255, 255], '16': [0, 0, 0], '17': [0, 0, 95], '18': [0, 0, 135], '19': [0, 0, 175], '20': [0, 0, 215], '21': [0, 0, 255], '22': [0, 95, 0], '23': [0, 95, 95], '24': [0, 95, 135], '25': [0, 95, 175], '26': [0, 95, 215], '27': [0, 95, 255], '28': [0, 135, 0], '29': [0, 135, 95], '30': [0, 135, 135], '31': [0, 135, 175], '32': [0, 135, 215], '33': [0, 135, 255], '34': [0, 175, 0], '35': [0, 175, 95], '36': [0, 175, 135], '37': [0, 175, 175], '38': [0, 175, 215], '39': [0, 175, 255], '40': [0, 215, 0], '41': [0, 215, 95], '42': [0, 215, 135], '43': [0, 215, 175], '44': [0, 215, 215], '45': [0, 215, 255], '46': [0, 255, 0], '47': [0, 255, 95], '48': [0, 255, 135], '49': [0, 255, 175], '50': [0, 255, 215], '51': [0, 255, 255], '52': [95, 0, 0], '53': [95, 0, 95], '54': [95, 0, 135], '55': [95, 0, 175], '56': [95, 0, 215], '57': [95, 0, 255], '58': [95, 95, 0], '59': [95, 95, 95], '60': [95, 95, 135], '61': [95, 95, 175], '62': [95, 95, 215], '63': [95, 95, 255], '64': [95, 135, 0], '65': [95, 135, 95], '66': [95, 135, 135], '67': [95, 135, 175], '68': [95, 135, 215], '69': [95, 135, 255], '70': [95, 175, 0], '71': [95, 175, 95], '72': [95, 175, 135], '73': [95, 175, 175], '74': [95, 175, 215], '75': [95, 175, 255], '76': [95, 215, 0], '77': [95, 215, 95], '78': [95, 215, 135], '79': [95, 215, 175], '80': [95, 215, 215], '81': [95, 215, 255], '82': [95, 255, 0], '83': [95, 255, 95], '84': [95, 255, 135], '85': [95, 255, 175], '86': [95, 255, 215], '87': [95, 255, 255], '88': [135, 0, 0], '89': [135, 0, 95], '90': [135, 0, 135], '91': [135, 0, 175], '92': [135, 0, 215], '93': [135, 0, 255], '94': [135, 95, 0], '95': [135, 95, 95], '96': [135, 95, 135], '97': [135, 95, 175], '98': [135, 95, 215], '99': [135, 95, 255], '100': [135, 135, 0], '101': [135, 135, 95], '102': [135, 135, 135], '103': [135, 135, 175], '104': [135, 135, 215], '105': [135, 135, 255], '106': [135, 175, 0], '107': [135, 175, 95], '108': [135, 175, 135], '109': [135, 175, 175], '110': [135, 175, 215], '111': [135, 175, 255], '112': [135, 215, 0], '113': [135, 215, 95], '114': [135, 215, 135], '115': [135, 215, 175], '116': [135, 215, 215], '117': [135, 215, 255], '118': [135, 255, 0], '119': [135, 255, 95], '120': [135, 255, 135], '121': [135, 255, 175], '122': [135, 255, 215], '123': [135, 255, 255], '124': [175, 0, 0], '125': [175, 0, 95], '126': [175, 0, 135], '127': [175, 0, 175], '128': [175, 0, 215], '129': [175, 0, 255], '130': [175, 95, 0], '131': [175, 95, 95], '132': [175, 95, 135], '133': [175, 95, 175], '134': [175, 95, 215], '135': [175, 95, 255], '136': [175, 135, 0], '137': [175, 135, 95], '138': [175, 135, 135], '139': [175, 135, 175], '140': [175, 135, 215], '141': [175, 135, 255], '142': [175, 175, 0], '143': [175, 175, 95], '144': [175, 175, 135], '145': [175, 175, 175], '146': [175, 175, 215], '147': [175, 175, 255], '148': [175, 215, 0], '149': [175, 215, 95], '150': [175, 215, 135], '151': [175, 215, 175], '152': [175, 215, 215], '153': [175, 215, 255], '154': [175, 255, 0], '155': [175, 255, 95], '156': [175, 255, 135], '157': [175, 255, 175], '158': [175, 255, 215], '159': [175, 255, 255], '160': [215, 0, 0], '161': [215, 0, 95], '162': [215, 0, 135], '163': [215, 0, 175], '164': [215, 0, 215], '165': [215, 0, 255], '166': [215, 95, 0], '167': [215, 95, 95], '168': [215, 95, 135], '169': [215, 95, 175], '170': [215, 95, 215], '171': [215, 95, 255], '172': [215, 135, 0], '173': [215, 135, 95], '174': [215, 135, 135], '175': [215, 135, 175], '176': [215, 135, 215], '177': [215, 135, 255], '178': [215, 175, 0], '179': [215, 175, 95], '180': [215, 175, 135], '181': [215, 175, 175], '182': [215, 175, 215], '183': [215, 175, 255], '184': [215, 215, 0], '185': [215, 215, 95], '186': [215, 215, 135], '187': [215, 215, 175], '188': [215, 215, 215], '189': [215, 215, 255], '190': [215, 255, 0], '191': [215, 255, 95], '192': [215, 255, 135], '193': [215, 255, 175], '194': [215, 255, 215], '195': [215, 255, 255], '196': [255, 0, 0], '197': [255, 0, 95], '198': [255, 0, 135], '199': [255, 0, 175], '200': [255, 0, 215], '201': [255, 0, 255], '202': [255, 95, 0], '203': [255, 95, 95], '204': [255, 95, 135], '205': [255, 95, 175], '206': [255, 95, 215], '207': [255, 95, 255], '208': [255, 135, 0], '209': [255, 135, 95], '210': [255, 135, 135], '211': [255, 135, 175], '212': [255, 135, 215], '213': [255, 135, 255], '214': [255, 175, 0], '215': [255, 175, 95], '216': [255, 175, 135], '217': [255, 175, 175], '218': [255, 175, 215], '219': [255, 175, 255], '220': [255, 215, 0], '221': [255, 215, 95], '222': [255, 215, 135], '223': [255, 215, 175], '224': [255, 215, 215], '225': [255, 215, 255], '226': [255, 255, 0], '227': [255, 255, 95], '228': [255, 255, 135], '229': [255, 255, 175], '230': [255, 255, 215], '231': [255, 255, 255], '232': [8, 8, 8], '233': [18, 18, 18], '234': [28, 28, 28], '235': [38, 38, 38], '236': [48, 48, 48], '237': [58, 58, 58], '238': [68, 68, 68], '239': [78, 78, 78], '240': [88, 88, 88], '241': [98, 98, 98], '242': [108, 108, 108], '243': [118, 118, 118], '244': [128, 128, 128], '245': [138, 138, 138], '246': [148, 148, 148], '247': [158, 158, 158], '248': [168, 168, 168], '249': [178, 178, 178], '250': [188, 188, 188], '251': [198, 198, 198], '252': [208, 208, 208], '253': [218, 218, 218], '254': [228, 228, 228], '255': [238, 238, 238]} | `XTERM_PALETTE = {'0': [0, 0, 0], '1': [187, 0, 0], '2': [0, 187, 0], '3': [187, 187, 0], '4': [0, 0, 187], '5': [187, 0, 187], '6': [0, 187, 187], '7': [255, 255, 255], '8': [85, 85, 85], '9': [255, 85, 85], '10': [0, 255, 0], '11': [255, 255, 85], '12': [85, 85, 255], '13': [255, 85, 255], '14': [85, 255, 255], '15': [255, 255, 255], '16': [0, 0, 0], '17': [0, 0, 95], '18': [0, 0, 135], '19': [0, 0, 175], '20': [0, 0, 215], '21': [0, 0, 255], '22': [0, 95, 0], '23': [0, 95, 95], '24': [0, 95, 135], '25': [0, 95, 175], '26': [0, 95, 215], '27': [0, 95, 255], '28': [0, 135, 0], '29': [0, 135, 95], '30': [0, 135, 135], '31': [0, 135, 175], '32': [0, 135, 215], '33': [0, 135, 255], '34': [0, 175, 0], '35': [0, 175, 95], '36': [0, 175, 135], '37': [0, 175, 175], '38': [0, 175, 215], '39': [0, 175, 255], '40': [0, 215, 0], '41': [0, 215, 95], '42': [0, 215, 135], '43': [0, 215, 175], '44': [0, 215, 215], '45': [0, 215, 255], '46': [0, 255, 0], '47': [0, 255, 95], '48': [0, 255, 135], '49': [0, 255, 175], '50': [0, 255, 215], '51': [0, 255, 255], '52': [95, 0, 0], '53': [95, 0, 95], '54': [95, 0, 135], '55': [95, 0, 175], '56': [95, 0, 215], '57': [95, 0, 255], '58': [95, 95, 0], '59': [95, 95, 95], '60': [95, 95, 135], '61': [95, 95, 175], '62': [95, 95, 215], '63': [95, 95, 255], '64': [95, 135, 0], '65': [95, 135, 95], '66': [95, 135, 135], '67': [95, 135, 175], '68': [95, 135, 215], '69': [95, 135, 255], '70': [95, 175, 0], '71': [95, 175, 95], '72': [95, 175, 135], '73': [95, 175, 175], '74': [95, 175, 215], '75': [95, 175, 255], '76': [95, 215, 0], '77': [95, 215, 95], '78': [95, 215, 135], '79': [95, 215, 175], '80': [95, 215, 215], '81': [95, 215, 255], '82': [95, 255, 0], '83': [95, 255, 95], '84': [95, 255, 135], '85': [95, 255, 175], '86': [95, 255, 215], '87': [95, 255, 255], '88': [135, 0, 0], '89': [135, 0, 95], '90': [135, 0, 135], '91': [135, 0, 175], '92': [135, 0, 215], '93': [135, 0, 255], '94': [135, 95, 0], '95': [135, 95, 95], '96': [135, 95, 135], '97': [135, 95, 175], '98': [135, 95, 215], '99': [135, 95, 255], '100': [135, 135, 0], '101': [135, 135, 95], '102': [135, 135, 135], '103': [135, 135, 175], '104': [135, 135, 215], '105': [135, 135, 255], '106': [135, 175, 0], '107': [135, 175, 95], '108': [135, 175, 135], '109': [135, 175, 175], '110': [135, 175, 215], '111': [135, 175, 255], '112': [135, 215, 0], '113': [135, 215, 95], '114': [135, 215, 135], '115': [135, 215, 175], '116': [135, 215, 215], '117': [135, 215, 255], '118': [135, 255, 0], '119': [135, 255, 95], '120': [135, 255, 135], '121': [135, 255, 175], '122': [135, 255, 215], '123': [135, 255, 255], '124': [175, 0, 0], '125': [175, 0, 95], '126': [175, 0, 135], '127': [175, 0, 175], '128': [175, 0, 215], '129': [175, 0, 255], '130': [175, 95, 0], '131': [175, 95, 95], '132': [175, 95, 135], '133': [175, 95, 175], '134': [175, 95, 215], '135': [175, 95, 255], '136': [175, 135, 0], '137': [175, 135, 95], '138': [175, 135, 135], '139': [175, 135, 175], '140': [175, 135, 215], '141': [175, 135, 255], '142': [175, 175, 0], '143': [175, 175, 95], '144': [175, 175, 135], '145': [175, 175, 175], '146': [175, 175, 215], '147': [175, 175, 255], '148': [175, 215, 0], '149': [175, 215, 95], '150': [175, 215, 135], '151': [175, 215, 175], '152': [175, 215, 215], '153': [175, 215, 255], '154': [175, 255, 0], '155': [175, 255, 95], '156': [175, 255, 135], '157': [175, 255, 175], '158': [175, 255, 215], '159': [175, 255, 255], '160': [215, 0, 0], '161': [215, 0, 95], '162': [215, 0, 135], '163': [215, 0, 175], '164': [215, 0, 215], '165': [215, 0, 255], '166': [215, 95, 0], '167': [215, 95, 95], '168': [215, 95, 135], '169': [215, 95, 175], '170': [215, 95, 215], '171': [215, 95, 255], '172': [215, 135, 0], '173': [215, 135, 95], '174': [215, 135, 135], '175': [215, 135, 175], '176': [215, 135, 215], '177': [215, 135, 255], '178': [215, 175, 0], '179': [215, 175, 95], '180': [215, 175, 135], '181': [215, 175, 175], '182': [215, 175, 215], '183': [215, 175, 255], '184': [215, 215, 0], '185': [215, 215, 95], '186': [215, 215, 135], '187': [215, 215, 175], '188': [215, 215, 215], '189': [215, 215, 255], '190': [215, 255, 0], '191': [215, 255, 95], '192': [215, 255, 135], '193': [215, 255, 175], '194': [215, 255, 215], '195': [215, 255, 255], '196': [255, 0, 0], '197': [255, 0, 95], '198': [255, 0, 135], '199': [255, 0, 175], '200': [255, 0, 215], '201': [255, 0, 255], '202': [255, 95, 0], '203': [255, 95, 95], '204': [255, 95, 135], '205': [255, 95, 175], '206': [255, 95, 215], '207': [255, 95, 255], '208': [255, 135, 0], '209': [255, 135, 95], '210': [255, 135, 135], '211': [255, 135, 175], '212': [255, 135, 215], '213': [255, 135, 255], '214': [255, 175, 0], '215': [255, 175, 95], '216': [255, 175, 135], '217': [255, 175, 175], '218': [255, 175, 215], '219': [255, 175, 255], '220': [255, 215, 0], '221': [255, 215, 95], '222': [255, 215, 135], '223': [255, 215, 175], '224': [255, 215, 215], '225': [255, 215, 255], '226': [255, 255, 0], '227': [255, 255, 95], '228': [255, 255, 135], '229': [255, 255, 175], '230': [255, 255, 215], '231': [255, 255, 255], '232': [8, 8, 8], '233': [18, 18, 18], '234': [28, 28, 28], '235': [38, 38, 38], '236': [48, 48, 48], '237': [58, 58, 58], '238': [68, 68, 68], '239': [78, 78, 78], '240': [88, 88, 88], '241': [98, 98, 98], '242': [108, 108, 108], '243': [118, 118, 118], '244': [128, 128, 128], '245': [138, 138, 138], '246': [148, 148, 148], '247': [158, 158, 158], '248': [168, 168, 168], '249': [178, 178, 178], '250': [188, 188, 188], '251': [198, 198, 198], '252': [208, 208, 208], '253': [218, 218, 218], '254': [228, 228, 228], '255': [238, 238, 238]}` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| colorize | `def colorize(text: str = '', fg: Optional[str] = None, bg: Optional[str] = None, opts: tuple = ()):` | 无 | 
    Return your text, enclosed in ANSI graphics c... |
| make_style | `def make_style(fg: Optional[str] = None, bg: Optional[str] = None, opts: tuple = ()):` | 无 | 
    Return a function with default parameters for... |
| pick_color | `def pick_color(color: str = 'black', position: str = 'fg'):` | 无 | 不适用 |
| no_color | `def no_color(text):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/paasng/utils/text.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| random | SystemRandom | module |
| re | compile, sub | module |
| string | Template | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Collection | typing.Collection | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| UNICODE_ASCII_CHARACTER_SET | abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 | `UNICODE_ASCII_CHARACTER_SET = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'` | module |
| RE_TAG | 不适用 | `RE_TAG = re.compile('<.*?>')` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| generate_token | `def generate_token(length=30, chars=UNICODE_ASCII_CHARACTER_SET):` | 无 | Generates a non-guessable OAuth token

    OAuth (... |
| strip_html_tags | `def strip_html_tags(s: str, reserved_tags: Collection[str] = []) -> str:` | 无 | Remove all HTML tags in string except those matchi... |
| remove_suffix | `def remove_suffix(s: str, suffix: str) -> str:` | 无 | If given string endswith `suffix`, remove the suff... |
| remove_prefix | `def remove_prefix(s: str, prefix: str) -> str:` | 无 | If given string startswith `prefix`, remove the pr... |
| camel_to_snake | `def camel_to_snake(name: str) -> str:` | 无 | Turn CamelCase string input snake_case.

    >>> c... |
| calculate_percentage | `def calculate_percentage(x: float, y: float, decimal_places: int = 2) -> str:` | 无 | 
    计算 x 除以 y 的值，并将结果转换为百分比的字符串形式。

    如果 y 等于0，... |
| basic_str_format | `def basic_str_format(template: str, context: dict[str, str]) -> str:` | 无 | This function is similar to `str.format`, but only... |
| generate_random_string | `def generate_random_string(length=30, chars=_RANDOM_CHARACTER_SET):` | 无 | Generates a non-guessable random string. |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BraceOnlyTemplate | string.Template | 无 | delimiter, delim, id, pattern | 无 | A template class similar to `string.Template`, but... |

---


### 模块: apiserver/paasng/paasng/utils/validators.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64decode | module |
| re | compile | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| urlparse | urllib.parse.urlparse | 不适用 | module |
| settings | django.conf.settings | FORBIDDEN_REPO_PORTS | module |
| ValidationError | django.core.exceptions.ValidationError | 不适用 | module |
| RegexValidator | django.core.validators.RegexValidator | 不适用 | module |
| deconstructible | django.utils.deconstruct.deconstructible | 不适用 | module |
| force_str | django.utils.encoding.force_str | 不适用 | module |
| basestring | past.builtins.basestring | 不适用 | module |
| parse_image | moby_distribution.registry.utils.parse_image | 不适用 | module |
| Region | paasng.core.region.models.Region | 不适用 | module |
| RegionList | paasng.core.region.models.RegionList | 不适用 | module |
| filter_region_by_name | paasng.core.region.models.filter_region_by_name | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| RE_APP_CODE | 不适用 | `RE_APP_CODE = re.compile('^[a-z0-9-]{1,16}$')` | module |
| RE_APP_SEARCH | 不适用 | `RE_APP_SEARCH = re.compile('[䌀-龥\\w_\\-\\d]{1,20}')` | module |
| RE_CONFIG_VAR_KEY | 不适用 | `RE_CONFIG_VAR_KEY = re.compile('^[A-Z][A-Z0-9_]*$')` | module |
| PROC_TYPE_PATTERN | 不适用 | `PROC_TYPE_PATTERN = re.compile('^[a-z0-9]([-a-z0-9])*$')` | module |
| PROC_TYPE_MAX_LENGTH | 12 | `PROC_TYPE_MAX_LENGTH = 12` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| str2bool | `def str2bool(value):` | 无 | 不适用 |
| validate_procfile | `def validate_procfile(procfile: Dict[str, str]) -> Dict[str, str]:` | 无 | Validate proc type format
    :param procfile:
   ... |
| validate_image_repo | `def validate_image_repo(image_repo: str):` | 无 | Validate image repo port security.

    :param ima... |
| validate_repo_url | `def validate_repo_url(repo_url: str):` | 无 | Validate repo url format, protocol, and port secur... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DnsSafeNameValidator | 无 | __init__, __call__ | 无 | deconstructible | DNS name safe validator |
| ReservedWordValidator | 无 | __init__, __call__ | 无 | deconstructible | Reserved word validator |
| RegionListValidator | 无 | __call__, is_formatted_string | 无 | deconstructible | 不适用 |
| Base64Validator | 无 | __call__ | 无 | deconstructible | 不适用 |

---


### 模块: apiserver/paasng/paasng/utils/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| functools | wraps, partial | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| stringify_validation_error | blue_krill.web.drf_utils.stringify_validation_error | 不适用 | module |
| APIError | blue_krill.web.std_error.APIError | 不适用 | module |
| settings | django.conf.settings | LOGIN_FULL, LOGIN_SIMPLE | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| status | rest_framework.status | HTTP_401_UNAUTHORIZED, is_success, is_client_error, is_server_error | module |
| AuthenticationFailed | rest_framework.exceptions.AuthenticationFailed | 不适用 | module |
| NotAuthenticated | rest_framework.exceptions.NotAuthenticated | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| BaseContentNegotiation | rest_framework.negotiation.BaseContentNegotiation | 不适用 | module |
| BasePermission | rest_framework.permissions.BasePermission | 不适用 | module |
| BaseRenderer | rest_framework.renderers.BaseRenderer | 不适用 | module |
| JSONRenderer | rest_framework.renderers.JSONRenderer | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| exception_handler | rest_framework.views.exception_handler | 不适用 | module |
| set_rollback | rest_framework.views.set_rollback | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| ERROR_CODE_HEADER | bkapi-error-code | `ERROR_CODE_HEADER = 'bkapi-error-code'` | module |
| ERROR_CODE_NUM_HEADER | bkapi-error-code-num | `ERROR_CODE_NUM_HEADER = 'bkapi-error-code-num'` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| one_line_error | `def one_line_error(error: ValidationError):` | 无 | Extract one line error from ValidationError |
| make_unauthorized_json | `def make_unauthorized_json() -> Dict:` | 无 | Make a static json response for unauthorized reque... |
| custom_exception_handler | `def custom_exception_handler(exc, context):` | 无 | 不适用 |
| allow_resp_patch | `def allow_resp_patch(view_func):` | 无 | Use this decorator to make the response of a view ... |
| get_filepath | `def get_filepath(fp, parent_dir: Union[str, Path]) -> Path:` | 无 | Get uploaded file's local path

    :param parent_... |
| unwrap_partial | `def unwrap_partial(func):` | 无 | unwrap functools.partial for getting the real meth... |
| action_perms | `def action_perms(permission_classes: List[Type[BasePermission]], policy: str = 'replace'):` | 无 | A decorator that support action level permission_c... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| HookChain | 无 | __init__, __call__ | 无 | 无 | 为链式调用 hook 提供封装的工具类 |
| IgnoreClientContentNegotiation | rest_framework.negotiation.BaseContentNegotiation | select_parser, select_renderer | 无 | 无 | 不适用 |
| EventStreamRender | rest_framework.renderers.BaseRenderer | render | media_type, format, charset, render_style | 无 | 不适用 |
| BkStandardApiJSONRenderer | rest_framework.renderers.JSONRenderer | render, wrap_successful, wrap_error | format, _successful_code, _default_code, _default_error_message | 无 | Renderer which wraps original JSON response with a... |

---


### 模块: apiserver/paasng/paasng/utils/yaml.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| yaml | Dumper | module |





#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| IndentDumper | yaml.Dumper | increase_indent | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/paasng/wsgi.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | setdefault, environ | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Cling | dj_static.Cling | 不适用 | module |
| get_wsgi_application | django.core.wsgi.get_wsgi_application | 不适用 | module |
| multiprocess | prometheus_client.multiprocess | mark_process_dead | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| application | 不适用 | `application = Cling(get_wsgi_application())` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| child_exit | `def child_exit(server, worker):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/__init__.py







---


### 模块: apiserver/paasng/tests/api/__init__.py







---


### 模块: apiserver/paasng/tests/api/apigw/__init__.py







---


### 模块: apiserver/paasng/tests/api/apigw/test_ai_agent.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| string | ascii_lowercase | module |
| pytest | django_db, mark, fixture, usefixtures | module |
| yaml | safe_dump | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| mock | unittest.mock | patch | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | AI_AGENT | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |
| gen_tar | tests.paasng.platform.sourcectl.packages.utils.gen_tar | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| bk_app_code | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_app_name | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAIAgentViewSet | 无 | contents, tar_path, test_create_ai_agent_app, test_upload_with_app_desc | 无 | 无 | AI Agent 插件创建、上传源码包接口测试 |

---


### 模块: apiserver/paasng/tests/api/apigw/test_lesscode.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| string | ascii_lowercase | module |
| pytest | django_db, mark, fixture, usefixtures, parametrize | module |
| yaml | safe_dump | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| mock | unittest.mock | patch | module |
| settings | django.conf.settings | DUMMY_TEMPLATE_NAME, DEFAULT_REGION_NAME | module |
| override_settings | django.test.utils.override_settings | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, CLOUD_NATIVE, DEFAULT | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | BK_LESS_CODE | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |
| gen_tar | tests.paasng.platform.sourcectl.packages.utils.gen_tar | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| bk_app_code | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_app_name | `@pytest.fixture():` | pytest.fixture | 不适用 |
| lesscode_public_params | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestApiInAPIGW | 无 | test_create_lesscode_api | 无 | 无 | Test APIs registered on APIGW, the input and outpu... |
| TestModuleSourcePackageViewSet | 无 | contents, tar_path, test_upload_with_app_desc | 无 | 无 | 测试源码包上传的接口 |

---


### 模块: apiserver/paasng/tests/api/apigw/test_log.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| Hit | elasticsearch_dsl.response.Hit | 不适用 | module |
| Response | elasticsearch_dsl.response.Response | 不适用 | module |
| Search | elasticsearch_dsl.search.Search | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestLegacyStdoutLogAPIView | 无 | test_dsl, test_complex | 无 | 无 | 不适用 |
| TestLegacySysStructuredLogAPIView | 无 | test_complex | 无 | 无 | 不适用 |
| TestSysBkPluginLogsViewset | 无 | test_dsl, test_list | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/apigw/test_modules.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, usefixtures, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | DUMMY_TEMPLATE_NAME | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, CLOUD_NATIVE | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | BK_LESS_CODE | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| module_name | `@pytest.fixture():` | pytest.fixture | 不适用 |
| create_module_params | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestApiInAPIGW | 无 | test_create_module | 无 | 无 | Test APIs registered on APIGW, the input and outpu... |

---


### 模块: apiserver/paasng/tests/api/apigw/test_system_apis.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| arrow | get | module |
| pytest | django_db, mark, parametrize, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| attrgetter | operator.attrgetter | 不适用 | module |
| mock | unittest.mock | patch | module |
| settings | django.conf.settings | APPLICATION_DEFAULT_LOGO | module |
| override | django.utils.translation.override | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | get_or_create, objects | module |
| Category | paasng.accessories.servicehub.constants.Category | DATA_STORAGE | module |
| ServiceObjNotFound | paasng.accessories.servicehub.manager.ServiceObjNotFound | 不适用 | module |
| ServiceEngineAppAttachment | paasng.accessories.servicehub.models.ServiceEngineAppAttachment | 不适用 | module |
| Plan | paasng.accessories.services.models.Plan | get, objects | module |
| Service | paasng.accessories.services.models.Service | 不适用 | module |
| ServiceCategory | paasng.accessories.services.models.ServiceCategory | 不适用 | module |
| query_default_apps_by_ids | paasng.plat_admin.system.applications.query_default_apps_by_ids | 不适用 | module |
| query_legacy_apps_by_ids | paasng.plat_admin.system.applications.query_legacy_apps_by_ids | 不适用 | module |
| query_uni_apps_by_ids | paasng.plat_admin.system.applications.query_uni_apps_by_ids | 不适用 | module |
| query_uni_apps_by_keyword | paasng.plat_admin.system.applications.query_uni_apps_by_keyword | 不适用 | module |
| str_username | paasng.plat_admin.system.applications.str_username | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, DEFAULT | module |
| get_contact_info | paasng.platform.applications.operators.get_contact_info | 不适用 | module |
| OperationTypes | paasng.platform.engine.constants.OperationTypes | value, ONLINE | module |
| ModuleEnvironmentOperations | paasng.platform.engine.models.operations.ModuleEnvironmentOperations | create, objects, filter | module |
| create_fake_deployment | tests.paasng.platform.engine.setup_utils.create_fake_deployment | 不适用 | module |
| create_user | tests.utils.auth.create_user | 不适用 | module |
| create_legacy_application | tests.utils.helpers.create_legacy_application | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestQueryDefaultApps | 无 | test_normal, test_include_inactive_apps | 无 | 无 | Test cases for querying apps in default platform |
| TestQueryLegacyApps | 无 | test_normal | 无 | 无 | Test cases for querying apps in legacy platform |
| TestQueryUniApps | 无 | test_mixed_platforms, test_query_by_keyword | 无 | 无 | Test cases for querying apps in both platforms |
| TestGetContactInfo | 无 | test_normal, test_recent_deployment_operators | 无 | 无 | Test cases for getting app's contact info |
| TestLessCodeSystemAPIViewSet | 无 | mixed_service_mgr, test_query_db_credentials | 无 | 无 | 不适用 |
| TestSysAddonsAPIViewSet | 无 | mixed_service_mgr, service_name, service, test_query_credentials, test_query_credentials_404, test_provision_service, test_retrieve_specs, test_retrieve_specs_but_unprovision | 无 | 无 | 不适用 |
| TestClusterNamespaceInfoViewSet | 无 | _create_cluster_obj, test_list_by_code | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/bkapp_model/__init__.py







---


### 模块: apiserver/paasng/tests/api/bkapp_model/test_bkapp_model.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| AutoscalingConfig | paasng.platform.bkapp_model.entities.AutoscalingConfig | 不适用 | module |
| Metric | paasng.platform.bkapp_model.entities.Metric | 不适用 | module |
| ProcService | paasng.platform.bkapp_model.entities.ProcService | 不适用 | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | filter, objects, get | module |
| ObservabilityConfig | paasng.platform.bkapp_model.models.ObservabilityConfig | get, objects | module |
| ProcessSpecEnvOverlay | paasng.platform.bkapp_model.models.ProcessSpecEnvOverlay | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | CUSTOM_IMAGE | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestModuleProcessSpecViewSet | 无 | web, celery_worker, test_retrieve, test_save | 无 | 无 | 不适用 |
| TestModuleProcessSpecWithProcServicesViewSet | 无 | web, test_validate, test_validate_duplicated_exposed_type, test_save, test_retrieve | 无 | 无 | 不适用 |
| TestModuleProcessSpecWithMonitoringViewSet | 无 | _create_web_process_and_monitoring, test_validate, test_save, test_retrieve | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/bkapp_model/test_manifest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| random | choice | module |
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_random_string | django.utils.crypto.get_random_string | 不适用 | module |
| AppModelResource | paas_wl.bk_app.cnative.specs.models.AppModelResource | create_from_resource, objects | module |
| create_app_resource | paas_wl.bk_app.cnative.specs.models.create_app_resource | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| base_manifest | `@pytest.fixture():` | pytest.fixture | A very basic manifest that can pass the validation... |
| random_resource_name | `@pytest.fixture():` | pytest.fixture | A random name used as kubernetes resource name to ... |
| init_model_resource | `@pytest.fixture():` | pytest.fixture | Initialize the app model resource |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestManifestViewSet | 无 | test_import | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/bkapp_model/test_network_config.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| reverse | django.urls.reverse | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| create_app | tests.utils.helpers.create_app | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| bk_app2 | `@pytest.fixture(autouse=True):` | pytest.fixture | Create another application for testing |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestSvcDiscConfigViewSet | 无 | test_url, with_default_disc, test_get_missing, test_get_normal, test_upsert_normal, test_upsert_module_absent, test_upsert_invalid_module, test_upsert_duplicated_entries | 无 | 无 | 不适用 |
| TestDomainResolutionViewSet | 无 | test_url, with_default_res, test_get_missing, test_get, test_upsert, test_upsert_no_data | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| mock_initialize_vcs_with_template | 不适用 | `mock_initialize_vcs_with_template = pytest.fixture(_mock_initialize_vcs_with_template)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| FakeMiddleware | 无 | __init__, __call__ | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/extensions/__init__.py







---


### 模块: apiserver/paasng/tests/api/extensions/conftest.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock_apigw_api_client | tests.paasng.bk_plugins.bk_plugins.conftest.mock_apigw_api_client | 不适用 | module |





---


### 模块: apiserver/paasng/tests/api/extensions/test_bkplugins.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| safe_sync_apigw | paasng.bk_plugins.bk_plugins.apigw.safe_sync_apigw | 不适用 | module |
| BkPluginDistributor | paasng.bk_plugins.bk_plugins.models.BkPluginDistributor | 不适用 | module |
| ConfigVar | paasng.platform.engine.models.ConfigVar | filter, objects, get | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDistributors | 无 | test_list | 无 | 无 | 不适用 |
| TestDistributorRels | 无 | _do_preparations, test_update, test_integrated | 无 | 无 | Test APIS of managing distributors of a single bk_... |
| TestPluginConfigurationViewSet | 无 | test_sync | 无 | 无 | Test APIS of syncing configurations |

---


### 模块: apiserver/paasng/tests/api/test_app_secret.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| datetime | datetime.datetime | strptime | module |
| mock | unittest.mock | patch | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| reverse | rest_framework.reverse.reverse | 不适用 | module |
| BkAppSecret | paasng.infras.oauth2.api.BkAppSecret | 不适用 | module |
| BkAppSecretInEnvVar | paasng.infras.oauth2.models.BkAppSecretInEnvVar | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | ENGINELESS_APP | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| one_enabled_app_secret_list | `@pytest.fixture():` | pytest.fixture | 不适用 |
| two_enabled_app_secret_list | `@pytest.fixture():` | pytest.fixture | 不适用 |
| change_default_app_secret | `@pytest.fixture():` | pytest.fixture | 不适用 |
| two_disabled_app_secret_list | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppSecret | 无 | test_get_secret_perm, test_create_secret, test_toggle_secret_whit_no_db_default_secret, test_toggle_secret_whit_db_default_secret, test_delete_secret, test_rotate_secret, test_get_default_secret_perm, test_get_deployed_secret_perm | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/test_applications.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| pytest | django_db, mark, fixture, parametrize, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| datetime | datetime.datetime | fromisoformat | module |
| timedelta | datetime.timedelta | 不适用 | module |
| mock | unittest.mock | object, patch, MagicMock | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME, DUMMY_TEMPLATE_NAME | module |
| override_settings | django.test.utils.override_settings | 不适用 | module |
| reverse | django.urls.reverse | 不适用 | module |
| timezone | django.utils.timezone | now, get_current_timezone | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | ENABLE_BK_LOG_COLLECTOR | module |
| RegionClusterService | paas_wl.infras.cluster.shim.RegionClusterService | 不适用 | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | get_profile, objects | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | APP | module |
| ResultCode | paasng.misc.audit.constants.ResultCode | FAILURE | module |
| AppOperationRecord | paasng.misc.audit.models.AppOperationRecord | filter, objects | module |
| AppFeatureFlag | paasng.platform.applications.constants.AppFeatureFlag | ENABLE_BK_LOG_COLLECTOR | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | ADMINISTRATOR, DEVELOPER, OPERATOR | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | CLOUD_NATIVE | module |
| post_create_application | paasng.platform.applications.handlers.post_create_application | connect, disconnect | module |
| turn_on_bk_log_feature_for_app | paasng.platform.applications.handlers.turn_on_bk_log_feature_for_app | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | get, objects | module |
| get_desc_handler | paasng.platform.declarative.handlers.get_desc_handler | 不适用 | module |
| BatchTaskStatus | paasng.platform.evaluation.constants.BatchTaskStatus | RUNNING | module |
| AppOperationReport | paasng.platform.evaluation.models.AppOperationReport | create, objects | module |
| AppOperationReportCollectionTask | paasng.platform.evaluation.models.AppOperationReportCollectionTask | create, objects | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | value, AUTHORIZED_VCS, BK_LESS_CODE, IMAGE_REGISTRY, CNATIVE_IMAGE | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| Module | paasng.platform.modules.models.module.Module | get, objects, create | module |
| IntegratedSvnAppRepoConnector | paasng.platform.sourcectl.connector.IntegratedSvnAppRepoConnector | 不适用 | module |
| SourceSyncResult | paasng.platform.sourcectl.connector.SourceSyncResult | 不适用 | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |
| error_codes | paasng.utils.error_codes.error_codes | CANNOT_DELETE_APP | module |
| create_user | tests.utils.auth.create_user | 不适用 | module |
| configure_regions | tests.utils.helpers.configure_regions | 不适用 | module |
| create_app | tests.utils.helpers.create_app | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |
| initialize_module | tests.utils.helpers.initialize_module | 不适用 | module |
| add_role_members | paasng.infras.iam.helpers.add_role_members | 不适用 | module |
| fetch_application_members | paasng.infras.iam.helpers.fetch_application_members | 不适用 | module |
| remove_user_all_roles | paasng.infras.iam.helpers.remove_user_all_roles | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| another_user | `@pytest.fixture():` | pytest.fixture | Generate a random user |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestMembershipViewset | 无 | test_list_succeed, test_list_with_another_user, test_create, test_delete, test_level, test_level_last_admin | 无 | 无 | 不适用 |
| TestApplicationCreateWithEngine | 无 | test_create_different_types, test_create_non_default_origin | 无 | 无 | Test application creation APIs with engine enabled |
| TestApplicationCreateWithoutEngine | 无 | test_create_non_engine, test_region_permission_control | 无 | 无 | Test application creation APIs with engine disable... |
| TestApplicationUpdate | 无 | test_normal, test_duplicated, test_desc_app | 无 | 无 | Test update application API |
| TestApplicationDeletion | 无 | test_normal, test_rollback | 无 | 无 | Test delete application API |
| TestCreateBkPlugin | 无 | test_normal, test_forbidden_via_config, _send_creation_request | 无 | 无 | Test 'bk_plugin' type application's creation |
| TestCreateCloudNativeApp | 无 | _setup, test_create_with_image, test_create_with_buildpack, test_create_with_dockerfile, test_create_with_bk_log_feature | 无 | 无 | Test 'cloud_native' type application's creation |
| TestListEvaluation | 无 | latest_collection_task, app_operation_report1, app_operation_report2, inactive_app, test_list_evaluation, test_issue_count | 无 | 无 | 不适用 |
| TestDeploymentModuleOrder | 无 | test_module_order, test_module_order_missing_module, test_module_order_extra_module | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/test_build.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ArtifactType | paas_wl.bk_app.applications.constants.ArtifactType | IMAGE | module |
| BuildStatus | paas_wl.utils.constants.BuildStatus | SUCCESSFUL | module |
| create_build | tests.paas_wl.utils.build.create_build | 不适用 | module |
| create_build_proc | tests.paas_wl.utils.build.create_build_proc | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.usefixtures('_with_wl_apps')]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestImageArtifactViewSet | 无 | test_list, test_list_duplicated, test_retrieve_image_detail | 无 | 无 | 不适用 |
| TestBuildProcessViewSet | 无 | test_list_pending, test_list_successful | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/test_build_config.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | DOCKERFILE, CUSTOM_IMAGE, BUILDPACK | module |
| ModuleRuntimeBinder | paasng.platform.modules.helpers.ModuleRuntimeBinder | 不适用 | module |
| ModuleRuntimeManager | paasng.platform.modules.helpers.ModuleRuntimeManager | 不适用 | module |
| AppBuildPack | paasng.platform.modules.models.AppBuildPack | 不适用 | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | 不适用 | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| ImageTagOptions | paasng.platform.modules.models.build_cfg.ImageTagOptions | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestModuleBuildConfigViewSet | 无 | _setup_settings, bp_stack_name, buildpack_x, buildpack_y, buildpack_z, slugbuilder, slugrunner, test_retrieve_legacy_bp, test_retrieve_bp, test_retrieve_docker, test_retrieve_custom_image, test_modify_bp, test_modify_dockerbuild, test_modify_dockerbuild_with_emtpy_build_args, test_modify_custom_image, test_modify_wrong_args | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/test_cnative.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| reverse | django.urls.reverse | 不适用 | module |
| BKPAAS_ADDONS_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.BKPAAS_ADDONS_ANNO_KEY | 不适用 | module |
| ServiceObj | paasng.accessories.servicehub.services.ServiceObj | 不适用 | module |
| mock | tests.utils.mock | patch | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCNative | 无 | _mock_dependencies, test_retrieve | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/test_cnative_migration.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch, MagicMock | module |
| get_random_string | django.utils.crypto.get_random_string | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| ResourceField | kubernetes.dynamic.ResourceField | 不适用 | module |
| update_metadata | paas_wl.bk_app.applications.managers.app_metadata.update_metadata | 不适用 | module |
| ProcessesInfo | paas_wl.bk_app.processes.controllers.ProcessesInfo | 不适用 | module |
| Status | paas_wl.bk_app.processes.entities.Status | 不适用 | module |
| Instance | paas_wl.bk_app.processes.kres_entities.Instance | 不适用 | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | 不适用 | module |
| RCStateAppBinding | paas_wl.workloads.networking.egress.models.RCStateAppBinding | create, objects | module |
| RegionClusterState | paas_wl.workloads.networking.egress.models.RegionClusterState | create, objects | module |
| WlAppBackupManager | paasng.platform.mgrlegacy.cnative_migrations.wl_app.WlAppBackupManager | 不适用 | module |
| CNativeMigrationStatus | paasng.platform.mgrlegacy.constants.CNativeMigrationStatus | value, MIGRATION_SUCCEEDED, MIGRATION_FAILED, DEFAULT | module |
| MigrationResult | paasng.platform.mgrlegacy.entities.MigrationResult | 不适用 | module |
| ProcessDetails | paasng.platform.mgrlegacy.entities.ProcessDetails | 不适用 | module |
| CNativeMigrationProcess | paasng.platform.mgrlegacy.models.CNativeMigrationProcess | filter, objects, create_migration_process, create | module |
| CLUSTER_NAME_FOR_TESTING | tests.conftest.CLUSTER_NAME_FOR_TESTING | 不适用 | module |
| make_process | tests.paas_wl.bk_app.processes.test_controllers.make_process | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestMigrateCNativeMigrationViewSet | 无 | test_migrate, test_migrate_when_progress_is_active | 无 | 无 | 不适用 |
| TestRollbackCNativeMigrationViewSet | 无 | test_rollback, test_rollback_when_last_migration_failed, test_rollback_when_never_migrated | 无 | 无 | 不适用 |
| TestQueryProcessCNativeMigrationViewSet | 无 | test_get_process_by_id, test_get_process_by_id_404, test_get_latest_process, list_processes | 无 | 无 | 不适用 |
| TestConfirmCNativeMigrationViewSet | 无 | test_confirm, test_confirm_failed | 无 | 无 | 不适用 |
| TestDefaultAppProcessViewSet | 无 | wl_app, _mock_get_wl_app, processes_info, test_list, test_update | 无 | 无 | 不适用 |
| TestDefaultAppEntranceViewSet | 无 | _save_entrances, test_list_all_entrances | 无 | 无 | 不适用 |
| TestChecklistInfoViewSet | 无 | _set_default_cluster, _set_rcs_binding, test_get | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/test_configvar_by_key.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ApplicationEnvironment | paasng.platform.applications.models.ApplicationEnvironment | get, objects | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | value, GLOBAL, STAG, PROD | module |
| ConfigVar | paasng.platform.engine.models.ConfigVar | create, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |
| global_env | 不适用 | `global_env = ConfigVarEnvName.GLOBAL.value` | module |
| stag_env | 不适用 | `stag_env = ConfigVarEnvName.STAG.value` | module |
| prod_env | 不适用 | `prod_env = ConfigVarEnvName.PROD.value` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_configvar_by_key | `@pytest.mark.parametrize(('init_env', 'init_value', 'update_env', 'update_value', 'expected_envs', 'expected_values'), [(None, None, stag_env, 'v1', [stag_env], ['v1']), (stag_env, 'stag_v', prod_env, 'prod_v', [stag_env, prod_env], ['stag_v', 'prod_v']), (prod_env, 'old_prod', prod_env, 'new_prod', [prod_env], ['new_prod']), (global_env, 'global_v', prod_env, 'prod_v', [global_env, prod_env], ['global_v', 'prod_v'])]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/api/test_configvar_preset.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | value, GLOBAL, STAG, PROD | module |
| PresetEnvVariable | paasng.platform.engine.models.preset_envvars.PresetEnvVariable | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get_preset_config_var | `@pytest.mark.parametrize('environment_name', [ConfigVarEnvName.GLOBAL.value, ConfigVarEnvName.STAG.value, ConfigVarEnvName.PROD.value]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/api/test_dashboard.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| reverse | django.urls.reverse | 不适用 | module |
| BKMonitorSpace | paasng.infras.bkmonitorv3.models.BKMonitorSpace | create, objects | module |
| AppDashboard | paasng.misc.monitoring.monitor.models.AppDashboard | create, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestGetDashboardInfoViewSet | 无 | bk_monitor_space, init_app_dashboards, test_get_builtin_dashboards | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/test_dev_sandbox.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | object, patch | module |
| DevSandboxController | paas_wl.bk_app.dev_sandbox.controller.DevSandboxController | 不适用 | module |
| DevSandboxDetail | paas_wl.bk_app.dev_sandbox.entities.DevSandboxDetail | 不适用 | module |
| HealthPhase | paas_wl.bk_app.dev_sandbox.entities.HealthPhase | HEALTHY | module |
| DevSandboxAlreadyExists | paas_wl.bk_app.dev_sandbox.exceptions.DevSandboxAlreadyExists | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDevSandboxViewSet | 无 | test_deploy, test_deploy_when_already_exists, test_delete, test_get_container_detail | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/test_engine.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| pytest | django_db, mark, parametrize, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| reverse | django.urls.reverse | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | NOBODY | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | count, objects | module |
| DeploymentCoordinator | paasng.platform.engine.workflow.DeploymentCoordinator | 不适用 | module |
| EnvRoleOperation | paasng.platform.environments.constants.EnvRoleOperation | value, DEPLOY | module |
| EnvRoleProtection | paasng.platform.environments.models.EnvRoleProtection | 不适用 | module |
| VersionType | paasng.platform.sourcectl.constants.VersionType | value, BRANCH, IMAGE | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestConfigVarAPIs | 无 | test_normal_create, test_normal_edit, test_normal_delete, test_normal_var_copy, create_var_fixtures, test_list_order_by, test_list_filter_environment_name | 无 | 无 | 不适用 |
| TestDeploymentViewSet | 无 | test_deploy_not_allow, test_deploy_no_revision, test_deploy_with_image_type, test_deploy, test_deploy_conflict, test_deploy_exception | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/test_evaluation.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| timedelta | datetime.timedelta | 不适用 | module |
| timezone | django.utils.timezone | now | module |
| status | rest_framework.status | HTTP_201_CREATED | module |
| IdleAppNotificationMuteRule | paasng.platform.evaluation.models.IdleAppNotificationMuteRule | filter, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestIdleAppNotificationMuteRuleViewSet | 无 | test_create | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/test_log.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| override_settings | django.test.utils.override_settings | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| Hit | elasticsearch_dsl.response.Hit | 不适用 | module |
| CustomCollectorConfig | paasng.accessories.log.models.CustomCollectorConfig | get, objects | module |
| build_custom_collector_config_name | paasng.accessories.log.shim.setup_bklog.build_custom_collector_config_name | 不适用 | module |
| BKMonitorSpace | paasng.infras.bkmonitorv3.models.BKMonitorSpace | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestModuleStructuredLogAPIView | 无 | test_dsl, test_complex | 无 | 无 | 不适用 |
| TestCustomCollectorConfigViewSet | 无 | cfg_maker, builtin_json_cfg, builtin_stdout_cfg, bkmonitor_space, test_list, apigw_client, test_list_metadata, test_insert_success, test_insert_failed, test_update_success | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/test_market.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |
| logging | getLogger | module |
| uuid | uuid4 | module |
| pytest | django_db, mark, fixture, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | 不适用 | module |
| reverse | rest_framework.reverse.reverse | 不适用 | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | create, objects | module |
| OpenMode | paasng.accessories.publish.market.constant.OpenMode | value, NEW_TAB | module |
| ProductSourceUrlType | paasng.accessories.publish.market.constant.ProductSourceUrlType | ENGINE_PROD_ENV, CUSTOM_DOMAIN, THIRD_PARTY | module |
| DisplayOptions | paasng.accessories.publish.market.models.DisplayOptions | get, objects | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | get_or_create_by_app, objects | module |
| Product | paasng.accessories.publish.market.models.Product | get, objects, create_default_product | module |
| Tag | paasng.accessories.publish.market.models.Tag | create, objects | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | ENGINELESS_APP | module |
| create_app | tests.utils.helpers.create_app | 不适用 | module |
| register_app_core_data | paasng.accessories.publish.sync_market.handlers.register_app_core_data | 不适用 | module |
| AppManger | paasng.accessories.publish.sync_market.managers.AppManger | 不适用 | module |
| console_db | paasng.core.core.storages.sqlalchemy.console_db | get_scoped_session | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| existed_app | `@pytest.fixture():` | pytest.fixture | Create a existed app to test conflicted situations |
| tag | `@pytest.fixture():` | pytest.fixture | A tag fixture for testing |
| creation_params | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCreateMarketApp | 无 | test_name_conflicted_with_existed_app, test_duplicated_creation, test_normal | 无 | 无 | 不适用 |
| TestGetAndUpdateProduct | 无 | _existed_product, test_get_market_app, test_update_market_app | 无 | 无 | 不适用 |
| TestSetEntrance | 无 | test_set_builtin_entrance, test_set_builtin_custom, test_set_failed, test_set_third_party_url | 无 | pytest.mark.django_db, pytest.mark.usefixtures | 不适用 |

---


### 模块: apiserver/paasng/tests/api/test_market_config.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, usefixtures, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PropertyMock | unittest.mock.PropertyMock | 不适用 | module |
| patch | unittest.mock.patch | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| Product | paasng.accessories.publish.market.models.Product | 不适用 | module |
| AppPublishPreparer | paasng.accessories.publish.market.protections.AppPublishPreparer | 不适用 | module |
| publish_to_market_by_deployment | paasng.accessories.publish.market.status.publish_to_market_by_deployment | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| Deployment | paasng.platform.engine.models.Deployment | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | value, AUTHORIZED_VCS | module |
| get_sourcectl_names | paasng.platform.sourcectl.source_types.get_sourcectl_names | 不适用 | module |
| mark_skip_if_console_not_configured | tests.conftest.mark_skip_if_console_not_configured | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [mark_skip_if_console_not_configured(), pytest.mark.django_db(databases=['default', 'workloads'])]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_create_then_release | `@pytest.mark.usefixtures('_init_tmpls'):` | pytest.mark.usefixtures, pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/api/test_modules.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| pytest | django_db, mark, usefixtures, parametrize, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | object, patch, MagicMock | module |
| settings | django.conf.settings | DUMMY_TEMPLATE_NAME | module |
| override_settings | django.test.utils.override_settings | 不适用 | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | create, objects | module |
| ProductSourceUrlType | paasng.accessories.publish.market.constant.ProductSourceUrlType | CUSTOM_DOMAIN | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | get_or_create_by_app, objects | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | DELETE | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | MODULE | module |
| ResultCode | paasng.misc.audit.constants.ResultCode | FAILURE | module |
| AppOperationRecord | paasng.misc.audit.models.AppOperationRecord | filter, objects | module |
| ModuleDeployHook | paasng.platform.bkapp_model.models.ModuleDeployHook | get, objects | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | get, objects, update_or_create, filter | module |
| DeployHookType | paasng.platform.modules.constants.DeployHookType | PRE_RELEASE_HOOK | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | value, AUTHORIZED_VCS, IMAGE_REGISTRY, BK_LESS_CODE, CNATIVE_IMAGE | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| Module | paasng.platform.modules.models.module.Module | get, objects, create | module |
| IntegratedSvnAppRepoConnector | paasng.platform.sourcectl.connector.IntegratedSvnAppRepoConnector | 不适用 | module |
| SourceSyncResult | paasng.platform.sourcectl.connector.SourceSyncResult | 不适用 | module |
| CLUSTER_NAME_FOR_TESTING | tests.utils.cluster.CLUSTER_NAME_FOR_TESTING | 不适用 | module |
| create_pending_wl_apps | tests.utils.helpers.create_pending_wl_apps | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |
| initialize_module | tests.utils.helpers.initialize_module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestModuleCreation | 无 | test_create_different_engine_params, test_create_nondefault_origin | 无 | 无 | Test module creation APIs |
| TestCreateCloudNativeModule | 无 | _setup, test_create_with_image, test_create_with_buildpack, test_create_with_dockerfile | 无 | 无 | 不适用 |
| TestModuleDeployConfigViewSet | 无 | the_hook, the_procfile, test_retrieve, test_upsert_hook, test_disable_hook, test_update_procfile | 无 | 无 | 不适用 |
| TestModuleDeletion | 无 | _mock_validate_custom_domain, test_delete_main_module, test_delete_module, test_delete_rollback | 无 | 无 | Test delete module API |
| TestDefaultModuleSwitch | 无 | init_another_module, test_source_module, test_with_custom_domain | 无 | 无 | Test set as default API |

---


### 模块: apiserver/paasng/tests/api/test_monitor.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| random | randint | module |
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| datetime | datetime.datetime | now | module |
| timedelta | datetime.timedelta | 不适用 | module |
| mock | unittest.mock | patch | module |
| SpaceType | paasng.infras.bkmonitorv3.constants.SpaceType | BKCC | module |
| BKMonitorSpace | paasng.infras.bkmonitorv3.models.BKMonitorSpace | create, objects | module |
| StubBKMonitorClient | tests.utils.mocks.bkmonitor.StubBKMonitorClient | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| bk_monitor_space | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestListAlertsView | 无 | test_list_alerts, test_list_alerts_by_user | 无 | mock.patch | 不适用 |
| TestAlarmStrategiesView | 无 | test_list_alarm_strategies | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/test_scene_app.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| string | ascii_lowercase | module |
| pytest | django_db, mark, fixture, parametrize, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| reverse | django.urls.reverse | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | AUTHORIZED_VCS, IMAGE_REGISTRY, SCENE, value | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | value, SCENE | module |
| mock | tests.utils.mock | patch | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |
| create_scene_tmpls | tests.utils.helpers.create_scene_tmpls | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestSceneApp | 无 | _init_scene_tmpls, test_list, _mock_create_scene_app, test_create | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/test_servicehub.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | datetime | module |
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | MagicMock, patch | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| RemoteServiceEngineAppAttachment | paasng.accessories.servicehub.models.RemoteServiceEngineAppAttachment | 不适用 | module |
| ServiceInstanceObj | paasng.accessories.servicehub.services.ServiceInstanceObj | 不适用 | module |
| Service | paasng.accessories.services.models.Service | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestServiceEngineAppAttachmentViewSet | 无 | mock_get_attachment_by_engine_app, create_mock_rel, test_list, test_update, test_config_vars | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/test_smart_app.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| shutil | copytree | module |
| tarfile | open | module |
| pytest | django_db, mark, fixture | module |
| yaml | safe_load, safe_dump | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| mock | unittest.mock | patch | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| Tag | paasng.accessories.publish.market.models.Tag | create, objects | module |
| compress_directory | paasng.platform.sourcectl.utils.compress_directory | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |
| SMART_APP_PATH | 不适用 | `SMART_APP_PATH = Path(__file__).resolve().parent / 'assets' / 'smart_app_v2'` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_smart_tarball | `def make_smart_tarball(tmp_path: Path, desc_updater: Callable) -> Path:` | 无 | Make a S-Mart app tarbar file from tempate(located... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCreateSMartApp | 无 | test_upload_and_create | 无 | 无 | Test creating S-Mart application |

---


### 模块: apiserver/paasng/tests/api/test_sourcectl.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | object, patch | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| override_settings | django.test.utils.override_settings | 不适用 | module |
| reverse | django.urls.reverse | 不适用 | module |
| SvnAccount | paasng.platform.sourcectl.models.SvnAccount | update_or_create, objects | module |
| BaseComponentAPIPlugin | paasng.utils.notification_plugins.BaseComponentAPIPlugin | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| mocked_call_api | `@pytest.fixture():` | pytest.fixture | 不适用 |
| svn_account | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestSvnAPI | 无 | test_create_account, test_reset_account_error, test_reset_account_skip_verification_code | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/test_templates.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, usefixtures, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | DEFAULT_REGION_NAME, BASE_DIR | module |
| reverse | django.urls.reverse | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| AppBuildPack | paasng.platform.modules.models.AppBuildPack | 不适用 | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | 不适用 | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | 不适用 | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | NORMAL, value | module |
| Template | paasng.platform.templates.models.Template | get_or_create, objects | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| image_name | `@pytest.fixture():` | pytest.fixture | 不适用 |
| py_buildpack | `@pytest.fixture():` | pytest.fixture | 不适用 |
| nodejs_buildpack | `@pytest.fixture():` | pytest.fixture | 不适用 |
| extra_buildpack | `@pytest.fixture():` | pytest.fixture | 不适用 |
| slugbuilder | `@pytest.fixture():` | pytest.fixture | 不适用 |
| slugrunner | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestRegionTemplateViewSet | 无 | test_list, test_retrieve | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/api/test_tools.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | CONTAINER_PORT, DEFAULT_CHARSET | module |
| reverse | django.urls.reverse | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppDescTransform | 无 | test_app_desc_transform, test_app_desc_transform_exception | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| atexit | register | module |
| logging | getLogger | module |
| urllib.parse | urljoin, parse | module |
| pymysql | connect | module |
| pytest | fixture, skip, skipif, mark | module |
| sqlalchemy | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| suppress | contextlib.suppress | 不适用 | module |
| asdict | dataclasses.asdict | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| transfer_django_db_settings | blue_krill.monitoring.probe.mysql.transfer_django_db_settings | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME, PAAS_LEGACY_DBCONF, SERVICE_LOGO_BUCKET, APP_LOGO_BUCKET, FOR_TESTS_SVN_SERVER_CONF, FOR_TESTS_LEGACY_APP_CODE, BLOBSTORE_BUCKET_APP_SOURCE, BLOBSTORE_BUCKET_TEMPLATES, BLOBSTORE_BUCKET_AP_PACKAGES, DUMMY_TEMPLATE_NAME, BASE_DIR | module |
| call_command | django.core.management.call_command | 不适用 | module |
| transaction | django.db.transaction | atomic, rollback, force_rollback | module |
| override_settings | django.test.utils.override_settings | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| FileLock | filelock.FileLock | 不适用 | module |
| APIClient | rest_framework.test.APIClient | 不适用 | module |
| scoped_session | sqlalchemy.orm.scoped_session | 不适用 | module |
| sessionmaker | sqlalchemy.orm.sessionmaker | 不适用 | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | all, objects | module |
| Address | paas_wl.workloads.networking.entrance.addrs.Address | 不适用 | module |
| AddressType | paas_wl.workloads.networking.entrance.addrs.AddressType | SUBPATH, SUBDOMAIN | module |
| before_finishing_application_creation | paasng.accessories.publish.sync_market.handlers.before_finishing_application_creation | disconnect, connect | module |
| register_app_core_data | paasng.accessories.publish.sync_market.handlers.register_app_core_data | 不适用 | module |
| AppManger | paasng.accessories.publish.sync_market.managers.AppManger | 不适用 | module |
| BkPluginProfile | paasng.bk_plugins.bk_plugins.models.BkPluginProfile | get_or_create_by_application, objects | module |
| console_db | paasng.core.core.storages.sqlalchemy.console_db | 不适用 | module |
| legacy_db | paasng.core.core.storages.sqlalchemy.legacy_db | session_scope, engine | module |
| SADBManager | paasng.core.core.storages.utils.SADBManager | 不适用 | module |
| SiteRole | paasng.infras.accounts.constants.SiteRole | value, SYSTEM_API_BASIC_MAINTAINER, SYSTEM_API_LIGHT_APP_MAINTAINER, SYSTEM_API_LESSCODE | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | update_or_create, objects | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | DEVELOPER, OPERATOR | module |
| post_create_application | paasng.platform.applications.handlers.post_create_application | disconnect, connect | module |
| turn_on_bk_log_feature_for_app | paasng.platform.applications.handlers.turn_on_bk_log_feature_for_app | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| create_default_module | paasng.platform.applications.utils.create_default_module | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | BK_LESS_CODE | module |
| make_app_metadata | paasng.platform.modules.manager.make_app_metadata | 不适用 | module |
| Module | paasng.platform.modules.models.module.Module | create, objects | module |
| SourceTypeSpecConfig | paasng.platform.sourcectl.models.SourceTypeSpecConfig | 不适用 | module |
| refresh_sourcectl_types | paasng.platform.sourcectl.source_types.refresh_sourcectl_types | 不适用 | module |
| LocalClient | paasng.platform.sourcectl.svn.client.LocalClient | 不适用 | module |
| RemoteClient | paasng.platform.sourcectl.svn.client.RemoteClient | 不适用 | module |
| RepoProvider | paasng.platform.sourcectl.svn.client.RepoProvider | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| S3Store | paasng.utils.blobstore.S3Store | 不适用 | module |
| make_blob_store | paasng.utils.blobstore.make_blob_store | 不适用 | module |
| create_fake_deployment | tests.paasng.platform.engine.setup_utils.create_fake_deployment | 不适用 | module |
| mock | tests.utils.mock | object, patch | module |
| create_user | tests.utils.auth.create_user | 不适用 | module |
| CLUSTER_NAME_FOR_TESTING | tests.utils.cluster.CLUSTER_NAME_FOR_TESTING | 不适用 | module |
| build_default_cluster | tests.utils.cluster.build_default_cluster | 不适用 | module |
| _mock_wl_services_in_creation | tests.utils.helpers._mock_wl_services_in_creation | 不适用 | module |
| configure_regions | tests.utils.helpers.configure_regions | 不适用 | module |
| create_app | tests.utils.helpers.create_app | 不适用 | module |
| create_cnative_app | tests.utils.helpers.create_cnative_app | 不适用 | module |
| create_pending_wl_apps | tests.utils.helpers.create_pending_wl_apps | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |
| initialize_module | tests.utils.helpers.initialize_module | 不适用 | module |
| _cluster_service_allow_nonexisting_wl_apps | tests.utils.mocks.cluster._cluster_service_allow_nonexisting_wl_apps | 不适用 | module |
| get_storage_by_bucket | paasng.utils.blobstore.get_storage_by_bucket | 不适用 | module |
| APP_DEFAULT_ROLES | paasng.infras.iam.constants.APP_DEFAULT_ROLES | 不适用 | module |
| fetch_user_roles | paasng.infras.iam.helpers.fetch_user_roles | 不适用 | module |
| get_app_actions_by_role | paasng.infras.iam.utils.get_app_actions_by_role | 不适用 | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |
| StubBKIAMClient | tests.utils.mocks.iam.StubBKIAMClient | 不适用 | module |
| StubApplicationPermission | tests.utils.mocks.permissions.StubApplicationPermission | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | DOCKERFILE, BUILDPACK | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | NORMAL, PLUGIN | module |
| Template | paasng.platform.templates.models.Template | get_or_create, objects | module |
| register_iam_after_create_application | tests.utils.helpers.register_iam_after_create_application | 不适用 | module |
| add_role_members | paasng.infras.iam.helpers.add_role_members | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| DEFAULT_REGION | 不适用 | `DEFAULT_REGION = settings.DEFAULT_REGION_NAME` | module |
| svn_lock_fn | 不适用 | `svn_lock_fn = Path(__file__).parent / '.svn'` | module |
| mock_paas_analysis_client | 不适用 | `mock_paas_analysis_client = pytest.fixture(_mock_paas_analysis_client)` | module |
| mock_wl_services_in_creation | 不适用 | `mock_wl_services_in_creation = pytest.fixture(_mock_wl_services_in_creation)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| pytest_addoption | `def pytest_addoption(parser):` | 无 | 不适用 |
| django_db_setup | `@pytest.fixture(scope='session'):` | pytest.fixture | Create the default cluster for testing. |
| pytest_sessionstart | `def pytest_sessionstart(session):` | 无 | Called before running all tests:

    - Reset `mak... |
| legacy_app_code | `@pytest.fixture():` | pytest.fixture | The legacy App code using for Unit test |
| random_name | `@pytest.fixture():` | pytest.fixture | Generate an random name which can be used for app'... |
| bk_user | `@pytest.fixture():` | pytest.fixture | Generate a random user |
| bk_app | `@pytest.fixture():` | pytest.fixture | Generate a random application owned by current use... |
| bk_cnative_app | `@pytest.fixture():` | pytest.fixture | Generate a random cloud-native application owned b... |
| bk_plugin_app | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_app_full | `@pytest.fixture():` | pytest.fixture | Generate a random *fully featured* application own... |
| bk_module | `@pytest.fixture():` | pytest.fixture | Return the default module if current application f... |
| bk_module_full | `@pytest.fixture():` | pytest.fixture | Return the *fully featured* default module |
| bk_stag_env | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_prod_env | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_env | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_deployment | `@pytest.fixture():` | pytest.fixture | Generate a simple deployment object |
| bk_deployment_full | `@pytest.fixture():` | pytest.fixture | Generate a simple deployment object for bk_module_... |
| api_client | `@pytest.fixture():` | pytest.fixture | Return an authenticated client |
| sys_api_client | `@pytest.fixture():` | pytest.fixture | Return an authenticated client which has an authen... |
| sys_light_api_client | `@pytest.fixture():` | pytest.fixture | Return an authenticated client which has an authen... |
| sys_lesscode_api_client | `@pytest.fixture():` | pytest.fixture | Return an authenticated client which has an authen... |
| svn_repo_credentials | `@pytest.fixture():` | pytest.fixture | 不适用 |
| dummy_svn_spec | `@pytest.fixture():` | pytest.fixture | Local Svn address for running unittest |
| dummy_gitlab_spec | `@pytest.fixture():` | pytest.fixture | Local GitLab address for running unittest |
| create_custom_app | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_module_2 | `@pytest.fixture():` | pytest.fixture | Another module other than the default one, for tes... |
| check_legacy_enabled | `def check_legacy_enabled():` | 无 | check if legacy database was configured properly |
| skip_if_legacy_not_configured | `def skip_if_legacy_not_configured():` | 无 | Return a pytest mark to skip tests when legacy dat... |
| check_console_enabled | `def check_console_enabled():` | 无 | check if console database was configured properly |
| mark_skip_if_console_not_configured | `def mark_skip_if_console_not_configured():` | 无 | Return a pytest mark to skip tests when console da... |
| mock_env_is_running | `@pytest.fixture():` | pytest.fixture | 不适用 |
| mock_get_builtin_addresses | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/api/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/api/test_entrance.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppDomain | paas_wl.workloads.networking.ingress.models.AppDomain | create, objects | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | create, objects | module |
| ExposedURLType | paasng.platform.modules.constants.ExposedURLType | SUBDOMAIN | module |
| Module | paasng.platform.modules.models.Module | create, objects | module |
| create_release | tests.paas_wl.utils.release.create_release | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |
| initialize_module | tests.utils.helpers.initialize_module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_module | `def create_module(bk_app):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppEntranceViewSet | 无 | test_list_all_entrances | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/api/test_image_credential.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| AppUserCredential | paas_wl.workloads.images.models.AppUserCredential | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.build_cfg.BuildConfig | get_or_create_by_module, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| image_credential | `@pytest.fixture():` | pytest.fixture | 创建一个 AppUserCredential 对象 |
| build_config | `@pytest.fixture():` | pytest.fixture | 创建一个 BuildConfig 对象 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppUserCredentialViewSet | 无 | test_destroy, test_destroy_when_used | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/api/test_instance_events.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, auto_create_ns, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| KEvent | paas_wl.infras.resources.base.kres.KEvent | 不适用 | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.auto_create_ns]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| client | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestInstanceEventsViewSet | 无 | event, test_list | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/api/test_mounts.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| MountEnvName | paas_wl.bk_app.cnative.specs.constants.MountEnvName | STAG, GLOBAL, value | module |
| VolumeSourceType | paas_wl.bk_app.cnative.specs.constants.VolumeSourceType | value, ConfigMap, PersistentStorage | module |
| ConfigMapSource | paas_wl.bk_app.cnative.specs.models.ConfigMapSource | create, objects | module |
| Mount | paas_wl.bk_app.cnative.specs.models.Mount | filter, objects, get | module |
| PersistentStorageSource | paas_wl.bk_app.cnative.specs.models.PersistentStorageSource | create, objects | module |
| MountManager | paas_wl.bk_app.cnative.specs.mounts.MountManager | new | module |
| init_volume_source_controller | paas_wl.bk_app.cnative.specs.mounts.init_volume_source_controller | 不适用 | module |
| MountSLZ | paas_wl.bk_app.cnative.specs.serializers.MountSLZ | 不适用 | module |
| AppFeatureFlag | paasng.platform.applications.constants.AppFeatureFlag | ENABLE_PERSISTENT_STORAGE | module |
| ApplicationFeatureFlag | paasng.platform.applications.models.ApplicationFeatureFlag | set_feature, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| mount_configmap | `@pytest.fixture():` | pytest.fixture | 创建一个 configmap mount 对象 |
| pvc_source | `@pytest.fixture():` | pytest.fixture | 不适用 |
| pvc_source_update | `@pytest.fixture():` | pytest.fixture | 不适用 |
| mount_pvc | `@pytest.fixture():` | pytest.fixture | 创建一个 pvc mount 对象 |
| mounts | `@pytest.fixture():` | pytest.fixture | 创建一个包含 15 个 mount 对象的集合 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestVolumeMountViewSet | 无 | test_list, test_create_configmap, test_create_pvc, test_create_with_source_name, test_create_error, test_update_configmap, test_destroy_configmap, test_update_pvc, test_destroy_pvc, test_destroy_error | 无 | 无 | 不适用 |
| TestMountSourceViewSet | 无 | _mount_sources, test_list, test_create, test_create_with_invalid_storage_size, test_update, test_destroy, test_destroy_with_bound | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/apis/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/apis/admin/test_helpers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64encode | module |
| gzip | compress | module |
| json | dumps | module |
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| HELM_RELEASE_SECRET_TYPE | paas_wl.apis.admin.constants.HELM_RELEASE_SECRET_TYPE | 不适用 | module |
| DeployResult | paas_wl.apis.admin.helpers.helm.DeployResult | 不适用 | module |
| HelmChart | paas_wl.apis.admin.helpers.helm.HelmChart | 不适用 | module |
| HelmRelease | paas_wl.apis.admin.helpers.helm.HelmRelease | 不适用 | module |
| HelmReleaseParser | paas_wl.apis.admin.helpers.helm.HelmReleaseParser | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| helm_release_secret | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_HelmReleaseParser | `def test_HelmReleaseParser(helm_release_secret):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/applications/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/applications/models/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/applications/models/test_app_managers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| WlAppMetadata | paas_wl.bk_app.applications.managers.WlAppMetadata | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestWlAppMetadata | 无 | test_empty_data, test_valid_data | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/applications/models/test_app_model.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| Release | paas_wl.bk_app.applications.models.Release | get_latest, objects | module |
| create_release | tests.paas_wl.utils.release.create_release | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppModel | 无 | test_app_get_release, test_first_release | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/applications/models/test_build.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ArtifactType | paas_wl.bk_app.applications.constants.ArtifactType | IMAGE | module |
| mark_as_latest_artifact | paas_wl.bk_app.applications.managers.mark_as_latest_artifact | 不适用 | module |
| Build | paas_wl.bk_app.applications.models.build.Build | create, objects, filter | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_mark_as_latest_artifact | `@pytest.mark.usefixtures('_with_wl_apps'):` | pytest.mark.usefixtures | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/applications/models/test_command.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| Config | paas_wl.bk_app.applications.models.config.Config | 不适用 | module |
| CommandType | paas_wl.utils.constants.CommandType | PRE_RELEASE_HOOK | module |
| Command | paas_wl.workloads.release_controller.hooks.models.Command | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestPreReleaseHook | 无 | hook_maker, test_new, test_get_command | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/applications/models/test_release.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Release | paas_wl.bk_app.applications.models.Release | any_successful, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestReleaseManager | 无 | test_any_successful_empty, test_any_successful_positive | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/applications/test_api.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| create_app_ignore_duplicated | paas_wl.bk_app.applications.api.create_app_ignore_duplicated | 不适用 | module |
| delete_wl_resources | paas_wl.bk_app.applications.api.delete_wl_resources | 不适用 | module |
| get_metadata_by_env | paas_wl.bk_app.applications.api.get_metadata_by_env | 不适用 | module |
| update_metadata_by_env | paas_wl.bk_app.applications.api.update_metadata_by_env | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | DEFAULT, CLOUD_NATIVE | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | filter, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_create_app_ignore_duplicated | `@pytest.mark.django_db(databases=['workloads']):` | pytest.mark.django_db | 不适用 |
| test_metadata_funcs | `@pytest.mark.usefixtures('_with_wl_apps'):` | pytest.mark.usefixtures | 不适用 |
| test_delete_wl_resources | `@pytest.mark.usefixtures('_with_wl_apps'):` | pytest.mark.usefixtures | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/cnative/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/cnative/specs/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/cnative/specs/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |






---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/cnative/specs/procs/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/cnative/specs/procs/test_replicas.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, skip_when_no_crds, raises, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| create_app_resource | paas_wl.bk_app.cnative.specs.models.create_app_resource | 不适用 | module |
| ProcNotDeployed | paas_wl.bk_app.cnative.specs.procs.exceptions.ProcNotDeployed | 不适用 | module |
| ProcNotFoundInRes | paas_wl.bk_app.cnative.specs.procs.exceptions.ProcNotFoundInRes | 不适用 | module |
| BkAppProcScaler | paas_wl.bk_app.cnative.specs.procs.replicas.BkAppProcScaler | 不适用 | module |
| deploy | paas_wl.bk_app.cnative.specs.resource.deploy | 不适用 | module |
| generate_bkapp_name | paas_wl.core.resource.generate_bkapp_name | 不适用 | module |
| AutoscalingConfig | paas_wl.workloads.autoscaling.entities.AutoscalingConfig | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestBkAppProcScaler | 无 | test_scale_not_deployed, test_scale_proc_not_found, test_scale_integrated, test_set_autoscaling_not_deployed, test_set_autoscaling_integrated | 无 | pytest.mark.skip_when_no_crds | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/cnative/specs/test_addresses.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, auto_create_ns, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AddrResourceManager | paas_wl.bk_app.cnative.specs.addresses.AddrResourceManager | 不适用 | module |
| save_addresses | paas_wl.bk_app.cnative.specs.addresses.save_addresses | 不适用 | module |
| to_domain | paas_wl.bk_app.cnative.specs.addresses.to_domain | 不适用 | module |
| to_shared_tls_domain | paas_wl.bk_app.cnative.specs.addresses.to_shared_tls_domain | 不适用 | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | create, objects, all | module |
| AppDomainSource | paas_wl.workloads.networking.ingress.constants.AppDomainSource | AUTO_GEN | module |
| AppSubpathSource | paas_wl.workloads.networking.ingress.constants.AppSubpathSource | DEFAULT | module |
| AppDomain | paas_wl.workloads.networking.ingress.models.AppDomain | filter, objects, create, all | module |
| AppDomainSharedCert | paas_wl.workloads.networking.ingress.models.AppDomainSharedCert | create, objects | module |
| AppSubpath | paas_wl.workloads.networking.ingress.models.AppSubpath | filter, objects, create, all | module |
| ExposedURLType | paasng.platform.modules.constants.ExposedURLType | SUBDOMAIN | module |
| override_region_configs | tests.utils.helpers.override_region_configs | 不适用 | module |
| cluster_ingress_config | tests.utils.mocks.cluster.cluster_ingress_config | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_save_addresses | `def test_save_addresses(bk_prod_env, bk_prod_wl_app, settings):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestToDomain | 无 | test_with_https | 无 | pytest.mark.auto_create_ns | 不适用 |
| TestToSharedTLSDomain | 无 | test_normal | 无 | pytest.mark.auto_create_ns | 不适用 |
| TestAddrResourceManager | 无 | test_integrated | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/cnative/specs/test_configurations.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnvVarsReader | paas_wl.bk_app.cnative.specs.configurations.EnvVarsReader | 不适用 | module |
| EnvOverlay | paas_wl.bk_app.cnative.specs.crd.bk_app.EnvOverlay | 不适用 | module |
| EnvVar | paas_wl.bk_app.cnative.specs.crd.bk_app.EnvVar | 不适用 | module |
| EnvVarOverlay | paas_wl.bk_app.cnative.specs.crd.bk_app.EnvVarOverlay | 不适用 | module |
| AppModelResource | paas_wl.bk_app.cnative.specs.models.AppModelResource | create_from_resource, objects | module |
| create_app_resource | paas_wl.bk_app.cnative.specs.models.create_app_resource | 不适用 | module |
| ENVIRONMENT_ID_FOR_GLOBAL | paasng.platform.engine.models.config_var.ENVIRONMENT_ID_FOR_GLOBAL | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestEnvVarsReader | 无 | test_global_envs, test_overlay | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/cnative/specs/test_credentials.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| ObjectDoesNotExist | django.db.models.ObjectDoesNotExist | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| ApiVersion | paas_wl.bk_app.cnative.specs.constants.ApiVersion | V1ALPHA2 | module |
| validate_references | paas_wl.bk_app.cnative.specs.credentials.validate_references | 不适用 | module |
| InvalidImageCredentials | paas_wl.bk_app.cnative.specs.exceptions.InvalidImageCredentials | 不适用 | module |
| ImageCredentialRef | paas_wl.workloads.images.entities.ImageCredentialRef | 不适用 | module |
| AppImageCredential | paas_wl.workloads.images.models.AppImageCredential | flush_from_refs, objects, filter, get | module |
| AppUserCredential | paas_wl.workloads.images.models.AppUserCredential | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| build_manifest_v1alpha2 | `def build_manifest_v1alpha2(image: Optional[str] = None, credential_name: Optional[str] = None) -> Dict:` | 无 | 不适用 |
| test_validate_references | `def test_validate_references(bk_app):` | 无 | 不适用 |
| test_save_image_credentials_missing | `def test_save_image_credentials_missing(bk_app, bk_stag_wl_app):` | 无 | 不适用 |
| test_save_image_credentials | `def test_save_image_credentials(bk_app, bk_stag_wl_app):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/cnative/specs/test_models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppModelDeploy | paas_wl.bk_app.cnative.specs.models.AppModelDeploy | filter_by_env, objects, any_successful | module |
| AppModelResource | paas_wl.bk_app.cnative.specs.models.AppModelResource | create_from_resource, objects | module |
| create_app_resource | paas_wl.bk_app.cnative.specs.models.create_app_resource | 不适用 | module |
| generate_bkapp_name | paas_wl.bk_app.cnative.specs.models.generate_bkapp_name | 不适用 | module |
| create_cnative_deploy | tests.paas_wl.bk_app.cnative.specs.utils.create_cnative_deploy | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| spec_example | `@pytest.fixture():` | pytest.fixture | An example spec |
| resource_name | `@pytest.fixture():` | pytest.fixture | Make a name which follows the constraints of metad... |
| init_model_resource | `@pytest.fixture():` | pytest.fixture | Initialize the app model resource |
| test_bkapp_name_with_default_module | `def test_bkapp_name_with_default_module(bk_app, bk_stag_env):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCreateAppResource | 无 | bkapp_manifest, test_v1alpha2 | 无 | 无 | 不适用 |
| TestAppModelDeploy | 无 | test_filter_by_env, test_any_successful | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/cnative/specs/test_mounts.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, usefixtures, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mounts | paas_wl.bk_app.cnative.specs.mounts | deploy_volume_source | module |
| MountEnvName | paas_wl.bk_app.cnative.specs.constants.MountEnvName | STAG, value, GLOBAL, PROD, name | module |
| VolumeSourceType | paas_wl.bk_app.cnative.specs.constants.VolumeSourceType | ConfigMap, PersistentStorage, value | module |
| ConfigMapSource | paas_wl.bk_app.cnative.specs.models.ConfigMapSource | create, objects | module |
| PersistentStorage | paas_wl.bk_app.cnative.specs.crd.bk_app.PersistentStorage | 不适用 | module |
| VolumeSource | paas_wl.bk_app.cnative.specs.crd.bk_app.VolumeSource | 不适用 | module |
| Mount | paas_wl.bk_app.cnative.specs.models.Mount | create, objects | module |
| PersistentStorageSource | paas_wl.bk_app.cnative.specs.models.PersistentStorageSource | create, objects | module |
| MountManager | paas_wl.bk_app.cnative.specs.mounts.MountManager | new | module |
| init_volume_source_controller | paas_wl.bk_app.cnative.specs.mounts.init_volume_source_controller | 不适用 | module |
| KNamespace | paas_wl.infras.resources.base.kres.KNamespace | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |
| configmap_kmodel | paas_wl.workloads.configuration.configmap.kres_entities.configmap_kmodel | get | module |
| pvc_kmodel | paas_wl.workloads.volume.persistent_volume_claim.kres_entities.pvc_kmodel | get | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestVolumeSourceController | 无 | _create_configmap_resource, _create_namespace, test_deploy, mount_configmap, test_delete_configmap, mount_pvc, test_delete_pvc | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/cnative/specs/test_resource.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| pytest | django_db, mark, parametrize, skip_when_no_crds, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| mock | unittest.mock | MagicMock, patch | module |
| ApiException | kubernetes.client.exceptions.ApiException | 不适用 | module |
| DeployStatus | paas_wl.bk_app.cnative.specs.constants.DeployStatus | PENDING, PROGRESSING, READY, ERROR | module |
| MResConditionType | paas_wl.bk_app.cnative.specs.constants.MResConditionType | APP_AVAILABLE, ADDONS_PROVISIONED | module |
| MResPhaseType | paas_wl.bk_app.cnative.specs.constants.MResPhaseType | AppRunning, AppFailed | module |
| MresConditionParser | paas_wl.bk_app.cnative.specs.resource.MresConditionParser | 不适用 | module |
| create_or_update_bkapp_with_retries | paas_wl.bk_app.cnative.specs.resource.create_or_update_bkapp_with_retries | 不适用 | module |
| deploy | paas_wl.bk_app.cnative.specs.resource.deploy | 不适用 | module |
| get_mres_from_cluster | paas_wl.bk_app.cnative.specs.resource.get_mres_from_cluster | 不适用 | module |
| list_mres_by_env | paas_wl.bk_app.cnative.specs.resource.list_mres_by_env | 不适用 | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |
| create_condition | tests.paas_wl.bk_app.cnative.specs.utils.create_condition | 不适用 | module |
| create_res | tests.paas_wl.bk_app.cnative.specs.utils.create_res | 不适用 | module |
| with_conds | tests.paas_wl.bk_app.cnative.specs.utils.with_conds | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestMresConditionDetector | 无 | test_detect | 无 | 无 | 不适用 |
| TestBkAppClusterOperator | 无 | test_deploy_and_get_status_v1alpha2, test_create_or_update_bkapp_with_retries | 无 | pytest.mark.skip_when_no_crds | 测试在集群中操作 bkapp 资源 |
| Test__list_mres_by_env | 无 | test_list | 无 | pytest.mark.skip_when_no_crds | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/cnative/specs/test_svc_disc.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| SvcDiscConfig | paas_wl.bk_app.cnative.specs.crd.bk_app.SvcDiscConfig | 不适用 | module |
| SvcDiscEntryBkSaaS | paas_wl.bk_app.cnative.specs.crd.bk_app.SvcDiscEntryBkSaaS | 不适用 | module |
| create_app_resource | paas_wl.bk_app.cnative.specs.models.create_app_resource | 不适用 | module |
| ConfigMapManager | paas_wl.bk_app.cnative.specs.svc_disc.ConfigMapManager | 不适用 | module |
| apply_configmap | paas_wl.bk_app.cnative.specs.svc_disc.apply_configmap | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestApplyConfigmap | 无 | res_without_svc_disc, res_with_svc_disc, test_normal, test_deletion | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/cnative/specs/test_tasks.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | date | module |
| time | time | module |
| arrow | get | module |
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| patch | unittest.mock.patch | 不适用 | module |
| CallbackResult | blue_krill.async_utils.poll_task.CallbackResult | 不适用 | module |
| CallbackStatus | blue_krill.async_utils.poll_task.CallbackStatus | EXCEPTION, NORMAL | module |
| PollingMetadata | blue_krill.async_utils.poll_task.PollingMetadata | 不适用 | module |
| PollingStatus | blue_krill.async_utils.poll_task.PollingStatus | DOING, DONE | module |
| DeployStatus | paas_wl.bk_app.cnative.specs.constants.DeployStatus | PENDING, PROGRESSING, ERROR, READY, UNKNOWN | module |
| MResConditionType | paas_wl.bk_app.cnative.specs.constants.MResConditionType | APP_AVAILABLE | module |
| MResPhaseType | paas_wl.bk_app.cnative.specs.constants.MResPhaseType | AppRunning | module |
| ModelResState | paas_wl.bk_app.cnative.specs.resource.ModelResState | 不适用 | module |
| AbortedDetails | paasng.platform.engine.deploy.bg_wait.wait_bkapp.AbortedDetails | 不适用 | module |
| DeployStatusHandler | paasng.platform.engine.deploy.bg_wait.wait_bkapp.DeployStatusHandler | 不适用 | module |
| WaitAppModelReady | paasng.platform.engine.deploy.bg_wait.wait_bkapp.WaitAppModelReady | 不适用 | module |
| create_cnative_deploy | tests.paas_wl.bk_app.cnative.specs.utils.create_cnative_deploy | 不适用 | module |
| create_condition | tests.paas_wl.bk_app.cnative.specs.utils.create_condition | 不适用 | module |
| create_res | tests.paas_wl.bk_app.cnative.specs.utils.create_res | 不适用 | module |
| with_conds | tests.paas_wl.bk_app.cnative.specs.utils.with_conds | 不适用 | module |
| with_deploy_id | tests.paas_wl.bk_app.cnative.specs.utils.with_deploy_id | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| dp | `@pytest.fixture():` | pytest.fixture | 不适用 |
| poller | `@pytest.fixture():` | pytest.fixture | A poller fixture for testing |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestWaitAppModelReady | 无 | test_pending, test_progressing, test_stable | 无 | 无 | 不适用 |
| TestDeployStatusHandler | 无 | test_handle_failed, test_handle_ready, test_is_interrupted | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/cnative/specs/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| builtins | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Callable | typing.Callable | 不适用 | module |
| List | typing.List | 不适用 | module |
| Literal | typing.Literal | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| User | bkpaas_auth.models.User | 不适用 | module |
| BKPAAS_DEPLOY_ID_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.BKPAAS_DEPLOY_ID_ANNO_KEY | 不适用 | module |
| DeployStatus | paas_wl.bk_app.cnative.specs.constants.DeployStatus | READY | module |
| MResConditionType | paas_wl.bk_app.cnative.specs.constants.MResConditionType | 不适用 | module |
| MResPhaseType | paas_wl.bk_app.cnative.specs.constants.MResPhaseType | AppPending | module |
| BkAppResource | paas_wl.bk_app.cnative.specs.crd.bk_app.BkAppResource | 不适用 | module |
| MetaV1Condition | paas_wl.bk_app.cnative.specs.crd.bk_app.MetaV1Condition | 不适用 | module |
| AppModelDeploy | paas_wl.bk_app.cnative.specs.models.AppModelDeploy | create, objects | module |
| AppModelResource | paas_wl.bk_app.cnative.specs.models.AppModelResource | filter, objects, create_from_resource, get | module |
| create_app_resource | paas_wl.bk_app.cnative.specs.models.create_app_resource | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_cnative_deploy | `def create_cnative_deploy(env: ModuleEnvironment, user: User, status: DeployStatus = DeployStatus.READY, resource: Optional[BkAppResource] = None, name: str = 'default-deploy-1') -> AppModelDeploy:` | 无 | Initialize an app's model resource and create a de... |
| create_condition | `def create_condition(type_: MResConditionType, status: Literal['True', 'False', 'Unknown'] = 'Unknown', reason: str = '', message: str = '') -> MetaV1Condition:` | 无 | 不适用 |
| create_res_with_conds | `def create_res_with_conds(conditions: List[MetaV1Condition], phase: MResPhaseType = MResPhaseType.AppPending) -> BkAppResource:` | 无 | 不适用 |
| with_conds | `def with_conds(conditions: List[MetaV1Condition], phase: MResPhaseType = MResPhaseType.AppPending):` | 无 | 不适用 |
| with_deploy_id | `def with_deploy_id(deploy_id: str, status_deploy_id: Union[str, 'builtins.ellipsis'] = Ellipsis):` | 无 | 不适用 |
| create_res | `def create_res(*applys):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| ResourceField | paas_wl.infras.resources.kube_res.base.ResourceField | 不适用 | module |
| ResourceList | paas_wl.infras.resources.kube_res.base.ResourceList | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| mock_reader | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/deploy/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/deploy/actions/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/deploy/actions/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |





---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/deploy/actions/test_delete.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Build | paas_wl.bk_app.applications.models.Build | create, objects | module |
| Release | paas_wl.bk_app.applications.models.Release | filter, objects | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | filter, objects | module |
| delete_module_related_res | paas_wl.bk_app.deploy.actions.delete.delete_module_related_res | 不适用 | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | create, objects, filter | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDeleteModuleRelatedRes | 无 | test_normal | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/deploy/actions/test_deploy.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| update_metadata | paas_wl.bk_app.applications.managers.update_metadata | 不适用 | module |
| ObsoleteProcessesCleaner | paas_wl.bk_app.deploy.actions.deploy.ObsoleteProcessesCleaner | 不适用 | module |
| create_wl_release | tests.paas_wl.utils.wl_app.create_wl_release | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestObsoleteProcessesCleaner | 无 | test_find_all_latest_mapper_v2, test_find_all_latest_mapper_v1, _assert_equal_find_all_results | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/deploy/actions/test_exec.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | now, datetime | module |
| pytest | django_db, mark, fixture, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| mock | unittest.mock | patch, MagicMock | module |
| override_settings | django.test.utils.override_settings | 不适用 | module |
| Config | paas_wl.bk_app.applications.models.config.Config | 不适用 | module |
| AppCommandExecutor | paas_wl.bk_app.deploy.actions.exec.AppCommandExecutor | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| CommandStatus | paas_wl.utils.constants.CommandStatus | SUCCESSFUL, FAILED, INTERRUPTED | module |
| CommandType | paas_wl.utils.constants.CommandType | PRE_RELEASE_HOOK | module |
| HealthStatus | paas_wl.utils.kubestatus.HealthStatus | 不适用 | module |
| HealthStatusType | paas_wl.utils.kubestatus.HealthStatusType | UNHEALTHY | module |
| Command | paas_wl.workloads.release_controller.hooks.models.Command | 不适用 | module |
| ConsoleStream | paasng.platform.engine.utils.output.ConsoleStream | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppCommandExecutor | 无 | stream, hook_maker, _disable_termcolor, test_perform_successful, test_perform_logs_unready, test_perform_but_pod_dead, test_perform_but_be_interrupt | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/deploy/app_res/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/deploy/app_res/conftest.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| construct_foo_pod | `def construct_foo_pod(name: str, labels: Optional[Dict] = None, restart_policy: str = 'Always') -> Dict:` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/deploy/app_res/test_controllers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, auto_create_ns, fixture, skip, raises, mock_get_structured_app | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| make_dataclass | dataclasses.make_dataclass | 不适用 | module |
| dedent | textwrap.dedent | 不适用 | module |
| Mock | unittest.mock.Mock | 不适用 | module |
| patch | unittest.mock.patch | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| CommandHandler | paas_wl.bk_app.deploy.app_res.controllers.CommandHandler | 不适用 | module |
| ProcessesHandler | paas_wl.bk_app.deploy.app_res.controllers.ProcessesHandler | new_by_app | module |
| AppProcessManager | paas_wl.bk_app.processes.managers.AppProcessManager | 不适用 | module |
| AppAddOnType | paas_wl.infras.resource_templates.constants.AppAddOnType | SIMPLE_SIDECAR | module |
| AppAddOnTemplate | paas_wl.infras.resource_templates.models.AppAddOnTemplate | 不适用 | module |
| PodTimeoutError | paas_wl.infras.resources.base.exceptions.PodTimeoutError | 不适用 | module |
| get_mapper_proc_config_latest | paas_wl.infras.resources.generation.mapper.get_mapper_proc_config_latest | 不适用 | module |
| AppResVerManager | paas_wl.infras.resources.generation.version.AppResVerManager | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| ImagePullPolicy | paas_wl.workloads.release_controller.constants.ImagePullPolicy | NEVER | module |
| Command | paas_wl.workloads.release_controller.hooks.models.Command | from_db_obj | module |
| command_kmodel | paas_wl.workloads.release_controller.hooks.kres_entities.command_kmodel | get | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |
| region | 不适用 | `region = settings.DEFAULT_REGION_NAME` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCommand | 无 | _skip_if, command_model, command, handler, test_run, sidecar, test_run_with_sidecar, test_delete_with_sidecar | 无 | pytest.mark.auto_create_ns | 不适用 |
| TestProcessHandler | 无 | _set_res_version, web_process, worker_process, test_deploy_processes, test_scale_process, test_shutdown_process, test_shutdown_web_processes | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/deploy/app_res/test_controllers_builder.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, raises, auto_create_ns, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| namedtuple | collections.namedtuple | 不适用 | module |
| Mock | unittest.mock.Mock | 不适用 | module |
| patch | unittest.mock.patch | 不适用 | module |
| nullcontext | blue_krill.contextlib.nullcontext | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| timezone | django.utils.timezone | now | module |
| ResourceInstance | kubernetes.dynamic.resource.ResourceInstance | 不适用 | module |
| BuildHandler | paas_wl.bk_app.deploy.app_res.controllers.BuildHandler | new_by_app, normalize_builder_name | module |
| PodAbsentError | paas_wl.infras.resources.base.exceptions.PodAbsentError | 不适用 | module |
| PodNotSucceededError | paas_wl.infras.resources.base.exceptions.PodNotSucceededError | 不适用 | module |
| PodTimeoutError | paas_wl.infras.resources.base.exceptions.PodTimeoutError | 不适用 | module |
| ResourceDuplicate | paas_wl.infras.resources.base.exceptions.ResourceDuplicate | 不适用 | module |
| ResourceMissing | paas_wl.infras.resources.base.exceptions.ResourceMissing | 不适用 | module |
| KPod | paas_wl.infras.resources.base.kres.KPod | 不适用 | module |
| PatchType | paas_wl.infras.resources.base.kres.PatchType | MERGE | module |
| Schedule | paas_wl.infras.resources.kube_res.base.Schedule | 不适用 | module |
| parse_pod | paas_wl.utils.kubestatus.parse_pod | 不适用 | module |
| ContainerRuntimeSpec | paas_wl.workloads.release_controller.entities.ContainerRuntimeSpec | 不适用 | module |
| SlugBuilderTemplate | paasng.platform.engine.configurations.building.SlugBuilderTemplate | 不适用 | module |
| generate_builder_name | paasng.platform.engine.deploy.bg_build.utils.generate_builder_name | 不适用 | module |
| construct_foo_pod | apiserver.paasng.tests.paas_wl.bk_app.deploy.app_res.conftest.construct_foo_pod | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |
| DummyObjectList | 不适用 | `DummyObjectList = namedtuple('DummyObjectList', 'items metadata')` | module |
| RG | 不适用 | `RG = settings.DEFAULT_REGION_NAME` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| build_handler | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestBuildHandler | 无 | pod_template, test_build_slug, test_build_slug_exist, test_delete_builder_pod, test_delete_builder_pod_missing, test_delete_builder_pod_running | 无 | 无 | 不适用 |
| TestBuildHandlerWithNS | 无 | test_interrupt_builder, test_interrupt_builder_non_existent, test_wait_for_succeeded_no_pod, test_wait_for_succeeded | 无 | pytest.mark.auto_create_ns | New test cases using pytest |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/deploy/test_engine_svc.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, usefixtures, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Build | paas_wl.bk_app.applications.models.Build | get, objects | module |
| AppImageCredential | paas_wl.workloads.images.models.AppImageCredential | DoesNotExist, get, objects, filter | module |
| EngineDeployClient | paasng.platform.engine.utils.client.EngineDeployClient | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.usefixtures('_with_wl_apps')]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestEngineDeployClient | 无 | test_create_build, test_upsert_image_credentials | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/deploy/test_processes.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, skip_when_no_crds, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| partial | functools.partial | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| create_app_resource | paas_wl.bk_app.cnative.specs.models.create_app_resource | 不适用 | module |
| BkAppProcScaler | paas_wl.bk_app.cnative.specs.procs.replicas.BkAppProcScaler | 不适用 | module |
| deploy | paas_wl.bk_app.cnative.specs.resource.deploy | 不适用 | module |
| CNativeProcController | paas_wl.bk_app.deploy.processes.CNativeProcController | 不适用 | module |
| ProcSpecUpdater | paas_wl.bk_app.deploy.processes.ProcSpecUpdater | 不适用 | module |
| DEFAULT_CNATIVE_MAX_REPLICAS | paas_wl.bk_app.processes.constants.DEFAULT_CNATIVE_MAX_REPLICAS | 不适用 | module |
| ProcessTargetStatus | paas_wl.bk_app.processes.constants.ProcessTargetStatus | value, STOP, START | module |
| ProcessSpec | paas_wl.bk_app.processes.models.ProcessSpec | 不适用 | module |
| ProcessSpecPlan | paas_wl.bk_app.processes.models.ProcessSpecPlan | 不适用 | module |
| generate_bkapp_name | paas_wl.core.resource.generate_bkapp_name | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | ENABLE_AUTOSCALING | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| AutoscalingConfig | paas_wl.workloads.autoscaling.entities.AutoscalingConfig | 不适用 | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | get, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| web_proc_factory | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestProcSpecUpdater | 无 | test_set_start, test_set_stop, test_change_replicas_integrated, test_set_autoscaling_integrated | 无 | 无 | 不适用 |
| TestCNativeProcController | 无 | _create_module_process_spec, test_scale_static_integrated, test_autoscaling_integrated, test_scale_down_to_module_target_replicas | 无 | pytest.mark.skip_when_no_crds | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/dev_sandbox/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/dev_sandbox/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| SourceCodeFetchMethod | paas_wl.bk_app.dev_sandbox.constants.SourceCodeFetchMethod | BK_REPO | module |
| _DevWlAppCreator | paas_wl.bk_app.dev_sandbox.controller._DevWlAppCreator | 不适用 | module |
| CodeEditorConfig | paas_wl.bk_app.dev_sandbox.entities.CodeEditorConfig | 不适用 | module |
| Resources | paas_wl.bk_app.dev_sandbox.entities.Resources | 不适用 | module |
| ResourceSpec | paas_wl.bk_app.dev_sandbox.entities.ResourceSpec | 不适用 | module |
| Runtime | paas_wl.bk_app.dev_sandbox.entities.Runtime | 不适用 | module |
| SourceCodeConfig | paas_wl.bk_app.dev_sandbox.entities.SourceCodeConfig | 不适用 | module |
| CodeEditor | paas_wl.bk_app.dev_sandbox.kres_entities.CodeEditor | create | module |
| CodeEditorService | paas_wl.bk_app.dev_sandbox.kres_entities.CodeEditorService | create | module |
| DevSandbox | paas_wl.bk_app.dev_sandbox.kres_entities.DevSandbox | create | module |
| DevSandboxIngress | paas_wl.bk_app.dev_sandbox.kres_entities.DevSandboxIngress | create | module |
| DevSandboxService | paas_wl.bk_app.dev_sandbox.kres_entities.DevSandboxService | create | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | get, objects | module |
| CLUSTER_NAME_FOR_TESTING | tests.conftest.CLUSTER_NAME_FOR_TESTING | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| default_dev_sandbox_cluster | `@pytest.fixture():` | pytest.fixture | 不适用 |
| dev_runtime | `@pytest.fixture():` | pytest.fixture | 不适用 |
| module_name | `@pytest.fixture():` | pytest.fixture | 不适用 |
| dev_sandbox_code | `@pytest.fixture():` | pytest.fixture | 不适用 |
| dev_wl_app | `@pytest.fixture():` | pytest.fixture | 不适用 |
| dev_sandbox_entity | `@pytest.fixture():` | pytest.fixture | 不适用 |
| user_dev_wl_app | `@pytest.fixture():` | pytest.fixture | 不适用 |
| source_configured_dev_sandbox_entity | `@pytest.fixture():` | pytest.fixture | 不适用 |
| code_editor_entity | `@pytest.fixture():` | pytest.fixture | 不适用 |
| dev_sandbox_service_entity | `@pytest.fixture():` | pytest.fixture | 不适用 |
| code_editor_service_entity | `@pytest.fixture():` | pytest.fixture | 不适用 |
| dev_sandbox_ingress_entity | `@pytest.fixture():` | pytest.fixture | 不适用 |
| dev_sandbox_ingress_entity_with_dev_sandbox_code | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/dev_sandbox/test_controller.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, skip, usefixtures, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| mock | unittest.mock | patch | module |
| settings | django.conf.settings | CODE_EDITOR_START_DIR | module |
| VersionApi | kubernetes.client.apis.VersionApi | 不适用 | module |
| DevSandboxController | paas_wl.bk_app.dev_sandbox.controller.DevSandboxController | 不适用 | module |
| DevSandboxWithCodeEditorController | paas_wl.bk_app.dev_sandbox.controller.DevSandboxWithCodeEditorController | 不适用 | module |
| DevSandboxAlreadyExists | paas_wl.bk_app.dev_sandbox.exceptions.DevSandboxAlreadyExists | 不适用 | module |
| get_dev_sandbox_service_name | paas_wl.bk_app.dev_sandbox.kres_entities.get_dev_sandbox_service_name | 不适用 | module |
| get_ingress_name | paas_wl.bk_app.dev_sandbox.kres_entities.get_ingress_name | 不适用 | module |
| get_sub_domain_host | paas_wl.bk_app.dev_sandbox.kres_entities.get_sub_domain_host | 不适用 | module |
| get_code_editor_name | paas_wl.bk_app.dev_sandbox.kres_entities.code_editor.get_code_editor_name | 不适用 | module |
| get_client_by_cluster_name | paas_wl.infras.resources.base.base.get_client_by_cluster_name | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| CLUSTER_NAME_FOR_TESTING | tests.conftest.CLUSTER_NAME_FOR_TESTING | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDevSandboxController | 无 | controller, _do_deploy, test_deploy_success, test_deploy_when_already_exists, test_get_sandbox_detail | 无 | 无 | 不适用 |
| TestDevSandboxWithCodeEditorController | 无 | controller, _do_deploy, test_deploy_success, test_deploy_when_already_exists, test_get_sandbox_detail | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/dev_sandbox/test_kres_slzs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | MAX_RS_RETAIN, DEV_SANDBOX_DEVSERVER_PORT, CONTAINER_PORT, CODE_EDITOR_PORT | module |
| CodeEditor | paas_wl.bk_app.dev_sandbox.kres_entities.CodeEditor | 不适用 | module |
| CodeEditorService | paas_wl.bk_app.dev_sandbox.kres_entities.CodeEditorService | 不适用 | module |
| DevSandbox | paas_wl.bk_app.dev_sandbox.kres_entities.DevSandbox | 不适用 | module |
| DevSandboxIngress | paas_wl.bk_app.dev_sandbox.kres_entities.DevSandboxIngress | 不适用 | module |
| DevSandboxService | paas_wl.bk_app.dev_sandbox.kres_entities.DevSandboxService | 不适用 | module |
| get_code_editor_service_name | paas_wl.bk_app.dev_sandbox.kres_entities.get_code_editor_service_name | 不适用 | module |
| get_dev_sandbox_service_name | paas_wl.bk_app.dev_sandbox.kres_entities.get_dev_sandbox_service_name | 不适用 | module |
| CodeEditorSerializer | paas_wl.bk_app.dev_sandbox.kres_slzs.CodeEditorSerializer | 不适用 | module |
| CodeEditorServiceSerializer | paas_wl.bk_app.dev_sandbox.kres_slzs.CodeEditorServiceSerializer | 不适用 | module |
| DevSandboxIngressSerializer | paas_wl.bk_app.dev_sandbox.kres_slzs.DevSandboxIngressSerializer | 不适用 | module |
| DevSandboxSerializer | paas_wl.bk_app.dev_sandbox.kres_slzs.DevSandboxSerializer | 不适用 | module |
| DevSandboxServiceSerializer | paas_wl.bk_app.dev_sandbox.kres_slzs.DevSandboxServiceSerializer | 不适用 | module |
| get_code_editor_labels | paas_wl.bk_app.dev_sandbox.kres_slzs.get_code_editor_labels | 不适用 | module |
| get_dev_sandbox_labels | paas_wl.bk_app.dev_sandbox.kres_slzs.get_dev_sandbox_labels | 不适用 | module |
| GVKConfig | paas_wl.infras.resources.kube_res.base.GVKConfig | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDevSandboxSLZ | 无 | gvk_config, test_serialize, test_serialize_with_source_code_config | 无 | 无 | 不适用 |
| TestDevSandboxServiceSLZ | 无 | gvk_config, test_serialize | 无 | 无 | 不适用 |
| TestDevSandboxIngressSerializer | 无 | gvk_config, test_serialize, test_serialize_with_user | 无 | 无 | 不适用 |
| TestCodeEditorSLZ | 无 | gvk_config, test_serialize | 无 | 无 | 不适用 |
| TestCodeEditorServiceSLZ | 无 | gvk_config, test_serialize | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/event/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/event/test_reader.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, auto_create_ns, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| KEvent | paas_wl.infras.resources.base.kres.KEvent | 不适用 | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |
| event_kmodel | paas_wl.workloads.event.reader.event_kmodel | list_by_app_instance_name | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.auto_create_ns]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| client | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestEventReader | 无 | event, event_without_count, test_query_events, test_query_events_without_count | 无 | 无 | TestCases for Event |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/mgrlegacy/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/mgrlegacy/test_processes.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_processes_info | paas_wl.bk_app.mgrlegacy.processes.get_processes_info | 不适用 | module |
| Instance | paas_wl.bk_app.processes.kres_entities.Instance | 不适用 | module |
| make_process | tests.paas_wl.bk_app.processes.test_controllers.make_process | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get_processes_info | `def test_get_processes_info(wl_app, mock_reader):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/monitoring/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/monitoring/app_monitor/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/monitoring/app_monitor/test_managers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| pytest | django_db, mark, fixture, usefixtures, auto_create_ns, raises | module |
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| mock | unittest.mock | patch | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| parse_conf_data | dynaconf.utils.parse_conf.parse_conf_data | 不适用 | module |
| ApiException | kubernetes.client.exceptions.ApiException | 不适用 | module |
| get_metadata | paas_wl.bk_app.applications.managers.get_metadata | 不适用 | module |
| constants | paas_wl.bk_app.monitoring.app_monitor.constants | METRICS_INTERVAL, METRICS_PATH, METRICS_PORT_NAME | module |
| build_service_monitor | paas_wl.bk_app.monitoring.app_monitor.managers.build_service_monitor | 不适用 | module |
| service_monitor_kmodel | paas_wl.bk_app.monitoring.app_monitor.managers.service_monitor_kmodel | get | module |
| AppMetricsMonitor | paas_wl.bk_app.monitoring.app_monitor.models.AppMetricsMonitor | 不适用 | module |
| make_bk_monitor_controller | paas_wl.bk_app.monitoring.app_monitor.shim.make_bk_monitor_controller | 不适用 | module |
| KCustomResourceDefinition | paas_wl.infras.resources.base.kres.KCustomResourceDefinition | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestBuilder | 无 | builtin_relabelings, test_normal, test_with_extra_field | 无 | 无 | 不适用 |
| TestAppMonitorController | 无 | _setup, _setup_crd, monitor, test_normal, test_no_monitor, test_disable, test_global_disable | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/monitoring/app_monitor/test_utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| AppMetricsMonitor | paas_wl.bk_app.monitoring.app_monitor.models.AppMetricsMonitor | 不适用 | module |
| build_monitor_port | paas_wl.bk_app.monitoring.app_monitor.utils.build_monitor_port | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_build_monitor_port | `def test_build_monitor_port(bk_stag_wl_app):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/monitoring/bklog/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/monitoring/bklog/test_kres_slzs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattrs | structure | module |
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| constants | paas_wl.bk_app.monitoring.bklog.constants | BKAPP_CODE_ANNO_KEY, MODULE_NAME_ANNO_KEY, ENVIRONMENT_ANNO_KEY, WLAPP_NAME_ANNO_KEY | module |
| LabelSelector | paas_wl.bk_app.monitoring.bklog.entities.LabelSelector | 不适用 | module |
| BkAppLogConfig | paas_wl.bk_app.monitoring.bklog.kres_entities.BkAppLogConfig | 不适用 | module |
| BKLogConfigSerializer | paas_wl.bk_app.monitoring.bklog.kres_slzs.BKLogConfigSerializer | api_version | module |
| crd | paas_wl.infras.resources.base.crd | kind, BKLogConfig | module |
| GVKConfig | paas_wl.infras.resources.kube_res.base.GVKConfig | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| gvk_config | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bklog_manifest | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestBKLogConfigSerializer | 无 | test_serialize | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/processes/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/processes/test_controllers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| list_processes | paas_wl.bk_app.processes.controllers.list_processes | 不适用 | module |
| Runtime | paas_wl.bk_app.processes.entities.Runtime | 不适用 | module |
| Instance | paas_wl.bk_app.processes.kres_entities.Instance | 不适用 | module |
| Process | paas_wl.bk_app.processes.kres_entities.Process | 不适用 | module |
| Schedule | paas_wl.bk_app.processes.kres_entities.Schedule | 不适用 | module |
| AppResVerManager | paas_wl.infras.resources.generation.version.AppResVerManager | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_process | `def make_process(wl_app: WlApp, process_type: str) -> Process:` | 无 | 不适用 |
| test_list_processes | `def test_list_processes(bk_stag_env, wl_app, wl_release, mock_reader):` | 无 | 不适用 |
| test_list_processes_with_dirty_release | `def test_list_processes_with_dirty_release(bk_stag_env, wl_app, wl_dirty_release, mock_reader):` | 无 | 不适用 |
| test_list_processes_boundary_case | `def test_list_processes_boundary_case(bk_stag_env, wl_app, wl_release, mock_reader):` | 无 | 不适用 |
| test_list_processes_without_release | `def test_list_processes_without_release(bk_stag_env, wl_app, wl_release, mock_reader):` | 无 | 没有发布过的 WlApp，也能获取进程信息 |


---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/processes/test_exceptions.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Mock | unittest.mock.Mock | 不适用 | module |
| NotFoundError | kubernetes.dynamic.exceptions.NotFoundError | 不适用 | module |
| ScaleProcessError | paas_wl.bk_app.processes.exceptions.ScaleProcessError | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestScaleProcessError | 无 | test_string_representation, test_caused_by_not_found | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/processes/test_managers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, auto_create_ns, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| SimpleNamespace | types.SimpleNamespace | 不适用 | module |
| mock | unittest.mock | patch | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| Process | paas_wl.bk_app.processes.kres_entities.Process | from_release | module |
| extract_type_from_name | paas_wl.bk_app.processes.kres_slzs.extract_type_from_name | 不适用 | module |
| instance_kmodel | paas_wl.bk_app.processes.readers.instance_kmodel | list_by_process_type, watch_by_app, get_logs, list_by_app_with_meta | module |
| process_kmodel | paas_wl.bk_app.processes.readers.process_kmodel | list_by_app, get_by_type, watch_by_app | module |
| KPod | paas_wl.infras.resources.base.kres.KPod | 不适用 | module |
| get_mapper_version | paas_wl.infras.resources.generation.version.get_mapper_version | 不适用 | module |
| AppEntityManager | paas_wl.infras.resources.kube_res.base.AppEntityManager | 不适用 | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |
| ResourceInstance | tests.paas_wl.infras.resources.base.test_kres.ResourceInstance | 不适用 | module |
| make_container_status | tests.paas_wl.utils.basic.make_container_status | 不适用 | module |
| create_wl_release | tests.paas_wl.utils.wl_app.create_wl_release | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.auto_create_ns]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| client | `@pytest.fixture():` | pytest.fixture | 不适用 |
| release | `@pytest.fixture():` | pytest.fixture | 不适用 |
| process | `@pytest.fixture():` | pytest.fixture | 不适用 |
| process_manager | `@pytest.fixture():` | pytest.fixture | 不适用 |
| v2_mapper | `@pytest.fixture():` | pytest.fixture | 不适用 |
| pod_body | `@pytest.fixture():` | pytest.fixture | Create a instance pod body. |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestProcInstManager | 无 | pod, test_query_instances, test_query_instances_without_process_id_label, test_watch_from_rv0, test_watch_from_empty_rv, test_watch_unknown_res, test_get_logs, test_list_by_app_with_meta | 无 | 无 | Test cases for ProcInst |
| TestProcInstManagerTerminated | 无 | test_list | 无 | 无 | Test listing terminated instances, the case uses m... |
| TestProcSpecsManager | 无 | process, test_query_instances, test_watch_from_rv0 | 无 | 无 | Test cases for ProcSpecs |
| TestExtractTypeFromName | 无 | test_main | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/processes/test_models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ProbeType | paas_wl.bk_app.processes.constants.ProbeType | LIVENESS | module |
| ProcessProbe | paas_wl.bk_app.processes.models.ProcessProbe | filter, objects | module |
| ProcessProbeManager | paas_wl.bk_app.processes.models.ProcessProbeManager | 不适用 | module |
| ProcessSpec | paas_wl.bk_app.processes.models.ProcessSpec | get, objects, filter | module |
| ProcessSpecManager | paas_wl.bk_app.processes.models.ProcessSpecManager | 不适用 | module |
| AutoscalingConfig | paasng.platform.bkapp_model.entities.AutoscalingConfig | 不适用 | module |
| ExecAction | paasng.platform.bkapp_model.entities.ExecAction | 不适用 | module |
| HTTPGetAction | paasng.platform.bkapp_model.entities.HTTPGetAction | 不适用 | module |
| Probe | paasng.platform.bkapp_model.entities.Probe | 不适用 | module |
| ProbeSet | paasng.platform.bkapp_model.entities.ProbeSet | 不适用 | module |
| TCPSocketAction | paasng.platform.bkapp_model.entities.TCPSocketAction | 不适用 | module |
| ProcessTmpl | paasng.platform.engine.models.deployment.ProcessTmpl | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestProcessSpecManager | 无 | test_sync, test_switch | 无 | 无 | Mixin class for testing process managers |
| TestProcessProbeManager | 无 | test_sync | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/processes/test_processes.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, auto_create_ns, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| BkAppResource | paas_wl.bk_app.cnative.specs.crd.bk_app.BkAppResource | 不适用 | module |
| ProcessManager | paas_wl.bk_app.processes.processes.ProcessManager | 不适用 | module |
| gen_cnative_process_specs | paas_wl.bk_app.processes.processes.gen_cnative_process_specs | 不适用 | module |
| list_cnative_module_processes_specs | paas_wl.bk_app.processes.processes.list_cnative_module_processes_specs | 不适用 | module |
| KPod | paas_wl.infras.resources.base.kres.KPod | 不适用 | module |
| get_client_by_app | paas_wl.infras.resources.utils.basic.get_client_by_app | 不适用 | module |
| construct_foo_pod | tests.paas_wl.infras.resources.base.test_kres.construct_foo_pod | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.auto_create_ns]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| testlist_gen_cnative_process_specs | `def testlist_gen_cnative_process_specs():` | 无 | 不适用 |
| test_list_cnative_module_processes_specs | `@pytest.mark.usefixtures('bk_stag_wl_app'):` | pytest.mark.usefixtures | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestProcessManager | 无 | test_get_previous_logs, test_list_cnative_processes_specs | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/processes/test_watch.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ParallelChainedGenerator | paas_wl.bk_app.processes.watch.ParallelChainedGenerator | 不适用 | module |
| WatchEvent | paas_wl.bk_app.processes.watch.WatchEvent | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestParallelChainedGenerators | 无 | test_normal | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/bk_app/test_process.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| AppProcessManager | paas_wl.bk_app.processes.managers.AppProcessManager | 不适用 | module |
| get_command_name | paas_wl.utils.command.get_command_name | 不适用 | module |
| create_wl_app | tests.paas_wl.utils.wl_app.create_wl_app | 不适用 | module |
| create_wl_release | tests.paas_wl.utils.wl_app.create_wl_release | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestProcess | 无 | _setup, test_command_name_normal, test_command_name_celery, test_commnad_name_with_slash | 无 | 无 | 不适用 |
| TestProcessManager | 无 | _setup, test_assemble_process, test_assemble_processes | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| atexit | register | module |
| copy | deepcopy | module |
| logging | getLogger | module |
| tempfile | gettempdir | module |
| pytest | fixture, skip | module |
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | BLOBSTORE_BUCKET_APP_SOURCE, DEFAULT_REGION_NAME | module |
| transaction | django.db.transaction | atomic | module |
| VersionApi | kubernetes.client.apis.VersionApi | 不适用 | module |
| ApiException | kubernetes.client.exceptions.ApiException | 不适用 | module |
| Build | paas_wl.bk_app.applications.models.Build | create, objects | module |
| BuildProcess | paas_wl.bk_app.applications.models.BuildProcess | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| ProcessSpec | paas_wl.bk_app.processes.models.ProcessSpec | filter, objects, create | module |
| ProcessSpecPlan | paas_wl.bk_app.processes.models.ProcessSpecPlan | first, objects | module |
| initialize_default_proc_spec_plans | paas_wl.bk_app.processes.models.initialize_default_proc_spec_plans | 不适用 | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | get, objects | module |
| get_default_cluster_by_region | paas_wl.infras.cluster.utils.get_default_cluster_by_region | 不适用 | module |
| get_client_by_cluster_name | paas_wl.infras.resources.base.base.get_client_by_cluster_name | 不适用 | module |
| get_global_configuration_pool | paas_wl.infras.resources.base.base.get_global_configuration_pool | cache_clear | module |
| KCustomResourceDefinition | paas_wl.infras.resources.base.kres.KCustomResourceDefinition | 不适用 | module |
| KNamespace | paas_wl.infras.resources.base.kres.KNamespace | 不适用 | module |
| S3Store | paas_wl.utils.blobstore.S3Store | 不适用 | module |
| make_blob_store | paas_wl.utils.blobstore.make_blob_store | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | get, objects | module |
| CLUSTER_NAME_FOR_TESTING | tests.conftest.CLUSTER_NAME_FOR_TESTING | 不适用 | module |
| random_resource_name | tests.paas_wl.utils.basic.random_resource_name | 不适用 | module |
| create_build_proc | tests.paas_wl.utils.build.create_build_proc | 不适用 | module |
| create_wl_release | tests.paas_wl.utils.wl_app.create_wl_release | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| DEFAULT_STAG_ENV_ID | 1 | `DEFAULT_STAG_ENV_ID = 1` | module |
| DEFAULT_PROD_ENV_ID | 2 | `DEFAULT_PROD_ENV_ID = 2` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| django_db_setup | `@pytest.fixture(scope='session'):` | pytest.fixture | Some initialization jobs before running tests. |
| crds_is_configured | `@pytest.fixture(scope='session', autouse=True):` | pytest.fixture | Configure 'BkApp' and other CRDs when tests starts... |
| k8s_client | `@pytest.fixture():` | pytest.fixture | 不适用 |
| k8s_version | `@pytest.fixture():` | pytest.fixture | 不适用 |
| namespace_maker | `@pytest.fixture(scope='module'):` | pytest.fixture | 不适用 |
| resource_name | `@pytest.fixture():` | pytest.fixture | A random resource name |
| patch_ingress_config | `@pytest.fixture():` | pytest.fixture | Patch ingress_config of the default cluster, usage... |
| get_cluster_with_hook | `def get_cluster_with_hook(hook_func: Callable) -> Callable:` | 无 | Modify the original get_cluster function with extr... |
| clear_kubernetes_dynamic_discoverer_cache | `@atexit.register:` | atexit.register | 不适用 |
| default_process_spec_plan | `@pytest.fixture():` | pytest.fixture | 不适用 |
| set_structure | `@pytest.fixture():` | pytest.fixture | A factory fixture, returns a function which update... |
| bk_stag_wl_app | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_prod_wl_app | `@pytest.fixture():` | pytest.fixture | 不适用 |
| wl_app | `@pytest.fixture():` | pytest.fixture | 不适用 |
| wl_release | `@pytest.fixture():` | pytest.fixture | 不适用 |
| wl_dirty_release | `@pytest.fixture():` | pytest.fixture | 不适用 |
| build_proc | `@pytest.fixture():` | pytest.fixture | A new BuildProcess object with random info |
| wl_build | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/core/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/core/test_env.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| env_is_running | paas_wl.core.env.env_is_running | 不适用 | module |
| create_cnative_deploy | tests.paas_wl.bk_app.cnative.specs.utils.create_cnative_deploy | 不适用 | module |
| create_release | tests.paas_wl.workloads.conftest.create_release | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestEnvIsRunning | 无 | test_default_app_env_is_running, test_cnative_app_env_is_running | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/core/test_resource.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_process_selector | paas_wl.core.resource.get_process_selector | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get_process_selector | `def test_get_process_selector(wl_app, wl_release):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/e2e/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/e2e/ingress/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/e2e/ingress/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| time | sleep | module |
| pytest | fixture, skip | module |
| requests | session | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | DEFAULT_REGION_NAME, FOR_TEST_E2E_INGRESS_CONFIG, CONTAINER_PORT | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| Config | paas_wl.bk_app.applications.models.Config | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| get_process_selector | paas_wl.core.resource.get_process_selector | 不适用 | module |
| get_default_cluster_by_region | paas_wl.infras.cluster.utils.get_default_cluster_by_region | 不适用 | module |
| get_client_by_cluster_name | paas_wl.infras.resources.base.base.get_client_by_cluster_name | 不适用 | module |
| KPod | paas_wl.infras.resources.base.kres.KPod | 不适用 | module |
| PIngressDomain | paas_wl.workloads.networking.ingress.entities.PIngressDomain | 不适用 | module |
| PServicePortPair | paas_wl.workloads.networking.ingress.entities.PServicePortPair | 不适用 | module |
| ProcessIngress | paas_wl.workloads.networking.ingress.kres_entities.ingress.ProcessIngress | 不适用 | module |
| ProcessService | paas_wl.workloads.networking.ingress.kres_entities.service.ProcessService | 不适用 | module |
| service_kmodel | paas_wl.workloads.networking.ingress.kres_entities.service.service_kmodel | save, get | module |
| E2EFramework | tests.paas_wl.e2e.ingress.utils.E2EFramework | 不适用 | module |
| HttpClient | tests.paas_wl.e2e.ingress.utils.HttpClient | 不适用 | module |
| get_ingress_nginx_pod | tests.paas_wl.e2e.ingress.utils.get_ingress_nginx_pod | 不适用 | module |
| random_resource_name | tests.paas_wl.utils.basic.random_resource_name | 不适用 | module |
| create_wl_release | tests.paas_wl.utils.wl_app.create_wl_release | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| ingress_nginx_ns | `@pytest.fixture(scope='session'):` | pytest.fixture | 不适用 |
| cluster | `@pytest.fixture(scope='session'):` | pytest.fixture | 不适用 |
| k8s_client | `@pytest.fixture(scope='session'):` | pytest.fixture | 不适用 |
| ingress_nginx_reload_checker | `@pytest.fixture(scope='module'):` | pytest.fixture | 不适用 |
| framework | `@pytest.fixture(scope='module'):` | pytest.fixture | 不适用 |
| http_client | `@pytest.fixture(scope='session'):` | pytest.fixture | 不适用 |
| echo_hostname | `@pytest.fixture(scope='module'):` | pytest.fixture | 不适用 |
| root_path | `@pytest.fixture(scope='module'):` | pytest.fixture | 不适用 |
| foo_path | `@pytest.fixture(scope='module'):` | pytest.fixture | 不适用 |
| multi_layer_path_endswith_slash | `@pytest.fixture(scope='module'):` | pytest.fixture | 不适用 |
| http_ingress_domain | `@pytest.fixture(scope='module'):` | pytest.fixture | 不适用 |
| e2e_app | `@pytest.fixture(scope='module'):` | pytest.fixture | 不适用 |
| echo_ingress | `@pytest.fixture(scope='function'):` | pytest.fixture | Ingress for EchoService |
| echo_pod | `@pytest.fixture(scope='module'):` | pytest.fixture | An echo server is a server that replicates the req... |
| echo_service | `@pytest.fixture(scope='module'):` | pytest.fixture | Service for EchoPod |


---


### 模块: apiserver/paasng/tests/paas_wl/e2e/ingress/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| time | sleep | module |
| pytest | fail | module |
| requests | Session | module |
| yaml | safe_load_all | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| suppress | contextlib.suppress | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| mock | unittest.mock | patch | module |
| define | attr.define | 不适用 | module |
| models | kubernetes.client.models | 不适用 | module |
| ApiException | kubernetes.client.rest.ApiException | 不适用 | module |
| create_from_yaml_single_item | kubernetes.utils.create_from_yaml.create_from_yaml_single_item | 不适用 | module |
| connection | urllib3.util.connection | create_connection | module |
| EnhancedApiClient | paas_wl.infras.resources.base.base.EnhancedApiClient | 不适用 | module |
| KPod | paas_wl.infras.resources.base.kres.KPod | 不适用 | module |
| CoreDynamicClient | paas_wl.infras.resources.base.kube_client.CoreDynamicClient | 不适用 | module |
| HealthStatusType | paas_wl.utils.kubestatus.HealthStatusType | HEALTHY | module |
| check_pod_health_status | paas_wl.utils.kubestatus.check_pod_health_status | 不适用 | module |
| parse_pod | paas_wl.utils.kubestatus.parse_pod | 不适用 | module |
| ProcessIngress | paas_wl.workloads.networking.ingress.kres_entities.ingress.ProcessIngress | 不适用 | module |
| ingress_kmodel | paas_wl.workloads.networking.ingress.kres_entities.ingress.ingress_kmodel | save, get, delete | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_ingress_nginx_pod | `def get_ingress_nginx_pod(namespace: str, client: EnhancedApiClient, try_time: int = 60) -> kmodels.V1Pod:` | 无 | utils to find the ingress controller running pod |
| create_from_yaml_allow_conflict | `def create_from_yaml_allow_conflict(k8s_client: EnhancedApiClient, filepath: Path, namespace: str):` | 无 | Perform an action from a yaml file, ignore resourc... |
| delete_from_yaml_ignore_exception | `def delete_from_yaml_ignore_exception(k8s_client: EnhancedApiClient, filepath: Path, namespace: str):` | 无 | Delete Resource from a yaml file, ignore exception |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| E2EFramework | 无 | ensure_ingress, create_ingress, delete_ingress | 无 | define | 不适用 |
| HttpClient | 无 | patch_connection, get, post, put, patch, delete | 无 | define | 不适用 |
| IngressNginxReloadChecker | 无 | __init__, check_keyword_from_logs | 无 | 无 | An implement of nginx reload checker, which will f... |

---


### 模块: apiserver/paasng/tests/paas_wl/e2e/ingress/v0_21_0/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/e2e/ingress/v0_21_0/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture, skip | module |
| yaml | safe_load_all | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| VersionApi | kubernetes.client.apis.VersionApi | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | INGRESS_USE_REGEX | module |
| CoreDynamicClient | paas_wl.infras.resources.base.kube_client.CoreDynamicClient | 不适用 | module |
| IngressNginxReloadChecker | tests.paas_wl.e2e.ingress.utils.IngressNginxReloadChecker | 不适用 | module |
| create_from_yaml_allow_conflict | tests.paas_wl.e2e.ingress.utils.create_from_yaml_allow_conflict | 不适用 | module |
| delete_from_yaml_ignore_exception | tests.paas_wl.e2e.ingress.utils.delete_from_yaml_ignore_exception | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| ingress_nginx_reload_checker | `@pytest.fixture(scope='module'):` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/e2e/ingress/v0_21_0/test_case.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| urljoin | urllib.parse.urljoin | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get | `@pytest.mark.parametrize(('request_path', 'original_path', 'x_script_name'), [('/', '/', '/'), ('/bar', '/bar', '/'), ('/bar/', '/bar/', '/'), ('/foo', '/', '/foo'), ('/foo/', '/', '/foo'), ('/foo/bar', '/bar', '/foo'), ('/foo/bar/baz/', '/bar/baz/', '/foo'), ('/multi/layer', '/multi/layer', '/'), ('/multi/layer/', '/', '/multi/layer/'), ('/multi/layer/foo', '/foo', '/multi/layer/'), ('/multi/layer/foo/bar/', '/foo/bar/', '/multi/layer/')]):` | pytest.mark.parametrize | 不适用 |
| test_post | `@pytest.mark.parametrize(('request_path', 'original_path', 'x_script_name'), [('/', '/', '/'), ('/bar', '/bar', '/'), ('/bar/', '/bar/', '/'), ('/foo', '/', '/foo'), ('/foo/', '/', '/foo'), ('/foo/bar', '/bar', '/foo'), ('/foo/bar/baz/', '/bar/baz/', '/foo'), ('/multi/layer', '/multi/layer', '/'), ('/multi/layer/', '/', '/multi/layer/'), ('/multi/layer/foo', '/foo', '/multi/layer/'), ('/multi/layer/foo/bar/', '/foo/bar/', '/multi/layer/')]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/e2e/ingress/v0_22_0/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/e2e/ingress/v0_22_0/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture, skip | module |
| yaml | safe_load_all | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| VersionApi | kubernetes.client.apis.VersionApi | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | INGRESS_USE_REGEX | module |
| CoreDynamicClient | paas_wl.infras.resources.base.kube_client.CoreDynamicClient | 不适用 | module |
| IngressNginxReloadChecker | tests.paas_wl.e2e.ingress.utils.IngressNginxReloadChecker | 不适用 | module |
| create_from_yaml_allow_conflict | tests.paas_wl.e2e.ingress.utils.create_from_yaml_allow_conflict | 不适用 | module |
| delete_from_yaml_ignore_exception | tests.paas_wl.e2e.ingress.utils.delete_from_yaml_ignore_exception | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| ingress_nginx_reload_checker | `@pytest.fixture(scope='module'):` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/e2e/ingress/v0_22_0/test_case.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| urljoin | urllib.parse.urljoin | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get | `@pytest.mark.parametrize(('request_path', 'original_path', 'x_script_name'), [('/', '/', '/'), ('/bar', '/bar', '/'), ('/bar/', '/bar/', '/'), ('/foo', '/', '/foo'), ('/foo/', '/', '/foo'), ('/foo/bar', '/bar', '/foo'), ('/foo/bar/baz/', '/bar/baz/', '/foo'), ('/multi/layer', '/multi/layer', '/'), ('/multi/layer/', '/', '/multi/layer'), ('/multi/layer/foo', '/foo', '/multi/layer'), ('/multi/layer/foo/bar/', '/foo/bar/', '/multi/layer')]):` | pytest.mark.parametrize | 不适用 |
| test_post | `@pytest.mark.parametrize(('request_path', 'original_path', 'x_script_name'), [('/', '/', '/'), ('/bar', '/bar', '/'), ('/bar/', '/bar/', '/'), ('/foo', '/', '/foo'), ('/foo/', '/', '/foo'), ('/foo/bar', '/bar', '/foo'), ('/foo/bar/baz/', '/bar/baz/', '/foo'), ('/multi/layer', '/multi/layer', '/'), ('/multi/layer/', '/', '/multi/layer'), ('/multi/layer/foo', '/foo', '/multi/layer'), ('/multi/layer/foo/bar/', '/foo/bar/', '/multi/layer')]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/e2e/ingress/v1_0_0/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/e2e/ingress/v1_0_0/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture, skip | module |
| yaml | safe_load_all | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| VersionApi | kubernetes.client.apis.VersionApi | 不适用 | module |
| create_from_yaml_single_item | kubernetes.utils.create_from_yaml.create_from_yaml_single_item | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | INGRESS_USE_REGEX | module |
| IngressNginxReloadChecker | tests.paas_wl.e2e.ingress.utils.IngressNginxReloadChecker | 不适用 | module |
| create_from_yaml_allow_conflict | tests.paas_wl.e2e.ingress.utils.create_from_yaml_allow_conflict | 不适用 | module |
| delete_from_yaml_ignore_exception | tests.paas_wl.e2e.ingress.utils.delete_from_yaml_ignore_exception | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| ingress_nginx_reload_checker | `@pytest.fixture(scope='module'):` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/e2e/ingress/v1_0_0/test_case.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| urljoin | urllib.parse.urljoin | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get | `@pytest.mark.parametrize(('request_path', 'original_path', 'x_script_name'), [('/', '/', '/'), ('/bar', '/bar', '/'), ('/bar/', '/bar/', '/'), ('/foo', '/', '/foo'), ('/foo/', '/', '/foo'), ('/foo/bar', '/bar', '/foo'), ('/foo/bar/baz/', '/bar/baz/', '/foo'), ('/multi/layer', '/multi/layer', '/'), ('/multi/layer/', '/', '/multi/layer'), ('/multi/layer/foo', '/foo', '/multi/layer'), ('/multi/layer/foo/bar/', '/foo/bar/', '/multi/layer')]):` | pytest.mark.parametrize | 不适用 |
| test_post | `@pytest.mark.parametrize(('request_path', 'original_path', 'x_script_name'), [('/', '/', '/'), ('/bar', '/bar', '/'), ('/bar/', '/bar/', '/'), ('/foo', '/', '/foo'), ('/foo/', '/', '/foo'), ('/foo/bar', '/bar', '/foo'), ('/foo/bar/baz/', '/bar/baz/', '/foo'), ('/multi/layer', '/multi/layer', '/'), ('/multi/layer/', '/', '/multi/layer'), ('/multi/layer/foo', '/foo', '/multi/layer'), ('/multi/layer/foo/bar/', '/foo/bar/', '/multi/layer')]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/infras/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/infras/cluster/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/infras/cluster/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64encode | module |
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dedent | textwrap.dedent | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | get_default_flags_by_cluster_type | module |
| ClusterType | paas_wl.infras.cluster.constants.ClusterType | NORMAL | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| example_cluster_config | `@pytest.fixture():` | pytest.fixture | 不适用 |
| clusters | `@pytest.fixture():` | pytest.fixture | 不适用 |
| ca_data | `@pytest.fixture():` | pytest.fixture | 不适用 |
| cert_data | `@pytest.fixture():` | pytest.fixture | 不适用 |
| key_data | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/infras/cluster/test_commands.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | environ | module |
| pytest | django_db, mark, fixture, usefixtures, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| call_command | django.core.management.call_command | 不适用 | module |
| get_random_string | django.utils.crypto.get_random_string | 不适用 | module |
| APIServer | paas_wl.infras.cluster.models.APIServer | filter, objects | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | get, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_init_cluster | `@pytest.mark.usefixtures('_cluster_envs'):` | pytest.mark.usefixtures, pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/infras/cluster/test_loader.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| urlparse | urllib.parse.urlparse | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| DBConfigLoader | paas_wl.infras.cluster.loaders.DBConfigLoader | 不适用 | module |
| LegacyKubeConfigLoader | paas_wl.infras.cluster.loaders.LegacyKubeConfigLoader | from_file | module |
| APIServer | paas_wl.infras.cluster.models.APIServer | update_or_create, objects | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | register_cluster, objects, filter, all | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| cluster_creator | `@pytest.fixture(autouse=True):` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestLoader | 无 | _setup, test_get_all_cluster_names, test_list_configurations_by_name | 无 | 无 | 不适用 |
| TestLoaderNoInitialClusters | 无 | test_auth_types | 无 | 无 | 不适用 |
| TestEnhancedKubeConfigLoader | 无 | test_get_all_tags, test_list_configurations_by_tag | 无 | 无 | 需要配合 assets/example-kube-config 进行测试 |

---


### 模块: apiserver/paasng/tests/paas_wl/infras/cluster/test_migration_command.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Cluster | paas_wl.infras.cluster.models.Cluster | 不适用 | module |
| BaseTestEnctrypMigrationCmd | tests.utils.encrypt_cmd_base.BaseTestEnctrypMigrationCmd | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCommand | tests.utils.encrypt_cmd_base.BaseTestEnctrypMigrationCmd | command_name, app_models | 无 | pytest.mark.parametrize | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/infras/cluster/test_models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |
| pytest | django_db, mark, fixture, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| nullcontext | blue_krill.contextlib.nullcontext | 不适用 | module |
| IntegrityError | django.db.utils.IntegrityError | 不适用 | module |
| get_random_string | django.utils.crypto.get_random_string | 不适用 | module |
| ClusterTokenType | paas_wl.infras.cluster.constants.ClusterTokenType | SERVICE_ACCOUNT | module |
| DuplicatedDefaultClusterError | paas_wl.infras.cluster.exceptions.DuplicatedDefaultClusterError | 不适用 | module |
| NoDefaultClusterError | paas_wl.infras.cluster.exceptions.NoDefaultClusterError | 不适用 | module |
| SwitchDefaultClusterError | paas_wl.infras.cluster.exceptions.SwitchDefaultClusterError | 不适用 | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | register_cluster, objects, switch_default_cluster, get, create | module |
| Domain | paas_wl.infras.cluster.models.Domain | 不适用 | module |
| EnhancedConfiguration | paas_wl.infras.cluster.models.EnhancedConfiguration | create, extract_ip | module |
| IngressConfig | paas_wl.infras.cluster.models.IngressConfig | 不适用 | module |
| PortMap | paas_wl.infras.cluster.models.PortMap | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| region | `@pytest.fixture():` | pytest.fixture | 不适用 |
| default_cluster_creator | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCluster | 无 | test_register, test_use_register_cluster_to_change_default_cluster, test_register_duplicated_default_cluster, test_register_duplicated_cluster_name, test_switch_default_cluster, test_token | 无 | 无 | 不适用 |
| TestIngressConfigField | 无 | test_port_map, test_domains, test_find_app_root_domain | 无 | 无 | 不适用 |
| TestEnhancedConfiguration | 无 | test_create_normal, test_create_force_hostname, test_create_invalid_values, test_extract_ip | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/infras/cluster/test_shim.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, usefixtures, fixture, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| Cluster | paas_wl.infras.cluster.shim.Cluster | all, objects, DoesNotExist | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | 不适用 | module |
| RegionClusterService | paas_wl.infras.cluster.shim.RegionClusterService | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.usefixtures('_with_wl_apps')]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get_cluster | `def test_get_cluster(settings):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestEnvClusterService | 无 | test_empty_cluster_field, test_valid_cluster_field, test_invalid_cluster_field | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/infras/cluster/test_utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Cluster | paas_wl.infras.cluster.models.Cluster | register_cluster, objects | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| create_wl_app | tests.paas_wl.utils.wl_app.create_wl_app | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestGetClusterByApp | 无 | _setup, test_get_cluster_by_app_normal, test_get_cluster_by_app_cluster_configured | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/infras/resource_templates/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/infras/resource_templates/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dedent | textwrap.dedent | 不适用 | module |
| AppAddOnType | paas_wl.infras.resource_templates.constants.AppAddOnType | SIMPLE_SIDECAR, READINESS_PROBE, VOLUME_MOUNT, VOLUME | module |
| AppAddOnTemplate | paas_wl.infras.resource_templates.models.AppAddOnTemplate | create, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| sidecar_template | `@pytest.fixture():` | pytest.fixture | 不适用 |
| sidecar_addon_template | `@pytest.fixture():` | pytest.fixture | 不适用 |
| probe_template | `@pytest.fixture():` | pytest.fixture | 不适用 |
| probe_addon_template | `@pytest.fixture():` | pytest.fixture | 不适用 |
| probe_handler_templates | `@pytest.fixture():` | pytest.fixture | 不适用 |
| port_env | `@pytest.fixture():` | pytest.fixture | 不适用 |
| shm_volume_mount_template | `@pytest.fixture():` | pytest.fixture | 不适用 |
| shm_volume_mount_addon_template | `@pytest.fixture():` | pytest.fixture | 不适用 |
| shm_volume_template | `@pytest.fixture():` | pytest.fixture | 不适用 |
| shm_volume_addon_template | `@pytest.fixture():` | pytest.fixture | 不适用 |
| secret_volume_template | `@pytest.fixture():` | pytest.fixture | 不适用 |
| process_type | `@pytest.fixture():` | pytest.fixture | 不适用 |
| secret_volume_addon_template | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/infras/resource_templates/test_addons.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| get_default_readiness_probe | paas_wl.infras.resource_templates.components.probe.get_default_readiness_probe | 不适用 | module |
| Container | paas_wl.infras.resource_templates.components.sidecar.Container | 不适用 | module |
| AddonManager | paas_wl.infras.resource_templates.managers.AddonManager | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppAddOns | 无 | test_sidecar, test_default_readiness_probe, test_user_readiness_probe, test_shm_mount_point, test_shm_volume, test_secret_volume | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/infras/resource_templates/test_process_probe.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| override_settings | django.test.override_settings | 不适用 | module |
| ProbeType | paas_wl.bk_app.processes.constants.ProbeType | READINESS, LIVENESS | module |
| ProcessProbe | paas_wl.bk_app.processes.models.ProcessProbe | create, objects | module |
| ProcessProbeManager | paas_wl.infras.resource_templates.managers.ProcessProbeManager | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_process_probe_mgr | `def test_process_probe_mgr(wl_app, process_type, probe_handler_templates, port_env):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/infras/resources/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/infras/resources/base/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/infras/resources/base/test_credentials.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |
| pytest | django_db, mark, auto_create_ns, fixture, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_random_string | django.utils.crypto.get_random_string | 不适用 | module |
| ensure_image_credentials_secret | paas_wl.bk_app.deploy.app_res.controllers.ensure_image_credentials_secret | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| b64decode | paas_wl.utils.text.b64decode | 不适用 | module |
| b64encode | paas_wl.utils.text.b64encode | 不适用 | module |
| constants | paas_wl.workloads.images.constants | KUBE_DATA_KEY | module |
| credentials_kmodel | paas_wl.workloads.images.kres_entities.credentials_kmodel | get | module |
| AppImageCredential | paas_wl.workloads.images.models.AppImageCredential | create, objects | module |
| make_image_pull_secret_name | paas_wl.workloads.images.utils.make_image_pull_secret_name | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestImageCredentialsHandler | 无 | kube_res_name, _clear_builtin_auth, test_create_empty, test_create, test_update, test_not_found | 无 | pytest.mark.auto_create_ns | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/infras/resources/base/test_kres.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| math | isclose | module |
| time | sleep, time | module |
| pytest | django_db, mark, raises, auto_create_ns, fail, parametrize | module |
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dedent | textwrap.dedent | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| mock | unittest.mock | patch, object | module |
| ApiException | kubernetes.client.rest.ApiException | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.resource.ResourceInstance | 不适用 | module |
| KUBECTL_RESTART_RESOURCE_KEY | paas_wl.infras.resources.base.constants.KUBECTL_RESTART_RESOURCE_KEY | 不适用 | module |
| CreateServiceAccountTimeout | paas_wl.infras.resources.base.exceptions.CreateServiceAccountTimeout | 不适用 | module |
| ReadTargetStatusTimeout | paas_wl.infras.resources.base.exceptions.ReadTargetStatusTimeout | 不适用 | module |
| ResourceMissing | paas_wl.infras.resources.base.exceptions.ResourceMissing | 不适用 | module |
| BatchOperations | paas_wl.infras.resources.base.kres.BatchOperations | make_fields_string | module |
| KDeployment | paas_wl.infras.resources.base.kres.KDeployment | 不适用 | module |
| KNamespace | paas_wl.infras.resources.base.kres.KNamespace | 不适用 | module |
| KPod | paas_wl.infras.resources.base.kres.KPod | 不适用 | module |
| KServiceAccount | paas_wl.infras.resources.base.kres.KServiceAccount | 不适用 | module |
| random_resource_name | tests.paas_wl.utils.basic.random_resource_name | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| construct_foo_deployment | `def construct_foo_deployment(name: str, api_version: str = 'extensions/v1beta1') -> Dict:` | 无 | 不适用 |
| construct_foo_pod | `def construct_foo_pod(name: str, labels: Optional[Dict] = None, restart_policy: str = 'Always') -> Dict:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestNameBasedOps | 无 | test_versions, test_delete, test_delete_non_silent, test_delete_api_error, test_get_or_create, test_create_or_update, test_replace_or_patch, test_patch | 无 | 无 | 不适用 |
| TestBatchOps | 无 | test_create_watch_stream, test_filter_by_labels, test_list_with_different_namespaces, test_delete_collection, test_delete_individual, test_make_fields_string | 无 | pytest.mark.auto_create_ns | 不适用 |
| TestKNamespace | 无 | test_has_default_sa_with_or_without_secrets, test_wait_for_default_sa_failed, test_wait_for_default_sa_succeed | 无 | 无 | 不适用 |
| TestKPod | 无 | test_wait_for_status_no_resource, test_wait_for_status_normal, test_get_logs | 无 | pytest.mark.auto_create_ns | 不适用 |
| TestKDeployment | 无 | test_restart | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/infras/resources/generation/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/infras/resources/generation/test_generation.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppProcessManager | paas_wl.bk_app.processes.managers.AppProcessManager | 不适用 | module |
| get_mapper_version | paas_wl.infras.resources.generation.version.get_mapper_version | 不适用 | module |
| get_proc_deployment_name | paas_wl.infras.resources.generation.version.get_proc_deployment_name | 不适用 | module |
| get_command_name | paas_wl.utils.command.get_command_name | 不适用 | module |
| create_wl_release | tests.paas_wl.utils.wl_app.create_wl_release | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get_proc_deployment_name | `def test_get_proc_deployment_name(wl_app):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestGeneration | 无 | release, process, v1_mapper, v2_mapper, test_v1_pod_name, test_preset_process_client, test_v2_name | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/infras/resources/kube_res/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/infras/resources/kube_res/test_base.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, raises, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| mock | unittest.mock | object, patch | module |
| ApiException | kubernetes.client.exceptions.ApiException | 不适用 | module |
| KNamespace | paas_wl.infras.resources.base.kres.KNamespace | 不适用 | module |
| AppEntity | paas_wl.infras.resources.kube_res.base.AppEntity | 不适用 | module |
| AppEntityDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | 不适用 | module |
| AppEntityManager | paas_wl.infras.resources.kube_res.base.AppEntityManager | 不适用 | module |
| AppEntityReader | paas_wl.infras.resources.kube_res.base.AppEntityReader | 不适用 | module |
| AppEntitySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | 不适用 | module |
| EntitySerializerPicker | paas_wl.infras.resources.kube_res.base.EntitySerializerPicker | 不适用 | module |
| GVKConfig | paas_wl.infras.resources.kube_res.base.GVKConfig | 不适用 | module |
| APIServerVersionIncompatible | paas_wl.infras.resources.kube_res.exceptions.APIServerVersionIncompatible | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |
| dummy_reader | 不适用 | `dummy_reader = AppEntityReader(DummyObj)` | module |
| dummy_kmodel | 不适用 | `dummy_kmodel = AppEntityManager(DummyObj)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_initialize_non_applicable_type | `def test_initialize_non_applicable_type():` | 无 | 不适用 |
| test_version_incompatible | `def test_version_incompatible(wl_app):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DummySerializer | paas_wl.infras.resources.kube_res.base.AppEntitySerializer | serialize | 无 | 无 | 不适用 |
| DummyDeserializer | paas_wl.infras.resources.kube_res.base.AppEntityDeserializer | deserialize | 无 | 无 | 不适用 |
| DummyObj | paas_wl.infras.resources.kube_res.base.AppEntity | 无 | 无 | dataclass | 不适用 |
| TestDummyReader | 无 | test_watch_with_error_event, test_watch_with_expired_exception | 无 | 无 | 不适用 |
| TestDummyManager | 无 | test_create | 无 | 无 | 不适用 |
| TestEntitySerializerPicker | 无 | _setup_gvk_config, test_priority, test_api_version_not_supported | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/infras/resources/utils/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/infras/resources/utils/test_app.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppProcessManager | paas_wl.bk_app.processes.managers.AppProcessManager | 不适用 | module |
| create_wl_app | tests.paas_wl.utils.wl_app.create_wl_app | 不适用 | module |
| create_wl_release | tests.paas_wl.utils.wl_app.create_wl_release | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestProcessScheduler | 无 | _setup, test_update_process_deploy_info | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/infras/resources/utils/test_basic.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| call_command | django.core.management.call_command | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| get_full_node_selector | paas_wl.infras.resources.utils.basic.get_full_node_selector | 不适用 | module |
| get_full_tolerations | paas_wl.infras.resources.utils.basic.get_full_tolerations | 不适用 | module |
| standardize_tolerations | paas_wl.infras.resources.utils.basic.standardize_tolerations | 不适用 | module |
| RCStateAppBinding | paas_wl.workloads.networking.egress.models.RCStateAppBinding | create, objects | module |
| RegionClusterState | paas_wl.workloads.networking.egress.models.RegionClusterState | filter, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestGetFullNodeSelector | 无 | test_empty, test_integrated, test_with_cluster_state | 无 | 无 | 不适用 |
| TestGetFullTolerations | 无 | test_empty, test_integrated | 无 | 无 | 不适用 |
| TestStandardizeTolerations | 无 | test_condensed_list_valid | 无 | 无 | Testcases for `TestTolerationDataHelper` class |

---


### 模块: apiserver/paasng/tests/paas_wl/test_utils/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/test_utils/test_env_vars.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| VarsRenderContext | paas_wl.utils.env_vars.VarsRenderContext | 不适用 | module |
| render_vars_dict | paas_wl.utils.env_vars.render_vars_dict | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_render_vars_dict | `def test_render_vars_dict():` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/test_utils/test_kubestatus.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark, param, xfail | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| V1Container | kubernetes.client.models.V1Container | 不适用 | module |
| V1Pod | kubernetes.client.models.V1Pod | 不适用 | module |
| V1PodSpec | kubernetes.client.models.V1PodSpec | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.resource.ResourceInstance | 不适用 | module |
| HealthStatus | paas_wl.utils.kubestatus.HealthStatus | 不适用 | module |
| HealthStatusType | paas_wl.utils.kubestatus.HealthStatusType | UNKNOWN | module |
| extract_exit_code | paas_wl.utils.kubestatus.extract_exit_code | 不适用 | module |
| get_any_container_fail_message | paas_wl.utils.kubestatus.get_any_container_fail_message | 不适用 | module |
| parse_pod | paas_wl.utils.kubestatus.parse_pod | 不适用 | module |
| make_container_status | tests.paas_wl.utils.basic.make_container_status | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_status | `def make_status(message: str = '', reason: str = '', status: HealthStatusType = HealthStatusType.UNKNOWN) -> HealthStatus:` | 无 | 不适用 |
| test_parse_pod | `@pytest.mark.parametrize(('instance', 'expected'), [(ResourceInstance(None, {'kind': ''}), V1Pod(kind='')), (ResourceInstance(None, {'kind': 'Pod'}), V1Pod(kind='Pod')), (ResourceInstance(None, {'kind': 'Pod', 'spec': {'containers': [{'name': 'foo'}]}}), V1Pod(kind='Pod', spec=V1PodSpec(containers=[V1Container(name='foo')]))), pytest.param(ResourceInstance(None, {'kind': 'Pod', 'spec': {}}), None, marks=pytest.mark.xfail(raises=ValueError))]):` | pytest.mark.parametrize | 不适用 |
| test_extract_exit_code | `@pytest.mark.parametrize(('health_status', 'expected'), [(make_status(message='foo'), None), (make_status(message='failed with exit code 0'), 0), (make_status(message='failed with exit code 1111111111'), 1111111111), (make_status(message='failed with exit code -1'), -1)]):` | pytest.mark.parametrize | 不适用 |
| test_get_any_container_fail_message | `@pytest.mark.parametrize(('container_statuses', 'expected'), [([], None), ([make_container_status({}, {})], None), ([make_container_status({'terminated': {'message': 'foo', 'exitCode': 1}}, {})], 'foo'), ([make_container_status({'terminated': {'reason': 'OOMKilled', 'exitCode': 1}}, {})], 'OOMKilled'), ([make_container_status({'terminated': {'exitCode': 127}}, {})], 'failed with exit code 127')]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/test_utils/test_main.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Enum | enum.Enum | 不适用 | module |
| define | attrs.define | 不适用 | module |
| get_random_string | django.utils.crypto.get_random_string | 不适用 | module |
| convert_key_to_camel | paas_wl.utils.basic.convert_key_to_camel | 不适用 | module |
| digest_if_length_exceeded | paas_wl.utils.basic.digest_if_length_exceeded | 不适用 | module |
| make_enum_choices | paas_wl.utils.constants.make_enum_choices | 不适用 | module |
| make_json_field | paas_wl.utils.models.make_json_field | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| FooTypeField | 不适用 | `FooTypeField = make_json_field('FooTypeField', FooType)` | module |
| FooTypeUpperField | 不适用 | `FooTypeUpperField = make_json_field('FooTypeUpperField', FooType, foo_upper_asdict)` | module |
| FooCustomAsDictField | 不适用 | `FooCustomAsDictField = make_json_field('FooCustomAsDictField', FooCustomAsDict, FooCustomAsDict.as_dict)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| foo_upper_asdict | `def foo_upper_asdict(obj: FooType):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestConstants | 无 | test_make_enum_choices | 无 | 无 | 不适用 |
| TestDigestIfLengthExceeded | 无 | test_short_str, test_long_str | 无 | 无 | 不适用 |
| FooType | 无 | 无 | 无 | define | 不适用 |
| FooCustomAsDict | 无 | __init__, as_dict | 无 | 无 | 不适用 |
| TestDynamicJSONField | 无 | test_make_json_field, test_get_prep_value | 无 | 无 | 不适用 |
| TestConvertKeyToCamel | 无 | test_convert_key_to_camel | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/utils/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/utils/basic.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| random | choice | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_random_string | django.utils.crypto.get_random_string | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| random_resource_name | `def random_resource_name():` | 无 | A random name used as kubernetes resource name to ... |
| make_container_status | `def make_container_status(state: dict, last_state: dict):` | 无 | Make a container status dict that fits in Pod.stat... |


---


### 模块: apiserver/paasng/tests/paas_wl/utils/build.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| get_random_string | django.utils.crypto.get_random_string | 不适用 | module |
| ArtifactType | paas_wl.bk_app.applications.constants.ArtifactType | IMAGE | module |
| mark_as_latest_artifact | paas_wl.bk_app.applications.managers.mark_as_latest_artifact | 不适用 | module |
| Build | paas_wl.bk_app.applications.models.build.Build | create, objects | module |
| BuildProcess | paas_wl.bk_app.applications.models.build.BuildProcess | new, objects | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_build_proc | `def create_build_proc(env: ModuleEnvironment, source_tar_path=None, revision=None, branch=None, image=None, buildpacks=None) -> BuildProcess:` | 无 | Create a BuildProcess object |
| create_build | `def create_build(env: ModuleEnvironment, image: str = '', procfile: Optional[Dict] = None, bp: Optional[BuildProcess] = None, artifact_type: ArtifactType = ArtifactType.IMAGE):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/utils/release.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| User | bkpaas_auth.models.User | 不适用 | module |
| Release | paas_wl.bk_app.applications.models.Release | filter, objects, create | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_release | `def create_release(wl_app: WlApp, user: User, failed: bool = False) -> Release:` | 无 | Create a release in given environment.

    :retur... |


---


### 模块: apiserver/paasng/tests/paas_wl/utils/wl_app.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| random | choice | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| User | bkpaas_auth.models.User | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| get_random_string | django.utils.crypto.get_random_string | 不适用 | module |
| Build | paas_wl.bk_app.applications.models.Build | create, objects | module |
| Release | paas_wl.bk_app.applications.models.Release | create, objects | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | create, objects | module |
| Config | paas_wl.bk_app.applications.models.config.Config | create, objects | module |
| Instance | paas_wl.bk_app.processes.kres_entities.Instance | 不适用 | module |
| create_user | tests.utils.auth.create_user | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_wl_app | `def create_wl_app(force_app_info: Optional[Dict] = None, paas_app_code: Optional[str] = None, environment: Optional[str] = None, owner: Optional[User] = None) -> WlApp:` | 无 | 不适用 |
| create_wl_instance | `def create_wl_instance(app: WlApp, force_instance_info: Optional[Dict] = None) -> Instance:` | 无 | 不适用 |
| create_wl_release | `def create_wl_release(wl_app: WlApp, build_params: Optional[Dict] = None, release_params: Optional[Dict] = None) -> Release:` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/workloads/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/workloads/autoscaling/test_kres_slzs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.ResourceInstance | 不适用 | module |
| Process | paas_wl.bk_app.processes.kres_entities.Process | from_release | module |
| crd | paas_wl.infras.resources.base.crd | kind, GPA | module |
| get_mapper_version | paas_wl.infras.resources.generation.version.get_mapper_version | 不适用 | module |
| GVKConfig | paas_wl.infras.resources.kube_res.base.GVKConfig | 不适用 | module |
| ScalingMetric | paas_wl.workloads.autoscaling.constants.ScalingMetric | CPU_AVERAGE_VALUE, MEMORY_UTILIZATION, MEMORY_AVERAGE_VALUE | module |
| ScalingMetricSourceType | paas_wl.workloads.autoscaling.constants.ScalingMetricSourceType | RESOURCE | module |
| MetricSpec | paas_wl.workloads.autoscaling.entities.MetricSpec | 不适用 | module |
| ProcAutoscalingSpec | paas_wl.workloads.autoscaling.entities.ProcAutoscalingSpec | 不适用 | module |
| ScalingObjectRef | paas_wl.workloads.autoscaling.entities.ScalingObjectRef | 不适用 | module |
| ProcAutoscaling | paas_wl.workloads.autoscaling.kres_entities.ProcAutoscaling | 不适用 | module |
| ProcAutoscalingDeserializer | paas_wl.workloads.autoscaling.kres_slzs.ProcAutoscalingDeserializer | 不适用 | module |
| ProcAutoscalingSerializer | paas_wl.workloads.autoscaling.kres_slzs.ProcAutoscalingSerializer | api_version | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| gpa_gvk_config | `@pytest.fixture():` | pytest.fixture | 不适用 |
| gpa_manifest | `@pytest.fixture():` | pytest.fixture | 不适用 |
| scaling | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_ProcAutoscalingSerializer | `def test_ProcAutoscalingSerializer(wl_app, wl_release, gpa_gvk_config, gpa_manifest, scaling):` | 无 | 不适用 |
| test_ProcAutoscalingDeserializer | `def test_ProcAutoscalingDeserializer(wl_app, gpa_gvk_config, gpa_manifest, scaling):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/workloads/conftest.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| User | bkpaas_auth.models.User | 不适用 | module |
| Release | paas_wl.bk_app.applications.models.Release | count, objects, create | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_release | `def create_release(env: ModuleEnvironment, user: User, failed: bool = False) -> Release:` | 无 | Create a release in given environment.

    :retur... |


---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/egress/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/egress/test_region.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, xdist_group, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| call_command | django.core.management.call_command | 不适用 | module |
| KNode | paas_wl.infras.resources.base.kres.KNode | 不适用 | module |
| RegionClusterState | paas_wl.workloads.networking.egress.models.RegionClusterState | filter, objects | module |
| random_resource_name | tests.paas_wl.utils.basic.random_resource_name | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.xdist_group(name='k8s-node')]` | module |
| REGION_NAME | 不适用 | `REGION_NAME = settings.DEFAULT_REGION_NAME` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCommandGenState | 无 | existing_node_names, node_maker, default_node_name, _setup, test_normal, test_with_adding_node, test_ignore_labels, test_ignore_multi_labels, test_ignore_masters | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/domains/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/domains/test_independent.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, raises, mock_get_structured_app, auto_create_ns, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| ReplaceAppDomainFailed | paas_wl.workloads.networking.ingress.domains.exceptions.ReplaceAppDomainFailed | 不适用 | module |
| ReplaceAppDomainService | paas_wl.workloads.networking.ingress.domains.independent.ReplaceAppDomainService | 不适用 | module |
| ingress_kmodel | paas_wl.workloads.networking.ingress.kres_entities.ingress.ingress_kmodel | list_by_app | module |
| CustomDomainIngressMgr | paas_wl.workloads.networking.ingress.managers.domain.CustomDomainIngressMgr | 不适用 | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | filter, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestReplaceAppDomainService | 无 | test_invalid_input, test_integrated | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/domains/test_manager.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, raises, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| APIError | blue_krill.web.std_error.APIError | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| CNativeCustomDomainManager | paas_wl.workloads.networking.ingress.domains.manager.CNativeCustomDomainManager | 不适用 | module |
| check_domain_used_by_market | paas_wl.workloads.networking.ingress.domains.manager.check_domain_used_by_market | 不适用 | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | get, objects, count | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | get_or_create_by_app, objects | module |
| create_cnative_deploy | tests.paas_wl.bk_app.cnative.specs.utils.create_cnative_deploy | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_check_domain_used_by_market | `@pytest.mark.parametrize(('domain_cfg', 'domain_url', 'expected'), [({'name': 'foo.com', 'path_prefix': '/'}, 'https://bar.foo.com', False), ({'name': 'bar.foo.com', 'path_prefix': '/'}, 'https://bar.foo.com', True), ({'name': 'bar.foo.com', 'path_prefix': '/'}, 'https://bar.foo.com/', True), ({'name': 'baz.bar.foo.com', 'path_prefix': '/'}, 'https://bar.foo.com', False), ({'name': 'bar.foo.com', 'path_prefix': '/baz'}, 'https://bar.foo.com/baz', True), ({'name': 'bar.foo.com', 'path_prefix': '/baz/'}, 'https://bar.foo.com/baz', True), ({'name': 'bar.foo.com', 'path_prefix': '/baz'}, 'https://bar.foo.com/baz/', True), ({'name': 'bar.foo.com', 'path_prefix': '/baz/'}, 'https://bar.foo.com/baz/', True), ({'name': 'bar.foo.com', 'path_prefix': '/baz/x'}, 'https://bar.foo.com/baz/', False)]):` | pytest.mark.parametrize | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCNativeDftCustomDomainManager | 无 | test_create_no_deploys, test_create_successfully, test_create_failed, domain_foo_com, test_update, test_delete | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/kres/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/kres/test_ingress.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, auto_create_ns, fail, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dedent | textwrap.dedent | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| remove_prefix | blue_krill.text.remove_prefix | 不适用 | module |
| remove_suffix | blue_krill.text.remove_suffix | 不适用 | module |
| ResourceInstance | kubernetes.dynamic.resource.ResourceInstance | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | INGRESS_USE_REGEX | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| GVKConfig | paas_wl.infras.resources.kube_res.base.GVKConfig | 不适用 | module |
| PIngressDomain | paas_wl.workloads.networking.ingress.entities.PIngressDomain | 不适用 | module |
| PServicePortPair | paas_wl.workloads.networking.ingress.entities.PServicePortPair | 不适用 | module |
| ProcessIngress | paas_wl.workloads.networking.ingress.kres_entities.ingress.ProcessIngress | 不适用 | module |
| ingress_kmodel | paas_wl.workloads.networking.ingress.kres_entities.ingress.ingress_kmodel | save, get, _make_serializer, _make_deserializer | module |
| ProcessService | paas_wl.workloads.networking.ingress.kres_entities.service.ProcessService | 不适用 | module |
| service_kmodel | paas_wl.workloads.networking.ingress.kres_entities.service.service_kmodel | save, list_by_app | module |
| IngressV1Beta1Deserializer | paas_wl.workloads.networking.ingress.kres_slzs.ingress.IngressV1Beta1Deserializer | 不适用 | module |
| IngressV1Beta1Serializer | paas_wl.workloads.networking.ingress.kres_slzs.ingress.IngressV1Beta1Serializer | 不适用 | module |
| IngressV1Deserializer | paas_wl.workloads.networking.ingress.kres_slzs.ingress.IngressV1Deserializer | 不适用 | module |
| IngressV1Serializer | paas_wl.workloads.networking.ingress.kres_slzs.ingress.IngressV1Serializer | 不适用 | module |
| ConfigurationSnippetPatcher | paas_wl.workloads.networking.ingress.kres_slzs.utils.ConfigurationSnippetPatcher | 不适用 | module |
| NginxRegexRewrittenProvider | paas_wl.workloads.networking.ingress.kres_slzs.utils.NginxRegexRewrittenProvider | make_configuration_snippet | module |
| create_wl_release | tests.paas_wl.utils.wl_app.create_wl_release | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| root_path | `@pytest.fixture():` | pytest.fixture | 不适用 |
| foo_path | `@pytest.fixture():` | pytest.fixture | 不适用 |
| foo_path_endswith_slash | `@pytest.fixture():` | pytest.fixture | 不适用 |
| https_ingress_domain | `@pytest.fixture():` | pytest.fixture | 不适用 |
| http_ingress_domain | `@pytest.fixture():` | pytest.fixture | 不适用 |
| ingress | `@pytest.fixture():` | pytest.fixture | 不适用 |
| subpath_ingress | `@pytest.fixture():` | pytest.fixture | 不适用 |
| fallback_configuration_snippet | `@pytest.fixture():` | pytest.fixture | 不适用 |
| pattern_configuration_snippet | `@pytest.fixture():` | pytest.fixture | 不适用 |
| build_v1beta1_ingress_path | `def build_v1beta1_ingress_path(path) -> Dict:` | 无 | 不适用 |
| build_v1_ingress_path | `def build_v1_ingress_path(path_str) -> Dict:` | 无 | 不适用 |
| build_legacy_pattern | `def build_legacy_pattern(path_str):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestProcessIngress | 无 | _setup_data, service, test_normal, test_paths, test_serializer_ordering, test_deserializer_ordering | 无 | 无 | 不适用 |
| TestIngressV1Beta1 | 无 | spec, subpath_spec, gvk_config, test_serialize, test_serialize_subpath, kube_data, subpath_kube_data, test_deserialize, test_deserialize_subpath | 无 | pytest.mark.parametrize | 不适用 |
| TestProcessIngressV1 | 无 | _setup, subpath_spec, gvk_config, test_serialize_subpath, subpath_kube_data, test_deserialize_subpath | 无 | 无 | 不适用 |
| TestPatternCompatible | 无 | _setup, v1beta1_spec, v1_spec, test_deserialize | 无 | 无 | 测试兼容旧版的正则表达式规则 |

---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/kres/test_service.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, auto_create_ns, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| PServicePortPair | paas_wl.workloads.networking.ingress.entities.PServicePortPair | 不适用 | module |
| ProcessService | paas_wl.workloads.networking.ingress.kres_entities.service.ProcessService | 不适用 | module |
| service_kmodel | paas_wl.workloads.networking.ingress.kres_entities.service.service_kmodel | list_by_app, save, delete, get, update | module |
| create_wl_release | tests.paas_wl.utils.wl_app.create_wl_release | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestProcessService | 无 | _setup_data, test_integrated, test_get_not_found, test_get_normal, test_update_not_found, test_update, test_update_with_less_ports | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/managers/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/managers/test_domain.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, auto_create_ns, fixture, usefixtures, parametrize, raises, mock_get_structured_app | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| patch | unittest.mock.patch | object | module |
| override_settings | django.test.utils.override_settings | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| DomainWithCert | paas_wl.workloads.networking.ingress.certs.DomainWithCert | 不适用 | module |
| AppDomainSource | paas_wl.workloads.networking.ingress.constants.AppDomainSource | AUTO_GEN, INDEPENDENT | module |
| AutoGenDomain | paas_wl.workloads.networking.ingress.entities.AutoGenDomain | 不适用 | module |
| DefaultServiceNameRequired | paas_wl.workloads.networking.ingress.exceptions.DefaultServiceNameRequired | 不适用 | module |
| EmptyAppIngressError | paas_wl.workloads.networking.ingress.exceptions.EmptyAppIngressError | 不适用 | module |
| ValidCertNotFound | paas_wl.workloads.networking.ingress.exceptions.ValidCertNotFound | 不适用 | module |
| ingress_kmodel | paas_wl.workloads.networking.ingress.kres_entities.ingress.ingress_kmodel | list_by_app, get | module |
| CustomDomainIngressMgr | paas_wl.workloads.networking.ingress.managers.domain.CustomDomainIngressMgr | 不适用 | module |
| IngressDomainFactory | paas_wl.workloads.networking.ingress.managers.domain.IngressDomainFactory | 不适用 | module |
| SubdomainAppIngressMgr | paas_wl.workloads.networking.ingress.managers.domain.SubdomainAppIngressMgr | 不适用 | module |
| assign_custom_hosts | paas_wl.workloads.networking.ingress.managers.domain.assign_custom_hosts | 不适用 | module |
| AppDomain | paas_wl.workloads.networking.ingress.models.AppDomain | count, objects, create, filter | module |
| AppDomainCert | paas_wl.workloads.networking.ingress.models.AppDomainCert | 不适用 | module |
| AppDomainSharedCert | paas_wl.workloads.networking.ingress.models.AppDomainSharedCert | create, objects | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAssignDomains | 无 | _foo_shared_cert, test_brand_new_domains, test_create_https_domains, test_domain_transfer_partially, test_domain_transfer_fully | 无 | pytest.mark.auto_create_ns | 不适用 |
| TestSubdomainAppIngressMgrCommon | 无 | _setup_data, test_sync_no_domains, test_sync_creation_with_no_default_server_name, test_sync_creation, test_sync_update, test_delete_non_existed, test_integrated, test_update_target, test_rewrite_ingress_path_to_root | 无 | pytest.mark.auto_create_ns | Test common interfaces for `SubdomainAppIngressMgr... |
| TestSubdomainAppIngressMgr | 无 | test_list_desired_domains, test_list_desired_domains_with_extra, test_list_desired_domains_with_wrong_source | 无 | 无 | 不适用 |
| TestCustomDomainIngressMgr | 无 | test_create, test_normal_delete, test_get_ingress_class | 无 | pytest.mark.mock_get_structured_app, pytest.mark.auto_create_ns | 不适用 |
| TestIntegratedDomains | 无 | test_assign_custom_hosts_affects_no_independent_domains | 无 | pytest.mark.auto_create_ns | Test cases for some combined situations |
| TestIngressDomainFactory | 无 | test_make_ingress_domain_with_http, test_https_cert_not_found, test_https_cert_not_found_no_exception, test_https_cert_created | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/managers/test_https.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, auto_create_ns, fixture, mock_get_structured_app | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppDomainSource | paas_wl.workloads.networking.ingress.constants.AppDomainSource | AUTO_GEN | module |
| ingress_kmodel | paas_wl.workloads.networking.ingress.kres_entities.ingress.ingress_kmodel | get | module |
| CustomDomainIngressMgr | paas_wl.workloads.networking.ingress.managers.domain.CustomDomainIngressMgr | 不适用 | module |
| SubdomainAppIngressMgr | paas_wl.workloads.networking.ingress.managers.domain.SubdomainAppIngressMgr | 不适用 | module |
| AppDomain | paas_wl.workloads.networking.ingress.models.AppDomain | create, objects | module |
| AppDomainCert | paas_wl.workloads.networking.ingress.models.AppDomainCert | create, objects | module |
| AppDomainSharedCert | paas_wl.workloads.networking.ingress.models.AppDomainSharedCert | create, objects | module |
| Domain | paas_wl.workloads.networking.ingress.models.Domain | create, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestSubdomainAppIngressMgrWithHTTPS | 无 | cert, shared_cert, test_domain_with_default_cert, test_domain_with_shared_cert, test_domain_with_not_matched_shared_cert, test_domain_with_no_https | 无 | pytest.mark.auto_create_ns | 不适用 |
| TestCustomDomainIngressWithHTTPS | 无 | shared_cert, test_domain_with_shared_cert, test_domain_with_not_matched_shared_cert, test_domain_with_no_https | 无 | pytest.mark.auto_create_ns, pytest.mark.mock_get_structured_app | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/managers/test_misc.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |
| pytest | django_db, mark, auto_create_ns, mock_get_structured_app | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| ProcessSpecManager | paas_wl.bk_app.processes.models.ProcessSpecManager | 不适用 | module |
| ProcessTmpl | paas_wl.bk_app.processes.models.ProcessTmpl | 不适用 | module |
| get_cluster_by_app | paas_wl.infras.cluster.utils.get_cluster_by_app | 不适用 | module |
| AppDomainSource | paas_wl.workloads.networking.ingress.constants.AppDomainSource | AUTO_GEN | module |
| ingress_kmodel | paas_wl.workloads.networking.ingress.kres_entities.ingress.ingress_kmodel | get, list_by_app | module |
| AppDefaultIngresses | paas_wl.workloads.networking.ingress.managers.misc.AppDefaultIngresses | 不适用 | module |
| LegacyAppIngressMgr | paas_wl.workloads.networking.ingress.managers.misc.LegacyAppIngressMgr | 不适用 | module |
| AppDomain | paas_wl.workloads.networking.ingress.models.AppDomain | create, objects | module |
| make_service_name | paas_wl.workloads.networking.ingress.utils.make_service_name | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestLegacyAppIngressMgr | 无 | test_list_desired_domains, test_set_header_x_script_name | 无 | 无 | 不适用 |
| TestAppDefaultIngresses | 无 | test_integrated, test_set_header_x_script_name, test_restore_default_service | 无 | pytest.mark.mock_get_structured_app, pytest.mark.auto_create_ns | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/managers/test_plugins.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppIngressMgr | paas_wl.workloads.networking.ingress.managers.AppIngressMgr | 不适用 | module |
| override_plugins | paas_wl.workloads.networking.ingress.plugins.override_plugins | 不适用 | module |
| IngressPlugin | paas_wl.workloads.networking.ingress.plugins.ingress.IngressPlugin | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| FooStubPlugin | paas_wl.workloads.networking.ingress.plugins.ingress.IngressPlugin | make_server_snippet, make_configuration_snippet | 无 | 无 | 不适用 |
| BarStubPlugin | paas_wl.workloads.networking.ingress.plugins.ingress.IngressPlugin | make_server_snippet | 无 | 无 | 不适用 |
| ExtraStubPlugin | paas_wl.workloads.networking.ingress.plugins.ingress.IngressPlugin | make_server_snippet, make_configuration_snippet | 无 | 无 | 不适用 |
| TestPlugins | 无 | test_default_plugins, test_extra_plugins | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/managers/test_subpath.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, auto_create_ns, fixture, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| override_settings | django.test.utils.override_settings | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| SubPathAppIngressMgr | paas_wl.workloads.networking.ingress.managers.subpath.SubPathAppIngressMgr | 不适用 | module |
| assign_subpaths | paas_wl.workloads.networking.ingress.managers.subpath.assign_subpaths | 不适用 | module |
| AppSubpath | paas_wl.workloads.networking.ingress.models.AppSubpath | create_obj, objects | module |
| cluster_ingress_config | tests.utils.mocks.cluster.cluster_ingress_config | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestSubPathAppIngressMgr | 无 | test_list_desired_domains_configured, test_list_desired_domains_not_configured | 无 | 无 | 不适用 |
| TestAssignSubpaths | 无 | _configure, test_brand_new_paths, test_subpath_transfer_partally, test_subpath_transfer_fully, test_get_ingress_class | 无 | pytest.mark.auto_create_ns | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/test_addrs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Domain | paas_wl.workloads.networking.ingress.models.Domain | create, objects, get | module |
| PortMap | paas_wl.infras.cluster.models.PortMap | 不适用 | module |
| Address | paas_wl.workloads.networking.entrance.addrs.Address | 不适用 | module |
| AddressType | paas_wl.workloads.networking.entrance.addrs.AddressType | SUBDOMAIN, SUBPATH, CUSTOM, LEGACY | module |
| LiveEnvAddresses | paas_wl.workloads.networking.entrance.shim.LiveEnvAddresses | 不适用 | module |
| PreAllocatedEnvAddresses | paas_wl.workloads.networking.entrance.shim.PreAllocatedEnvAddresses | 不适用 | module |
| get_legacy_url | paas_wl.workloads.networking.entrance.shim.get_legacy_url | 不适用 | module |
| AppDomainSource | paas_wl.workloads.networking.ingress.constants.AppDomainSource | AUTO_GEN | module |
| AppSubpathSource | paas_wl.workloads.networking.ingress.constants.AppSubpathSource | DEFAULT | module |
| AppDomain | paas_wl.workloads.networking.ingress.models.AppDomain | create, objects | module |
| AppSubpath | paas_wl.workloads.networking.ingress.models.AppSubpath | create, objects | module |
| create_release | tests.paas_wl.utils.release.create_release | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestEnvAddresses | 无 | _setup_data, test_not_deployed, test_integrated | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/test_migration_command.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppDomainSharedCert | paas_wl.workloads.networking.ingress.models.AppDomainSharedCert | 不适用 | module |
| BaseTestEnctrypMigrationCmd | tests.utils.encrypt_cmd_base.BaseTestEnctrypMigrationCmd | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCommand | tests.utils.encrypt_cmd_base.BaseTestEnctrypMigrationCmd | command_name, app_models | 无 | pytest.mark.parametrize | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/test_models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppDomainSharedCert | paas_wl.workloads.networking.ingress.models.AppDomainSharedCert | create, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppDomainSharedCert | 无 | test_match_hostname | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/test_plugins.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, raises, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| update_metadata | paas_wl.bk_app.applications.managers.update_metadata | 不适用 | module |
| PluginNotConfigured | paas_wl.workloads.networking.ingress.plugins.exceptions.PluginNotConfigured | 不适用 | module |
| AccessControlPlugin | paas_wl.workloads.networking.ingress.plugins.ingress.AccessControlPlugin | 不适用 | module |
| PaasAnalysisPlugin | paas_wl.workloads.networking.ingress.plugins.ingress.PaasAnalysisPlugin | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestModuleAccessControl | 无 | test_not_configured, test_acl_is_enabled_false, test_configured_with_region, test_configured_without_region | 无 | 无 | 不适用 |
| TestPaasAnalysisPlugin | 无 | app_with_metadata, test_different_config, test_enabled_no_metadata | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/test_serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| DomainEditableMixin | paas_wl.workloads.networking.entrance.serializers.DomainEditableMixin | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDomainEditableMixin | 无 | test_path_prefix | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/ingress/test_utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Mock | unittest.mock.Mock | 不适用 | module |
| patch | unittest.mock.patch | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| PIngressDomain | paas_wl.workloads.networking.ingress.entities.PIngressDomain | 不适用 | module |
| ProcessIngress | paas_wl.workloads.networking.ingress.kres_entities.ingress.ProcessIngress | 不适用 | module |
| get_main_process_service_name | paas_wl.workloads.networking.ingress.utils.get_main_process_service_name | 不适用 | module |
| get_service_dns_name | paas_wl.workloads.networking.ingress.utils.get_service_dns_name | 不适用 | module |
| guess_default_service_name | paas_wl.workloads.networking.ingress.utils.guess_default_service_name | 不适用 | module |
| make_service_name | paas_wl.workloads.networking.ingress.utils.make_service_name | 不适用 | module |
| parse_process_type | paas_wl.workloads.networking.ingress.utils.parse_process_type | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get_service_dns_name | `def test_get_service_dns_name(bk_stag_wl_app):` | 无 | 不适用 |
| test_parse_process_type | `def test_parse_process_type(bk_stag_wl_app):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestGuessDefaultServiceName | 无 | test_structure_with_web, test_structure_without_web, test_empty_structure | 无 | 无 | 不适用 |
| TestGetMainProcessServiceName | 无 | test_normal, test_none | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/workloads/networking/test_api.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| sync_proc_ingresses | paas_wl.workloads.networking.sync.sync_proc_ingresses | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.usefixtures('_with_wl_apps')]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_sync_proc_ingresses | `def test_sync_proc_ingresses(bk_stag_env):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/workloads/release_controller/__init__.py







---


### 模块: apiserver/paasng/tests/paas_wl/workloads/release_controller/test_api.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_latest_build_id | paas_wl.bk_app.applications.api.get_latest_build_id | 不适用 | module |
| Build | paas_wl.bk_app.applications.models.build.Build | create, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.usefixtures('_with_wl_apps')]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get_latest_build_id | `def test_get_latest_build_id(bk_stag_env):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paas_wl/workloads/release_controller/test_models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BuildProcess | paas_wl.bk_app.applications.models.build.BuildProcess | 不适用 | module |
| BuildStatus | paas_wl.utils.constants.BuildStatus | SUCCESSFUL | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestInterruptionAllowed | 无 | test_default, test_set_true, test_finished_status | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paas_wl/workloads/test_migration_command.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppImageCredential | paas_wl.workloads.images.models.AppImageCredential | 不适用 | module |
| AppUserCredential | paas_wl.workloads.images.models.AppUserCredential | 不适用 | module |
| BaseTestEnctrypMigrationCmd | tests.utils.encrypt_cmd_base.BaseTestEnctrypMigrationCmd | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCommand | tests.utils.encrypt_cmd_base.BaseTestEnctrypMigrationCmd | command_name, app_models | 无 | pytest.mark.parametrize | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/accessories/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/accessories/cloudapi/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/accessories/cloudapi/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| APIRequestFactory | rest_framework.test.APIRequestFactory | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| request_factory | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| APIRequestFactory | DRFAPIRequestFactory | __init__, request | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/cloudapi/test_api.py







---


### 模块: apiserver/paasng/tests/paasng/accessories/cloudapi/test_bk_apigateway_inner.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BkApigatewayInnerComponent | paasng.accessories.cloudapi.components.bk_apigateway_inner.BkApigatewayInnerComponent | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestBkApigatewayInnerComponent | 无 | test_prepare_headers | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/cloudapi/test_component.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| APIError | blue_krill.web.std_error.APIError | 不适用 | module |
| BaseComponent | paasng.accessories.cloudapi.components.component.BaseComponent | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestBaseComponent | 无 | test_call_api, test_urljoin | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/cloudapi/test_utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| APIError | blue_krill.web.std_error.APIError | 不适用 | module |
| utils | paasng.accessories.cloudapi.utils | get_user_auth_type | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestUtils | 无 | test_get_user_auth_type | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/cloudapi/test_views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | PropertyMock | module |
| APIError | blue_krill.web.std_error.APIError | 不适用 | module |
| views | paasng.accessories.cloudapi.views | as_view, CloudAPIViewSet, _trans_request_path_to_apigw_url | module |
| OperationEnum | paasng.misc.audit.constants.OperationEnum | APPLY | module |
| Application | paasng.platform.applications.models.Application | get_or_create, objects | module |
| get_response_json | tests.utils.testing.get_response_json | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCloudAPIViewSet | 无 | test_get, test_post, test_get_bk_apigateway_inner_api_path | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/dev_sandbox/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/accessories/dev_sandbox/test_config_var.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | CONFIGVAR_SYSTEM_PREFIX, PYTHON_BUILDPACK_PIP_INDEX_URL | module |
| generate_envs | paasng.accessories.dev_sandbox.config_var.generate_envs | 不适用 | module |
| SlugbuilderInfo | paasng.platform.engine.configurations.building.SlugbuilderInfo | from_module | module |
| AppInfoBuiltinEnv | paasng.platform.engine.constants.AppInfoBuiltinEnv | APP_SECRET, APP_ID | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_generate_envs | `def test_generate_envs(bk_app, bk_module):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/accessories/log/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/accessories/log/test_filter.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Search | elasticsearch_dsl.Search | 不适用 | module |
| EnvFilter | paasng.accessories.log.filters.EnvFilter | 不适用 | module |
| ESFilter | paasng.accessories.log.filters.ESFilter | 不适用 | module |
| ModuleFilter | paasng.accessories.log.filters.ModuleFilter | 不适用 | module |
| _clean_property | paasng.accessories.log.filters._clean_property | 不适用 | module |
| count_filters_options_from_agg | paasng.accessories.log.filters.count_filters_options_from_agg | 不适用 | module |
| count_filters_options_from_logs | paasng.accessories.log.filters.count_filters_options_from_logs | 不适用 | module |
| ElasticSearchParams | paasng.accessories.log.models.ElasticSearchParams | 不适用 | module |
| FieldFilter | paasng.utils.es_log.models.FieldFilter | 不适用 | module |
| SmartSearch | paasng.utils.es_log.search.SmartSearch | __new__ | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| all_filters | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_count_filters_options_from_agg | `@pytest.mark.parametrize(('aggregations', 'expected'), [({'foo': {'buckets': [{'key': 'example'}, {'key': 'another example'}]}}, {'foo': FieldFilter(name='foo', key='foo.keyword', options=[('example', '50.00%'), ('another example', '50.00%')]), 'bar': FieldFilter(name='bar', key='bar'), 'b.a.z': FieldFilter(name='b.a.z', key='b.a.z')}), ({'foo': {'buckets': [{'key': 'example'}, {'key': 'another example'}]}, 'b.a.r': {'buckets': [{'key': 'example'}, {'key': 'another example'}]}}, {'foo': FieldFilter(name='foo', key='foo.keyword', options=[('example', '50.00%'), ('another example', '50.00%')]), 'bar': FieldFilter(name='bar', key='bar'), 'b.a.z': FieldFilter(name='b.a.z', key='b.a.z')})]):` | pytest.mark.parametrize | 不适用 |
| test_count_filters_options_from_logs | `@pytest.mark.parametrize(('logs', 'expected'), [([], {}), ([{'foo': '1', 'bar': '1', 'b': {'a': {'z': '1'}}}], {'foo': FieldFilter(name='foo', key='foo.keyword', options=[('1', '100.00%')], total=1), 'bar': FieldFilter(name='bar', key='bar', options=[('1', '100.00%')], total=1), 'b.a.z': FieldFilter(name='b.a.z', key='b.a.z', options=[('1', '100.00%')], total=1)}), ([{'foo': '1', 'bar': '1', 'b': {'a': {'z': '1'}}}, {'foo': '1', 'bar': '2'}], {'foo': FieldFilter(name='foo', key='foo.keyword', options=[('1', '100.00%')], total=2), 'bar': FieldFilter(name='bar', key='bar', options=[('1', '50.00%'), ('2', '50.00%')], total=2), 'b.a.z': FieldFilter(name='b.a.z', key='b.a.z', options=[('1', '100.00%')], total=1)})]):` | pytest.mark.parametrize | 不适用 |
| test_count_filters_options_from_logs_when_options_has_been_set | `def test_count_filters_options_from_logs_when_options_has_been_set(all_filters):` | 无 | 不适用 |
| bk_app | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_module | `@pytest.fixture():` | pytest.fixture | 不适用 |
| env | `@pytest.fixture():` | pytest.fixture | 不适用 |
| search | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_clean_property | `@pytest.mark.parametrize(('nested_name', 'mapping', 'expected'), [(['a'], {'properties': {'a': {'type': 'text'}, 'b': {'type': 'int'}}}, [FieldFilter(name='a.a', key='a.a.keyword'), FieldFilter(name='a.b', key='a.b')]), (['a', 'b', 'c'], {'properties': {'d': {'properties': {'e': {'properties': {'f': {'properties': {'g': {'type': 'text'}}}}}}}}}, [FieldFilter(name='a.b.c.d.e.f.g', key='a.b.c.d.e.f.g.keyword')]), (['a'], {'a': {'type': 'text'}, 'b': {'type': 'int'}}, [])]):` | pytest.mark.parametrize | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestESFilter | 无 | test_filter_by_builtin_filters, test_filter_by_builtin_excludes | 无 | 无 | 不适用 |
| TestEnvFilter | 无 | engine_app, test_filter_by_env | 无 | 无 | 不适用 |
| TestModuleFilter | 无 | stag_engine_app, prod_engine_app, test_filter_by_module, test_render_failed | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/log/test_responses.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |
| pytest | django_db, mark, fixture, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Hit | elasticsearch_dsl.response.hit.Hit | 不适用 | module |
| LogLineInfoBrokenError | paasng.accessories.log.exceptions.LogLineInfoBrokenError | 不适用 | module |
| ElasticSearchParams | paasng.accessories.log.models.ElasticSearchParams | 不适用 | module |
| IngressLogLine | paasng.accessories.log.responses.IngressLogLine | 不适用 | module |
| StructureLogLine | paasng.accessories.log.responses.StructureLogLine | 不适用 | module |
| clean_logs | paasng.accessories.log.utils.clean_logs | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| search_params | `@pytest.fixture():` | pytest.fixture | 不适用 |
| make_fake_hit | `@pytest.fixture():` | pytest.fixture | 一个用于测试的日志返回结果 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestStructureLogLine | 无 | test_parse_raw_log, test_lacking_key_info | 无 | 无 | 不适用 |
| TestIngressLogLine | 无 | make_fake_hit, test_parse_ingress_raw_log, test_ingress_lacking_key_info | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/log/test_utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture, parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| SearchRequestSchema | paasng.accessories.log.dsl.SearchRequestSchema | 不适用 | module |
| NOT_SET | paasng.accessories.log.utils.NOT_SET | 不适用 | module |
| get_es_term | paasng.accessories.log.utils.get_es_term | 不适用 | module |
| parse_request_to_es_dsl | paasng.accessories.log.utils.parse_request_to_es_dsl | 不适用 | module |
| rename_log_fields | paasng.accessories.log.utils.rename_log_fields | 不适用 | module |
| convert_timestamp_to_str | paasng.utils.datetime.convert_timestamp_to_str | 不适用 | module |
| format_timestamp | paasng.utils.es_log.misc.format_timestamp | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_stats_indexes_fake_resp | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_get_es_term | `@pytest.mark.parametrize(('query_term', 'mappings', 'expected'), [('dd', {'dd': {'type': 'text'}}, 'dd.keyword'), ('dd', {'dd': {'type': 'int'}}, 'dd'), ('dd', {'dd': {'type': 'keyword'}}, 'dd'), ('dd', {'xxx': {'type': 'keyword'}}, 'dd'), ('json.levelname', {'json': {'properties': {'levelname': {'type': 'text'}}}}, 'json.levelname.keyword'), ('json.levelname', {'json': {'properties': {'levelname': {'type': 'keyword'}}}}, 'json.levelname'), ('json.levelname.no', {'json': {'properties': {'levelname': {'properties': {'no': {'type': 'keyword'}}}}}}, 'json.levelname.no'), ('json.levelname.no', {'json': {'properties': {'levelname': {'properties': {'no': {'type': 'text'}}}}}}, 'json.levelname.no.keyword'), ('pod_name', {}, 'pod_name'), ('pod_name', {'__ext': {'properties': {'io_kubernetes_pod': {'type': 'keyword'}}}}, '__ext.io_kubernetes_pod'), ('region', {'__ext': {'properties': {'labels': {'properties': {'bkapp_paas_bk_tencent_com_region': {'type': 'keyword'}}}}}}, '__ext.labels.bkapp_paas_bk_tencent_com_region'), ('app_code', {'__ext': {'properties': {'labels': {'properties': {'bkapp_paas_bk_tencent_com_code': {'type': 'keyword'}}}}}}, '__ext.labels.bkapp_paas_bk_tencent_com_code'), ('module_name', {'__ext': {'properties': {'labels': {'properties': {'bkapp_paas_bk_tencent_com_module_name': {'type': 'keyword'}}}}}}, '__ext.labels.bkapp_paas_bk_tencent_com_module_name'), ('environment', {'__ext': {'properties': {'labels': {'properties': {'bkapp_paas_bk_tencent_com_environment': {'type': 'keyword'}}}}}}, '__ext.labels.bkapp_paas_bk_tencent_com_environment'), ('process_id', {'__ext': {'properties': {'labels': {'properties': {'bkapp_paas_bk_tencent_com_process_name': {'type': 'keyword'}}}}}}, '__ext.labels.bkapp_paas_bk_tencent_com_process_name')]):` | pytest.mark.parametrize | 不适用 |
| test_rename_log_fields | `@pytest.mark.parametrize(('log', 'expected'), [({'__ext.labels.bkapp_paas_bk_tencent_com_region': 'default'}, {**_default_log, '__ext.labels.bkapp_paas_bk_tencent_com_region': 'default', 'region': 'default'}), ({'__ext.labels.bkapp_paas_bk_tencent_com_environment': 'stag'}, {**_default_log, '__ext.labels.bkapp_paas_bk_tencent_com_environment': 'stag', 'environment': 'stag'}), ({'__ext.labels.bkapp_paas_bk_tencent_com_region': 'default', '__ext.labels.bkapp_paas_bk_tencent_com_code': 'code', '__ext.labels.bkapp_paas_bk_tencent_com_module_name': 'default', '__ext.labels.bkapp_paas_bk_tencent_com_environment': 'stag', '__ext.labels.bkapp_paas_bk_tencent_com_process_name': 'web', '__ext.io_kubernetes_pod': 'bkapp-code-stag--web-8449579sh9d2'}, {'__ext.labels.bkapp_paas_bk_tencent_com_region': 'default', '__ext.labels.bkapp_paas_bk_tencent_com_code': 'code', '__ext.labels.bkapp_paas_bk_tencent_com_module_name': 'default', '__ext.labels.bkapp_paas_bk_tencent_com_environment': 'stag', '__ext.labels.bkapp_paas_bk_tencent_com_process_name': 'web', '__ext.io_kubernetes_pod': 'bkapp-code-stag--web-8449579sh9d2', 'region': 'default', 'app_code': 'code', 'module_name': 'default', 'environment': 'stag', 'process_id': 'web', 'pod_name': 'bkapp-code-stag--web-8449579sh9d2', 'stream': NOT_SET})]):` | pytest.mark.parametrize | 不适用 |
| test_parse_request_to_es_dsl | `@pytest.mark.parametrize(('query_conditions', 'mappings', 'expected'), [(SearchRequestSchema(query={'query_string': 'foo'}), {}, {'query_string': {'query': 'foo', 'analyze_wildcard': True}}), (SearchRequestSchema(query={'query_string': 'foo', 'terms': {'app_code': {'foo'}}}), {}, {'bool': {'must': [{'query_string': {'query': 'foo', 'analyze_wildcard': True}}, {'terms': {'app_code': ['foo']}}]}}), (SearchRequestSchema(query={'query_string': 'foo', 'terms': {'app_code': ['foo']}}), {'app_code': {'type': 'text'}}, {'bool': {'must': [{'query_string': {'query': 'foo', 'analyze_wildcard': True}}, {'terms': {'app_code.keyword': ['foo']}}]}}), (SearchRequestSchema(query={'query_string': 'foo', 'terms': {'app_code': ['foo']}, 'exclude': {'module_name': ['bar']}}, sort={'response_time': 'desc'}), {'app_code': {'type': 'text'}}, {'bool': {'must': [{'query_string': {'query': 'foo', 'analyze_wildcard': True}}, {'terms': {'app_code.keyword': ['foo']}}], 'must_not': [{'terms': {'module_name': ['bar']}}]}})]):` | pytest.mark.parametrize | 不适用 |
| test_legacy_ts_field | `@pytest.mark.parametrize(('es_timestamp', 'expected_ts'), [('2023-04-11T11:13:58.102Z', '2023-04-11 19:13:58'), ('2023-04-11T11:13:57.958Z', '2023-04-11 19:13:57')]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/accessories/paas_analysis/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/accessories/paas_analysis/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Site | paasng.accessories.paas_analysis.entities.Site | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| site_name | `@pytest.fixture():` | pytest.fixture | 不适用 |
| site | `@pytest.fixture():` | pytest.fixture | 不适用 |
| site_dict | `@pytest.fixture():` | pytest.fixture | 不适用 |
| page_view_config | `@pytest.fixture():` | pytest.fixture | 不适用 |
| interval_metrics | `@pytest.fixture():` | pytest.fixture | 不适用 |
| total_data_metrics | `@pytest.fixture():` | pytest.fixture | 不适用 |
| dimension_metrics | `@pytest.fixture():` | pytest.fixture | 不适用 |
| pv_agg_by_interval_metrics | `@pytest.fixture():` | pytest.fixture | 不适用 |
| ce_agg_by_interval_metrics | `@pytest.fixture():` | pytest.fixture | 不适用 |
| custom_event_overview | `@pytest.fixture():` | pytest.fixture | 不适用 |
| custom_event_category_detail | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/accessories/paas_analysis/test_client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | today, date, now, datetime | module |
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch, MagicMock | module |
| WlAppMetadata | paas_wl.bk_app.applications.managers.WlAppMetadata | 不适用 | module |
| SiteMetricsClient | paasng.accessories.paas_analysis.clients.SiteMetricsClient | 不适用 | module |
| MetricsDimensionType | paasng.accessories.paas_analysis.constants.MetricsDimensionType | PATH, value, ACTION | module |
| MetricsInterval | paasng.accessories.paas_analysis.constants.MetricsInterval | ONE_HOUR | module |
| MetricSourceType | paasng.accessories.paas_analysis.constants.MetricSourceType | USER_TRACKER | module |
| enable_ingress_tracking | paasng.accessories.paas_analysis.services.enable_ingress_tracking | 不适用 | module |
| get_ingress_tracking_status | paasng.accessories.paas_analysis.services.get_ingress_tracking_status | 不适用 | module |
| get_or_create_site_by_env | paasng.accessories.paas_analysis.services.get_or_create_site_by_env | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestSiteMetricsClient | 无 | test_get_or_create_site_by_env, test_get_site_config, test_get_total_metric_about_site, test_get_metrics_dimension, test_get_metrics_aggregate_by_interval_about_site, test_get_custom_event_overview, get_custom_event_detail, test_get_custom_event_trend_about_site | 无 | mock.patch | 不适用 |
| TestIngressTrackingStatus | 无 | test_get_status, test_enable | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/publish/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/accessories/publish/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppTagManger | paasng.accessories.publish.sync_market.managers.AppTagManger | 不适用 | module |
| console_db | paasng.core.core.storages.sqlalchemy.console_db | session_scope | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| tag_name | `@pytest.fixture():` | pytest.fixture | 不适用 |
| create_default_tag | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/accessories/publish/entrance/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/accessories/publish/entrance/test_domains.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |
| pytest | django_db, mark, parametrize, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Domain | paas_wl.infras.cluster.models.Domain | 不适用 | module |
| IngressConfig | paas_wl.infras.cluster.models.IngressConfig | 不适用 | module |
| PortMap | paas_wl.infras.cluster.models.PortMap | 不适用 | module |
| DomainPriorityType | paas_wl.workloads.networking.entrance.allocator.domains.DomainPriorityType | STABLE, WITHOUT_MODULE, ONLY_CODE | module |
| ModuleEnvDomains | paas_wl.workloads.networking.entrance.allocator.domains.ModuleEnvDomains | 不适用 | module |
| SubDomainAllocator | paas_wl.workloads.networking.entrance.allocator.domains.SubDomainAllocator | 不适用 | module |
| get_preallocated_domain | paasng.accessories.publish.entrance.domains.get_preallocated_domain | 不适用 | module |
| get_preallocated_domains_by_env | paasng.accessories.publish.entrance.domains.get_preallocated_domains_by_env | 不适用 | module |
| cluster_ingress_config | tests.utils.mocks.cluster.cluster_ingress_config | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| bk_app | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestGetPreallocatedDomain | 无 | test_not_configured, test_enable_https, test_without_module_name, test_with_module_name | 无 | 无 | 不适用 |
| TestModuleEnvDomains | 无 | test_prod_default, test_stag_default, test_stag_non_default, test_enable_https_by_default | 无 | 无 | 不适用 |
| TestModuleEnvDomainsCodeWithUnderscore | 无 | bk_app, test_prod_default | 无 | 无 | 不适用 |
| TestSubDomainAllocator | 无 | allocator, domain_cfg, test_list_available_universal, test_list_available_default, test_get_highest_priority_universal, test_get_highest_priority_default, test_get_highest_priority_default_prod | 无 | 无 | 不适用 |
| TestGetPreallocatedDomainsByEnv | 无 | _setup_cluster, test_default_prod_env, test_non_default | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/publish/entrance/test_exposer.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, usefixtures, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Address | paas_wl.workloads.networking.entrance.addrs.Address | 不适用 | module |
| AddressType | paas_wl.workloads.networking.entrance.constants.AddressType | SUBDOMAIN | module |
| env_is_deployed | paasng.accessories.publish.entrance.exposer.env_is_deployed | 不适用 | module |
| get_exposed_url | paasng.accessories.publish.entrance.exposer.get_exposed_url | 不适用 | module |
| ExposedURLType | paasng.platform.modules.constants.ExposedURLType | SUBDOMAIN | module |
| override_region_configs | tests.utils.helpers.override_region_configs | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_env_is_deployed | `def test_env_is_deployed(bk_stag_env, bk_prod_env, mock_env_is_running):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestGetExposedUrl | 无 | test_not_running, test_preferred_root | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/publish/entrance/test_preallocated.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |
| pytest | django_db, mark, raises, parametrize, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Cluster | paas_wl.infras.cluster.models.Cluster | 不适用 | module |
| Domain | paas_wl.infras.cluster.models.Domain | 不适用 | module |
| IngressConfig | paas_wl.infras.cluster.models.IngressConfig | 不适用 | module |
| _default_preallocated_urls | paasng.accessories.publish.entrance.preallocated._default_preallocated_urls | 不适用 | module |
| get_exposed_url_type | paasng.accessories.publish.entrance.preallocated.get_exposed_url_type | 不适用 | module |
| get_preallocated_address | paasng.accessories.publish.entrance.preallocated.get_preallocated_address | 不适用 | module |
| get_preallocated_url | paasng.accessories.publish.entrance.preallocated.get_preallocated_url | 不适用 | module |
| get_preallocated_urls | paasng.accessories.publish.entrance.preallocated.get_preallocated_urls | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | STAG, PROD | module |
| ExposedURLType | paasng.platform.modules.constants.ExposedURLType | value, SUBPATH, SUBDOMAIN | module |
| override_region_configs | tests.utils.helpers.override_region_configs | 不适用 | module |
| cluster_ingress_config | tests.utils.mocks.cluster.cluster_ingress_config | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_default_preallocated_urls_empty | `def test_default_preallocated_urls_empty(bk_stag_env):` | 无 | 不适用 |
| test_default_preallocated_urls_normal | `def test_default_preallocated_urls_normal(bk_stag_env):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestGetExposedUrlType | 无 | test_non_existent, test_non_existent_module, test_normal | 无 | 无 | 不适用 |
| TestGetPreallocatedAddress | 无 | test_not_configured, test_normal, test_preferred_url_type, test_with_clusters | 无 | 无 | 不适用 |
| TestDefaultEntrance | 无 | _setup, test_single_entrance, test_sub_domain, test_get_preallocated_urls_legacy | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/publish/entrance/test_subpaths.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| override_settings | django.test.utils.override_settings | 不适用 | module |
| Domain | paas_wl.infras.cluster.models.Domain | 不适用 | module |
| IngressConfig | paas_wl.infras.cluster.models.IngressConfig | 不适用 | module |
| PortMap | paas_wl.infras.cluster.models.PortMap | 不适用 | module |
| ModuleEnvSubpaths | paas_wl.workloads.networking.entrance.allocator.subpaths.ModuleEnvSubpaths | 不适用 | module |
| SubPathAllocator | paas_wl.workloads.networking.entrance.allocator.subpaths.SubPathAllocator | 不适用 | module |
| SubpathPriorityType | paas_wl.workloads.networking.entrance.allocator.subpaths.SubpathPriorityType | STABLE, WITHOUT_MODULE, ONLY_CODE | module |
| get_legacy_compatible_path | paasng.accessories.publish.entrance.subpaths.get_legacy_compatible_path | 不适用 | module |
| get_preallocated_path | paasng.accessories.publish.entrance.subpaths.get_preallocated_path | 不适用 | module |
| get_preallocated_paths_by_env | paasng.accessories.publish.entrance.subpaths.get_preallocated_paths_by_env | 不适用 | module |
| cluster_ingress_config | tests.utils.mocks.cluster.cluster_ingress_config | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get_legacy_compatible_path | `def test_get_legacy_compatible_path(bk_stag_env):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestModuleEnvSubpaths | 无 | bk_app, _setup_cluster, test_prod_default, test_stag_default, test_stag_non_default, test_disable_legacy_pattern | 无 | 无 | 不适用 |
| TestModuleEnvSubpathsNotConfigured | 无 | _setup_cluster, test_prod_default | 无 | 无 | 不适用 |
| TestGetPreallocatedPath | 无 | test_no_module_name, test_with_module_name, test_https | 无 | 无 | 不适用 |
| TestSubPathAllocator | 无 | allocator, domain_cfg, test_list_available_universal, test_list_available_default, test_get_highest_priority_universal, test_get_highest_priority_default, test_get_highest_priority_default_prod | 无 | 无 | 不适用 |
| TestGetPreallocatedPathsByEnv | 无 | _setup_cluster, test_default_prod_env, test_non_default | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/publish/entrance/test_triggers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| BkAppResource | paas_wl.bk_app.cnative.specs.crd.bk_app.BkAppResource | 不适用 | module |
| sync_default_entrances_for_cnative_module_switching | paas_wl.bk_app.cnative.specs.handlers.sync_default_entrances_for_cnative_module_switching | 不适用 | module |
| sync_default_entrances_for_module_switching | paas_wl.workloads.networking.entrance.handlers.sync_default_entrances_for_module_switching | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_sync_default_entrances_for_module_switching | `@mock.patch('paas_wl.workloads.networking.entrance.handlers.refresh_module_subpaths'):` | mock.patch, mock.patch | 不适用 |
| test_sync_default_entrances_for_cnative_module_switching | `@mock.patch('paas_wl.bk_app.cnative.specs.handlers.sync_networking'):` | mock.patch | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/accessories/publish/entrance/test_utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_legacy_url | paas_wl.workloads.networking.entrance.utils.get_legacy_url | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get_legacy_url | `def test_get_legacy_url(bk_stag_env):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/accessories/publish/market/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/accessories/publish/market/test_publish.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| Product | paasng.accessories.publish.market.models.Product | create_default_product, objects | module |
| AppPublishPreparer | paasng.accessories.publish.market.protections.AppPublishPreparer | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | value, SUCCESSFUL | module |
| create_fake_deployment | tests.paasng.platform.engine.setup_utils.create_fake_deployment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_create_default_product | `def test_create_default_product(bk_app):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppPublishPreparer | 无 | test_fresh_app, test_app_with_product, test_app_with_product_prod_env | app_extra_fields | 无 | Test cases for AppPublishPreparer |

---


### 模块: apiserver/paasng/tests/paasng/accessories/publish/market/test_utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| Address | paas_wl.workloads.networking.entrance.addrs.Address | 不适用 | module |
| AddressType | paas_wl.workloads.networking.entrance.constants.AddressType | CUSTOM, SUBDOMAIN, SUBPATH | module |
| ProductSourceUrlType | paasng.accessories.publish.market.constant.ProductSourceUrlType | value, ENGINE_PROD_ENV, CUSTOM_DOMAIN, THIRD_PARTY, DISABLED | module |
| AvailableAddress | paasng.accessories.publish.market.models.AvailableAddress | 不适用 | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | get_or_create_by_app, objects | module |
| MarketAvailableAddressHelper | paasng.accessories.publish.market.utils.MarketAvailableAddressHelper | 不适用 | module |
| ExposedURLType | paasng.platform.modules.constants.ExposedURLType | value, SUBDOMAIN | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| set_custom_domain | `@pytest.fixture():` | pytest.fixture | Allow to set custom domains by mocking |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestMarketAvailableAddressHelper | 无 | _setup, test_filter_domain_address_not_found, test_access_entrance, test_access_entrance_for_custom_domain, test_different_access_entrance_url_type | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/publish/sync_market/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| configure_regions | tests.utils.helpers.configure_regions | 不适用 | module |





---


### 模块: apiserver/paasng/tests/paasng/accessories/publish/sync_market/test_app_tag.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Tag | paasng.accessories.publish.market.models.Tag | filter, objects | module |
| mark_skip_if_console_not_configured | tests.conftest.mark_skip_if_console_not_configured | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [mark_skip_if_console_not_configured(), pytest.mark.django_db]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppTag | 无 | test_sync_tag | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/publish/sync_market/test_sync_console.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| pytest | django_db, mark, xdist_group, usefixtures, fixture, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| Product | paasng.accessories.publish.market.models.Product | create_default_product, objects | module |
| on_change_application_name | paasng.accessories.publish.sync_market.handlers.on_change_application_name | 不适用 | module |
| on_product_deploy_success | paasng.accessories.publish.sync_market.handlers.on_product_deploy_success | 不适用 | module |
| register_app_core_data | paasng.accessories.publish.sync_market.handlers.register_app_core_data | 不适用 | module |
| register_application_with_default | paasng.accessories.publish.sync_market.handlers.register_application_with_default | 不适用 | module |
| sync_console_app_developers | paasng.accessories.publish.sync_market.handlers.sync_console_app_developers | 不适用 | module |
| sync_console_app_devopses | paasng.accessories.publish.sync_market.handlers.sync_console_app_devopses | 不适用 | module |
| sync_release_record | paasng.accessories.publish.sync_market.handlers.sync_release_record | 不适用 | module |
| validate_app_code_uniquely | paasng.accessories.publish.sync_market.handlers.validate_app_code_uniquely | 不适用 | module |
| validate_app_name_uniquely | paasng.accessories.publish.sync_market.handlers.validate_app_name_uniquely | 不适用 | module |
| AppDeveloperManger | paasng.accessories.publish.sync_market.managers.AppDeveloperManger | 不适用 | module |
| AppManger | paasng.accessories.publish.sync_market.managers.AppManger | 不适用 | module |
| AppOpsManger | paasng.accessories.publish.sync_market.managers.AppOpsManger | 不适用 | module |
| AppReleaseRecordManger | paasng.accessories.publish.sync_market.managers.AppReleaseRecordManger | 不适用 | module |
| console_db | paasng.core.core.storages.sqlalchemy.console_db | get_scoped_session, session_scope | module |
| add_role_members | paasng.infras.iam.helpers.add_role_members | 不适用 | module |
| delete_role_members | paasng.infras.iam.helpers.delete_role_members | 不适用 | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | DEVELOPER, OPERATOR | module |
| AppFieldValidationError | paasng.platform.applications.exceptions.AppFieldValidationError | 不适用 | module |
| IntegrityError | paasng.platform.applications.exceptions.IntegrityError | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | value, SUCCESSFUL | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| LegacyAppState | paasng.platform.mgrlegacy.constants.LegacyAppState | value, DEVELOPMENT | module |
| mark_skip_if_console_not_configured | tests.conftest.mark_skip_if_console_not_configured | 不适用 | module |
| create_app | tests.utils.helpers.create_app | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [mark_skip_if_console_not_configured(), pytest.mark.django_db, pytest.mark.xdist_group(name='legacy-db'), pytest.mark.usefixtures('_register_app_core_data')]` | module |
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_create_release_record | `def test_create_release_record(bk_app):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppMembers | 无 | init_data, test_init_members, test_delete_members, test_add_members | 无 | 无 | 不适用 |
| TestApp | 无 | test_validate_app_code, test_validate_app_name, test_change_app_name, test_register_app, test_app_state | 无 | 无 | 
    部分功能的单元测试已经包含在其他模块
    - 同步应用信息：tests/api/tes... |
| TestHandlers | 无 | test_sync_app_deploy_records | 无 | 无 | 不适用 |
| TestProduct | 无 | test_create_default_product | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/publish/test_entrance.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, usefixtures, skip | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| mock | unittest.mock | patch | module |
| settings | django.conf.settings | 不适用 | module |
| to_attribute | translated_fields.to_attribute | 不适用 | module |
| Address | paas_wl.workloads.networking.entrance.addrs.Address | 不适用 | module |
| AddressType | paas_wl.workloads.networking.entrance.addrs.AddressType | SUBDOMAIN | module |
| get_exposed_url | paasng.accessories.publish.entrance.exposer.get_exposed_url | 不适用 | module |
| get_module_exposed_links | paasng.accessories.publish.entrance.exposer.get_module_exposed_links | 不适用 | module |
| update_exposed_url_type_to_subdomain | paasng.accessories.publish.entrance.exposer.update_exposed_url_type_to_subdomain | 不适用 | module |
| AppType | paasng.accessories.publish.market.constant.AppType | value, PAAS_APP | module |
| Product | paasng.accessories.publish.market.models.Product | update_or_create, objects | module |
| MarketAvailableAddressHelper | paasng.accessories.publish.market.utils.MarketAvailableAddressHelper | 不适用 | module |
| register_application_with_default | paasng.accessories.publish.sync_market.handlers.register_application_with_default | 不适用 | module |
| AppManger | paasng.accessories.publish.sync_market.managers.AppManger | 不适用 | module |
| console_db | paasng.core.core.storages.sqlalchemy.console_db | get_scoped_session | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | value, SUCCESSFUL | module |
| ExposedURLType | paasng.platform.modules.constants.ExposedURLType | SUBDOMAIN, SUBPATH | module |
| create_fake_deployment | tests.paasng.platform.engine.setup_utils.create_fake_deployment | 不适用 | module |
| cluster_ingress_config | tests.utils.mocks.cluster.cluster_ingress_config | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| bk_app | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_get_module_exposed_links | `def test_get_module_exposed_links(bk_module, bk_stag_env, bk_prod_env, mock_env_is_running, mock_get_builtin_addresses):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestIntegratedNotDeployed | 无 | test_normal | 无 | 无 | 不适用 |
| TestUpdateExposedURLType | 无 | _setup, test_normal, test_with_legacy_market | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/servicehub/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/accessories/servicehub/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| collector | paasng.accessories.servicehub.remote.collector | from_json, RemoteSvcConfig, RemoteSvcFetcher | module |
| get_remote_store | paasng.accessories.servicehub.remote.store.get_remote_store | 不适用 | module |
| gen_plan | tests.paasng.accessories.servicehub.utils.gen_plan | 不适用 | module |
| gen_service | tests.paasng.accessories.servicehub.utils.gen_service | 不适用 | module |
| mock_json_response | tests.utils.api.mock_json_response | 不适用 | module |
| configure_regions | tests.utils.helpers.configure_regions | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| bk_service_r1 | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_plan_r1_v1 | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_plan_r1_v2 | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_plan_r2_v1 | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/accessories/servicehub/data_mocks.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| REMOTE_INSTANCE_JSON | {'uuid': '493b6f67-b4fd-4739-9a27-85a9356422e6', 'created': '2019-03-27T09:00:40.489049Z', 'updated': '2019-03-27T09:00:40.490166Z', 'config': {'username': 'pig-bucket-2', 'max_size': 1048576}, 'credentials': {'aws_access_key_id': '35ZQ8Q2J6C81C6B87240', 'aws_secret_access_key': 'txdM570AYr2scYADCIBLhv2GJPM2mnCZsjoeQ6fi', 'rgw_host': '87c5004cb123:38081', 'rgw_url': 'http://87c5004cb123:38081', 'bucket': 'pig-bucket-2'}, 'service': '4c17073c-b2b9-421a-8a67-223200e3c0dc', 'plan': 'f8ad12f2-4dd5-4871-8e31-9a1f9f3795a2'} | `REMOTE_INSTANCE_JSON = {'uuid': '493b6f67-b4fd-4739-9a27-85a9356422e6', 'created': '2019-03-27T09:00:40.489049Z', 'updated': '2019-03-27T09:00:40.490166Z', 'config': {'username': 'pig-bucket-2', 'max_size': 1048576}, 'credentials': {'aws_access_key_id': '35ZQ8Q2J6C81C6B87240', 'aws_secret_access_key': 'txdM570AYr2scYADCIBLhv2GJPM2mnCZsjoeQ6fi', 'rgw_host': '87c5004cb123:38081', 'rgw_url': 'http://87c5004cb123:38081', 'bucket': 'pig-bucket-2'}, 'service': '4c17073c-b2b9-421a-8a67-223200e3c0dc', 'plan': 'f8ad12f2-4dd5-4871-8e31-9a1f9f3795a2'}` | module |



---


### 模块: apiserver/paasng/tests/paasng/accessories/servicehub/remote/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/accessories/servicehub/remote/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | object, patch | module |
| RemoteSvcConfig | paasng.accessories.servicehub.remote.client.RemoteSvcConfig | from_json | module |
| RemoteServiceStore | paasng.accessories.servicehub.remote.store.RemoteServiceStore | 不适用 | module |
| gen_plan | apiserver.paasng.tests.paasng.accessories.servicehub.remote.utils.gen_plan | 不适用 | module |
| gen_service | apiserver.paasng.tests.paasng.accessories.servicehub.remote.utils.gen_service | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| store | `@pytest.fixture():` | pytest.fixture | Mocked Store |
| raw_store | `@pytest.fixture():` | pytest.fixture | 不适用 |
| config | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_service_ver | `@pytest.fixture():` | pytest.fixture | specifications 限制 version的 service |
| bk_service_ver_zone | `@pytest.fixture():` | pytest.fixture | specifications 限制 version 和 app_zone 的 service |
| bk_plan_r1_v1 | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_plan_r1_v2 | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_plan_r2_v1 | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/accessories/servicehub/remote/test_api.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_retrieve_service | `def test_retrieve_service(api_client, bk_service_ver):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/accessories/servicehub/remote/test_client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| arrow | get | module |
| pytest | fixture, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| ClientJWTAuth | blue_krill.auth.jwt.ClientJWTAuth | 不适用 | module |
| RequestException | requests.RequestException | 不适用 | module |
| RemoteServiceClient | paasng.accessories.servicehub.remote.client.RemoteServiceClient | 不适用 | module |
| RClientResponseError | paasng.accessories.servicehub.remote.exceptions.RClientResponseError | 不适用 | module |
| RemoteClientError | paasng.accessories.servicehub.remote.exceptions.RemoteClientError | 不适用 | module |
| data_mocks | tests.paasng.accessories.servicehub.data_mocks | OBJ_STORE_REMOTE_SERVICES_JSON, REMOTE_INSTANCE_JSON | module |
| mock_json_response | tests.utils.api.mock_json_response | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestClient | 无 | client, test_list_services_error, test_list_services_status_code_error, test_list_services_normal, test_retrieve_instance_normal, test_provision_instance_normal, test_retrieve_instance_has_created_field | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/servicehub/remote/test_collector.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | xdist_group, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch, MagicMock | module |
| ImproperlyConfigured | django.core.exceptions.ImproperlyConfigured | 不适用 | module |
| override_settings | django.test.override_settings | 不适用 | module |
| initialize_remote_services | paasng.accessories.servicehub.remote.collector.initialize_remote_services | 不适用 | module |
| data_mocks | tests.paasng.accessories.servicehub.data_mocks | OBJ_STORE_REMOTE_SERVICES_JSON | module |
| mock_json_response | tests.utils.api.mock_json_response | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.xdist_group(name='remote-services')]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestInitialize | 无 | test_improperly_configured, test_normal | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/servicehub/remote/test_manager.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | datetime | module |
| uuid | uuid4, UUID | module |
| pytest | django_db, mark, xdist_group, fixture, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| asdict | dataclasses.asdict | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| mock | unittest.mock | MagicMock, patch, object | module |
| override_settings | django.test.utils.override_settings | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | 不适用 | module |
| BindServiceNoPlansError | paasng.accessories.servicehub.exceptions.BindServiceNoPlansError | 不适用 | module |
| CanNotModifyPlan | paasng.accessories.servicehub.exceptions.CanNotModifyPlan | 不适用 | module |
| ServiceObjNotFound | paasng.accessories.servicehub.exceptions.ServiceObjNotFound | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | list_unprovisioned_rels, get_env_vars, get_attachment_by_engine_app | module |
| RemoteServiceEngineAppAttachment | paasng.accessories.servicehub.models.RemoteServiceEngineAppAttachment | 不适用 | module |
| RemoteServiceMgr | paasng.accessories.servicehub.remote.RemoteServiceMgr | 不适用 | module |
| collector | paasng.accessories.servicehub.remote.collector | RemoteSvcFetcher | module |
| MetaInfo | paasng.accessories.servicehub.remote.manager.MetaInfo | 不适用 | module |
| RemoteEngineAppInstanceRel | paasng.accessories.servicehub.remote.manager.RemoteEngineAppInstanceRel | 不适用 | module |
| RemotePlanObj | paasng.accessories.servicehub.remote.manager.RemotePlanObj | from_data | module |
| get_remote_store | paasng.accessories.servicehub.remote.store.get_remote_store | 不适用 | module |
| Module | paasng.platform.modules.models.Module | get, objects | module |
| data_mocks | tests.paasng.accessories.servicehub.data_mocks | OBJ_STORE_REMOTE_SERVICES_JSON, copy, REMOTE_INSTANCE_JSON | module |
| mock_json_response | tests.utils.api.mock_json_response | 不适用 | module |
| gen_plan | apiserver.paasng.tests.paasng.accessories.servicehub.remote.utils.gen_plan | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.xdist_group(name='remote-services')]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestRemotePlanObj | 无 | test_from_data | 无 | 无 | 不适用 |
| TestRemoteEngineAppInstanceRel | 无 | _setup_data, test_get_plan, test_provision, test_render_params | 无 | 无 | 不适用 |
| TestRemoteMgrWithRealStore | 无 | _setup_data, bk_service, test_find_by_name, test_bind_with_specs, test_module_rebind_failed_after_provision | 无 | 无 | 与 remote store 相关的集成测试(即不 mock store 的行为) |
| TestRemoteMgrWithMockedStore | 无 | _reset_region, test_bind_service, test_bind_service_errors, test_bind_service_mixed_plans, test_bound_with_diff_app_zone | 无 | 无 | 不适用 |
| TestRemoteMgr | 无 | _setup_data, store, test_list_binded, test_get_instance_has_create_time_attr, test_get_instance, test_get_env_vars_with_exclude_disabled, test_get_attachment_by_instance_id | app_region | 无 | 不适用 |
| TestLegacyRemoteMgr | 无 | _setup_data, store, test_bind_service, test_bind_service_wrong_region, test_list_binded, test_module_rebind, test_module_rebind_failed_after_provision | app_region, uuid | 无 | 不适用 |
| TestMetaInfo | 无 | test_semantic_version_gte_none_version, test_semantic_version_gte_normal | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/servicehub/remote/test_store.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| pytest | xdist_group, mark, fixture, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| deepcopy | copy.deepcopy | 不适用 | module |
| mock | unittest.mock | patch | module |
| Category | paasng.accessories.servicehub.constants.Category | DATA_STORAGE | module |
| collector | paasng.accessories.servicehub.remote.collector | RemoteSvcFetcher, from_json, RemoteSvcConfig | module |
| ServiceConfigNotFound | paasng.accessories.servicehub.remote.exceptions.ServiceConfigNotFound | 不适用 | module |
| ServiceNotFound | paasng.accessories.servicehub.remote.exceptions.ServiceNotFound | 不适用 | module |
| data_mocks | tests.paasng.accessories.servicehub.data_mocks | OBJ_STORE_REMOTE_SERVICES_JSON | module |
| mock_json_response | tests.utils.api.mock_json_response | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| pytestmark | 不适用 | `pytestmark = [pytest.mark.xdist_group(name='remote-services')]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestRemoteStore | 无 | _setup_data, test_get_non_exists, test_get_normal, test_list_all, test_list_by_category, test_get_source_config, test_get_by_unsupported_region, test_bulk_get, test_bulk_get_unregistered_service, test_bulk_get_by_unsupported_region, test_all, test_empty, test_bulk_update_conflict | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/servicehub/remote/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| RemotePlanObj | paasng.accessories.servicehub.remote.manager.RemotePlanObj | 不适用 | module |
| RemoteServiceObj | paasng.accessories.servicehub.remote.manager.RemoteServiceObj | from_data | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |
| SERVICE_COMMON_ARGS | apiserver.paasng.tests.paasng.accessories.servicehub.utils.SERVICE_COMMON_ARGS | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| gen_service | `def gen_service(region: str, specifications: list):` | 无 | 不适用 |
| gen_plan | `def gen_plan(region: str, specifications: dict, properties: dict):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/accessories/servicehub/test_manager.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | datetime | module |
| pytest | django_db, mark, xdist_group, usefixtures, raises, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dumps | json.dumps | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| mock | unittest.mock | patch, MagicMock | module |
| UUID | uuid.UUID | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| Category | paasng.accessories.servicehub.constants.Category | DATA_STORAGE | module |
| BindServiceNoPlansError | paasng.accessories.servicehub.exceptions.BindServiceNoPlansError | 不适用 | module |
| ServiceObjNotFound | paasng.accessories.servicehub.exceptions.ServiceObjNotFound | 不适用 | module |
| LocalServiceMgr | paasng.accessories.servicehub.local.LocalServiceMgr | 不适用 | module |
| LocalServiceObj | paasng.accessories.servicehub.local.LocalServiceObj | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | list_by_category, list_by_region, get, find_by_name, get_env_vars, list_unprovisioned_rels | module |
| ServiceEngineAppAttachment | paasng.accessories.servicehub.models.ServiceEngineAppAttachment | 不适用 | module |
| RemoteServiceObj | paasng.accessories.servicehub.remote.RemoteServiceObj | 不适用 | module |
| ServiceInstanceObj | paasng.accessories.servicehub.services.ServiceInstanceObj | 不适用 | module |
| Plan | paasng.accessories.services.models.Plan | get, objects | module |
| Service | paasng.accessories.services.models.Service | 不适用 | module |
| ServiceCategory | paasng.accessories.services.models.ServiceCategory | 不适用 | module |
| ServiceInstance | paasng.accessories.services.models.ServiceInstance | 不适用 | module |
| data_mocks | tests.paasng.accessories.servicehub.data_mocks | OBJ_STORE_REMOTE_SERVICES_JSON | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db, pytest.mark.xdist_group(name='remote-services')]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestMixedMgr | 无 | test_list_by_category, test_list_by_region, test_get_remote_found, test_get_local_found, test_get_not_found, test_find_by_name_local_found, test_find_by_name_remote_found, test_find_by_name_not_found, test_get_env_vars_ordering | 无 | pytest.mark.usefixtures | 不适用 |
| TestLocalMgr | 无 | svc, plan_default, plan_ha, instance_factory, test_bind_service, test_list_binded, test_provision, test_instance_has_create_time_attr, test_get_instance, test_find_by_name_not_found, test_find_by_name_normal, test_module_is_bound_with, test_get_attachment_by_instance_id | 无 | 无 | 不适用 |
| TestLocalRabbitMQMgr | 无 | svc, test_bind_service, test_list_by_category | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/servicehub/test_services.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| mock | unittest.mock | patch | module |
| PlanObj | paasng.accessories.servicehub.services.PlanObj | 不适用 | module |
| ServiceSpecificationHelper | paasng.accessories.servicehub.services.ServiceSpecificationHelper | from_service, parse_spec_values_tree | module |
| gen_plan | apiserver.paasng.tests.paasng.accessories.servicehub.utils.gen_plan | 不适用 | module |
| generate_ssd | apiserver.paasng.tests.paasng.accessories.servicehub.utils.generate_ssd | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestServiceSpecificationHelper | 无 | test_create_init, test_create, test_create_from_duplicated_specifications, test_filter_plans, test_get_grouped_spec_values, test_get_recommended_spec, test_list_plans_spec_value, test_validate_specs, test_parse_spec_values_tree | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/servicehub/test_sharing.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| pytest | django_db, mark, xdist_group, fixture, raises, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| Category | paasng.accessories.servicehub.constants.Category | 不适用 | module |
| DuplicatedServiceBoundError | paasng.accessories.servicehub.exceptions.DuplicatedServiceBoundError | 不适用 | module |
| ReferencedAttachmentNotFound | paasng.accessories.servicehub.exceptions.ReferencedAttachmentNotFound | 不适用 | module |
| SharedServiceInfo | paasng.accessories.servicehub.manager.SharedServiceInfo | 不适用 | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | get, bind_service, list_unprovisioned_rels | module |
| ServiceInstance | paasng.accessories.servicehub.models.ServiceInstance | 不适用 | module |
| ServiceObj | paasng.accessories.servicehub.services.ServiceObj | 不适用 | module |
| ServiceSharingManager | paasng.accessories.servicehub.sharing.ServiceSharingManager | 不适用 | module |
| SharingReferencesManager | paasng.accessories.servicehub.sharing.SharingReferencesManager | 不适用 | module |
| Plan | paasng.accessories.services.models.Plan | filter, objects | module |
| Service | paasng.accessories.services.models.Service | get, objects | module |
| ServiceCategory | paasng.accessories.services.models.ServiceCategory | 不适用 | module |
| Module | paasng.platform.modules.models.Module | create, objects | module |
| create_app | tests.utils.helpers.create_app | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |
| initialize_module | tests.utils.helpers.initialize_module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.xdist_group(name='remote-services')]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_module | `def create_module(bk_app):` | 无 | 不适用 |
| local_service | `@pytest.fixture():` | pytest.fixture | 不适用 |
| remote_service | `@pytest.fixture():` | pytest.fixture | 不适用 |
| pick_different_category | `def pick_different_category(service_obj: ServiceObj) -> int:` | 无 | Pick a category different with given service objec... |
| service_obj | `@pytest.fixture(params=['legacy-local', 'newly-local', 'remote']):` | pytest.fixture | 
    Service object for testing, this fixture will... |
| ref_module | `@pytest.fixture():` | pytest.fixture | A fixture which creates a module sharing service o... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestServiceSharingManager | 无 | test_list_shareable, test_create, test_create_already_bound, test_bind_already_shared, test_create_with_other_app, test_get_shared_info, test_list_shared_info | 无 | 无 | 不适用 |
| TestSharingReferencesManager | 无 | test_list_related_modules, test_clear_related | 无 | 无 | 不适用 |
| TestGetEnvVariables | 无 | test_local_integrated | 无 | pytest.mark.parametrize | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/servicehub/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| string | ascii_letters | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| PlanObj | paasng.accessories.servicehub.services.PlanObj | 不适用 | module |
| ServiceObj | paasng.accessories.servicehub.services.ServiceObj | 不适用 | module |
| ServiceSpecificationDefinition | paasng.accessories.servicehub.services.ServiceSpecificationDefinition | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| gen_service | `def gen_service(region: str):` | 无 | 不适用 |
| gen_plan | `def gen_plan(region: str, specifications: dict):` | 无 | 不适用 |
| generate_ssd | `def generate_ssd(name: Optional[str] = None, recommended_value=None):` | 无 | 生成随机的 ServiceSpecificationDefinition |


---


### 模块: apiserver/paasng/tests/paasng/accessories/services/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/accessories/services/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| Plan | paasng.accessories.services.models.Plan | 不适用 | module |
| Service | paasng.accessories.services.models.Service | 不适用 | module |
| ResourcePoolProvider | paasng.accessories.services.providers.ResourcePoolProvider | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| bk_service | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_plan | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/accessories/services/test_import.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |
| pytest | django_db, mark, parametrize | module |
| yaml | safe_load_all | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dedent | textwrap.dedent | 不适用 | module |
| PreCreatedInstance | paasng.accessories.services.models.PreCreatedInstance | filter, objects, get | module |
| PreCreatedInstanceImportSLZ | paasng.accessories.services.serializers.PreCreatedInstanceImportSLZ | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |
| DUMMY_CREDENTIALS | 不适用 | `DUMMY_CREDENTIALS = dedent('\n  {\n    "host": "10000",\n    "port": 10086,\n    "password": "********"\n  }\n    ')` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestPreCreatedInstanceImport | 无 | test_import_single, test_import_multi, test_import_from_yaml | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/services/test_migration_command.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Plan | paasng.accessories.services.models.Plan | 不适用 | module |
| PreCreatedInstance | paasng.accessories.services.models.PreCreatedInstance | 不适用 | module |
| ServiceInstance | paasng.accessories.services.models.ServiceInstance | 不适用 | module |
| BaseTestEnctrypMigrationCmd | tests.utils.encrypt_cmd_base.BaseTestEnctrypMigrationCmd | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCommand | tests.utils.encrypt_cmd_base.BaseTestEnctrypMigrationCmd | command_name, app_models | 无 | pytest.mark.parametrize | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/services/test_provider.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps, loads | module |
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| Plan | paasng.accessories.services.models.Plan | 不适用 | module |
| PreCreatedInstance | paasng.accessories.services.models.PreCreatedInstance | get, objects, count | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| bk_plan | `@pytest.fixture(autouse=True, params=[{'recyclable': True}, {}]):` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestResourcePoolProvider | 无 | pools, test_provision, test_provision_with_str_config, test_delete | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/services/test_utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| pytest | django_db, mark, raises, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| ImproperlyConfigured | django.core.exceptions.ImproperlyConfigured | 不适用 | module |
| connections | django.db.connections | 不适用 | module |
| Base36Handler | paasng.accessories.services.utils.Base36Handler | encode | module |
| WRItemList | paasng.accessories.services.utils.WRItemList | from_json | module |
| gen_unique_id | paasng.accessories.services.utils.gen_unique_id | 不适用 | module |
| get_vendor_config | paasng.accessories.services.utils.get_vendor_config | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get_vendor_config | `def test_get_vendor_config(settings):` | 无 | 不适用 |
| test_get_vendor_config_not_configured | `def test_get_vendor_config_not_configured(settings):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestWRR | 无 | test_normal, test_no_weight, test_weight_zero, test_multi_weighted | 无 | 无 | 不适用 |
| TestGetUniqueID | 无 | _setup_data, latest_id, test_normal, test_max_length, test_divide_char, test_divide_char_max_length | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/smart_advisor/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/accessories/smart_advisor/test_models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| pytest | django_db, mark, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppPLTag | paasng.accessories.smart_advisor.AppPLTag | 不适用 | module |
| AppSDKTag | paasng.accessories.smart_advisor.AppSDKTag | 不适用 | module |
| force_tag | paasng.accessories.smart_advisor.force_tag | 不适用 | module |
| cleanup_module | paasng.accessories.smart_advisor.models.cleanup_module | 不适用 | module |
| get_tags | paasng.accessories.smart_advisor.models.get_tags | 不适用 | module |
| tag_module | paasng.accessories.smart_advisor.models.tag_module | 不适用 | module |
| DeploymentFailureTag | paasng.accessories.smart_advisor.tags.DeploymentFailureTag | 不适用 | module |
| get_dynamic_tag | paasng.accessories.smart_advisor.tags.get_dynamic_tag | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestModuleTagger | 无 | test_normal, test_cleanup | 无 | 无 | 不适用 |
| TestGetDynamicTag | 无 | test_normal | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/smart_advisor/test_smart_advisor.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| asdict | dataclasses.asdict | 不适用 | module |
| mock | unittest.mock | patch | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| AppPLTag | paasng.accessories.smart_advisor.AppPLTag | 不适用 | module |
| AppSDKTag | paasng.accessories.smart_advisor.AppSDKTag | 不适用 | module |
| PlatPanelTag | paasng.accessories.smart_advisor.PlatPanelTag | 不适用 | module |
| DocumentaryLinkAdvisor | paasng.accessories.smart_advisor.advisor.DocumentaryLinkAdvisor | 不适用 | module |
| DocumentaryLink | paasng.accessories.smart_advisor.models.DocumentaryLink | 不适用 | module |
| DeploymentFailureHint | paasng.accessories.smart_advisor.utils.DeploymentFailureHint | 不适用 | module |
| get_failure_hint | paasng.accessories.smart_advisor.utils.get_failure_hint | 不适用 | module |
| create_fake_deployment | tests.paasng.platform.engine.setup_utils.create_fake_deployment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDocumentaryLinkAdvisor | 无 | setup_data, test_search | 无 | 无 | 不适用 |
| TestDeploymentFailureHint | 无 | test_render_links | 无 | 无 | 不适用 |
| TestGetFailureHint | 无 | test_not_found_docs, test_found_docs | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/accessories/smart_advisor/test_tagging.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| tempfile | mkdtemp | module |
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| dedent | textwrap.dedent | 不适用 | module |
| mock | unittest.mock | patch | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| DeployFailurePatternType | paasng.accessories.smart_advisor.constants.DeployFailurePatternType | REGULAR_EXPRESSION | module |
| DeployFailurePattern | paasng.accessories.smart_advisor.models.DeployFailurePattern | 不适用 | module |
| dig_tags_local_repo | paasng.accessories.smart_advisor.tagging.dig_tags_local_repo | 不适用 | module |
| get_deployment_tags | paasng.accessories.smart_advisor.tagging.get_deployment_tags | 不适用 | module |
| DeploymentFailureTag | paasng.accessories.smart_advisor.tags.DeploymentFailureTag | 不适用 | module |
| force_tag | paasng.accessories.smart_advisor.tags.force_tag | 不适用 | module |
| create_fake_deployment | tests.paasng.platform.engine.setup_utils.create_fake_deployment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestTaggingLocalPath | 无 | test_tagging_python_using_different_encodings, test_tagging_php, test_tagging_go, test_tagging_nodejs | 无 | 无 | 不适用 |
| TestGetDeploymentTags | 无 | setup_data, test_normal | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/bk_plugins/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/bk_plugins/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | MagicMock, patch | module |
| BkPlugin | paasng.bk_plugins.bk_plugins.models.BkPlugin | from_application | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| bk_plugin | `@pytest.fixture():` | pytest.fixture | 不适用 |
| mock_apigw_api_client | `@pytest.fixture():` | pytest.fixture | Replace the default API Gateway client with a fake... |


---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/bk_plugins/test_apigw.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, raises, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| MagicMock | unittest.mock.MagicMock | 不适用 | module |
| patch | unittest.mock.patch | 不适用 | module |
| BKAPIError | bkapi_client_core.exceptions.BKAPIError | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| PluginDefaultAPIGateway | paasng.bk_plugins.bk_plugins.apigw.PluginDefaultAPIGateway | 不适用 | module |
| safe_sync_apigw | paasng.bk_plugins.bk_plugins.apigw.safe_sync_apigw | 不适用 | module |
| set_distributors | paasng.bk_plugins.bk_plugins.apigw.set_distributors | 不适用 | module |
| PluginApiGatewayServiceError | paasng.bk_plugins.bk_plugins.exceptions.PluginApiGatewayServiceError | 不适用 | module |
| BkPluginDistributor | paasng.bk_plugins.bk_plugins.models.BkPluginDistributor | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| fake_good_client | `@pytest.fixture():` | pytest.fixture | Make a fake client which produce successful result |
| fake_bad_client | `@pytest.fixture():` | pytest.fixture | Make a fake client which produce failed result |
| test_safe_sync_apigw_succeeded | `def test_safe_sync_apigw_succeeded(bk_plugin_app, fake_good_client):` | 无 | 不适用 |
| test_safe_sync_apigw_failed | `def test_safe_sync_apigw_failed(bk_plugin_app, fake_bad_client):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestPluginDefaultAPIGateway | 无 | test_sync_succeeded, test_sync_failed, test_sync_reuse_apigw_name, test_grant_succeeded, test_revoke_succeeded, test_update_status_succeeded | 无 | 无 | 不适用 |
| TestSetDistributors | 无 | test_integrated | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/bk_plugins/test_handlers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| patch | unittest.mock.patch | 不适用 | module |
| on_pre_deployment | paasng.bk_plugins.bk_plugins.handlers.on_pre_deployment | 不适用 | module |
| create_fake_deployment | tests.paasng.platform.engine.setup_utils.create_fake_deployment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_on_pre_deployment | `@patch('paasng.bk_plugins.bk_plugins.handlers.safe_sync_apigw'):` | patch | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/bk_plugins/test_models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, usefixtures, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| partial | functools.partial | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| set_distributors | paasng.bk_plugins.bk_plugins.apigw.set_distributors | 不适用 | module |
| PluginTagIdType | paasng.bk_plugins.bk_plugins.constants.PluginTagIdType | value, UNTAGGED | module |
| BkPlugin | paasng.bk_plugins.bk_plugins.models.BkPlugin | from_application | module |
| BkPluginAppQuerySet | paasng.bk_plugins.bk_plugins.models.BkPluginAppQuerySet | 不适用 | module |
| BkPluginDistributor | paasng.bk_plugins.bk_plugins.models.BkPluginDistributor | 不适用 | module |
| BkPluginProfile | paasng.bk_plugins.bk_plugins.models.BkPluginProfile | get_or_create_by_application, objects | module |
| BkPluginTag | paasng.bk_plugins.bk_plugins.models.BkPluginTag | 不适用 | module |
| get_deployed_statuses | paasng.bk_plugins.bk_plugins.models.get_deployed_statuses | 不适用 | module |
| get_plugin_env_variables | paasng.bk_plugins.bk_plugins.models.get_plugin_env_variables | 不适用 | module |
| make_bk_plugin | paasng.bk_plugins.bk_plugins.models.make_bk_plugin | 不适用 | module |
| plugin_to_detailed | paasng.bk_plugins.bk_plugins.models.plugin_to_detailed | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | DEFAULT | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get_deployed_statuses | `@pytest.mark.usefixtures('_with_empty_live_addrs'):` | pytest.mark.usefixtures | 不适用 |
| test_make_bk_plugin_normal | `def test_make_bk_plugin_normal(bk_app):` | 无 | 不适用 |
| test_make_bk_plugin_wrong_type | `def test_make_bk_plugin_wrong_type(bk_app):` | 无 | 不适用 |
| test_get_or_create_by_application | `def test_get_or_create_by_application(bk_app):` | 无 | 不适用 |
| test_plugin_to_detailed_default | `@pytest.mark.usefixtures('_with_empty_live_addrs'):` | pytest.mark.usefixtures | 不适用 |
| test_plugin_to_detailed_no_addresses | `@pytest.mark.usefixtures('_with_empty_live_addrs'):` | pytest.mark.usefixtures | 不适用 |
| test_get_plugin_env_variables | `def test_get_plugin_env_variables(bk_plugin):` | 无 | Test the normal case |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestBkPlugin | 无 | test_from_application | 无 | 无 | 不适用 |
| TestBkPluginAppQuerySet | 无 | test_distributor_code_name, test_tag_id | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| string | ascii_lowercase | module |
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch, MagicMock | module |
| ProviderType | bkpaas_auth.core.encoder.ProviderType | 不适用 | module |
| user_id_encoder | bkpaas_auth.core.encoder.user_id_encoder | encode | module |
| settings | django.conf.settings | BKAUTH_DEFAULT_PROVIDER_TYPE | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| to_attribute | translated_fields.to_attribute | 不适用 | module |
| MarketInfoStorageType | paasng.bk_plugins.pluginscenter.constants.MarketInfoStorageType | PLATFORM | module |
| PluginReleaseMethod | paasng.bk_plugins.pluginscenter.constants.PluginReleaseMethod | CODE | module |
| PluginRevisionType | paasng.bk_plugins.pluginscenter.constants.PluginRevisionType | TESTED_VERSION | module |
| PluginRole | paasng.bk_plugins.pluginscenter.constants.PluginRole | ADMINISTRATOR, DEVELOPER | module |
| PluginGradeManager | paasng.bk_plugins.pluginscenter.iam_adaptor.models.PluginGradeManager | 不适用 | module |
| PluginUserGroup | paasng.bk_plugins.pluginscenter.iam_adaptor.models.PluginUserGroup | 不适用 | module |
| BKIAMClient | paasng.bk_plugins.pluginscenter.iam_adaptor.policy.client.BKIAMClient | 不适用 | module |
| ApprovalServiceName | paasng.bk_plugins.pluginscenter.itsm_adaptor.constants.ApprovalServiceName | value, ONLINE_APPROVAL, VISIBLE_RANGE_APPROVAL, CODECC_ORG_GRAY_RELEASE_APPROVAL | module |
| ApprovalService | paasng.bk_plugins.pluginscenter.models.ApprovalService | 不适用 | module |
| PluginBasicInfoDefinition | paasng.bk_plugins.pluginscenter.models.PluginBasicInfoDefinition | 不适用 | module |
| PluginConfigInfoDefinition | paasng.bk_plugins.pluginscenter.models.PluginConfigInfoDefinition | 不适用 | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| PluginMarketInfoDefinition | paasng.bk_plugins.pluginscenter.models.PluginMarketInfoDefinition | 不适用 | module |
| PluginRelease | paasng.bk_plugins.pluginscenter.models.PluginRelease | 不适用 | module |
| PluginReleaseStage | paasng.bk_plugins.pluginscenter.models.PluginReleaseStage | filter, objects | module |
| PluginReleaseStrategy | paasng.bk_plugins.pluginscenter.models.PluginReleaseStrategy | create, objects | module |
| PluginVisibleRangeDefinition | paasng.bk_plugins.pluginscenter.models.PluginVisibleRangeDefinition | 不适用 | module |
| AccountFeatureFlag | paasng.infras.accounts.models.AccountFeatureFlag | set_feature, objects | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_api_resource | `def make_api_resource(path: str = ''):` | 无 | 不适用 |
| pd | `@pytest.fixture():` | pytest.fixture | 不适用 |
| plugin | `@pytest.fixture():` | pytest.fixture | 不适用 |
| plugin_with_role | `@pytest.fixture():` | pytest.fixture | 不适用 |
| release | `@pytest.fixture():` | pytest.fixture | 不适用 |
| subpage_stage | `@pytest.fixture():` | pytest.fixture | 不适用 |
| itsm_online_stage | `@pytest.fixture():` | pytest.fixture | 不适用 |
| online_approval_service | `@pytest.fixture():` | pytest.fixture | 不适用 |
| visible_range_approval_service | `@pytest.fixture():` | pytest.fixture | 不适用 |
| gray_release_approval_service | `@pytest.fixture():` | pytest.fixture | 不适用 |
| thirdparty_client | `@pytest.fixture():` | pytest.fixture | 不适用 |
| iam_policy_client | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_release | `@pytest.fixture():` | pytest.fixture | 不适用 |
| itsm_test_stage | `@pytest.fixture():` | pytest.fixture | 不适用 |
| release_strategy | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/iam_adaptor/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/iam_adaptor/management/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/iam_adaptor/management/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch, MagicMock | module |
| BKIAMClient | paasng.bk_plugins.pluginscenter.iam_adaptor.management.client.BKIAMClient | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| iam_management_client | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| StubManagementClient | 无 | management_grade_managers, management_grade_manager_members, management_add_grade_manager_members, management_delete_grade_manager_members, v2_management_grade_manager_create_groups, v2_management_grade_manager_delete_group, v2_management_group_members, v2_management_add_group_members, v2_management_delete_group_members, v2_management_groups_policies_grant | 无 | 无 | Stub client implement all IAM management API |

---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/iam_adaptor/management/test_providers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ProviderType | bkpaas_auth.core.encoder.ProviderType | 不适用 | module |
| user_id_encoder | bkpaas_auth.core.encoder.user_id_encoder | encode | module |
| settings | django.conf.settings | BKAUTH_DEFAULT_PROVIDER_TYPE | module |
| get_language | django.utils.translation.get_language | 不适用 | module |
| override | django.utils.translation.override | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| FancyDict | iam.resource.utils.FancyDict | 不适用 | module |
| Page | iam.resource.utils.Page | 不适用 | module |
| to_attribute | translated_fields.to_attribute | 不适用 | module |
| gen_iam_resource_id | paasng.bk_plugins.pluginscenter.iam_adaptor.definitions.gen_iam_resource_id | 不适用 | module |
| PluginProvider | paasng.bk_plugins.pluginscenter.iam_adaptor.management.providers.PluginProvider | 不适用 | module |
| PluginGradeManager | paasng.bk_plugins.pluginscenter.iam_adaptor.models.PluginGradeManager | 不适用 | module |
| PluginDefinition | paasng.bk_plugins.pluginscenter.models.PluginDefinition | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| i18n_name | `def i18n_name():` | 无 | 不适用 |
| create_random_plugin | `def create_random_plugin(pd: PluginDefinition):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestPluginProvider | 无 | test_list_attr, test_list_attr_value, test_list_instance_by_policy, test_list_instance, test_fetch_instance_info | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/iam_adaptor/management/test_shim.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |
| pytest | django_db, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| PluginRole | paasng.bk_plugins.pluginscenter.constants.PluginRole | ADMINISTRATOR, DEVELOPER, get_choice_label | module |
| shim | paasng.bk_plugins.pluginscenter.iam_adaptor.management.shim | fetch_grade_manager_members, fetch_role_members, add_role_members, delete_role_members, fetch_user_roles, remove_user_all_roles, fetch_plugin_members, PluginMember, setup_builtin_grade_manager, setup_builtin_user_groups, delete_builtin_user_groups | module |
| PluginGradeManager | paasng.bk_plugins.pluginscenter.iam_adaptor.models.PluginGradeManager | 不适用 | module |
| PluginUserGroup | paasng.bk_plugins.pluginscenter.iam_adaptor.models.PluginUserGroup | DoesNotExist, filter_by_plugin, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_fetch_grade_manager_members | `def test_fetch_grade_manager_members(plugin, iam_management_client):` | 无 | 不适用 |
| test_fetch_role_members | `def test_fetch_role_members(plugin, iam_management_client):` | 无 | 不适用 |
| test_add_role_members | `def test_add_role_members(plugin, iam_management_client):` | 无 | 不适用 |
| test_delete_role_members | `def test_delete_role_members(plugin, iam_management_client):` | 无 | 不适用 |
| test_fetch_user_roles | `def test_fetch_user_roles(plugin, iam_management_client):` | 无 | 不适用 |
| test_remove_user_all_roles | `def test_remove_user_all_roles(plugin, iam_management_client):` | 无 | 不适用 |
| test_fetch_plugin_members | `def test_fetch_plugin_members(plugin, iam_management_client):` | 无 | 不适用 |
| test_setup_builtin_grade_manager | `def test_setup_builtin_grade_manager(plugin, iam_management_client):` | 无 | 不适用 |
| test_setup_builtin_user_groups | `def test_setup_builtin_user_groups(plugin, iam_management_client):` | 无 | 不适用 |
| test_delete_builtin_user_groups | `def test_delete_builtin_user_groups(plugin, iam_management_client):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/iam_adaptor/policy/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/iam_adaptor/policy/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch, MagicMock | module |
| BKIAMClient | paasng.bk_plugins.pluginscenter.iam_adaptor.policy.client.BKIAMClient | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| iam_policy_client | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/iam_adaptor/policy/test_converter.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Q | django.db.models.Q | 不适用 | module |
| PluginPolicyConverter | paasng.bk_plugins.pluginscenter.iam_adaptor.policy.converter.PluginPolicyConverter | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestPluginPolicyConverter | 无 | test_convert | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/iam_adaptor/policy/test_permissions.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| APIView | rest_framework.decorators.APIView | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| APIRequestFactory | rest_framework.test.APIRequestFactory | 不适用 | module |
| PluginPermissionActions | paasng.bk_plugins.pluginscenter.iam_adaptor.constants.PluginPermissionActions | BASIC_DEVELOPMENT, MANAGE_CONFIGURATION, get_choice_label, EDIT_PLUGIN, DELETE_PLUGIN | module |
| plugin_action_permission_class | paasng.bk_plugins.pluginscenter.iam_adaptor.policy.permissions.plugin_action_permission_class | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_view | `def make_view(plugin, actions: List[PluginPermissionActions]):` | 无 | 不适用 |
| drf_request | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestPermission | 无 | test_single_action, test_multi_actions | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/iam_adaptor/test_definitions.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PluginRole | paasng.bk_plugins.pluginscenter.iam_adaptor.constants.PluginRole | ADMINISTRATOR, DEVELOPER | module |
| gen_iam_grade_manager | paasng.bk_plugins.pluginscenter.iam_adaptor.definitions.gen_iam_grade_manager | 不适用 | module |
| gen_iam_resource | paasng.bk_plugins.pluginscenter.iam_adaptor.definitions.gen_iam_resource | 不适用 | module |
| gen_iam_resource_name | paasng.bk_plugins.pluginscenter.iam_adaptor.definitions.gen_iam_resource_name | 不适用 | module |
| gen_plugin_user_group | paasng.bk_plugins.pluginscenter.iam_adaptor.definitions.gen_plugin_user_group | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_gen_iam_resource_name | `def test_gen_iam_resource_name(plugin):` | 无 | 不适用 |
| test_gen_iam_resource | `def test_gen_iam_resource(plugin):` | 无 | 不适用 |
| test_gen_iam_grade_manager | `def test_gen_iam_grade_manager(pd, plugin):` | 无 | 不适用 |
| test_gen_plugin_user_group | `@pytest.mark.parametrize(('role', 'name', 'description'), [(PluginRole.ADMINISTRATOR, '{pd_name}-{plugin_name}-管理者', '{pd_name}（{plugin_name}）管理者，拥有应用的全部权限。'), (PluginRole.DEVELOPER, '{pd_name}-{plugin_name}-开发者', '{pd_name}（{plugin_name}）开发者，拥有应用的开发权限，如基础开发，版本发布等。')]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/iam_adaptor/test_migrator.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IAMPermissionTemplateRender | paasng.bk_plugins.pluginscenter.iam_adaptor.migrator.IAMPermissionTemplateRender | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestIAMPermissionTemplateRender | 无 | test, test_invalid_template | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/log/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/log/test_api.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |
| cattr | unstructure | module |
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| mock | unittest.mock | patch, MagicMock | module |
| DateHistogram | elasticsearch_dsl.aggs.DateHistogram | 不适用 | module |
| Hit | elasticsearch_dsl.response.Hit | 不适用 | module |
| FieldBucketData | elasticsearch_dsl.response.aggs.FieldBucketData | 不适用 | module |
| Search | elasticsearch_dsl.search.Search | 不适用 | module |
| aggregate_date_histogram | paasng.bk_plugins.pluginscenter.log.aggregate_date_histogram | 不适用 | module |
| query_ingress_logs | paasng.bk_plugins.pluginscenter.log.query_ingress_logs | 不适用 | module |
| query_standard_output_logs | paasng.bk_plugins.pluginscenter.log.query_standard_output_logs | 不适用 | module |
| query_structure_logs | paasng.bk_plugins.pluginscenter.log.query_structure_logs | 不适用 | module |
| LogClientProtocol | paasng.bk_plugins.pluginscenter.log.client.LogClientProtocol | 不适用 | module |
| SmartTimeRange | paasng.utils.es_log.time_range.SmartTimeRange | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| log_client | `@pytest.fixture():` | pytest.fixture | 不适用 |
| time_range | `@pytest.fixture():` | pytest.fixture | 不适用 |
| make_hit | `def make_hit(fields: Dict) -> Hit:` | 无 | 不适用 |
| test_query_standard_output_logs | `def test_query_standard_output_logs(pd, plugin, log_client, time_range):` | 无 | 不适用 |
| test_query_structure_logs | `def test_query_structure_logs(pd, plugin, log_client, time_range):` | 无 | 不适用 |
| test_query_ingress_logs | `def test_query_ingress_logs(pd, plugin, log_client, time_range):` | 无 | 不适用 |
| test_aggregate_date_histogram | `def test_aggregate_date_histogram(pd, plugin, log_client, time_range):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/log/test_es_client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ESLogClient | paasng.bk_plugins.pluginscenter.log.client.ESLogClient | _clean_property | module |
| FieldFilter | paasng.utils.es_log.models.FieldFilter | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_clean_property | `@pytest.mark.parametrize(('nested_name', 'mapping', 'expected'), [(['a'], {'properties': {'a': {'type': 'text'}, 'b': {'type': 'int'}}}, [FieldFilter(name='a.a', key='a.a.keyword'), FieldFilter(name='a.b', key='a.b')]), (['a', 'b', 'c'], {'properties': {'d': {'properties': {'e': {'properties': {'f': {'properties': {'g': {'type': 'text'}}}}}}}}}, [FieldFilter(name='a.b.c.d.e.f.g', key='a.b.c.d.e.f.g.keyword')]), (['a'], {'a': {'type': 'text'}, 'b': {'type': 'int'}}, [])]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/log/test_filter.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Search | elasticsearch_dsl.Search | 不适用 | module |
| ElasticSearchParams | paasng.bk_plugins.pluginscenter.definitions.ElasticSearchParams | 不适用 | module |
| ElasticSearchFilter | paasng.bk_plugins.pluginscenter.log.filters.ElasticSearchFilter | 不适用 | module |
| SmartSearch | paasng.utils.es_log.search.SmartSearch | __new__ | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestElasticSearchFilter | 无 | plugin, search, test_filter_by_plugin, test_filter_by_builtin_filters, test_filter_by_builtin_excludes | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/release/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/release/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |




#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| thirdparty_client | `@pytest.fixture(autouse=True):` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/release/test_executor.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| time | time | module |
| pytest | django_db, mark, fixture, raises, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| PollingMetadata | blue_krill.async_utils.poll_task.PollingMetadata | 不适用 | module |
| PollingResult | blue_krill.async_utils.poll_task.PollingResult | done | module |
| TaskPoller | blue_krill.async_utils.poll_task.TaskPoller | 不适用 | module |
| APIError | blue_krill.web.std_error.APIError | 不适用 | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| PluginReleaseStatus | paasng.bk_plugins.pluginscenter.constants.PluginReleaseStatus | FAILED, INITIAL, INTERRUPTED, SUCCESSFUL, PENDING | module |
| ReleaseStageInvokeMethod | paasng.bk_plugins.pluginscenter.constants.ReleaseStageInvokeMethod | BUILTIN, ITSM | module |
| error_codes | paasng.bk_plugins.pluginscenter.exceptions.error_codes | code, EXECUTE_STAGE_ERROR, f, CANNOT_RERUN_ONGOING_STEPS, message, CANNOT_ROLLBACK_CURRENT_STEP, CANNOT_RESET_RELEASE, CANNOT_CANCEL_RELEASE, THIRD_PARTY_API_ERROR | module |
| PluginRelease | paasng.bk_plugins.pluginscenter.models.PluginRelease | 不适用 | module |
| PluginReleaseStage | paasng.bk_plugins.pluginscenter.models.PluginReleaseStage | 不适用 | module |
| PluginReleaseExecutor | paasng.bk_plugins.pluginscenter.releases.executor.PluginReleaseExecutor | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| build_stage_controller | `def build_stage_controller(target_status: PluginReleaseStatus, pre_command_result: bool = True, post_command_result: bool = True):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| FakeTaskPoller | blue_krill.async_utils.poll_task.TaskPoller | query | 无 | 无 | A task poller for testing |
| TestPluginReleaseExecutor | 无 | _setup_release_stages, release, stage_class_setter, test_enter_next_stage, test_rerun_current_stage, test_execute_current_stage, test_rollback_current_stage_failed, test_rollback_current_stage, test_reset, test_cancel, test_pre_command, test_post_command | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/release/test_stages.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ReleaseStageInvokeMethod | paasng.bk_plugins.pluginscenter.constants.ReleaseStageInvokeMethod | PIPELINE | module |
| find_stage_by_id | paasng.bk_plugins.pluginscenter.definitions.find_stage_by_id | 不适用 | module |
| PipelineStage | paasng.bk_plugins.pluginscenter.releases.stages.PipelineStage | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestPipelineStage | 无 | _setup, test_build_pipeline_params | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/release/test_steps.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | object, patch | module |
| PluginReleaseStatus | paasng.bk_plugins.pluginscenter.constants.PluginReleaseStatus | INITIAL, PENDING | module |
| ReleaseStageInvokeMethod | paasng.bk_plugins.pluginscenter.constants.ReleaseStageInvokeMethod | BUILTIN, DEPLOY_API, ITSM | module |
| PluginRelease | paasng.bk_plugins.pluginscenter.models.PluginRelease | 不适用 | module |
| stages | paasng.bk_plugins.pluginscenter.releases.stages | _stage_types, BaseStageController, DeployAPIStage | module |
| make_api_resource | tests.paasng.bk_plugins.pluginscenter.conftest.make_api_resource | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| release | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_stage_types | `def test_stage_types():` | 无 | 不适用 |
| test_render_base_info | `def test_render_base_info(release):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDeployAPIStage | 无 | stage, stage_executor, test_execute, test_render_to_view | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/test_api.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, usefixtures, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| PluginReleaseStatus | paasng.bk_plugins.pluginscenter.constants.PluginReleaseStatus | value, SUCCESSFUL, FAILED, PENDING, INTERRUPTED | module |
| PluginStatus | paasng.bk_plugins.pluginscenter.constants.PluginStatus | ARCHIVED, value, APPROVAL_FAILED | module |
| error_codes | paasng.bk_plugins.pluginscenter.exceptions.error_codes | message, PLUGIN_ARCHIVED | module |
| ItsmTicketStatus | paasng.bk_plugins.pluginscenter.itsm_adaptor.constants.ItsmTicketStatus | value, FINISHED, TERMINATED, REVOKED, RUNNING, SUSPENDED | module |
| PluginCallBackApiViewSet | paasng.bk_plugins.pluginscenter.itsm_adaptor.open_apis.views.PluginCallBackApiViewSet | 不适用 | module |
| ItsmDetail | paasng.bk_plugins.pluginscenter.models.instances.ItsmDetail | 不适用 | module |
| PluginRelease | paasng.bk_plugins.pluginscenter.models.instances.PluginRelease | get, objects | module |
| PluginVisibleRange | paasng.bk_plugins.pluginscenter.models.instances.PluginVisibleRange | update_or_create, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |
| CALLBACK_DATA | {'title': '标题', 'current_status': '', 'sn': 'sn1', 'ticket_url': '单据链接', 'update_at': '单据更新时间', 'updated_by': '单据更新人', 'approve_result': '', 'token': 'token', 'last_approver': '最后一个节点的审批人'} | `CALLBACK_DATA = {'title': '标题', 'current_status': '', 'sn': 'sn1', 'ticket_url': '单据链接', 'update_at': '单据更新时间', 'updated_by': '单据更新人', 'approve_result': '', 'token': 'token', 'last_approver': '最后一个节点的审批人'}` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| thirdparty_client | `@pytest.fixture(autouse=True):` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestArchived | 无 | plugin, test_readonly_api, test_update_api | 无 | 无 | 不适用 |
| TestPluginApi | 无 | test_update_status, test_update_publisher, test_update_visible_range, test_upadate_release_strategy, test_rollback_release | 无 | 无 | 不适用 |
| TestSysApis | 无 | test_itsm_online_callback, test_itsm_create_callback, test_itsm_visible_range_callback, test_itsm_canry_release_callback | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/test_configuration.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| sha256 | hashlib.sha256 | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| PluginConfigManager | paasng.bk_plugins.pluginscenter.configuration.PluginConfigManager | 不适用 | module |
| PluginConfig | paasng.bk_plugins.pluginscenter.models.PluginConfig | filter, objects, get | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestPluginConfigManager | 无 | mgr, test_create, test_update, test_create_new_one, test_delete | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/test_integration.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| ActionTypes | paasng.bk_plugins.pluginscenter.constants.ActionTypes | DELETE, ADD | module |
| PluginReleaseStatus | paasng.bk_plugins.pluginscenter.constants.PluginReleaseStatus | running_status, PENDING, SUCCESSFUL, FAILED | module |
| PluginRevisionType | paasng.bk_plugins.pluginscenter.constants.PluginRevisionType | TESTED_VERSION | module |
| SubjectTypes | paasng.bk_plugins.pluginscenter.constants.SubjectTypes | PLUGIN, VERSION | module |
| error_codes | paasng.bk_plugins.pluginscenter.exceptions.error_codes | code, EXECUTE_STAGE_ERROR, f | module |
| OperationRecord | paasng.bk_plugins.pluginscenter.models.OperationRecord | create, objects | module |
| PluginRelease | paasng.bk_plugins.pluginscenter.models.PluginRelease | filter, objects, get | module |
| make_api_resource | tests.paasng.bk_plugins.pluginscenter.conftest.make_api_resource | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestReleaseStages | 无 | _mock_refresh_source_hash, _setup_release_stages, test_create_canry_release_version, test_create_release_version, test_release_version | 无 | 无 | Release 状态扭转的集成测试 |
| TestOperationRecord | 无 | test_record | 无 | 无 | 测试操作记录 |

---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/test_itsm.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| pytest | django_db, mark, fixture, usefixtures | module |
| requests | Response | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| PluginReleaseStatus | paasng.bk_plugins.pluginscenter.constants.PluginReleaseStatus | PENDING | module |
| get_ticket_status | paasng.bk_plugins.pluginscenter.itsm_adaptor.utils.get_ticket_status | 不适用 | module |
| submit_online_approval_ticket | paasng.bk_plugins.pluginscenter.itsm_adaptor.utils.submit_online_approval_ticket | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| mock_client_session | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_execute_itsm_stage | `@pytest.mark.usefixtures('_set_itsm_to_current_stage'):` | pytest.mark.usefixtures | 测试执行 itsm 阶段 |
| test_itsm_render | `@pytest.mark.usefixtures('_set_itsm_to_current_stage'):` | pytest.mark.usefixtures | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/test_serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |
| pytest | django_db, mark, fixture, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| mock | unittest.mock | patch | module |
| APIError | blue_krill.web.std_error.APIError | 不适用 | module |
| settings | django.conf.settings | LANGUAGES | module |
| gettext | django.utils.translation.gettext | 不适用 | module |
| ErrorDetail | rest_framework.exceptions.ErrorDetail | 不适用 | module |
| serializers | paasng.bk_plugins.pluginscenter.serializers | make_plugin_slz_class, make_create_release_version_slz_class, make_market_info_slz_class | module |
| PluginRevisionType | paasng.bk_plugins.pluginscenter.constants.PluginRevisionType | TESTED_VERSION | module |
| PluginCodeTemplate | paasng.bk_plugins.pluginscenter.definitions.PluginCodeTemplate | 不适用 | module |
| to_translated_field | paasng.utils.i18n.to_translated_field | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |
| COMMON_DATA | {'source_version_name': '...', 'source_version_type': '...', 'comment': '...'} | `COMMON_DATA = {'source_version_name': '...', 'source_version_type': '...', 'comment': '...'}` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_translate_fields | `def make_translate_fields(field, value) -> Dict:` | 无 | 不适用 |
| mocked_plugin_repo_accessor | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_make_create_plugin_validator | `@pytest.mark.parametrize(('data', 'is_valid', 'expected'), [({'id': 1, 'name': '2', 'template': 'foo'}, True, {'id': '1', **make_translate_fields('name', '2'), 'template': cattr.structure({'id': 'foo', 'name': 'Foo Template', 'language': 'Python', 'repository': 'https://example.com/foo'}, PluginCodeTemplate), 'extra_fields': {}}), ({'id': '12345678901', 'name': '2', 'template': 'foo'}, False, {'id': [ErrorDetail(string='请确保这个字段不能超过 10 个字符。', code='max_length')]}), ({'id': 1, 'name': '2', 'template': 'foo', 'extra_fields': {'email': 'foo@example.com', 'distributor_codes': ['1', '2']}}, True, {'id': '1', **make_translate_fields('name', '2'), 'template': cattr.structure({'id': 'foo', 'name': 'Foo Template', 'language': 'Python', 'repository': 'https://example.com/foo'}, PluginCodeTemplate), 'extra_fields': {'email': 'foo@example.com', 'distributor_codes': ['1', '2']}}), ({'id': 'invalid_id', 'name': '2', 'template': 'foo'}, False, {'id': [ErrorDetail(string=_('This value does not match the required pattern.'), code='invalid')]}), ({'id': '1', 'name': '2', 'template': 'foo', 'extra_fields': {'email': 'invalid.email', 'distributor_codes': []}}, False, {'extra_fields': {'email': [ErrorDetail(string=_('This value does not match the required pattern.'), code='invalid')]}})]):` | pytest.mark.parametrize | 不适用 |
| test_make_create_plugin_validator_conflict | `@pytest.mark.parametrize(('field', 'value', 'expected'), [('id', 1, {'non_field_errors': [ErrorDetail(string='插件ID 为 1 的插件已存在', code='unique')]}), ('name_en', 'FLAG', {'non_field_errors': [ErrorDetail(string='插件名称 为 FLAG 的插件已存在', code='unique')]}), ('name_zh_cn', 'FLAG', {'non_field_errors': [ErrorDetail(string='插件名称 为 FLAG 的插件已存在', code='unique')]})]):` | pytest.mark.parametrize | 不适用 |
| test_validate_automatic_semver | `@pytest.mark.parametrize(('previous_version', 'data', 'is_valid'), [('0.1.2', {'semver_type': 'major', 'version': '1.0.0', **COMMON_DATA}, True), ('0.1.2', {'semver_type': 'minor', 'version': '0.2.0', **COMMON_DATA}, True), ('0.1.2', {'semver_type': 'patch', 'version': '0.1.3', **COMMON_DATA}, True), ('0.1.2', {'semver_type': 'patch', 'version': '0.2.2', **COMMON_DATA}, False), ('0.1.2', {'semver_type': 'patch', 'version': '0.1.3.4', **COMMON_DATA}, False)]):` | pytest.mark.parametrize | 不适用 |
| test_validate_revision_eq_source_revision | `@pytest.mark.parametrize(('data', 'is_valid'), [({'version': '1.0.0', **COMMON_DATA, 'source_version_name': '1.0.0'}, True), ({'version': '1.0.0', **COMMON_DATA, 'source_version_name': '2.0.0'}, False)]):` | pytest.mark.parametrize | 不适用 |
| test_validate_revision_eq_commit_hash | `@pytest.mark.parametrize(('source_hash', 'data', 'is_valid'), [('a407e44060597e4030d1872d1588c279686e90cb', {'version': 'a407e44060597e4030d1872d1588c279686e90cb', **COMMON_DATA}, True), ('46d1c7f757b690b741a01b8d677c2f9ce931b6a1', {'version': '1.0.0', **COMMON_DATA}, False)]):` | pytest.mark.parametrize | 不适用 |
| test_validate_tested_version | `@pytest.mark.parametrize(('data', 'is_valid'), [({'release_id': '1', 'version': '1.0.0', **COMMON_DATA, 'source_version_name': '1.0.0'}, True), ({'release_id': '', 'version': '1.0.0', **COMMON_DATA, 'source_version_name': '1.0.0'}, False), ({'version': '1.0.0', **COMMON_DATA, 'source_version_name': '2.0.0'}, False)]):` | pytest.mark.parametrize | 不适用 |
| test_validate_release_policy | `@pytest.mark.parametrize(('data', 'revision_policy', 'is_valid'), [({'version': '1.0.0', **COMMON_DATA, 'source_version_name': 'master'}, None, True), ({'version': '1.0.0', **COMMON_DATA, 'source_version_name': 'master'}, 'disallow_released_source_version', False), ({'version': '1.0.0', **COMMON_DATA, 'source_version_name': 'master'}, 'disallow_releasing_source_version', False)]):` | pytest.mark.parametrize | 不适用 |
| test_market_info_validator | `@pytest.mark.parametrize(('data', 'is_valid'), [({'category': '1', 'introduction': '2', 'description': '3', 'contact': '4'}, True), ({'category': '1', 'introduction_zh_cn': '2', 'description': '3', 'contact': '4'}, False), ({'category': '1', 'introduction_en': '2', 'description': '3', 'contact': '4'}, False), ({'category': '1', 'introduction_zh_cn': '2', 'introduction_en': '2', 'description': '3', 'contact': '4'}, True)]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/test_shim.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| APIError | blue_krill.web.std_error.APIError | 不适用 | module |
| PluginInstance | paasng.bk_plugins.pluginscenter.models.PluginInstance | 不适用 | module |
| init_plugin_in_view | paasng.bk_plugins.pluginscenter.shim.init_plugin_in_view | 不适用 | module |
| PluginRepoInitializer | paasng.bk_plugins.pluginscenter.sourcectl.PluginRepoInitializer | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| set_plugin_repository | `def set_plugin_repository(repository: str):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SentinelException | Exception | 无 | 无 | 无 | 不适用 |
| TestInitPlugin | 无 | plugin, plugin_repo_initializer, mocked_create_instance, test_create_repo_failed, test_initial_repo_failed, test_thirdparty_exception, test_iam_exception | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/thirdparty/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/thirdparty/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| thirdparty_client_session | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/thirdparty/test_api.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| pytest | django_db, mark, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| mock | unittest.mock | MagicMock, patch | module |
| ResponseError | bkapi_client_core.exceptions.ResponseError | 不适用 | module |
| APIError | blue_krill.web.std_error.APIError | 不适用 | module |
| Response | requests.models.Response | 不适用 | module |
| market | paasng.bk_plugins.pluginscenter.thirdparty.market | read_market_info | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_response | `def make_response(data: Dict) -> Response:` | 无 | 不适用 |
| test_transform_exception | `@pytest.mark.parametrize(('exception', 'expected_exception'), [(Exception(), APIError(code='UnknownError', message='system error')), (ResponseError(response=make_response({})), APIError(code='APIError', message='[invalid response body]')), (ResponseError(response=make_response({'message': '错误信息'})), APIError(code='APIError', message='错误信息')), (ResponseError(response=make_response({'message': '错误信息'}), response_headers_representer=mock.MagicMock(request_id='foo')), APIError(code='APIError', message='<request_id: foo> 错误信息')), (ResponseError(response=make_response({'detail': '错误信息'}), response_headers_representer=mock.MagicMock(request_id='foo')), APIError(code='APIError', message='<request_id: foo> 错误信息'))]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/thirdparty/test_instance.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |
| requests | Response | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PluginStatus | paasng.bk_plugins.pluginscenter.constants.PluginStatus | archive_status | module |
| instance | paasng.bk_plugins.pluginscenter.thirdparty.instance | create_instance, update_instance, archive_instance | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_instance_upsert_api | `@pytest.mark.parametrize('handler', [instance.create_instance, instance.update_instance]):` | pytest.mark.parametrize | 测试 instance create/update 接口的序列化 |
| test_instance_delete_api | `def test_instance_delete_api(thirdparty_client_session, pd, plugin):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/thirdparty/test_market.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | LANGUAGES | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| to_attribute | translated_fields.to_attribute | 不适用 | module |
| PluginMarketInfo | paasng.bk_plugins.pluginscenter.models.PluginMarketInfo | 不适用 | module |
| PluginMarketInfoSLZ | paasng.bk_plugins.pluginscenter.serializers.PluginMarketInfoSLZ | 不适用 | module |
| market | paasng.bk_plugins.pluginscenter.thirdparty.market | create_market_info, update_market_info, read_market_info | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| market_info | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_market_upsert_api | `@pytest.mark.parametrize('handler', [market.create_market_info, market.update_market_info]):` | pytest.mark.parametrize | 测试 market create/update 接口的序列化 |
| test_market_read_api | `def test_market_read_api(thirdparty_client, pd, plugin):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/bk_plugins/pluginscenter/thirdparty/test_release.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| PluginRelease | paasng.bk_plugins.pluginscenter.models.instances.PluginRelease | 不适用 | module |
| release | paasng.bk_plugins.pluginscenter.thirdparty.release | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| release_version | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_release_upsert_api | `@pytest.mark.parametrize('handler', [release_api.create_release, release_api.update_release]):` | pytest.mark.parametrize | 测试 ReleaseVersion create/update 接口的序列化 |


---


### 模块: apiserver/paasng/tests/paasng/core/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/core/core/test_storages.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| SADBManager | paasng.core.core.storages.utils.SADBManager | make_uni_key | module |
| make_sa_conn_string | paasng.core.core.storages.utils.make_sa_conn_string | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_make_sa_conn_string | `@pytest.mark.parametrize(('driver_type', 'config', 'expected'), [('test', dict(NAME='f1', USER='f2', PASSWORD='f3', HOST='f4', PORT='f5'), 'mysql+test://f2:f3@f4:f5/f1?charset=utf8')]):` | pytest.mark.parametrize | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestSADBManager | 无 | test_make_uni_key | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/core/region/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/core/region/test_app.py







---


### 模块: apiserver/paasng/tests/paasng/infras/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/infras/accounts/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/infras/accounts/test_internal.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Client | blue_krill.auth.client.Client | 不适用 | module |
| APIRequestFactory | rest_framework.test.APIRequestFactory | 不适用 | module |
| SysUserFromVerifiedClientMiddleware | paasng.infras.accounts.internal.user.SysUserFromVerifiedClientMiddleware | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |
| request_factory | 不适用 | `request_factory = APIRequestFactory(enforce_csrf_checks=False)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_response | `def get_response(request):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestSysUserFromVerifiedClientMiddleware | 无 | test_normal | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/infras/accounts/test_middlewares.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| NamedTuple | typing.NamedTuple | 不适用 | module |
| viewsets | rest_framework.viewsets | ViewSet | module |
| APIRequestFactory | rest_framework.test.APIRequestFactory | 不适用 | module |
| AuthenticatedAppAsUserMiddleware | paasng.infras.accounts.middlewares.AuthenticatedAppAsUserMiddleware | 不适用 | module |
| PrivateTokenAuthenticationMiddleware | paasng.infras.accounts.middlewares.PrivateTokenAuthenticationMiddleware | 不适用 | module |
| AuthenticatedAppAsUser | paasng.infras.accounts.models.AuthenticatedAppAsUser | create, objects | module |
| User | paasng.infras.accounts.models.User | create, objects | module |
| UserPrivateToken | paasng.infras.accounts.models.UserPrivateToken | create_token, objects | module |
| ForceAllowAuthedApp | paasng.infras.accounts.utils.ForceAllowAuthedApp | mark_view_set | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |
| request_factory | 不适用 | `request_factory = APIRequestFactory(enforce_csrf_checks=False)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_response | `def get_response(request):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestPrivateTokenAuthenticationMiddleware | 无 | test_no_token_provided, test_random_invalid_token, test_valid_token_provided, test_valid_token_provided_by_header | 无 | 无 | 不适用 |
| SimpleApp | typing.NamedTuple | 无 | 无 | 无 | Simulating App type in `apigw_manager` module |
| ForTestMarkedAuthViewSet | rest_framework.viewsets.ViewSet | 无 | 无 | ForceAllowAuthedApp.mark_view_set | 不适用 |
| ForTestNotMarkedAuthViewSet | rest_framework.viewsets.ViewSet | 无 | 无 | 无 | 不适用 |
| TestAuthenticatedAppAsUserMiddleware | 无 | test_verified_app_provided | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/infras/accounts/test_migration_command.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Oauth2TokenHolder | paasng.infras.accounts.models.Oauth2TokenHolder | 不适用 | module |
| PrivateTokenHolder | paasng.infras.accounts.models.PrivateTokenHolder | 不适用 | module |
| BaseTestEnctrypMigrationCmd | tests.utils.encrypt_cmd_base.BaseTestEnctrypMigrationCmd | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCommand | tests.utils.encrypt_cmd_base.BaseTestEnctrypMigrationCmd | command_name, app_models | 无 | pytest.mark.parametrize | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/infras/accounts/test_models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ScopeType | paasng.infras.accounts.oauth.constants.ScopeType | GROUP, PROJECT, USER | module |
| Scope | paasng.infras.accounts.oauth.models.Scope | parse_from_str | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestScope | 无 | test_match_different_scope, test_error_match | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/infras/accounts/test_permissions.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| UserProfile | paasng.infras.accounts.models.UserProfile | get_profile, objects | module |
| user_can_create_in_region | paasng.infras.accounts.permissions.user.user_can_create_in_region | 不适用 | module |
| configure_regions | tests.utils.helpers.configure_regions | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_user_can_create_in_region | `def test_user_can_create_in_region(bk_user):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/infras/bk_log/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/infras/bk_log/test_client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture, parametrize, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | MagicMock | module |
| BkLogManagementAPIProtocol | paasng.infras.bk_log.client.BkLogManagementAPIProtocol | __name__, __annotations__ | module |
| BkLogManagementClient | paasng.infras.bk_log.client.BkLogManagementClient | 不适用 | module |
| ETLType | paasng.infras.bk_log.constatns.ETLType | JSON, TEXT | module |
| FieldType | paasng.infras.bk_log.constatns.FieldType | INT, STRING | module |
| CustomCollectorConfig | paasng.infras.bk_log.definitions.CustomCollectorConfig | 不适用 | module |
| ETLConfig | paasng.infras.bk_log.definitions.ETLConfig | 不适用 | module |
| ETLField | paasng.infras.bk_log.definitions.ETLField | 不适用 | module |
| ETLParams | paasng.infras.bk_log.definitions.ETLParams | 不适用 | module |
| StorageConfig | paasng.infras.bk_log.definitions.StorageConfig | 不适用 | module |
| CollectorConfigNotPersisted | paasng.infras.bk_log.exceptions.CollectorConfigNotPersisted | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestBkLogClient | 无 | mocked_api, client, test_create_custom_collector_config, test_databus_custom_update, test_databus_custom_update_failed | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/infras/iam/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/infras/iam/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| mock | unittest.mock | object, patch | module |
| ApplyURLGenerator | paasng.infras.iam.permissions.apply_url.ApplyURLGenerator | 不适用 | module |
| ActionResourcesRequest | paasng.infras.iam.permissions.request.ActionResourcesRequest | 不适用 | module |
| ApplicationPermission | paasng.infras.iam.permissions.resources.application.ApplicationPermission | 不适用 | module |
| FakeApplicationPermission | apiserver.paasng.tests.paasng.infras.iam.fake.application.FakeApplicationPermission | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| generate_apply_url | `def generate_apply_url(username: str, action_request_list: List[ActionResourcesRequest]) -> str:` | 无 | 不适用 |
| app_permission_obj | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/infras/iam/fake/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/infras/iam/fake/application.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Request | iam.Request | 不适用 | module |
| Resource | iam.Resource | 不适用 | module |
| Permission | paasng.infras.iam.permissions.perm.Permission | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | get_values, VIEW_BASIC_INFO, DATA_STATISTICS, BASIC_DEVELOP, MANAGE_CLOUD_API, VIEW_ALERT_RECORDS, EDIT_ALERT_POLICY, EDIT_BASIC_INFO, MANAGE_ACCESS_CONTROL, MANAGE_APP_MARKET | module |
| roles | tests.paasng.infras.iam.permissions.roles | ADMIN_USER, APP_ADMIN_USER, APP_DEVELOP_USER, APP_OPERATE_USER | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| app_admin_allowed_actions | 不适用 | `app_admin_allowed_actions = AppAction.get_values()` | module |
| app_develop_allowed_actions | 不适用 | `app_develop_allowed_actions = [AppAction.VIEW_BASIC_INFO, AppAction.DATA_STATISTICS, AppAction.BASIC_DEVELOP, AppAction.MANAGE_CLOUD_API, AppAction.VIEW_ALERT_RECORDS, AppAction.EDIT_ALERT_POLICY]` | module |
| app_operate_allowed_actions | 不适用 | `app_operate_allowed_actions = [AppAction.VIEW_BASIC_INFO, AppAction.EDIT_BASIC_INFO, AppAction.MANAGE_ACCESS_CONTROL, AppAction.MANAGE_APP_MARKET, AppAction.DATA_STATISTICS, AppAction.VIEW_ALERT_RECORDS]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| FakeApplicationIAM | 无 | is_allowed, is_allowed_with_cache | 无 | 无 | 不适用 |
| FakeApplicationPermission | paasng.infras.iam.permissions.perm.Permission | resource_inst_multi_actions_allowed, batch_resource_multi_actions_allowed | iam | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/infras/iam/permissions/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/infras/iam/permissions/roles.py




#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| ADMIN_USER | admin | `ADMIN_USER = 'admin'` | module |
| APP_DEVELOP_USER | app_develop_user | `APP_DEVELOP_USER = 'app_develop_user'` | module |
| APP_OPERATE_USER | app_operate_user | `APP_OPERATE_USER = 'app_operate_user'` | module |
| APP_ADMIN_USER | app_admin_user | `APP_ADMIN_USER = 'app_admin_user'` | module |
| PLATFORM_ADMIN_USER | platform_admin_user | `PLATFORM_ADMIN_USER = 'platform_admin_user'` | module |
| PLATFORM_OPERATE_USER | platform_operate_user | `PLATFORM_OPERATE_USER = 'platform_operate_user'` | module |
| APP_TMPL_ADMIN_USER | app_tmpl_admin_user | `APP_TMPL_ADMIN_USER = 'app_tmpl_admin_user'` | module |
| EXTERNAL_REGION_ENABLED_USER | external_region_enabled_user | `EXTERNAL_REGION_ENABLED_USER = 'external_region_enabled_user'` | module |



---


### 模块: apiserver/paasng/tests/paasng/infras/iam/permissions/test_application.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | IAM_PAAS_V3_SYSTEM_ID | module |
| ResourceType | paasng.infras.iam.constants.ResourceType | Application | module |
| PermissionDeniedError | paasng.infras.iam.permissions.exceptions.PermissionDeniedError | code | module |
| ActionResourcesRequest | paasng.infras.iam.permissions.perm.ActionResourcesRequest | 不适用 | module |
| AppAction | paasng.infras.iam.permissions.resources.application.AppAction | DELETE_APPLICATION | module |
| AppCreatorAction | paasng.infras.iam.permissions.resources.application.AppCreatorAction | 不适用 | module |
| AppPermCtx | paasng.infras.iam.permissions.resources.application.AppPermCtx | 不适用 | module |
| generate_apply_url | tests.paasng.infras.iam.conftest.generate_apply_url | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| TEST_APP_CODE | 不适用 | `TEST_APP_CODE = generate_random_string(10)` | module |
| TEST_APP_NAME | 不适用 | `TEST_APP_NAME = generate_random_string(6)` | module |
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestApplicationPermission | 无 | test_can_view_basic_info, test_can_delete_application, test_can_manage_cloud_api, test_can_manage_app_market | 无 | 无 | 测试蓝鲸应用资源权限 |
| TestApplicationCreatorAction | 无 | test_to_data | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/infras/oauth2/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| bk_oauth_client_id | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_oauth_client_key | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/infras/oauth2/test_migration_command.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| OAuth2Client | paasng.infras.oauth2.models.OAuth2Client | 不适用 | module |
| BaseTestEnctrypMigrationCmd | tests.utils.encrypt_cmd_base.BaseTestEnctrypMigrationCmd | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCommand | tests.utils.encrypt_cmd_base.BaseTestEnctrypMigrationCmd | command_name, app_models | 无 | pytest.mark.parametrize | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/infras/oauth2/test_oauth_client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| nullcontext | blue_krill.contextlib.nullcontext | 不适用 | module |
| override_settings | django.test.utils.override_settings | 不适用 | module |
| BkOauthApiException | paasng.infras.oauth2.exceptions.BkOauthApiException | 不适用 | module |
| OAuth2Client | paasng.infras.oauth2.models.OAuth2Client | get, objects | module |
| create_oauth2_client | paasng.infras.oauth2.utils.create_oauth2_client | 不适用 | module |
| get_oauth2_client_secret | paasng.infras.oauth2.utils.get_oauth2_client_secret | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestBkOauthClient | 无 | test_create_client | 无 | mock.patch | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/misc/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/misc/audit/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/misc/audit/test_api.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |
| create_app | tests.conftest.create_app | 不适用 | module |
| generate_random_string | tests.conftest.generate_random_string | 不适用 | module |
| create_user | tests.utils.auth.create_user | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAuditAPI | 无 | test_latest_apps, test_latest_apps_filter_by_operator | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/misc/audit/test_model.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| OperationEnum | paasng.misc.audit.constants.OperationEnum | CREATE_APP, RELEASE_TO_MARKET, CREATE, START, ENABLE, APPLY | module |
| OperationTarget | paasng.misc.audit.constants.OperationTarget | APP, MODULE, PROCESS, ACCESS_CONTROL, CLOUD_API | module |
| ResultCode | paasng.misc.audit.constants.ResultCode | SUCCESS, ONGOING | module |
| AppLatestOperationRecord | paasng.misc.audit.models.AppLatestOperationRecord | get, objects | module |
| add_app_audit_record | paasng.misc.audit.service.add_app_audit_record | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppOperationRecord | 无 | test_opreation_record_display | 无 | 无 | 不适用 |
| TestAppLatestOp | 无 | test_post_save_handler | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/misc/monitoring/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/misc/monitoring/alert_rules/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/misc/monitoring/alert_rules/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| mock | unittest.mock | object, patch, dict | module |
| settings | django.conf.settings | BASE_DIR, get, RABBITMQ_MONITOR_CONF | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| DocumentaryLinkAdvisor | paasng.accessories.smart_advisor.advisor.DocumentaryLinkAdvisor | 不适用 | module |
| get_dynamic_tag | paasng.accessories.smart_advisor.tags.get_dynamic_tag | 不适用 | module |
| AsCodeClient | paasng.misc.monitoring.monitor.alert_rules.ascode.client.AsCodeClient | 不适用 | module |
| DEFAULT_RULE_CONFIGS | paasng.misc.monitoring.monitor.alert_rules.config.constants.DEFAULT_RULE_CONFIGS | 不适用 | module |
| AlertCode | paasng.misc.monitoring.monitor.alert_rules.config.entities.AlertCode | value, HIGH_CPU_USAGE, HIGH_MEM_USAGE, POD_RESTART, OOM_KILLED, HIGH_RABBITMQ_QUEUE_MESSAGES | module |
| AppAlertRule | paasng.misc.monitoring.monitor.models.AppAlertRule | create, objects | module |
| safe_jinja2 | paasng.utils.safe_jinja2 | FileEnvironment | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| random_vhost | 不适用 | `random_vhost = generate_random_string()` | module |
| random_cluster_id | 不适用 | `random_cluster_id = generate_random_string()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| mock_import_configs | `@pytest.fixture(autouse=True):` | pytest.fixture | 不适用 |
| wl_namespaces | `@pytest.fixture():` | pytest.fixture | 不适用 |
| create_module_for_alert | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_app_init_rule_configs | `@pytest.fixture():` | pytest.fixture | 不适用 |
| cpu_usage_alert_rule_obj | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/misc/monitoring/alert_rules/test_api.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| importlib | reload | module |
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| override_settings | django.test.utils.override_settings | 不适用 | module |
| manager | paasng.misc.monitoring.monitor.alert_rules.manager | init_rules | module |
| DEFAULT_RULE_CONFIGS | paasng.misc.monitoring.monitor.alert_rules.config.constants.DEFAULT_RULE_CONFIGS | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAlertRulesView | 无 | _init_rules, test_list_rules, test_list_supported_alert_rules | 无 | 无 | 不适用 |
| TestInitAlertRulesAPI | 无 | test_init_alert_rules | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/misc/monitoring/alert_rules/test_manager.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| importlib | reload | module |
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| override_settings | django.test.utils.override_settings | 不适用 | module |
| manager | paasng.misc.monitoring.monitor.alert_rules.manager | init_rules, create_rules, update_notice_group | module |
| DEFAULT_RULE_CONFIGS | paasng.misc.monitoring.monitor.alert_rules.config.constants.DEFAULT_RULE_CONFIGS | 不适用 | module |
| AppAlertRule | paasng.misc.monitoring.monitor.models.AppAlertRule | filter, objects, filter_app_scoped, filter_module_scoped, get | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAlertRuleManager | 无 | test_init_rules, test_create_rules, test_update_notice_group | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/misc/monitoring/metrics/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/misc/monitoring/metrics/test_client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BkPromResult | paasng.misc.monitoring.metrics.clients.BkPromResult | from_series | module |
| PromResult | paasng.misc.monitoring.metrics.clients.prometheus.PromResult | from_resp | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestPromResult | 无 | test_from_dict, test_none, test_get_by_container_name, test_response_change | fake_range_result, fake_no_range_result | 无 | 不适用 |
| TestBkPrometheusResult | 无 | test_from_series, test_none, test_get_by_container_name, test_no_container_name | fake_range_series | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/misc/monitoring/metrics/test_metric_manager.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | timedelta | module |
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| namedtuple | collections.namedtuple | 不适用 | module |
| List | typing.List | 不适用 | module |
| Mock | unittest.mock.Mock | 不适用 | module |
| patch | unittest.mock.patch | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| AppProcessManager | paas_wl.bk_app.processes.managers.AppProcessManager | 不适用 | module |
| BkMonitorMetricClient | paasng.misc.monitoring.metrics.clients.BkMonitorMetricClient | 不适用 | module |
| MetricsResourceType | paasng.misc.monitoring.metrics.constants.MetricsResourceType | MEM | module |
| MetricsSeriesType | paasng.misc.monitoring.metrics.constants.MetricsSeriesType | CURRENT | module |
| RequestMetricBackendError | paasng.misc.monitoring.metrics.exceptions.RequestMetricBackendError | 不适用 | module |
| ResourceMetricManager | paasng.misc.monitoring.metrics.models.ResourceMetricManager | 不适用 | module |
| MetricSmartTimeRange | paasng.misc.monitoring.metrics.utils.MetricSmartTimeRange | 不适用 | module |
| create_wl_app | tests.paas_wl.utils.wl_app.create_wl_app | 不适用 | module |
| create_wl_instance | tests.paas_wl.utils.wl_app.create_wl_instance | 不适用 | module |
| create_wl_release | tests.paas_wl.utils.wl_app.create_wl_release | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestResourceMetricManager | 无 | _set_up, metric_client, test_normal_gen_series_query, test_empty_gen_series_query, test_exception_gen_series_query, test_gen_series_query, test_gen_all_series_query | 无 | 无 | 不适用 |
| TestTimeRange | 无 | test_simple_date_string, test_to_now | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/misc/monitoring/service_monitor/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/misc/monitoring/service_monitor/test_controller.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| Endpoint | paas_wl.bk_app.monitoring.app_monitor.kres_entities.Endpoint | 不适用 | module |
| ServiceMonitor | paas_wl.bk_app.monitoring.app_monitor.kres_entities.ServiceMonitor | 不适用 | module |
| ServiceSelector | paas_wl.bk_app.monitoring.app_monitor.kres_entities.ServiceSelector | 不适用 | module |
| AppEntityNotFound | paas_wl.infras.resources.kube_res.exceptions.AppEntityNotFound | 不适用 | module |
| ServiceMonitorController | paasng.misc.monitoring.monitor.service_monitor.controller.ServiceMonitorController | 不适用 | module |
| Monitoring | paasng.platform.bkapp_model.entities.Monitoring | 不适用 | module |
| ObservabilityConfig | paasng.platform.bkapp_model.models.ObservabilityConfig | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.usefixtures('_with_wl_apps')]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestServiceMonitorController | 无 | test_init_sync, test_sync_with_different_process, test_sync_with_same_process | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/misc/monitoring/test_alert.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| atexit | register | module |
| pytest | django_db, mark, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| datetime | datetime.datetime | now | module |
| partial | functools.partial | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| FileLock | filelock.FileLock | 不适用 | module |
| SpaceType | paasng.infras.bkmonitorv3.constants.SpaceType | SAAS | module |
| BKMonitorSpace | paasng.infras.bkmonitorv3.models.BKMonitorSpace | create, objects | module |
| QueryAlarmStrategiesParams | paasng.infras.bkmonitorv3.params.QueryAlarmStrategiesParams | 不适用 | module |
| QueryAlertsParams | paasng.infras.bkmonitorv3.params.QueryAlertsParams | create_by_app_codes | module |
| create_app | tests.utils.helpers.create_app | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |
| fn | 不适用 | `fn = Path(__file__).parent / '.random'` | module |
| AppQueryAlertsParams | 不适用 | `AppQueryAlertsParams = partial(QueryAlertsParams.create_by_app_codes, app_codes=[FAKE_APP_CODE], start_time=datetime.now(), end_time=datetime.now())` | module |
| AppQueryAlarmStrategiesParams | 不适用 | `AppQueryAlarmStrategiesParams = partial(QueryAlarmStrategiesParams, app_code=FAKE_APP_CODE)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| clear_filelock | `@atexit.register:` | atexit.register | 不适用 |
| bk_monitor_space | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestQueryAlertsParams | 无 | test_to_dict | 无 | 无 | 不适用 |
| TestQueryAlarmStrategiesParams | 无 | test_to_dict | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/misc/monitoring/test_dashboard.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | object, patch | module |
| BkMonitorClient | paasng.infras.bkmonitorv3.client.BkMonitorClient | 不适用 | module |
| BKMonitorSpace | paasng.infras.bkmonitorv3.models.BKMonitorSpace | create, objects | module |
| BkDashboardManager | paasng.misc.monitoring.monitor.dashboards.manager.BkDashboardManager | 不适用 | module |
| AppDashboard | paasng.misc.monitoring.monitor.models.AppDashboard | filter, objects | module |
| AppDashboardTemplate | paasng.misc.monitoring.monitor.models.AppDashboardTemplate | create, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| bk_monitor_space | `@pytest.fixture:` | pytest.fixture | 不适用 |
| init_dashboard_templates | `@pytest.fixture:` | pytest.fixture | 不适用 |
| test_init_dashboard_command | `@pytest.mark.usefixtures('init_dashboard_templates'):` | pytest.mark.usefixtures | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/misc/monitoring/test_metric_label.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, param, xfail, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| get_cluster_id | paasng.misc.monitoring.monitor.alert_rules.config.metric_label.get_cluster_id | 不适用 | module |
| BKMonitorNotSupportedError | paasng.misc.monitoring.monitor.exceptions.BKMonitorNotSupportedError | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get_invalid_cluster_id | `@mock.patch('paasng.misc.monitoring.monitor.alert_rules.config.metric_label._get_cluster_info_cache'):` | mock.patch, pytest.mark.parametrize | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| FakeVersionInfo | 无 | __init__, to_str | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/misc/operations/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/misc/operations/test_operations.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| DeployStatus | paas_wl.bk_app.cnative.specs.constants.DeployStatus | READY, ERROR, PENDING | module |
| OperationType | paasng.misc.operations.constant.OperationType | value, MODIFY_PRODUCT_ATTRIBUTES, PROCESS_START, PROCESS_STOP | module |
| AppDeploymentOperationObj | paasng.misc.operations.models.AppDeploymentOperationObj | create_from_deployment | module |
| CNativeAppDeployOperationObj | paasng.misc.operations.models.CNativeAppDeployOperationObj | create_from_deploy | module |
| Operation | paasng.misc.operations.models.Operation | create, objects | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | SUCCESSFUL, FAILED, INTERRUPTED | module |
| create_cnative_deploy | tests.paas_wl.bk_app.cnative.specs.utils.create_cnative_deploy | 不适用 | module |
| create_fake_deployment | tests.paasng.platform.engine.setup_utils.create_fake_deployment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestOperationObj | 无 | test_normal | 无 | 无 | 不适用 |
| TestProcessOperationObj | 无 | test_normal | 无 | 无 | 不适用 |
| TestAppDeploymentOperationObj | 无 | test_create_from_deployment | 无 | 无 | 不适用 |
| TestCNativeAppDeployOperationObj | 无 | test_create_from_deploy | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/misc/test_changelog.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_language | django.utils.translation.get_language | 不适用 | module |
| Changelog | paasng.misc.changelog.query.Changelog | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| TEST_CHANGELOG_FILE_NAMES | [{'name': 'V1.0.0_2022-10-17.md', 'valid': True}, {'name': 'V1.1.17_2022-10-17.md', 'valid': True}, {'name': 'V1.0.0-beta_2022-10-17.md', 'valid': True}, {'name': 'V1.1.2_2022-10-17.md', 'valid': True}, {'name': 'v1.1.2_2022-10-17.md', 'valid': False}, {'name': 'V1.0.1-2022-10-17.md', 'valid': False}, {'name': 'V1.0.18_2022-13-17.md', 'valid': False}, {'name': 'V1.2.0_2022-10-17.txt', 'valid': False}] | `TEST_CHANGELOG_FILE_NAMES = [{'name': 'V1.0.0_2022-10-17.md', 'valid': True}, {'name': 'V1.1.17_2022-10-17.md', 'valid': True}, {'name': 'V1.0.0-beta_2022-10-17.md', 'valid': True}, {'name': 'V1.1.2_2022-10-17.md', 'valid': True}, {'name': 'v1.1.2_2022-10-17.md', 'valid': False}, {'name': 'V1.0.1-2022-10-17.md', 'valid': False}, {'name': 'V1.0.18_2022-13-17.md', 'valid': False}, {'name': 'V1.2.0_2022-10-17.txt', 'valid': False}]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestChangelog | 无 | _init_changelog_dir, test_list_logs | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/misc/tools/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/misc/tools/test_app_desc.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| OrderedDict | collections.OrderedDict | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| settings | django.conf.settings | CONTAINER_PORT | module |
| create_service | paasng.misc.tools.app_desc.create_service | 不适用 | module |
| transform_app_desc_spec2_to_spec3 | paasng.misc.tools.app_desc.transform_app_desc_spec2_to_spec3 | 不适用 | module |
| transform_module_spec | paasng.misc.tools.app_desc.transform_module_spec | 不适用 | module |
| transform_modules_section | paasng.misc.tools.app_desc.transform_modules_section | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_create_service | `@pytest.mark.parametrize(('service_input', 'expected_service_output'), [('web', {'name': 'web', 'protocol': 'TCP', 'exposedType': {'name': 'bk/http'}, 'targetPort': settings.CONTAINER_PORT, 'port': 80}), ('worker', {'name': 'worker', 'protocol': 'TCP', 'targetPort': settings.CONTAINER_PORT, 'port': 80})]):` | pytest.mark.parametrize | 不适用 |
| test_transform_module_spec | `@pytest.mark.parametrize(('spec_input', 'expected_spec_output'), [({'services': [{'name': 'mysql'}, {'name': 'rabbitmq'}]}, OrderedDict({'addons': [{'name': 'mysql'}, {'name': 'rabbitmq'}]})), ({'env_variables': [{'key': 'FOO', 'value': 'value_of_foo', 'description': '环境变量'}, {'key': 'BAR', 'value': 'value_of_bar', 'description': '另一个环境变量'}]}, OrderedDict({'configuration': {'env': [{'name': 'FOO', 'value': 'value_of_foo', 'description': '环境变量'}, {'name': 'BAR', 'value': 'value_of_bar', 'description': '另一个环境变量'}]}})), ({'processes': {'web': {'command': 'npm run server', 'plan': '4C1G5R', 'replicas': 2, 'probes': {'liveness': {'exec': {'command': ['cat']}}, 'readiness': {'http_get': {'path': '/healthz', 'port': 80}}}}, 'worker': {'command': 'python manage.py runserver', 'plan': '4C1G5R', 'replicas': 2, 'probes': {'liveness': {'exec': {'command': ['/bin/bash', '-c', 'echo ready']}}, 'readiness': {'http_get': {'path': '/healthz', 'port': 80}}}}}}, OrderedDict({'processes': [OrderedDict({'name': 'web', 'procCommand': 'npm run server', 'resQuotaPlan': '4C1G', 'replicas': 2, 'probes': {'liveness': {'exec': {'command': ['cat']}}, 'readiness': {'httpGet': {'path': '/healthz', 'port': 80}}}, 'services': [{'name': 'web', 'protocol': 'TCP', 'exposedType': {'name': 'bk/http'}, 'targetPort': settings.CONTAINER_PORT, 'port': 80}]}), OrderedDict({'name': 'worker', 'procCommand': 'python manage.py runserver', 'resQuotaPlan': '4C1G', 'replicas': 2, 'probes': {'liveness': {'exec': {'command': ['/bin/bash', '-c', 'echo ready']}}, 'readiness': {'httpGet': {'path': '/healthz', 'port': 80}}}, 'services': [{'name': 'worker', 'protocol': 'TCP', 'targetPort': settings.CONTAINER_PORT, 'port': 80}]})]})), ({'scripts': {'pre_release_hook': 'bin/pre-release.sh'}}, OrderedDict({'hooks': {'preRelease': {'procCommand': 'bin/pre-release.sh'}}})), ({'svc_discovery': {'bk_saas': [{'bk_app_code': 'bk-iam'}, {'bk_app_code': 'bk-user', 'module_name': 'api'}]}}, OrderedDict({'svcDiscovery': {'bkSaaS': [{'bkAppCode': 'bk-iam'}, {'bkAppCode': 'bk-user', 'moduleName': 'api'}]}}))]):` | pytest.mark.parametrize | 不适用 |
| test_transform_modules_section | `@pytest.mark.parametrize(('modules_data', 'expected_modules_data'), [({'default': {'is_default': True, 'source_dir': 'src/server', 'language': 'Python', 'services': [{'name': 'mysql'}, {'name': 'rabbitmq'}], 'env_variables': [{'key': 'FOO', 'value': 'value_of_foo', 'description': '环境变量'}]}, 'frontend': {'is_default': False, 'source_dir': 'src/frontend', 'language': 'NodeJS', 'services': [{'name': 'mysql'}, {'name': 'rabbitmq'}], 'env_variables': [{'key': 'FOO', 'value': 'value_of_foo', 'description': '环境变量'}, {'key': 'BAR', 'value': 'value_of_bar', 'description': '另一个环境变量'}], 'processes': {'web': {'command': 'npm run server', 'plan': '4C1G5R', 'replicas': 2, 'probes': {'liveness': {'exec': {'command': ['cat']}}, 'readiness': {'http_get': {'path': '/healthz', 'port': 80}}}}}}}, [OrderedDict({'name': 'default', 'isDefault': True, 'sourceDir': 'src/server', 'language': 'Python', 'spec': OrderedDict({'addons': [{'name': 'mysql'}, {'name': 'rabbitmq'}], 'configuration': {'env': [{'name': 'FOO', 'value': 'value_of_foo', 'description': '环境变量'}]}})}), OrderedDict({'name': 'frontend', 'isDefault': False, 'sourceDir': 'src/frontend', 'language': 'NodeJS', 'spec': OrderedDict({'addons': [{'name': 'mysql'}, {'name': 'rabbitmq'}], 'configuration': {'env': [{'name': 'FOO', 'value': 'value_of_foo', 'description': '环境变量'}, {'name': 'BAR', 'value': 'value_of_bar', 'description': '另一个环境变量'}]}, 'processes': [OrderedDict({'name': 'web', 'procCommand': 'npm run server', 'resQuotaPlan': '4C1G', 'replicas': 2, 'probes': {'liveness': {'exec': {'command': ['cat']}}, 'readiness': {'httpGet': {'path': '/healthz', 'port': 80}}}, 'services': [{'name': 'web', 'protocol': 'TCP', 'exposedType': {'name': 'bk/http'}, 'targetPort': settings.CONTAINER_PORT, 'port': 80}]})]})})]), ({'api_server': {'is_default': False, 'source_dir': 'src/backend', 'language': 'Python', 'services': [{'name': 'mysql', 'share_from': 'default'}, {'name': 'rabbitmq', 'share_from': 'default'}], 'env_variables': [{'key': 'API_KEY', 'value': 'api_value', 'description': 'API 密钥'}], 'processes': {'worker': {'command': 'python manage.py runserver', 'plan': '4C1G5R', 'replicas': 2, 'probes': {'liveness': {'exec': {'command': ['/bin/bash', '-c', 'echo ready']}}, 'readiness': {'http_get': {'path': '/healthz', 'port': 80}}}}}, 'scripts': {'pre_release_hook': 'python manage.py migrate'}, 'svc_discovery': {'bk_saas': [{'bk_app_code': 'bk-iam'}, {'bk_app_code': 'bk-user', 'module_name': 'api'}]}}}, [OrderedDict({'name': 'api_server', 'isDefault': False, 'sourceDir': 'src/backend', 'language': 'Python', 'spec': OrderedDict({'addons': [{'name': 'mysql', 'shareFrom': 'default'}, {'name': 'rabbitmq', 'shareFrom': 'default'}], 'configuration': {'env': [{'name': 'API_KEY', 'value': 'api_value', 'description': 'API 密钥'}]}, 'processes': [OrderedDict({'name': 'worker', 'procCommand': 'python manage.py runserver', 'resQuotaPlan': '4C1G', 'replicas': 2, 'probes': {'liveness': {'exec': {'command': ['/bin/bash', '-c', 'echo ready']}}, 'readiness': {'httpGet': {'path': '/healthz', 'port': 80}}}, 'services': [{'name': 'worker', 'protocol': 'TCP', 'targetPort': settings.CONTAINER_PORT, 'port': 80}]})], 'hooks': {'preRelease': {'procCommand': 'python manage.py migrate'}}, 'svcDiscovery': {'bkSaaS': [{'bkAppCode': 'bk-iam'}, {'bkAppCode': 'bk-user', 'moduleName': 'api'}]}})})])]):` | pytest.mark.parametrize | 不适用 |
| test_transform_app_desc_spec2_to_spec3 | `@pytest.mark.parametrize(('spec2_data', 'expected_spec3_data'), [({'spec_version': 2, 'app_version': '1.0', 'app': {'region': 'default', 'bk_app_code': 'foo-app', 'bk_app_name': '默认应用名称', 'market': {'category': '运维工具', 'introduction': '应用简介', 'description': '应用描述', 'display_options': {'width': 800, 'height': 600, 'open_mode': 'desktop', 'is_win_maximize': False, 'visible': True}}}, 'module': {'source_dir': 'src/frontend', 'language': 'NodeJS', 'services': [{'name': 'mysql'}, {'name': 'rabbitmq'}], 'env_variables': [{'key': 'FOO', 'value': 'value_of_foo', 'description': '环境变量'}, {'key': 'Baa', 'value': 'value_of_baa', 'description': '环境变量'}], 'processes': {'web': {'command': 'npm run server', 'plan': '4C1G5R', 'replicas': 2, 'probes': {'liveness': {'exec': {'command': ['cat']}}, 'readiness': {'http_get': {'path': '/healthz', 'port': 80}}}}}, 'scripts': {'pre_release_hook': 'bin/pre-release.sh'}, 'svc_discovery': {'bk_saas': ['bk-iam', 'bk-user']}}}, OrderedDict({'specVersion': 3, 'appVersion': '1.0', 'app': OrderedDict({'region': 'default', 'bkAppCode': 'foo-app', 'bkAppName': '默认应用名称', 'market': {'category': '运维工具', 'introduction': '应用简介', 'description': '应用描述', 'displayOptions': {'width': 800, 'height': 600, 'openMode': 'desktop', 'isWinMaximize': False, 'visible': True}}}), 'module': OrderedDict({'name': 'default', 'sourceDir': 'src/frontend', 'language': 'NodeJS', 'spec': OrderedDict({'addons': [{'name': 'mysql'}, {'name': 'rabbitmq'}], 'configuration': {'env': [{'name': 'FOO', 'value': 'value_of_foo', 'description': '环境变量'}, {'name': 'Baa', 'value': 'value_of_baa', 'description': '环境变量'}]}, 'processes': [OrderedDict({'name': 'web', 'procCommand': 'npm run server', 'resQuotaPlan': '4C1G', 'replicas': 2, 'probes': {'liveness': {'exec': {'command': ['cat']}}, 'readiness': {'httpGet': {'path': '/healthz', 'port': 80}}}, 'services': [{'name': 'web', 'protocol': 'TCP', 'exposedType': {'name': 'bk/http'}, 'targetPort': settings.CONTAINER_PORT, 'port': 80}]})], 'hooks': {'preRelease': {'procCommand': 'bin/pre-release.sh'}}, 'svcDiscovery': {'bkSaaS': [{'bkAppCode': 'bk-iam'}, {'bkAppCode': 'bk-user'}]}})})}))]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/plat_admin/admin_cli/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/plat_admin/admin_cli/test_mapper_version.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Config | paas_wl.bk_app.applications.models.config.Config | create, objects | module |
| get_mapper_v1_envs | paasng.plat_admin.admin_cli.mapper_version.get_mapper_v1_envs | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.usefixtures('_with_wl_apps')]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Test__get_mapper_v1_envs | 无 | test_normal, test_multiple_configs | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/plat_admin/test_numbers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| functools | partial | module |
| pytest | django_db, mark, xdist_group, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| Contribution | paasng.plat_admin.numbers.app.Contribution | 不适用 | module |
| DefaultAppDataBuilder | paasng.plat_admin.numbers.app.DefaultAppDataBuilder | 不适用 | module |
| LegacyAppDataBuilder | paasng.plat_admin.numbers.app.LegacyAppDataBuilder | 不适用 | module |
| SimpleApp | paasng.plat_admin.numbers.app.SimpleApp | 不适用 | module |
| calculate_user_contribution_in_app | paasng.plat_admin.numbers.app.calculate_user_contribution_in_app | 不适用 | module |
| group_apps_by_developers | paasng.plat_admin.numbers.app.group_apps_by_developers | 不适用 | module |
| make_table_apps_basic_info | paasng.plat_admin.numbers.app.make_table_apps_basic_info | 不适用 | module |
| make_table_apps_grouped_by_developer | paasng.plat_admin.numbers.app.make_table_apps_grouped_by_developer | 不适用 | module |
| make_table_apps_grouped_by_developer_simple | paasng.plat_admin.numbers.app.make_table_apps_grouped_by_developer_simple | 不适用 | module |
| print_table | paasng.plat_admin.numbers.app.print_table | 不适用 | module |
| skip_if_legacy_not_configured | tests.conftest.skip_if_legacy_not_configured | 不适用 | module |
| create_app | tests.utils.helpers.create_app | 不适用 | module |
| create_legacy_application | tests.utils.helpers.create_legacy_application | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| create_app | 不适用 | `create_app = functools.partial(helper_create_app, additional_modules=['sourcectl'])` | module |
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db, pytest.mark.xdist_group(name='legacy-db'), pytest.mark.usefixtures('_init_tmpls')]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_print_table | `def test_print_table():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDefaultAppDataBuilder | 无 | test_normal, test_with_filter_developers | 无 | 无 | 不适用 |
| TestLegacyAppDataBuilder | 无 | test_normal | 无 | 无 | 不适用 |
| TestCalculateUserContribution | 无 | test_with_mock | 无 | skip_if_legacy_not_configured | 不适用 |
| TestTablesAppGroupedByDevelopers | 无 | test_with_filter_developers, test_without_filter_developers | 无 | 无 | 不适用 |
| TestTablesAppGroupedByDevelopersSimple | 无 | test_with_filter_developers | 无 | 无 | 不适用 |
| TestTablesAppBasicInfo | 无 | test_with_matched, test_without_matched | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/applications/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/applications/test_applications.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| add_role_members | paasng.infras.iam.helpers.add_role_members | 不适用 | module |
| fetch_application_members | paasng.infras.iam.helpers.fetch_application_members | 不适用 | module |
| remove_user_all_roles | paasng.infras.iam.helpers.remove_user_all_roles | 不适用 | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | DEVELOPER | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | DEFAULT | module |
| Application | paasng.platform.applications.models.Application | filter_by_user, objects | module |
| UserApplicationFilter | paasng.platform.applications.models.UserApplicationFilter | 不适用 | module |
| create_default_module | paasng.platform.applications.utils.create_default_module | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | AUTHORIZED_VCS, BK_LESS_CODE | module |
| Module | paasng.platform.modules.models.Module | filter, objects, create | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |
| create_user | tests.utils.auth.create_user | 不适用 | module |
| register_iam_after_create_application | tests.utils.helpers.register_iam_after_create_application | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCreateDefaultModule | 无 | test_create_default_module | 无 | 无 | 不适用 |
| BaseCaseWithApps | 无 | _setup_data | 无 | 无 | 不适用 |
| TestApplicationManager | BaseCaseWithApps | test_filter_by_user_normal, test_filter_by_userremove, test_filter_language, test_active_only, test_search_by_code_or_name, test_filter_by_user, test_filter_by_source_origin | 无 | 无 | 不适用 |
| TestUserApplication | BaseCaseWithApps | test_filter, test_filter_by_type_ | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/applications/test_feature_flag.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | object, patch, PropertyMock | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| get_default_feature_flags | paasng.platform.applications.models.get_default_feature_flags | 不适用 | module |
| override_region_configs | tests.utils.helpers.override_region_configs | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestGetDefaultFeatureFlags | 无 | test_override | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/applications/test_lapp.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, skip, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| legacy_db | paasng.core.core.storages.sqlalchemy.legacy_db | session_scope | module |
| check_legacy_enabled | tests.conftest.check_legacy_enabled | 不适用 | module |
| adaptive_lapplicationtag_fields | tests.utils.helpers.adaptive_lapplicationtag_fields | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |
| AppAdaptor | paasng.infras.legacydb.adaptors.AppAdaptor | 不适用 | module |
| legacy_models | paasng.infras.legacydb.adaptors.legacy_models | LApplicationTag | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| legacy_app | `@pytest.fixture():` | pytest.fixture | 不适用 |
| legacy_tag | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestLightAppViewSet | 无 | test_create, test_delete, test_query, test_edit | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/applications/test_protection.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppResProtector | paasng.platform.applications.protections.AppResProtector | override_preconditions | module |
| BaseAppResProtectCondition | paasng.platform.applications.protections.BaseAppResProtectCondition | 不适用 | module |
| ConditionNotMatched | paasng.platform.applications.protections.ConditionNotMatched | 不适用 | module |
| ProtectedRes | paasng.platform.applications.protections.ProtectedRes | BASIC_INFO_MODIFICATIONS, SERVICES_MODIFICATIONS, DISABLE_APP_DESC | module |
| ProtectionStatus | paasng.platform.applications.protections.ProtectionStatus | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ForbidUpdate | paasng.platform.applications.protections.BaseAppResProtectCondition | validate | 无 | 无 | 不适用 |
| TestAppResProtector | 无 | test_get_status_empty, test_smart_app, test_list_status, test_get_status | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/applications/test_serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | object, patch | module |
| serializers | rest_framework.serializers | Serializer | module |
| AppFieldValidationError | paasng.platform.applications.exceptions.AppFieldValidationError | 不适用 | module |
| AppIDField | paasng.platform.applications.serializers.AppIDField | 不适用 | module |
| AppIDSMartField | paasng.platform.applications.serializers.AppIDSMartField | 不适用 | module |
| AppNameField | paasng.platform.applications.serializers.AppNameField | 不适用 | module |
| prepare_use_application_code | paasng.platform.applications.signals.prepare_use_application_code | 不适用 | module |
| prepare_use_application_name | paasng.platform.applications.signals.prepare_use_application_name | 不适用 | module |
| create_app | tests.utils.helpers.create_app | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppCodeSLZ | rest_framework.serializers.Serializer | 无 | code | 无 | 不适用 |
| TestAppIDField | 无 | test_create_normal, test_forbid_underscore, test_create_existed_found, test_create_existed_found_in_external, test_update_same_code, test_update_code_is_forbidden, test_update_random_is_forbidden | 无 | 无 | 不适用 |
| AppIDSMartSLZ | rest_framework.serializers.Serializer | 无 | id | 无 | 不适用 |
| TestAppIDSMartField | 无 | test_max_length_is_20, test_allow_underscore | 无 | 无 | 不适用 |
| AppNameSLZ | rest_framework.serializers.Serializer | 无 | name | 无 | 不适用 |
| TestAppNameField | 无 | test_create_existed_found_in_external, test_update_different_name, test_update_existed_found_in_external | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/applications/test_specs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ApplicationType | paasng.platform.applications.constants.ApplicationType | DEFAULT, ENGINELESS_APP, CLOUD_NATIVE | module |
| AppSpecs | paasng.platform.applications.specs.AppSpecs | 不适用 | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | NORMAL | module |
| Template | paasng.platform.templates.models.Template | update_or_create, objects | module |
| override_region_configs | tests.utils.helpers.override_region_configs | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppSpecs | 无 | test_engine_enabled, test_can_create_extra_modules, test_confirm_required_when_publish_with_no_template, test_confirm_required_when_publish_with_template | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/entities_syncer/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/entities_syncer/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| proc_web | `@pytest.fixture():` | pytest.fixture | 不适用 |
| proc_celery | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/entities_syncer/test_build.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppBuildConfig | paasng.platform.bkapp_model.entities.AppBuildConfig | 不适用 | module |
| sync_build | paasng.platform.bkapp_model.entities_syncer.sync_build | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Test__sync_build | 无 | test | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/entities_syncer/test_domain_resolution.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| fieldmgr | paasng.platform.bkapp_model.fieldmgr | APP_DESC, FieldMgrName | module |
| DomainResolution | paasng.platform.bkapp_model.models.DomainResolution | 不适用 | module |
| HostAlias | paasng.platform.bkapp_model.entities.HostAlias | 不适用 | module |
| sync_domain_resolution | paasng.platform.bkapp_model.entities_syncer.sync_domain_resolution | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Test__sync_domain_resolution | 无 | test_create, test_update, test_delete | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/entities_syncer/test_env_vars.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| EnvVar | paasng.platform.bkapp_model.entities.EnvVar | 不适用 | module |
| EnvVarOverlay | paasng.platform.bkapp_model.entities.EnvVarOverlay | 不适用 | module |
| sync_env_vars | paasng.platform.bkapp_model.entities_syncer.sync_env_vars | 不适用 | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | value, GLOBAL, STAG | module |
| PresetEnvVariable | paasng.platform.engine.models.preset_envvars.PresetEnvVariable | count, objects, filter | module |
| NOTSET | paasng.utils.structure.NOTSET | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Test__sync_env_vars | 无 | test_integrated, test_notset_remove_all | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/entities_syncer/test_hooks.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| HookCmd | paasng.platform.bkapp_model.entities.HookCmd | 不适用 | module |
| Hooks | paasng.platform.bkapp_model.entities.Hooks | 不适用 | module |
| sync_hooks | paasng.platform.bkapp_model.entities_syncer.sync_hooks | 不适用 | module |
| FieldMgrName | paasng.platform.bkapp_model.fieldmgr.constants.FieldMgrName | APP_DESC | module |
| DeployHookType | paasng.platform.bkapp_model.models.DeployHookType | PRE_RELEASE_HOOK | module |
| ModuleDeployHook | paasng.platform.bkapp_model.models.ModuleDeployHook | filter, objects, get | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Test__sync_hooks | 无 | test_create, test_update, test_delete | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/entities_syncer/test_mounts.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| functools | partial | module |
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| MountEnvName | paas_wl.bk_app.cnative.specs.constants.MountEnvName | value, GLOBAL, STAG, PROD | module |
| VolumeSourceType | paas_wl.bk_app.cnative.specs.constants.VolumeSourceType | ConfigMap | module |
| bk_app | paas_wl.bk_app.cnative.specs.crd.bk_app | VolumeSource, ConfigMapSource | module |
| Mount | paasng.platform.bkapp_model.entities.Mount | 不适用 | module |
| fieldmgr | paasng.platform.bkapp_model.fieldmgr | APP_DESC, FieldMgrName | module |
| ConfigMapSource | paasng.platform.bkapp_model.entities.ConfigMapSource | 不适用 | module |
| MountOverlay | paasng.platform.bkapp_model.entities.MountOverlay | 不适用 | module |
| VolumeSource | paasng.platform.bkapp_model.entities.VolumeSource | 不适用 | module |
| sync_mounts | paasng.platform.bkapp_model.entities_syncer.sync_mounts | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Test__sync_mounts | 无 | test_integrated | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/entities_syncer/test_observability.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| Metric | paasng.platform.bkapp_model.entities.Metric | 不适用 | module |
| Monitoring | paasng.platform.bkapp_model.entities.Monitoring | 不适用 | module |
| Observability | paasng.platform.bkapp_model.entities.Observability | 不适用 | module |
| sync_observability | paasng.platform.bkapp_model.entities_syncer.sync_observability | 不适用 | module |
| ObservabilityConfig | paasng.platform.bkapp_model.models.ObservabilityConfig | get, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Test__sync_observability | 无 | test_create, test_update | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/entities_syncer/test_proc_env_overlays.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| ProcessSpec | paas_wl.bk_app.processes.models.ProcessSpec | 不适用 | module |
| fieldmgr | paasng.platform.bkapp_model.fieldmgr | FieldManager, f_overlay_replicas, APP_DESC, FieldMgrName, f_overlay_res_quotas, f_overlay_autoscaling, WEB_FORM | module |
| ResQuotaPlan | paasng.platform.bkapp_model.constants.ResQuotaPlan | P_DEFAULT, P_4C2G, P_4C4G | module |
| AutoscalingConfig | paasng.platform.bkapp_model.entities.AutoscalingConfig | 不适用 | module |
| AutoscalingOverlay | paasng.platform.bkapp_model.entities.AutoscalingOverlay | 不适用 | module |
| ReplicasOverlay | paasng.platform.bkapp_model.entities.ReplicasOverlay | 不适用 | module |
| ResQuotaOverlay | paasng.platform.bkapp_model.entities.ResQuotaOverlay | 不适用 | module |
| clean_empty_overlays | paasng.platform.bkapp_model.entities_syncer.clean_empty_overlays | 不适用 | module |
| sync_env_overlays_autoscalings | paasng.platform.bkapp_model.entities_syncer.sync_env_overlays_autoscalings | 不适用 | module |
| sync_env_overlays_replicas | paasng.platform.bkapp_model.entities_syncer.sync_env_overlays_replicas | 不适用 | module |
| sync_env_overlays_res_quotas | paasng.platform.bkapp_model.entities_syncer.sync_env_overlays_res_quotas | 不适用 | module |
| ProcessSpecEnvOverlay | paasng.platform.bkapp_model.models.ProcessSpecEnvOverlay | count, objects, get | module |
| NOTSET | paasng.utils.structure.NOTSET | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_overlay_obj | `def get_overlay_obj(proc_spec: ProcessSpec, env_name: str):` | 无 | A helper function to get the overlay object. |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Test__sync_env_overlays_replicas | 无 | test_integrated, test_integrated_with_different_manager, test_clean_empty | 无 | 无 | 不适用 |
| Test__sync_env_overlays_res_quotas | 无 | test_normal | 无 | 无 | 不适用 |
| Test__sync_env_overlays_autoscalings | 无 | test_normal | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/entities_syncer/test_processes.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AutoscalingConfig | paasng.platform.bkapp_model.entities.AutoscalingConfig | 不适用 | module |
| HTTPGetAction | paasng.platform.bkapp_model.entities.HTTPGetAction | 不适用 | module |
| Probe | paasng.platform.bkapp_model.entities.Probe | 不适用 | module |
| ProbeSet | paasng.platform.bkapp_model.entities.ProbeSet | 不适用 | module |
| Process | paasng.platform.bkapp_model.entities.Process | 不适用 | module |
| ProcService | paasng.platform.bkapp_model.entities.ProcService | 不适用 | module |
| TCPSocketAction | paasng.platform.bkapp_model.entities.TCPSocketAction | 不适用 | module |
| sync_processes | paasng.platform.bkapp_model.entities_syncer.sync_processes | 不适用 | module |
| FieldMgrName | paasng.platform.bkapp_model.fieldmgr.constants.FieldMgrName | APP_DESC | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | filter, objects, get | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Test__sync_processes | 无 | test_integrated | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/entities_syncer/test_svc_discovery.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| fieldmgr | paasng.platform.bkapp_model.fieldmgr | APP_DESC, FieldMgrName, WEB_FORM | module |
| SvcDiscConfig | paasng.platform.bkapp_model.models.SvcDiscConfig | 不适用 | module |
| SvcDiscEntryBkSaaS | paasng.platform.bkapp_model.entities.SvcDiscEntryBkSaaS | 不适用 | module |
| sync_svc_discovery | paasng.platform.bkapp_model.entities_syncer.sync_svc_discovery | 不适用 | module |
| NOTSET | paasng.utils.structure.NOTSET | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Test__sync_svc_discovery | 无 | test_create, test_update, test_delete, test_notset_value_different_manager | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/fieldmgr/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/fieldmgr/test_fields.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| FieldMgrName | paasng.platform.bkapp_model.fieldmgr.constants.FieldMgrName | WEB_FORM, APP_DESC | module |
| F_DOMAIN_RESOLUTION | paasng.platform.bkapp_model.fieldmgr.fields.F_DOMAIN_RESOLUTION | 不适用 | module |
| F_SVC_DISCOVERY | paasng.platform.bkapp_model.fieldmgr.fields.F_SVC_DISCOVERY | 不适用 | module |
| ManagerFieldsRow | paasng.platform.bkapp_model.fieldmgr.fields.ManagerFieldsRow | 不适用 | module |
| ManagerFieldsRowGroup | paasng.platform.bkapp_model.fieldmgr.fields.ManagerFieldsRowGroup | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestManagedFields | 无 | test_start_from_empty, test_existed_rows, test_reset_manager | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/fieldmgr/test_managers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| FieldMgrName | paasng.platform.bkapp_model.fieldmgr.constants.FieldMgrName | WEB_FORM | module |
| F_DOMAIN_RESOLUTION | paasng.platform.bkapp_model.fieldmgr.fields.F_DOMAIN_RESOLUTION | 不适用 | module |
| F_SVC_DISCOVERY | paasng.platform.bkapp_model.fieldmgr.fields.F_SVC_DISCOVERY | 不适用 | module |
| FieldManager | paasng.platform.bkapp_model.fieldmgr.managers.FieldManager | 不适用 | module |
| MultiFieldsManager | paasng.platform.bkapp_model.fieldmgr.managers.MultiFieldsManager | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestFieldManager | 无 | test_integrated | 无 | 无 | 不适用 |
| TestMultiFieldsManager | 无 | test_integrated | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/test_importer.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| copy | deepcopy | module |
| functools | partial | module |
| pytest | django_db, mark, fixture, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Mount | paas_wl.bk_app.cnative.specs.models.Mount | count, objects | module |
| fieldmgr | paasng.platform.bkapp_model.fieldmgr | APP_DESC, FieldMgrName, FieldManager, f_proc_replicas, WEB_FORM, f_proc_autoscaling | module |
| ResQuotaPlan | paasng.platform.bkapp_model.constants.ResQuotaPlan | P_DEFAULT, value | module |
| ScalingPolicy | paasng.platform.bkapp_model.constants.ScalingPolicy | DEFAULT | module |
| AutoscalingConfig | paasng.platform.bkapp_model.entities.AutoscalingConfig | 不适用 | module |
| Metric | paasng.platform.bkapp_model.entities.Metric | 不适用 | module |
| SvcDiscEntryBkSaaS | paasng.platform.bkapp_model.entities.SvcDiscEntryBkSaaS | 不适用 | module |
| ManifestImportError | paasng.platform.bkapp_model.exceptions.ManifestImportError | 不适用 | module |
| import_manifest | paasng.platform.bkapp_model.importer.import_manifest | 不适用 | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | get, objects | module |
| ObservabilityConfig | paasng.platform.bkapp_model.models.ObservabilityConfig | get, objects | module |
| SvcDiscConfig | paasng.platform.bkapp_model.models.SvcDiscConfig | get, objects | module |
| PresetEnvVariable | paasng.platform.engine.models.preset_envvars.PresetEnvVariable | count, objects | module |
| dict_to_camel | paasng.utils.camel_converter.dict_to_camel | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |
| import_manifest_app_desc | 不适用 | `import_manifest_app_desc = functools.partial(import_manifest, manager=fieldmgr.FieldMgrName.APP_DESC)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| base_manifest | `@pytest.fixture():` | pytest.fixture | A very basic manifest that can pass the validation... |
| manifest_no_replicas | `@pytest.fixture():` | pytest.fixture | A very basic manifest that can pass the validation... |
| manifest_replicas_3 | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_import_with_enum_type | `def test_import_with_enum_type(bk_module, base_manifest):` | 无 | test import from bkapp serialize from pydantic |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestProcReplicas | 无 | test_initialization, test_reset_by_notset, test_ignore_not_managed_when_notset, test_set_to_zero | 无 | 无 | 不适用 |
| TestProcAutoscaling | 无 | manifest_autoscaling, test_enable, test_disable_by_notset, test_ignore_not_managed_when_notset | 无 | 无 | 不适用 |
| TestEnvVars | 无 | test_invalid_name_input, test_normal | 无 | 无 | 不适用 |
| TestAddons | 无 | test_invalid_value, test_invalid_spec, test_normal | 无 | 无 | 不适用 |
| TestMounts | 无 | test_invalid_mount_path_input, test_normal | 无 | 无 | 不适用 |
| TestReplicasOverlay | 无 | base_manifest_with_overlay, test_invalid_replicas_input, test_str, test_reset_by_not_providing_value, test_not_reset_when_manager_different, test_not_reset_when_manager_different_and_overlay_subfield_notset, test_proc_replicas_reset_overlay_managed_by_other | 无 | 无 | 不适用 |
| TestAutoscaling | 无 | test_normal, test_missing_policy | 无 | 无 | 不适用 |
| TestSvcDiscConfig | 无 | test_normal | 无 | 无 | 不适用 |
| TestObservability | 无 | manifest, test_normal, test_with_no_monitoring, test_invalid_spec | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/test_manager.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| AutoscalingConfig | paasng.platform.bkapp_model.entities.AutoscalingConfig | 不适用 | module |
| ModuleProcessSpecManager | paasng.platform.bkapp_model.manager.ModuleProcessSpecManager | 不适用 | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | 不适用 | module |
| ProcessSpecEnvOverlay | paasng.platform.bkapp_model.models.ProcessSpecEnvOverlay | filter, objects, get | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| process_web | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestModuleProcessSpecManager | 无 | test_set_replicas_integrated, test_set_autoscaling_integrated | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/test_manifest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| functools | partial | module |
| pytest | django_db, mark, fixture, parametrize, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| settings | django.conf.settings | DEFAULT_PROC_SPEC_PLAN, PREMIUM_PROC_SPEC_PLAN, ULTIMATE_PROC_SPEC_PLAN, CONTAINER_PORT, DEFAULT_REGION_NAME | module |
| call_command | django.core.management.call_command | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| EGRESS_CLUSTER_STATE_NAME_ANNO_KEY | paas_wl.bk_app.cnative.specs.constants.EGRESS_CLUSTER_STATE_NAME_ANNO_KEY | 不适用 | module |
| ApiVersion | paas_wl.bk_app.cnative.specs.constants.ApiVersion | V1ALPHA2 | module |
| MountEnvName | paas_wl.bk_app.cnative.specs.constants.MountEnvName | value, GLOBAL, STAG | module |
| VolumeSourceType | paas_wl.bk_app.cnative.specs.constants.VolumeSourceType | ConfigMap | module |
| bk_app | paas_wl.bk_app.cnative.specs.crd.bk_app | region | module |
| ObjectMetadata | paas_wl.bk_app.cnative.specs.crd.metadata.ObjectMetadata | 不适用 | module |
| Mount | paas_wl.bk_app.cnative.specs.models.Mount | 不适用 | module |
| initialize_default_proc_spec_plans | paas_wl.bk_app.processes.models.initialize_default_proc_spec_plans | 不适用 | module |
| generate_bkapp_name | paas_wl.core.resource.generate_bkapp_name | 不适用 | module |
| RCStateAppBinding | paas_wl.workloads.networking.egress.models.RCStateAppBinding | create, objects | module |
| RegionClusterState | paas_wl.workloads.networking.egress.models.RegionClusterState | filter, objects | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | get, bind_service | module |
| ServiceSharingManager | paasng.accessories.servicehub.sharing.ServiceSharingManager | 不适用 | module |
| Plan | paasng.accessories.services.models.Plan | 不适用 | module |
| Service | paasng.accessories.services.models.Service | 不适用 | module |
| ServiceCategory | paasng.accessories.services.models.ServiceCategory | 不适用 | module |
| ResQuotaPlan | paasng.platform.bkapp_model.constants.ResQuotaPlan | P_DEFAULT, P_4C2G, P_4C4G, P_4C1G | module |
| ProcService | paasng.platform.bkapp_model.entities.ProcService | 不适用 | module |
| DEFAULT_SLUG_RUNNER_ENTRYPOINT | paasng.platform.bkapp_model.manifest.DEFAULT_SLUG_RUNNER_ENTRYPOINT | 不适用 | module |
| AddonsManifestConstructor | paasng.platform.bkapp_model.manifest.AddonsManifestConstructor | 不适用 | module |
| BuiltinAnnotsManifestConstructor | paasng.platform.bkapp_model.manifest.BuiltinAnnotsManifestConstructor | 不适用 | module |
| DomainResolutionManifestConstructor | paasng.platform.bkapp_model.manifest.DomainResolutionManifestConstructor | 不适用 | module |
| EnvVarsManifestConstructor | paasng.platform.bkapp_model.manifest.EnvVarsManifestConstructor | 不适用 | module |
| HooksManifestConstructor | paasng.platform.bkapp_model.manifest.HooksManifestConstructor | 不适用 | module |
| MountsManifestConstructor | paasng.platform.bkapp_model.manifest.MountsManifestConstructor | 不适用 | module |
| ObservabilityManifestConstructor | paasng.platform.bkapp_model.manifest.ObservabilityManifestConstructor | 不适用 | module |
| ProcessesManifestConstructor | paasng.platform.bkapp_model.manifest.ProcessesManifestConstructor | 不适用 | module |
| SvcDiscoveryManifestConstructor | paasng.platform.bkapp_model.manifest.SvcDiscoveryManifestConstructor | 不适用 | module |
| apply_builtin_env_vars | paasng.platform.bkapp_model.manifest.apply_builtin_env_vars | 不适用 | module |
| apply_egress_annotations | paasng.platform.bkapp_model.manifest.apply_egress_annotations | 不适用 | module |
| apply_env_annots | paasng.platform.bkapp_model.manifest.apply_env_annots | 不适用 | module |
| apply_proc_svc_if_implicit_needed | paasng.platform.bkapp_model.manifest.apply_proc_svc_if_implicit_needed | 不适用 | module |
| get_manifest | paasng.platform.bkapp_model.manifest.get_manifest | 不适用 | module |
| DomainResolution | paasng.platform.bkapp_model.models.DomainResolution | 不适用 | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | 不适用 | module |
| ObservabilityConfig | paasng.platform.bkapp_model.models.ObservabilityConfig | 不适用 | module |
| ProcessServicesFlag | paasng.platform.bkapp_model.models.ProcessServicesFlag | create, objects | module |
| ProcessSpecEnvOverlay | paasng.platform.bkapp_model.models.ProcessSpecEnvOverlay | 不适用 | module |
| SvcDiscConfig | paasng.platform.bkapp_model.models.SvcDiscConfig | 不适用 | module |
| DeploymentDescription | paasng.platform.declarative.deployment.controller.DeploymentDescription | 不适用 | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | GLOBAL, STAG, PROD | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | BUILDPACK, DOCKERFILE | module |
| ENVIRONMENT_ID_FOR_GLOBAL | paasng.platform.engine.models.config_var.ENVIRONMENT_ID_FOR_GLOBAL | 不适用 | module |
| ConfigVar | paasng.platform.engine.models.config_var.ConfigVar | create, objects | module |
| PresetEnvVariable | paasng.platform.engine.models.preset_envvars.PresetEnvVariable | 不适用 | module |
| DeployHookType | paasng.platform.modules.constants.DeployHookType | PRE_RELEASE_HOOK | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| blank_resource | `@pytest.fixture():` | pytest.fixture | A blank resource object. |
| blank_resource_with_processes | `@pytest.fixture():` | pytest.fixture | A resource object have processes spec. |
| local_service | `@pytest.fixture():` | pytest.fixture | A local service object. |
| process_web | `@pytest.fixture():` | pytest.fixture | ProcessSpec for web |
| process_web_overlay | `@pytest.fixture():` | pytest.fixture | An overlay data for web process |
| test_get_manifest | `def test_get_manifest(bk_module):` | 无 | 不适用 |
| test_apply_env_annots | `@pytest.mark.usefixtures('_with_wl_apps'):` | pytest.mark.usefixtures | 不适用 |
| test_apply_env_annots_with_deploy_id | `@pytest.mark.usefixtures('_with_wl_apps'):` | pytest.mark.usefixtures | 不适用 |
| test_apply_builtin_env_vars | `@pytest.mark.usefixtures('_with_wl_apps'):` | pytest.mark.usefixtures | 不适用 |
| test_builtin_env_has_high_priority | `@pytest.mark.usefixtures('_with_wl_apps'):` | pytest.mark.usefixtures | 不适用 |
| test_apply_proc_svc_if_implicit_needed_is_false | `def test_apply_proc_svc_if_implicit_needed_is_false(blank_resource, bk_stag_env):` | 无 | 不适用 |
| test_apply_proc_svc_if_implicit_needed_is_true | `def test_apply_proc_svc_if_implicit_needed_is_true(blank_resource_with_processes, bk_stag_env):` | 无 | 不适用 |
| test_apply_egress_annotations | `@pytest.mark.usefixtures('_with_wl_apps'):` | pytest.mark.usefixtures | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAddonsManifestConstructor | 无 | test_empty, test_with_addons, test_with_shared_addons | 无 | 无 | 不适用 |
| TestEnvVarsManifestConstructor | 无 | test_integrated, test_preset, test_override_preset | 无 | 无 | 不适用 |
| TestBuiltinAnnotsManifestConstructor | 无 | test_normal | 无 | 无 | 不适用 |
| TestProcessesManifestConstructor | 无 | process_web_autoscaling, process_web_with_proc_services, test_get_quota_plan, test_get_command_and_args, test_get_command_and_args_invalid_var_expr, test_integrated, test_integrated_autoscaling, test_integrated_proc_services | 无 | 无 | 不适用 |
| TestMountsManifestConstructor | 无 | test_normal | 无 | 无 | 不适用 |
| TestHooksManifestConstructor | 无 | test_normal, test_proc_command, test_not_found, test_empty_command | 无 | 无 | 不适用 |
| TestSvcDiscoveryManifestConstructor | 无 | test_normal | 无 | 无 | 不适用 |
| TestDomainResolutionManifestConstructor | 无 | test_normal | 无 | 无 | 不适用 |
| TestObservabilityManifestConstructor | 无 | test_normal, test_with_no_observability | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/test_models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| ResQuotaPlan | paasng.platform.bkapp_model.constants.ResQuotaPlan | P_DEFAULT | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | 不适用 | module |
| ProcessSpecEnvOverlay | paasng.platform.bkapp_model.models.ProcessSpecEnvOverlay | save_by_module, objects, get, create | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| proc_web | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestProcessSpecEnvOverlayManager | 无 | test_create, test_update | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/test_render_port.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | CONTAINER_PORT | module |
| ProbeSet | paasng.platform.bkapp_model.entities.ProbeSet | 不适用 | module |
| ProcService | paasng.platform.bkapp_model.entities.ProcService | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestRenderPort | 无 | test_proc_service, test_probes | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/bkapp_model/test_utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnvVar | paas_wl.bk_app.cnative.specs.crd.bk_app.EnvVar | 不适用 | module |
| EnvVarOverlay | paas_wl.bk_app.cnative.specs.crd.bk_app.EnvVarOverlay | 不适用 | module |
| MergeStrategy | paasng.platform.bkapp_model.utils.MergeStrategy | OVERRIDE, IGNORE | module |
| merge_env_vars | paasng.platform.bkapp_model.utils.merge_env_vars | 不适用 | module |
| merge_env_vars_overlay | paasng.platform.bkapp_model.utils.merge_env_vars_overlay | 不适用 | module |
| override_env_vars_overlay | paasng.platform.bkapp_model.utils.override_env_vars_overlay | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_merge_env_vars | `@pytest.mark.parametrize(('x', 'y', 'strategy', 'z'), [([], [], MergeStrategy.OVERRIDE, []), ([], [EnvVar(name='a', value='a')], MergeStrategy.OVERRIDE, [EnvVar(name='a', value='a')]), ([EnvVar(name='a', value='a')], [], MergeStrategy.OVERRIDE, [EnvVar(name='a', value='a')]), ([EnvVar(name='a', value='a')], [EnvVar(name='a', value='A')], MergeStrategy.OVERRIDE, [EnvVar(name='a', value='A')]), ([EnvVar(name='a', value='a')], [EnvVar(name='a', value='A')], MergeStrategy.IGNORE, [EnvVar(name='a', value='a')]), ([EnvVar(name='a', value='a'), EnvVar(name='b', value='b')], [EnvVar(name='B', value='B'), EnvVar(name='a', value='A')], MergeStrategy.OVERRIDE, [EnvVar(name='a', value='A'), EnvVar(name='b', value='b'), EnvVar(name='B', value='B')])]):` | pytest.mark.parametrize | 不适用 |
| test_merge_env_vars_overlay | `@pytest.mark.parametrize(('x', 'y', 'strategy', 'z'), [([], [], MergeStrategy.OVERRIDE, []), ([], [EnvVarOverlay(name='a', value='a', envName='stag')], MergeStrategy.OVERRIDE, [EnvVarOverlay(name='a', value='a', envName='stag')]), ([EnvVarOverlay(name='a', value='a', envName='stag')], [], MergeStrategy.OVERRIDE, [EnvVarOverlay(name='a', value='a', envName='stag')]), ([EnvVarOverlay(name='a', value='a', envName='stag')], [EnvVarOverlay(name='a', value='A', envName='stag')], MergeStrategy.OVERRIDE, [EnvVarOverlay(name='a', value='A', envName='stag')]), ([EnvVarOverlay(name='a', value='a', envName='stag')], [EnvVarOverlay(name='a', value='A', envName='stag')], MergeStrategy.IGNORE, [EnvVarOverlay(name='a', value='a', envName='stag')]), ([EnvVarOverlay(name='a', value='a', envName='stag'), EnvVarOverlay(name='b', value='b', envName='stag')], [EnvVarOverlay(name='B', value='B', envName='stag'), EnvVarOverlay(name='a', value='A', envName='stag')], MergeStrategy.OVERRIDE, [EnvVarOverlay(name='a', value='A', envName='stag'), EnvVarOverlay(name='b', value='b', envName='stag'), EnvVarOverlay(name='B', value='B', envName='stag')]), ([EnvVarOverlay(name='a', value='a', envName='stag')], [EnvVarOverlay(name='a', value='A', envName='prod')], MergeStrategy.OVERRIDE, [EnvVarOverlay(name='a', value='a', envName='stag'), EnvVarOverlay(name='a', value='A', envName='prod')])]):` | pytest.mark.parametrize | 不适用 |
| test_override_env_vars_overlay | `@pytest.mark.parametrize(('x', 'y', 'expected'), [([], [], []), ([], [EnvVarOverlay(name='a', value='a', envName='stag')], []), ([EnvVarOverlay(name='a', value='b', envName='stag')], [EnvVarOverlay(name='a', value='c', envName='stag')], [EnvVarOverlay(name='a', value='c', envName='stag')]), ([EnvVarOverlay(name='a', value='b', envName='stag')], [EnvVarOverlay(name='a', value='c', envName='prod')], [EnvVarOverlay(name='a', value='b', envName='stag')]), ([EnvVarOverlay(name='a', value='b', envName='stag')], [EnvVarOverlay(name='a', value='d', envName='prod'), EnvVarOverlay(name='a', value='dddd', envName='stag')], [EnvVarOverlay(name='a', value='dddd', envName='stag')]), ([EnvVarOverlay(name='a', value='b', envName='stag'), EnvVarOverlay(name='a', value='cccc', envName='prod')], [EnvVarOverlay(name='a', value='d', envName='prod')], [EnvVarOverlay(name='a', value='b', envName='stag'), EnvVarOverlay(name='a', value='d', envName='prod')]), ([EnvVarOverlay(name='a', value='b', envName='stag'), EnvVarOverlay(name='a', value='cccc', envName='prod')], [EnvVarOverlay(name='a', value='d', envName='prod'), EnvVarOverlay(name='b', value='qqq', envName='stag')], [EnvVarOverlay(name='a', value='b', envName='stag'), EnvVarOverlay(name='a', value='d', envName='prod')])]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/application/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/application/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| on_change_application_name | paasng.accessories.publish.sync_market.handlers.on_change_application_name | 不适用 | module |
| prepare_change_application_name | paasng.accessories.publish.sync_market.handlers.prepare_change_application_name | disconnect, connect | module |





---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/application/v2/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/application/v2/test_controller.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize, raises, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| nullcontext | blue_krill.contextlib.nullcontext | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| override | django.utils.translation.override | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| Product | paasng.accessories.publish.market.models.Product | get, objects | module |
| Tag | paasng.accessories.publish.market.models.Tag | create, objects | module |
| Category | paasng.accessories.servicehub.constants.Category | DATA_STORAGE | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | find_by_name, module_is_bound_with, list_binded | module |
| ServiceSharingManager | paasng.accessories.servicehub.sharing.ServiceSharingManager | 不适用 | module |
| Plan | paasng.accessories.services.models.Plan | 不适用 | module |
| Service | paasng.accessories.services.models.Service | 不适用 | module |
| ServiceCategory | paasng.accessories.services.models.ServiceCategory | 不适用 | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | get_profile, objects | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| APP_CODE_FIELD | paasng.platform.declarative.application.constants.APP_CODE_FIELD | 不适用 | module |
| AppDeclarativeController | paasng.platform.declarative.application.controller.AppDeclarativeController | 不适用 | module |
| ApplicationDesc | paasng.platform.declarative.application.resources.ApplicationDesc | 不适用 | module |
| get_application | paasng.platform.declarative.application.resources.get_application | 不适用 | module |
| AppDescriptionSLZ | paasng.platform.declarative.application.validations.v2.AppDescriptionSLZ | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| validate_desc | paasng.platform.declarative.serializers.validate_desc | 不适用 | module |
| AppDescV2Builder | tests.paasng.platform.declarative.utils.AppDescV2Builder | 不适用 | module |
| AppDescV2Decorator | tests.paasng.platform.declarative.utils.AppDescV2Decorator | 不适用 | module |
| create_user | tests.utils.auth.create_user | 不适用 | module |
| configure_regions | tests.utils.helpers.configure_regions | 不适用 | module |
| create_app | tests.utils.helpers.create_app | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_app_description | `def get_app_description(app_json: Dict) -> ApplicationDesc:` | 无 | A help tool get parse the application json data, d... |
| tag | `@pytest.fixture(autouse=True):` | pytest.fixture | A tag fixture for testing |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppDeclarativeControllerCreation | 无 | test_run_invalid_input, test_app_code_length, test_name_is_duplicated, test_invalid_module_name, test_region_perm_check, test_normal, test_i18n | 无 | 无 | 不适用 |
| TestAppDeclarativeControllerUpdate | 无 | existed_app, test_without_permission, test_region_modified, test_name_modified, test_normal | 无 | 无 | 不适用 |
| TestMarketField | 无 | test_creation, test_update_partial | 无 | 无 | 不适用 |
| TestMarketDisplayOptionsField | 无 | test_creation_omitted, test_update_partial | 无 | 无 | 不适用 |
| TestServicesField | 无 | _default_services, app_desc, test_creation, test_update_add, test_not_existed_service, test_shared_service, test_shared_service_but_module_not_found | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/application/v2/test_validations.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Tag | paasng.accessories.publish.market.models.Tag | create, objects | module |
| APP_CODE_FIELD | paasng.platform.declarative.application.controller.APP_CODE_FIELD | 不适用 | module |
| ApplicationDesc | paasng.platform.declarative.application.resources.ApplicationDesc | 不适用 | module |
| get_application | paasng.platform.declarative.application.resources.get_application | 不适用 | module |
| AppDescriptionSLZ | paasng.platform.declarative.application.validations.v2.AppDescriptionSLZ | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| validate_desc | paasng.platform.declarative.serializers.validate_desc | 不适用 | module |
| AppDescV2Builder | tests.paasng.platform.declarative.utils.AppDescV2Builder | 不适用 | module |
| AppDescV2Decorator | tests.paasng.platform.declarative.utils.AppDescV2Decorator | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| tag | `@pytest.fixture(autouse=True):` | pytest.fixture | A tag fixture for testing |
| get_app_description | `def get_app_description(app_json: Dict) -> ApplicationDesc:` | 无 | A help tool get parse the application json data, d... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestValidations | 无 | test_normal, test_invalid_name_length | 无 | 无 | A test suite about v2 validations |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/application/v3/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/application/v3/test_controller.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize, raises, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| nullcontext | blue_krill.contextlib.nullcontext | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| override | django.utils.translation.override | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| Product | paasng.accessories.publish.market.models.Product | get, objects | module |
| Tag | paasng.accessories.publish.market.models.Tag | create, objects | module |
| Category | paasng.accessories.servicehub.constants.Category | DATA_STORAGE | module |
| mixed_service_mgr | paasng.accessories.servicehub.manager.mixed_service_mgr | find_by_name, module_is_bound_with, list_binded | module |
| ServiceSharingManager | paasng.accessories.servicehub.sharing.ServiceSharingManager | 不适用 | module |
| Plan | paasng.accessories.services.models.Plan | 不适用 | module |
| Service | paasng.accessories.services.models.Service | 不适用 | module |
| ServiceCategory | paasng.accessories.services.models.ServiceCategory | 不适用 | module |
| get_all_regions | paasng.core.region.models.get_all_regions | 不适用 | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | get_profile, objects | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| CNATIVE_APP_CODE_FIELD | paasng.platform.declarative.application.constants.CNATIVE_APP_CODE_FIELD | 不适用 | module |
| AppDeclarativeController | paasng.platform.declarative.application.controller.AppDeclarativeController | 不适用 | module |
| ApplicationDesc | paasng.platform.declarative.application.resources.ApplicationDesc | 不适用 | module |
| get_application | paasng.platform.declarative.application.resources.get_application | 不适用 | module |
| AppDescriptionSLZ | paasng.platform.declarative.application.validations.v3.AppDescriptionSLZ | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| validate_desc | paasng.platform.declarative.serializers.validate_desc | 不适用 | module |
| AppDescV3Builder | tests.paasng.platform.declarative.utils.AppDescV3Builder | 不适用 | module |
| AppDescV3Decorator | tests.paasng.platform.declarative.utils.AppDescV3Decorator | 不适用 | module |
| create_user | tests.utils.auth.create_user | 不适用 | module |
| configure_regions | tests.utils.helpers.configure_regions | 不适用 | module |
| create_app | tests.utils.helpers.create_app | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_app_description | `def get_app_description(app_json: Dict) -> ApplicationDesc:` | 无 | A help tool get parse the application json data, d... |
| tag | `@pytest.fixture(autouse=True):` | pytest.fixture | A tag fixture for testing |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppDeclarativeControllerCreation | 无 | test_run_invalid_input, test_app_code_length, test_name_is_duplicated, test_invalid_module_name, test_region_perm_check, test_normal, test_i18n | 无 | 无 | 不适用 |
| TestAppDeclarativeControllerUpdate | 无 | existed_app, test_without_permission, test_region_modified, test_name_modified, test_normal | 无 | 无 | 不适用 |
| TestMarketField | 无 | test_creation, test_update_partial | 无 | 无 | 不适用 |
| TestMarketDisplayOptionsField | 无 | test_creation_omitted, test_update_partial | 无 | 无 | 不适用 |
| TestServicesField | 无 | _default_services, app_desc, test_creation, test_update_add, test_not_existed_service, test_shared_service, test_shared_service_but_module_not_found | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/application/v3/test_validations.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| Tag | paasng.accessories.publish.market.models.Tag | create, objects | module |
| CNATIVE_APP_CODE_FIELD | paasng.platform.declarative.application.constants.CNATIVE_APP_CODE_FIELD | 不适用 | module |
| ApplicationDesc | paasng.platform.declarative.application.resources.ApplicationDesc | 不适用 | module |
| get_application | paasng.platform.declarative.application.resources.get_application | 不适用 | module |
| AppDescriptionSLZ | paasng.platform.declarative.application.validations.v3.AppDescriptionSLZ | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| validate_desc | paasng.platform.declarative.serializers.validate_desc | 不适用 | module |
| AppDescV3Builder | tests.paasng.platform.declarative.utils.AppDescV3Builder | 不适用 | module |
| AppDescV3Decorator | tests.paasng.platform.declarative.utils.AppDescV3Decorator | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| tag | `@pytest.fixture(autouse=True):` | pytest.fixture | A tag fixture for testing |
| get_app_description | `def get_app_description(app_json: Dict) -> ApplicationDesc:` | 无 | A help tool get parse the application json data, d... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestValidateGoodCase | 无 | test_one_module | 无 | 无 | A test suite about v3 validations - good case |
| TestValidateBadCase | 无 | test_invalid_name_length, test_missing_default_module, test_multiple_default_module, test_share_addon_error | 无 | 无 | A test suite about v3 validations - bad cases |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| cluster_ingress_config | tests.utils.mocks.cluster.cluster_ingress_config | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| one_px_png | `@pytest.fixture():` | pytest.fixture | The binary content of an one pixel png format pict... |


---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/deployment/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/deployment/test_svc_disc.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| SvcDiscEntryBkSaaS | paasng.platform.bkapp_model.entities.SvcDiscEntryBkSaaS | 不适用 | module |
| BkSaaSAddrDiscoverer | paasng.platform.declarative.deployment.svc_disc.BkSaaSAddrDiscoverer | extend_with_clusters | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestBkSaaSEnvVariableFactoryExtendWithClusterApp | 无 | test_missing_app, test_existed_app | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/deployment/v2/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/deployment/v2/test_controller.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |
| pytest | django_db, mark, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| fieldmgr | paasng.platform.bkapp_model.fieldmgr | WEB_FORM, FieldMgrName | module |
| HookCmd | paasng.platform.bkapp_model.entities.hooks.HookCmd | 不适用 | module |
| Hooks | paasng.platform.bkapp_model.entities.hooks.Hooks | 不适用 | module |
| SvcDiscEntryBkSaaS | paasng.platform.bkapp_model.entities.svc_discovery.SvcDiscEntryBkSaaS | 不适用 | module |
| sync_hooks | paasng.platform.bkapp_model.entities_syncer.hooks.sync_hooks | 不适用 | module |
| sync_svc_discovery | paasng.platform.bkapp_model.entities_syncer.svc_discovery.sync_svc_discovery | 不适用 | module |
| FieldMgrName | paasng.platform.bkapp_model.fieldmgr.constants.FieldMgrName | WEB_FORM | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | get, objects | module |
| SvcDiscConfig | paasng.platform.bkapp_model.models.SvcDiscConfig | get, objects, filter | module |
| get_svc_disc_as_env_variables | paasng.platform.bkapp_model.models.get_svc_disc_as_env_variables | 不适用 | module |
| DeploymentDeclarativeController | paasng.platform.declarative.deployment.controller.DeploymentDeclarativeController | 不适用 | module |
| BkSaaSEnvVariableFactory | paasng.platform.declarative.deployment.svc_disc.BkSaaSEnvVariableFactory | decode_data | module |
| DeploymentDescSLZ | paasng.platform.declarative.deployment.validations.v2.DeploymentDescSLZ | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| DeploymentDescription | paasng.platform.declarative.models.DeploymentDescription | get, objects | module |
| validate_desc | paasng.platform.declarative.serializers.validate_desc | 不适用 | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | value, STAG, PROD, GLOBAL | module |
| PresetEnvVariable | paasng.platform.engine.models.preset_envvars.PresetEnvVariable | filter, objects | module |
| DeployHookType | paasng.platform.modules.constants.DeployHookType | PRE_RELEASE_HOOK | module |
| Hook | paasng.platform.modules.models.deploy_config.Hook | 不适用 | module |
| HookList | paasng.platform.modules.models.deploy_config.HookList | 不适用 | module |
| Module | paasng.platform.modules.models.module.Module | 不适用 | module |
| cluster_ingress_config | tests.utils.mocks.cluster.cluster_ingress_config | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestProcessesField | 无 | test_python_framework_case, test_known_cases | 无 | 无 | 不适用 |
| TestEnvVariablesField | 无 | test_invalid_input, test_spec, test_preset_environ_vars | 无 | 无 | 不适用 |
| TestSvcDiscoveryField | 无 | apply_config, test_as_env_vars_domain, test_as_env_vars_subpath | 无 | 无 | 不适用 |
| TestSvcDiscoveryFieldMultiManagers | 无 | test_notset_should_reset, test_notset_should_skip_when_manager_different | 无 | 无 | 不适用 |
| TestHookField | 无 | test_field_not_set, test_field_set, test_not_set_should_not_touch_deployment, test_rewrite_the_hook, test_not_set_should_reset, test_not_set_with_different_mgr_should_keep, assert_hook_not_exist, assert_one_hook_with_command | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/deployment/v2/test_validations.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| DeploymentDesc | paasng.platform.declarative.deployment.resources.DeploymentDesc | 不适用 | module |
| DeploymentDescSLZ | paasng.platform.declarative.deployment.validations.v2.DeploymentDescSLZ | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| validate_desc | paasng.platform.declarative.serializers.validate_desc | 不适用 | module |
| AppDescV2Builder | tests.paasng.platform.declarative.utils.AppDescV2Builder | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_deployment_description | `def get_deployment_description(module_desc: Dict) -> DeploymentDesc:` | 无 | A help tool get parse the application json data, d... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestValidations | 无 | test_normal, test_invalid_proc_type, test_invalid_probes | 无 | 无 | A test suite about v2 validations |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/deployment/v3/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/deployment/v3/test_controller.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |
| pytest | django_db, mark, usefixtures, raises, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ApplicationType | paasng.platform.applications.constants.ApplicationType | DEFAULT | module |
| fieldmgr | paasng.platform.bkapp_model.fieldmgr | WEB_FORM, FieldMgrName | module |
| DomainResolution | paasng.platform.bkapp_model.models.DomainResolution | get, objects, filter | module |
| HookCmd | paasng.platform.bkapp_model.entities.hooks.HookCmd | 不适用 | module |
| Hooks | paasng.platform.bkapp_model.entities.hooks.Hooks | 不适用 | module |
| SvcDiscEntryBkSaaS | paasng.platform.bkapp_model.entities.svc_discovery.SvcDiscEntryBkSaaS | 不适用 | module |
| sync_domain_resolution | paasng.platform.bkapp_model.entities_syncer.domain_resolution.sync_domain_resolution | 不适用 | module |
| sync_hooks | paasng.platform.bkapp_model.entities_syncer.hooks.sync_hooks | 不适用 | module |
| sync_svc_discovery | paasng.platform.bkapp_model.entities_syncer.svc_discovery.sync_svc_discovery | 不适用 | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | get, objects | module |
| SvcDiscConfig | paasng.platform.bkapp_model.models.SvcDiscConfig | get, objects, filter | module |
| get_svc_disc_as_env_variables | paasng.platform.bkapp_model.models.get_svc_disc_as_env_variables | 不适用 | module |
| DeploymentDeclarativeController | paasng.platform.declarative.deployment.controller.DeploymentDeclarativeController | 不适用 | module |
| BkSaaSEnvVariableFactory | paasng.platform.declarative.deployment.svc_disc.BkSaaSEnvVariableFactory | decode_data | module |
| DeploymentDescSLZ | paasng.platform.declarative.deployment.validations.v3.DeploymentDescSLZ | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| DeploymentDescription | paasng.platform.declarative.models.DeploymentDescription | get, objects | module |
| validate_desc | paasng.platform.declarative.serializers.validate_desc | 不适用 | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | GLOBAL, STAG, PROD | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| PresetEnvVariable | paasng.platform.engine.models.preset_envvars.PresetEnvVariable | filter, objects | module |
| DeployHookType | paasng.platform.modules.constants.DeployHookType | PRE_RELEASE_HOOK | module |
| Hook | paasng.platform.modules.models.deploy_config.Hook | 不适用 | module |
| HookList | paasng.platform.modules.models.deploy_config.HookList | 不适用 | module |
| AppDescV3Builder | tests.paasng.platform.declarative.utils.AppDescV3Builder | 不适用 | module |
| cluster_ingress_config | tests.utils.mocks.cluster.cluster_ingress_config | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.usefixtures('bk_cnative_app')]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| perform_action | `def perform_action(deployment: Deployment, json_data: dict):` | 无 | A shortcut to perform validation and action on a d... |
| test_default_app_with_ver_3 | `def test_default_app_with_ver_3(bk_cnative_app, bk_module, bk_deployment):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestProcessesField | 无 | test_python_framework_case | 无 | 无 | 不适用 |
| TestEnvVariablesField | 无 | test_invalid_input, test_preset_environ_vars | 无 | 无 | 不适用 |
| TestSvcDiscoveryField | 无 | apply_config, test_as_env_vars_domain, test_as_env_vars_subpath | 无 | 无 | 不适用 |
| TestSvcDiscoveryFieldMultiManagers | 无 | test_notset_should_reset, test_notset_should_skip_when_manager_different | 无 | 无 | 不适用 |
| TestHookField | 无 | test_field_not_set, test_field_set, test_not_set_should_not_touch_deployment, test_rewrite_the_hook, test_not_set_should_reset, test_not_set_with_different_mgr_should_keep, assert_hook_not_exist, assert_one_hook_with_command | 无 | 无 | 不适用 |
| TestDomainResolutionFieldMultiManagers | 无 | test_notset_should_reset, test_notset_should_skip_when_manager_different | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/deployment/v3/test_validations.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| DeploymentDesc | paasng.platform.declarative.deployment.resources.DeploymentDesc | 不适用 | module |
| DeploymentDescSLZ | paasng.platform.declarative.deployment.validations.v3.DeploymentDescSLZ | 不适用 | module |
| validate_desc | paasng.platform.declarative.serializers.validate_desc | 不适用 | module |
| AppDescV3Builder | tests.paasng.platform.declarative.utils.AppDescV3Builder | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_deployment_description | `def get_deployment_description(module_desc: Dict) -> DeploymentDesc:` | 无 | A help tool get parse the application json data, d... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestValidateGoodCase | 无 | test_normal | 无 | 无 | A test suite about v3 validations - good case |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/handlers/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/handlers/test_handlers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, raises | module |
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dedent | textwrap.dedent | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| get_deploy_desc_handler | paasng.platform.declarative.handlers.get_deploy_desc_handler | 不适用 | module |
| get_desc_handler | paasng.platform.declarative.handlers.get_desc_handler | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestGetAppDescHandlerIncorrectVersions | 无 | test_ver_1, test_ver_unspecified, test_ver_unknown_number, test_ver_unknown_string | 无 | 无 | 不适用 |
| TestGetDeployDescHandlerIncorrectVersions | 无 | test_ver_1, test_ver_unspecified, test_ver_unknown_number, test_ver_unknown_string | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/handlers/v2/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/handlers/v2/test_app.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64encode | module |
| pytest | django_db, mark | module |
| yaml | safe_load, dump | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dedent | textwrap.dedent | 不适用 | module |
| indent | textwrap.indent | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | get, objects, switch_default_cluster | module |
| AppLanguage | paasng.platform.applications.constants.AppLanguage | PYTHON | module |
| Application | paasng.platform.applications.models.Application | filter, objects | module |
| AppDescPluginType | paasng.platform.declarative.constants.AppDescPluginType | APP_VERSION | module |
| AppDescriptionHandler | paasng.platform.declarative.handlers.AppDescriptionHandler | 不适用 | module |
| DescriptionHandler | paasng.platform.declarative.handlers.DescriptionHandler | 不适用 | module |
| get_desc_handler | paasng.platform.declarative.handlers.get_desc_handler | 不适用 | module |
| get_module_clusters | paasng.platform.modules.helpers.get_module_clusters | 不适用 | module |
| SourcePackageStatReader | paasng.platform.smart_app.services.detector.SourcePackageStatReader | 不适用 | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |
| gen_tar | tests.paasng.platform.sourcectl.packages.utils.gen_tar | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_desc_handler | `def get_desc_handler(yaml_content: str) -> DescriptionHandler:` | 无 | 不适用 |
| test_app_data_to_desc | `def test_app_data_to_desc(random_name):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppDescriptionHandler | 无 | test_app_normal, test_app_from_stat | 无 | 无 | 不适用 |
| TestAppNewModuleUseRightCluster | 无 | test_integrated | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/handlers/v2/test_deployment.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64encode | module |
| json | dumps | module |
| cattr | unstructure | module |
| pytest | django_db, mark, fixture, parametrize, raises, usefixtures | module |
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dedent | textwrap.dedent | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| mock | unittest.mock | patch | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | filter, objects | module |
| get_svc_disc_as_env_variables | paasng.platform.bkapp_model.models.get_svc_disc_as_env_variables | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| get_deploy_desc_handler | paasng.platform.declarative.handlers.get_deploy_desc_handler | 不适用 | module |
| get_preset_env_variables | paasng.platform.engine.configurations.config_var.get_preset_env_variables | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| Module | paasng.platform.modules.models.module.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| yaml_v1_normal | `@pytest.fixture():` | pytest.fixture | A sample YAML content using v1 spec version. |
| yaml_v2_normal | `@pytest.fixture():` | pytest.fixture | A sample YAML content using v2 spec version. |
| yaml_v3_normal | `@pytest.fixture():` | pytest.fixture | A sample YAML content using v3 spec version. |
| query_proc_dict | `def query_proc_dict(module: Module, deployment: Deployment) -> Dict[str, Tuple[str, int]]:` | 无 | A helper function that queries process specs for c... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Test__get_deploy_desc_handler | 无 | test_desc_getter_name, test_unsupported_version | 无 | 无 | Test cases for `get_desc_handler()` function |
| TestAppDescriptionHandler | 无 | _create_for_test_svc_discovery, test_normal, test_desc_and_procfile_same, test_desc_and_procfile_different, test_procfile_only, test_invalid_desc_and_valid_procfile, test_with_modules_found, test_with_modules_not_found, test_with_modules_not_found_fallback_to_module, test_with_module, test_with_module_and_modules_missing | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/handlers/v2/test_probes.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dedent | textwrap.dedent | 不适用 | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | get, objects | module |
| get_deploy_desc_handler | paasng.platform.declarative.handlers.get_deploy_desc_handler | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| yaml_content | `@pytest.fixture():` | pytest.fixture | 不适用 |
| yaml_content_after_change | `@pytest.fixture():` | pytest.fixture | 不适用 |
| get_handler | `def get_handler(yaml_content: str):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestSaasProbes | 无 | test_process_spec_should_have_probes, test_probes_changes_after_handling_new_yaml | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/handlers/v3/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/handlers/v3/test_app.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64encode | module |
| pytest | django_db, mark | module |
| yaml | safe_load, dump | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dedent | textwrap.dedent | 不适用 | module |
| AppLanguage | paasng.platform.applications.constants.AppLanguage | PYTHON | module |
| Application | paasng.platform.applications.models.Application | filter, objects | module |
| AppDescPluginType | paasng.platform.declarative.constants.AppDescPluginType | APP_VERSION | module |
| CNativeAppDescriptionHandler | paasng.platform.declarative.handlers.CNativeAppDescriptionHandler | 不适用 | module |
| DescriptionHandler | paasng.platform.declarative.handlers.DescriptionHandler | 不适用 | module |
| get_desc_handler | paasng.platform.declarative.handlers.get_desc_handler | 不适用 | module |
| SourcePackageStatReader | paasng.platform.smart_app.services.detector.SourcePackageStatReader | 不适用 | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |
| gen_tar | tests.paasng.platform.sourcectl.packages.utils.gen_tar | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_desc_handler | `def get_desc_handler(yaml_content: str) -> DescriptionHandler:` | 无 | 不适用 |
| test_app_data_to_desc | `def test_app_data_to_desc(random_name):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCNativeAppDescriptionHandler | 无 | test_app_normal, test_app_from_stat | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/handlers/v3/test_deployment.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64encode | module |
| json | dumps | module |
| pytest | django_db, mark, usefixtures, fixture, raises | module |
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dedent | textwrap.dedent | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| mock | unittest.mock | patch | module |
| ProcService | paasng.platform.bkapp_model.entities.ProcService | 不适用 | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | get, objects, filter | module |
| get_svc_disc_as_env_variables | paasng.platform.bkapp_model.models.get_svc_disc_as_env_variables | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| get_deploy_desc_handler | paasng.platform.declarative.handlers.get_deploy_desc_handler | 不适用 | module |
| get_preset_env_variables | paasng.platform.engine.configurations.config_var.get_preset_env_variables | 不适用 | module |
| Module | paasng.platform.modules.models.module.Module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.usefixtures('bk_cnative_app')]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| yaml_v3_example | `@pytest.fixture():` | pytest.fixture | An example of YAML content using v3 spec version. |
| query_proc_dict | `def query_proc_dict(module: Module) -> Dict[str, Tuple[str, int]]:` | 无 | A helper function to query module's all process sp... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCnativeAppDescriptionHandler | 无 | test_handle_normal, test_desc_and_procfile_different, test_with_modules_found, test_with_modules_not_found | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/handlers/v3/test_probes.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, usefixtures, fixture | module |
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dedent | textwrap.dedent | 不适用 | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | get, objects | module |
| get_deploy_desc_handler | paasng.platform.declarative.handlers.get_deploy_desc_handler | 不适用 | module |
| create_fake_deployment | tests.paasng.platform.engine.setup_utils.create_fake_deployment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.usefixtures('bk_cnative_app')]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| yaml_content | `@pytest.fixture():` | pytest.fixture | 不适用 |
| yaml_content_after_change | `@pytest.fixture():` | pytest.fixture | 不适用 |
| get_handler | `def get_handler(yaml_content: str):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestSaasProbes | 无 | test_process_spec_should_have_probes, test_probes_changes_after_handling_new_yaml | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/test_protection.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ConditionNotMatched | paasng.core.core.protections.exceptions.ConditionNotMatched | 不适用 | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| get_desc_handler | paasng.platform.declarative.handlers.get_desc_handler | 不适用 | module |
| modifications_not_allowed | paasng.platform.declarative.protections.modifications_not_allowed | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestModificationsNotAllowed | 无 | test_normal_app, test_desc_app | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/test_slzs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| ApplicationDesc | paasng.platform.declarative.application.resources.ApplicationDesc | 不适用 | module |
| AppDescriptionSLZ | paasng.platform.declarative.application.serializers.AppDescriptionSLZ | 不适用 | module |
| v2 | paasng.platform.declarative.application.validations.v2 | AppDescriptionSLZ | module |
| v3 | paasng.platform.declarative.application.validations.v3 | AppDescriptionSLZ | module |
| validate_desc | paasng.platform.declarative.serializers.validate_desc | 不适用 | module |
| AppDescV2Builder | tests.paasng.platform.declarative.utils.AppDescV2Builder | 不适用 | module |
| AppDescV2Decorator | tests.paasng.platform.declarative.utils.AppDescV2Decorator | 不适用 | module |
| AppDescV3Builder | tests.paasng.platform.declarative.utils.AppDescV3Builder | 不适用 | module |
| AppDescV3Decorator | tests.paasng.platform.declarative.utils.AppDescV3Decorator | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_app_description | `def get_app_description(slz_class, app_json: Dict) -> ApplicationDesc:` | 无 | A help tool get parse the application json data, d... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppDescriptionSLZ | 无 | test_v2, test_v3 | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/declarative/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| Tag | paasng.accessories.publish.market.models.Tag | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppDescV2Builder | 无 | make_app_desc, make_module_desc | 无 | 无 | 不适用 |
| AppDescV2Decorator | 无 | with_region, with_module, with_market | 无 | 无 | 不适用 |
| AppDescV3Builder | 无 | make_app_desc, make_module | 无 | 无 | 不适用 |
| AppDescV3Decorator | 无 | with_module, with_region, with_market | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/engine/configurations/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/engine/configurations/test_config_var.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, usefixtures, fixture, parametrize, raises | module |
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dedent | textwrap.dedent | 不适用 | module |
| nullcontext | blue_krill.contextlib.nullcontext | 不适用 | module |
| settings | django.conf.settings | CONFIGVAR_SYSTEM_PREFIX, keys, BK_PAAS2_PLATFORM_ENVS | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| get_deploy_desc_handler | paasng.platform.declarative.handlers.get_deploy_desc_handler | 不适用 | module |
| _flatten_envs | paasng.platform.engine.configurations.config_var._flatten_envs | 不适用 | module |
| generate_wl_builtin_env_vars | paasng.platform.engine.configurations.config_var.generate_wl_builtin_env_vars | 不适用 | module |
| get_builtin_env_variables | paasng.platform.engine.configurations.config_var.get_builtin_env_variables | 不适用 | module |
| get_env_variables | paasng.platform.engine.configurations.config_var.get_env_variables | 不适用 | module |
| AppRunTimeBuiltinEnv | paasng.platform.engine.constants.AppRunTimeBuiltinEnv | get_values, value, DEFAULT_PREALLOCATED_URLS | module |
| BuiltinConfigVar | paasng.platform.engine.models.config_var.BuiltinConfigVar | create, objects | module |
| ConfigVar | paasng.platform.engine.models.config_var.ConfigVar | create, objects | module |
| Module | paasng.platform.modules.models.module.Module | 不适用 | module |
| override_region_configs | tests.utils.helpers.override_region_configs | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_generate_wl_builtin_env_vars | `@pytest.mark.usefixtures('_with_wl_apps'):` | pytest.mark.usefixtures | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestGetEnvVariables | 无 | _create_for_test_svc_discovery, test_param_include_config_vars, test_builtin_id_and_secret, test_wl_vars_exists, test_part_declarative, test_part_saas_services | 无 | pytest.mark.usefixtures | 不适用 |
| TestBuiltInEnvVars | 无 | test_bk_platform_envs, test_builtin_env_keys, test_param_include_custom_builtin_config_vars | 无 | pytest.mark.usefixtures | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/configurations/test_image.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | object, patch | module |
| Build | paas_wl.bk_app.applications.models.Build | create, objects | module |
| RuntimeImageInfo | paasng.platform.engine.configurations.image.RuntimeImageInfo | 不适用 | module |
| generate_image_repository | paasng.platform.engine.configurations.image.generate_image_repository | 不适用 | module |
| get_image_repository_template | paasng.platform.engine.configurations.image.get_image_repository_template | 不适用 | module |
| update_image_runtime_config | paasng.platform.engine.configurations.image.update_image_runtime_config | 不适用 | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | BUILDPACK, DOCKERFILE | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | IMAGE_REGISTRY, AUTHORIZED_VCS, CNATIVE_IMAGE | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| version | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestRuntimeInfo | 无 | test_legacy_custom_image, test_buildpack_runtime, test_dockerfile_runtime, test_cnative, test_type | 无 | 无 | 不适用 |
| TestUpdateImageRuntimeConfig | 无 | test_normal | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/configurations/test_ingress.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |
| pytest | django_db, mark, fixture, parametrize, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch, MagicMock | module |
| IngressConfig | paas_wl.infras.cluster.models.IngressConfig | 不适用 | module |
| get_env_variables | paasng.platform.engine.configurations.config_var.get_env_variables | 不适用 | module |
| AppDefaultDomains | paasng.platform.engine.configurations.ingress.AppDefaultDomains | 不适用 | module |
| AppDefaultSubpaths | paasng.platform.engine.configurations.ingress.AppDefaultSubpaths | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | STAG, PROD | module |
| ExposedURLType | paasng.platform.modules.constants.ExposedURLType | SUBPATH | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppDefaultSubpaths | 无 | _setup, legacy_sub_path_app, sub_path_key, default_subpath_key, legacy_style_sub_path, normal_style_sub_path, test_as_env, test_get_env_variables, test_sync | 无 | 无 | 不适用 |
| TestAppDefaultDomains | 无 | test_sync | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/configurations/test_provider.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnvVariablesProviders | paasng.platform.engine.configurations.provider.EnvVariablesProviders | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_providers | `def test_providers(bk_stag_env, bk_deployment):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/engine/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| override_settings | django.test.utils.override_settings | 不适用 | module |
| BuildProcess | paas_wl.bk_app.applications.models.BuildProcess | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | 不适用 | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | get, objects | module |
| create_build_proc | tests.paas_wl.utils.build.create_build_proc | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| wl_app | `@pytest.fixture():` | pytest.fixture | A WlApp object |
| build_proc | `@pytest.fixture():` | pytest.fixture | A new BuildProcess object with random info |


---


### 模块: apiserver/paasng/tests/paasng/platform/engine/controller/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/engine/controller/test_models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IngressConfig | paas_wl.infras.cluster.models.IngressConfig | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_find_subdomain_domain | `def test_find_subdomain_domain():` | 无 | 不适用 |
| test_find_subpath_domain | `def test_find_subpath_domain():` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/engine/deploy/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/engine/deploy/bg_build/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/engine/deploy/bg_build/test_executors.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64decode | module |
| json | loads | module |
| time | time | module |
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| mock | unittest.mock | patch | module |
| entities | paasng.infras.bk_ci.entities | Pipeline, PipelineBuild, PipelineBuildStatus, PipelineLogModel, PipelineLogLine | module |
| PipelineBuildStatus | paasng.infras.bk_ci.constants.PipelineBuildStatus | SUCCEED | module |
| BuildStatus | paasng.platform.engine.constants.BuildStatus | SUCCESSFUL | module |
| DefaultBuildProcessExecutor | paasng.platform.engine.deploy.bg_build.executors.DefaultBuildProcessExecutor | 不适用 | module |
| PipelineBuildProcessExecutor | paasng.platform.engine.deploy.bg_build.executors.PipelineBuildProcessExecutor | 不适用 | module |
| attach_all_phases | paasng.platform.engine.handlers.attach_all_phases | 不适用 | module |
| NullStream | paasng.platform.engine.utils.output.NullStream | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDefaultBuildProcessExecutor | 无 | test_create_and_bind_build_instance, test_execute | 无 | 无 | 不适用 |
| StubBkCIPipelineClient | 无 | __init__, start_build, retrieve_build_status, retrieve_full_log | 无 | 无 | 不适用 |
| TestPipelineBuildProcessExecutor | 无 | test_execute, test_build_env_vars_params | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/deploy/bg_build/test_utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |
| urllib3 | disable_warnings | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| SimpleNamespace | types.SimpleNamespace | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| mock | unittest.mock | patch | module |
| settings | django.conf.settings | BLOBSTORE_BUCKET_APP_SOURCE, BUILD_EXTRA_ENV_VARS, items, PYTHON_BUILDPACK_PIP_INDEX_URL, DEFAULT_SLUGBUILDER_IMAGE | module |
| generate_builder_env_vars | paasng.platform.engine.deploy.bg_build.utils.generate_builder_env_vars | 不适用 | module |
| generate_slug_path | paasng.platform.engine.deploy.bg_build.utils.generate_slug_path | 不适用 | module |
| get_envs_from_pypi_url | paasng.platform.engine.deploy.bg_build.utils.get_envs_from_pypi_url | 不适用 | module |
| prepare_slugbuilder_template | paasng.platform.engine.deploy.bg_build.utils.prepare_slugbuilder_template | 不适用 | module |
| update_env_vars_with_metadata | paasng.platform.engine.deploy.bg_build.utils.update_env_vars_with_metadata | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get_envs_from_pypi_url | `def test_get_envs_from_pypi_url():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestEnvVars | 无 | test_generate_env_vars_without_metadata, test_update_env_vars_with_metadata | 无 | 无 | 不适用 |
| TestUtils | 无 | test_generate_slug_path, test_prepare_slugbuilder_template_without_metadata | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/deploy/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| DOCKER_BUILD_STEPSET_NAME | paasng.platform.engine.constants.DOCKER_BUILD_STEPSET_NAME | 不适用 | module |
| IMAGE_RELEASE_STEPSET_NAME | paasng.platform.engine.constants.IMAGE_RELEASE_STEPSET_NAME | 不适用 | module |
| StepMetaSet | paasng.platform.engine.models.steps.StepMetaSet | create, objects | module |





---


### 模块: apiserver/paasng/tests/paasng/platform/engine/deploy/test_bkapp_hook.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch, MagicMock, call | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | create, objects | module |
| PodPhase | paas_wl.utils.constants.PodPhase | RUNNING, SUCCEEDED | module |
| PreReleaseDummyExecutor | paasng.platform.engine.deploy.bg_command.bkapp_hook.PreReleaseDummyExecutor | from_deployment_id | module |
| attach_all_phases | paasng.platform.engine.handlers.attach_all_phases | 不适用 | module |
| Style | paasng.platform.engine.utils.output.Style | Warning | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestPreReleaseDummyExecutor | 无 | _setup_wl_app, test_start | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/deploy/test_building.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| uuid | uuid4 | module |
| pytest | django_db, mark, usefixtures, parametrize, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| CallbackResult | blue_krill.async_utils.poll_task.CallbackResult | 不适用 | module |
| CallbackStatus | blue_krill.async_utils.poll_task.CallbackStatus | EXCEPTION, NORMAL | module |
| AppModelResource | paas_wl.bk_app.cnative.specs.models.AppModelResource | create_from_resource, objects | module |
| create_app_resource | paas_wl.bk_app.cnative.specs.models.create_app_resource | 不适用 | module |
| generate_bkapp_name | paas_wl.core.resource.generate_bkapp_name | 不适用 | module |
| get_deploy_desc_handler | paasng.platform.declarative.handlers.get_deploy_desc_handler | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | value, FAILED, PENDING, SUCCESSFUL | module |
| ApplicationBuilder | paasng.platform.engine.deploy.building.ApplicationBuilder | 不适用 | module |
| BuildProcessResultHandler | paasng.platform.engine.deploy.building.BuildProcessResultHandler | 不适用 | module |
| DockerBuilder | paasng.platform.engine.deploy.building.DockerBuilder | 不适用 | module |
| attach_all_phases | paasng.platform.engine.handlers.attach_all_phases | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | get, objects | module |
| DeployPhaseTypes | paasng.platform.engine.models.DeployPhaseTypes | 不适用 | module |
| DeployPhaseManager | paasng.platform.engine.phases_steps.phases.DeployPhaseManager | 不适用 | module |
| GetAppYamlError | paasng.platform.sourcectl.exceptions.GetAppYamlError | 不适用 | module |
| GetProcfileError | paasng.platform.sourcectl.exceptions.GetProcfileError | 不适用 | module |
| FakeTaskPoller | tests.utils.mocks.poll_task.FakeTaskPoller | create | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestNormalApp | 无 | _mock_get_app_yaml, test_failed_when_parsing_processes, test_failed_when_upload_source, test_start_normal | 无 | pytest.mark.usefixtures, pytest.mark.parametrize | Tests for ApplicationBuilder |
| TestCloudNative | 无 | model_resource, test_start_build | 无 | pytest.mark.django_db, pytest.mark.parametrize | 不适用 |
| TestBuildProcessResultHandler | 无 | _auto_binding_phases, deployment, test_failed, test_succeeded | 无 | 无 | Tests for BuildProcessResultHandler |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/deploy/test_image_release.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| uuid | uuid4 | module |
| pytest | django_db, mark, fixture, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| Build | paas_wl.bk_app.applications.models.Build | get, objects, filter | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | 不适用 | module |
| AppSpecVersion | paasng.platform.declarative.constants.AppSpecVersion | VER_3 | module |
| DeployHandleResult | paasng.platform.declarative.entities.DeployHandleResult | 不适用 | module |
| ImageReleaseMgr | paasng.platform.engine.deploy.image_release.ImageReleaseMgr | from_deployment_id | module |
| attach_all_phases | paasng.platform.engine.handlers.attach_all_phases | 不适用 | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | get, objects | module |
| ProcessTmpl | paasng.platform.engine.models.deployment.ProcessTmpl | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestHandleProcessesAndDummyBuild | 无 | deployment_with_build_options, simple_deployment, test_for_last_build, test_for_smart_app, test_for_image_app | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/deploy/test_interruptions.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| uuid | uuid4 | module |
| pytest | django_db, mark, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| interrupt_deployment | paasng.platform.engine.deploy.interruptions.interrupt_deployment | 不适用 | module |
| DeployInterruptionFailed | paasng.platform.engine.exceptions.DeployInterruptionFailed | 不适用 | module |
| create_fake_deployment | tests.paasng.platform.engine.setup_utils.create_fake_deployment | 不适用 | module |
| create_user | tests.utils.auth.create_user | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestInterruptDeployment | 无 | test_build_process_id, test_failed_incorrect_user | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/deploy/test_pre_release.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| ApplicationPreReleaseExecutor | paasng.platform.engine.deploy.bg_command.pre_release.ApplicationPreReleaseExecutor | from_deployment_id | module |
| attach_all_phases | paasng.platform.engine.handlers.attach_all_phases | 不适用 | module |
| Style | paasng.platform.engine.utils.output.Style | Warning | module |
| DeployHookType | paasng.platform.modules.constants.DeployHookType | PRE_RELEASE_HOOK | module |
| Hook | paasng.platform.modules.models.deploy_config.Hook | 不适用 | module |
| create_fake_deployment | tests.paasng.platform.engine.setup_utils.create_fake_deployment | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestApplicationPreReleaseExecutor | 无 | _setup_hook, _setup_hook_disable, _setup_empty_command_hook, hook, test_hook_not_found | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/deploy/test_release.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| uuid | uuid4 | module |
| pytest | django_db, mark, fixture, usefixtures, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch, Mock | module |
| CallbackResult | blue_krill.async_utils.poll_task.CallbackResult | 不适用 | module |
| CallbackStatus | blue_krill.async_utils.poll_task.CallbackStatus | EXCEPTION, NORMAL | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | value, FAILED, PENDING | module |
| ReleaseStatus | paasng.platform.engine.constants.ReleaseStatus | FAILED, SUCCESSFUL, value, INTERRUPTED | module |
| ApplicationReleaseMgr | paasng.platform.engine.deploy.release.legacy.ApplicationReleaseMgr | from_deployment_id | module |
| ReleaseResultHandler | paasng.platform.engine.deploy.release.legacy.ReleaseResultHandler | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | get, objects | module |
| DeployPhaseTypes | paasng.platform.engine.models.DeployPhaseTypes | 不适用 | module |
| ProcessTmpl | paasng.platform.engine.models.deployment.ProcessTmpl | 不适用 | module |
| DeployPhaseManager | paasng.platform.engine.phases_steps.phases.DeployPhaseManager | 不适用 | module |
| FakeTaskPoller | tests.utils.mocks.poll_task.FakeTaskPoller | create | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestApplicationReleaseMgr | 无 | test_failed_when_create_release, test_start_normal | 无 | pytest.mark.usefixtures, pytest.mark.usefixtures | Tests for ApplicationReleaseMgr |
| TestReleaseResultHandler | 无 | deployment_id, test_failed | 无 | 无 | Tests for ReleaseResultHandler |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/models/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/engine/models/test_offline.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| OfflineOperation | paasng.platform.engine.models.offline.OfflineOperation | create, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestOfflineOperation | 无 | test_set_failed, test_set_successful | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/phases_steps/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/engine/phases_steps/test_phases.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| NoUnlinkedDeployPhaseError | paasng.platform.engine.exceptions.NoUnlinkedDeployPhaseError | 不适用 | module |
| DeployPhaseTypes | paasng.platform.engine.models.DeployPhaseTypes | BUILD, PREPARATION | module |
| DeployPhaseManager | paasng.platform.engine.phases_steps.phases.DeployPhaseManager | 不适用 | module |
| create_fake_deployment | tests.paasng.platform.engine.setup_utils.create_fake_deployment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestPhaseManager | 无 | manager, test_get_or_create, test_attach, test_get_unattached, test_rebuild_steps | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/phases_steps/test_steps.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| JobStatus | paasng.platform.engine.constants.JobStatus | PENDING, SUCCESSFUL | module |
| Deployment | paasng.platform.engine.models.Deployment | 不适用 | module |
| DeployPhase | paasng.platform.engine.models.DeployPhase | create, objects | module |
| DeployPhaseTypes | paasng.platform.engine.models.DeployPhaseTypes | value, BUILD | module |
| DeployStep | paasng.platform.engine.models.steps.DeployStep | create, objects | module |
| DeployStepMeta | paasng.platform.engine.models.steps.DeployStepMeta | create, objects | module |
| StepMetaSet | paasng.platform.engine.models.steps.StepMetaSet | create, objects | module |
| DeployStepPicker | paasng.platform.engine.phases_steps.steps.DeployStepPicker | pick | module |
| update_step_by_line | paasng.platform.engine.phases_steps.steps.update_step_by_line | 不适用 | module |
| ModuleRuntimeBinder | paasng.platform.modules.helpers.ModuleRuntimeBinder | 不适用 | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | create, objects, filter, get | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | create, objects, get | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDeployStepPicker | 无 | _setup_slugbuilder, runtime_binder, make_step_meta_set, test_pick, test_pick_no_runtime | 无 | 无 | 测试 DeployStep |
| TestUpdateStepByLine | 无 | phase_factory, test_match_and_update | 无 | 无 | Test update_step_by_line function |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/processes/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/engine/processes/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PlainInstance | paas_wl.bk_app.processes.processes.PlainInstance | 不适用 | module |
| PlainProcess | paas_wl.bk_app.processes.processes.PlainProcess | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| instance | `@pytest.fixture():` | pytest.fixture | 不适用 |
| process | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/engine/processes/test_events.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| copy | deepcopy | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| PlainProcess | paas_wl.bk_app.processes.processes.PlainProcess | 不适用 | module |
| ProcessEventType | paasng.platform.engine.processes.events.ProcessEventType | CREATED, REMOVED, UPDATED_REPLICAS, UPDATED_COMMAND | module |
| ProcEventsProducer | paasng.platform.engine.processes.events.ProcEventsProducer | 不适用 | module |
| ProcInstEventType | paasng.platform.engine.processes.events.ProcInstEventType | CREATED, REMOVED, UPDATED_RESTARTED, UPDATED_BECOME_READY, UPDATED_BECOME_NOT_READY | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestProcessEvents | 无 | test_process_added, test_process_removed, test_process_updated_replicas, test_process_updated_command, test_proc_updated_instances_added, test_proc_updated_instances_removed, test_proc_updated_instances_updated_restarted, test_proc_updated_instances_updated_ready, test_proc_updated_instances_updated_not_ready | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/processes/test_utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PlainInstance | paas_wl.bk_app.processes.processes.PlainInstance | 不适用 | module |
| PlainProcess | paas_wl.bk_app.processes.processes.PlainProcess | 不适用 | module |
| ProcessesSnapshotStore | paasng.platform.engine.processes.utils.ProcessesSnapshotStore | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| process | `@pytest.fixture():` | pytest.fixture | A Process object |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestProcessesSnapshotStore | 无 | test_save_then_get | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/processes/test_wait.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| copy | deepcopy | module |
| datetime | now, datetime | module |
| time | time | module |
| uuid | uuid4 | module |
| pytest | django_db, mark, fixture, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| mock | unittest.mock | object, patch | module |
| PollingMetadata | blue_krill.async_utils.poll_task.PollingMetadata | 不适用 | module |
| PollingStatus | blue_krill.async_utils.poll_task.PollingStatus | DOING, DONE | module |
| receiver | django.dispatch.receiver | 不适用 | module |
| AbortedDetails | paasng.platform.engine.deploy.bg_wait.base.AbortedDetails | 不适用 | module |
| AbortedDetailsPolicy | paasng.platform.engine.deploy.bg_wait.base.AbortedDetailsPolicy | 不适用 | module |
| DynamicReadyTimeoutPolicy | paasng.platform.engine.deploy.bg_wait.wait_deployment.DynamicReadyTimeoutPolicy | 不适用 | module |
| TooManyRestartsPolicy | paasng.platform.engine.deploy.bg_wait.wait_deployment.TooManyRestartsPolicy | 不适用 | module |
| UserInterruptedPolicy | paasng.platform.engine.deploy.bg_wait.wait_deployment.UserInterruptedPolicy | 不适用 | module |
| WaitForAllStopped | paasng.platform.engine.deploy.bg_wait.wait_deployment.WaitForAllStopped | 不适用 | module |
| WaitForReleaseAllReady | paasng.platform.engine.deploy.bg_wait.wait_deployment.WaitForReleaseAllReady | 不适用 | module |
| processes_updated | paasng.platform.engine.signals.processes_updated | 不适用 | module |
| Process | paas_wl.bk_app.processes.kres_entities.Process | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| metadata | `@pytest.fixture():` | pytest.fixture | 不适用 |
| poller_mocker | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDynamicReadyTimeoutPolicy | 无 | test_evaluate | 无 | 无 | 不适用 |
| TestWaitForAllStopped | 无 | test_still_running, test_all_stopped, test_broadcast | 无 | 无 | 不适用 |
| TestWaitForReleaseAllReady | 无 | test_not_ready, test_ready, test_aborted_by_dynamic_timeout | 无 | 无 | 不适用 |
| TestTooManyRestartsPolicy | 无 | test_evaluate | 无 | 无 | 不适用 |
| TestUserInterruptedPolicy | 无 | test_no_deployment_id, test_wrong_deployment_id, test_int_requested | 无 | 无 | 不适用 |
| TestAbortedDetails | 无 | test_truth_value, test_falsehood_value, test_invalid_value | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/setup_utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ModuleProcessSpec | paasng.platform.bkapp_model.models.ModuleProcessSpec | filter, objects | module |
| Deployment | paasng.platform.engine.models.Deployment | create, objects | module |
| AdvancedOptions | paasng.platform.engine.models.deployment.AdvancedOptions | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_fake_deployment | `def create_fake_deployment(module, app_environment='prod', operator=None, **kwargs):` | 无 | Create a faked deployment objects

    :param app_... |


---


### 模块: apiserver/paasng/tests/paasng/platform/engine/test_config_var.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, raises, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ascii_uppercase | string.ascii_uppercase | 不适用 | module |
| dedent | textwrap.dedent | 不适用 | module |
| List | typing.List | 不适用 | module |
| model_to_dict | django.forms.models.model_to_dict | 不适用 | module |
| get_random_string | django.utils.crypto.get_random_string | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| ConfigVarEnvName | paasng.platform.engine.constants.ConfigVarEnvName | GLOBAL, STAG, PROD | module |
| CONFIG_VAR_INPUT_FIELDS | paasng.platform.engine.models.config_var.CONFIG_VAR_INPUT_FIELDS | 不适用 | module |
| ENVIRONMENT_ID_FOR_GLOBAL | paasng.platform.engine.models.config_var.ENVIRONMENT_ID_FOR_GLOBAL | 不适用 | module |
| ENVIRONMENT_NAME_FOR_GLOBAL | paasng.platform.engine.models.config_var.ENVIRONMENT_NAME_FOR_GLOBAL | 不适用 | module |
| ConfigVar | paasng.platform.engine.models.config_var.ConfigVar | filter, objects | module |
| get_config_vars | paasng.platform.engine.models.config_var.get_config_vars | 不适用 | module |
| ConfigVarManager | paasng.platform.engine.models.managers.ConfigVarManager | 不适用 | module |
| ExportedConfigVars | paasng.platform.engine.models.managers.ExportedConfigVars | from_list | module |
| PlainConfigVar | paasng.platform.engine.models.managers.PlainConfigVar | 不适用 | module |
| ConfigVarFormatSLZ | paasng.platform.engine.serializers.ConfigVarFormatSLZ | 不适用 | module |
| ConfigVarFormatWithIdSLZ | paasng.platform.engine.serializers.ConfigVarFormatWithIdSLZ | 不适用 | module |
| Module | paasng.platform.modules.models.Module | create, objects | module |
| initialize_module | tests.utils.helpers.initialize_module | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| config_var_maker | `@pytest.fixture():` | pytest.fixture | 不适用 |
| dest_module | `@pytest.fixture():` | pytest.fixture | Return another module if current application fixtu... |
| dest_prod_env | `@pytest.fixture():` | pytest.fixture | 不适用 |
| random_config_var_maker | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestGetConfigVars | 无 | test_get_config_vars_normal, test_get_config_vars_conflict_name, test_invalid_env_name, test_empty | 无 | 无 | 不适用 |
| TestFilterByEnvironmentName | 无 | test_global | 无 | 无 | Test cases for ConfigVar.objects.filter_by_environ... |
| TestConfigVarManager | 无 | test_clone, test_apply_vars_to_module, test_export_config_vars, test_batch_save, test_remove_bulk | 无 | 无 | 不适用 |
| TestConfigVarFormatSLZ | 无 | test_key_error | 无 | 无 | 不适用 |
| TestExportedConfigVars | 无 | test_to_file_content | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/test_deployment.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| uuid | uuid4 | module |
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | S_MART | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDeploymentVersion | 无 | test_source_code, test_s_mart, test_image | 无 | 无 | 测试获取 Deployment 关联的源代码版本信息 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/test_handlers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| update_last_deployed_date | paasng.platform.engine.handlers.update_last_deployed_date | 不适用 | module |
| post_appenv_deploy | paasng.platform.engine.signals.post_appenv_deploy | send | module |
| create_fake_deployment | apiserver.paasng.tests.paasng.platform.engine.setup_utils.create_fake_deployment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_update_last_deployed_date | `def test_update_last_deployed_date(bk_module):` | 无 | update_last_deployed_date will be triggered by eve... |


---


### 模块: apiserver/paasng/tests/paasng/platform/engine/test_logs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| DeploymentLogStreams | paasng.platform.engine.logs.DeploymentLogStreams | 不适用 | module |
| get_all_logs | paasng.platform.engine.logs.get_all_logs | 不适用 | module |
| make_channel_stream | paasng.platform.engine.logs.make_channel_stream | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_make_channel_stream | `def test_make_channel_stream(bk_deployment):` | 无 | 不适用 |
| test_get_all_logs | `def test_get_all_logs(bk_deployment):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDeploymentLogs | 无 | test_main_stream_obj, test_preparation_stream_obj | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/test_managers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Deployment | paasng.platform.engine.models.deployment.Deployment | create, objects | module |
| DeployOperationManager | paasng.platform.engine.models.managers.DeployOperationManager | 不适用 | module |
| OfflineOperation | paasng.platform.engine.models.offline.OfflineOperation | create, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDeployOperationManager | 无 | test_normal_pending_exist, test_both_pending_exist, test_none_pending_exist | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/test_monitoring.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| uuid | uuid4 | module |
| arrow | now | module |
| pytest | django_db, mark, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch, PropertyMock | module |
| OutputStream | paas_wl.bk_app.applications.models.misc.OutputStream | create, objects | module |
| OutputStreamLine | paas_wl.bk_app.applications.models.misc.OutputStreamLine | filter, objects | module |
| count_frozen_deployments | paasng.platform.engine.monitoring.count_frozen_deployments | 不适用 | module |
| create_fake_deployment | apiserver.paasng.tests.paasng.platform.engine.setup_utils.create_fake_deployment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| bk_deployment | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCountFrozenDeployments | 无 | test_no_build_process_id, test_different_log_lines, test_now_not_provided | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/test_phases.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | PENDING, FAILED, SUCCESSFUL | module |
| DeployPhaseTypes | paasng.platform.engine.models.DeployPhaseTypes | PREPARATION | module |
| DeployPhaseManager | paasng.platform.engine.phases_steps.phases.DeployPhaseManager | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDeployPhase | 无 | engine_app, phase_manager, preparation_phase, test_mark, test_attach, test_mark_and_write_to_stream | 无 | 无 | 测试 DeployPhase |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/test_serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, param, xfail, fixture, raises | module |
| yaml | dump | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dedent | textwrap.dedent | 不适用 | module |
| APIError | blue_krill.web.std_error.APIError | 不适用 | module |
| ContentFile | django.core.files.base.ContentFile | 不适用 | module |
| ValidationError | rest_framework.serializers.ValidationError | 不适用 | module |
| serializers | paasng.platform.engine.serializers | 不适用 | module |
| ConfigVar | paasng.platform.engine.models.config_var.ConfigVar | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestConfigVar | 无 | test_input, test_output | 无 | pytest.mark.django_db, pytest.mark.parametrize | 不适用 |
| TestConfigVarImportSLZ | 无 | expected, test_normal, test_with_conment, test_error, test_key_error | 无 | pytest.mark.django_db | 不适用 |
| TestConfigVarFormatSLZ | 无 | expected, test_normal | 无 | pytest.mark.django_db | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/utils/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/engine/utils/test_output.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch, MagicMock | module |
| ConsoleStream | paasng.platform.engine.utils.output.ConsoleStream | 不适用 | module |
| RedisWithModelStream | paasng.platform.engine.utils.output.RedisWithModelStream | 不适用 | module |
| sanitize_message | paasng.platform.engine.utils.output.sanitize_message | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_sanitize_message_removing | `def test_sanitize_message_removing():` | 无 | 不适用 |
| test_sanitize_message_truncating | `def test_sanitize_message_truncating():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestConsoleStream | 无 | test_console_stream_stdout, test_console_stream_stderr | 无 | 无 | 不适用 |
| TestMixStream | 无 | test_write_message, test_write_title | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/utils/test_source.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pathlib | Path | module |
| cattr | structure | module |
| pytest | django_db, mark, usefixtures, fixture, parametrize | module |
| yaml | safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| mock | unittest.mock | patch | module |
| override_settings | django.test.utils.override_settings | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| WEB_PROCESS | paasng.platform.declarative.constants.WEB_PROCESS | 不适用 | module |
| DeploymentDescription | paasng.platform.declarative.deployment.controller.DeploymentDescription | 不适用 | module |
| Deployment | paasng.platform.engine.models.Deployment | create, objects | module |
| ProcessTmpl | paasng.platform.engine.models.deployment.ProcessTmpl | 不适用 | module |
| ConsoleStream | paasng.platform.engine.utils.output.ConsoleStream | 不适用 | module |
| TypeProcesses | paasng.platform.engine.utils.source.TypeProcesses | 不适用 | module |
| check_source_package | paasng.platform.engine.utils.source.check_source_package | 不适用 | module |
| download_source_to_dir | paasng.platform.engine.utils.source.download_source_to_dir | 不适用 | module |
| get_source_dir | paasng.platform.engine.utils.source.get_source_dir | 不适用 | module |
| get_source_package_path | paasng.platform.engine.utils.source.get_source_package_path | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | value, AUTHORIZED_VCS, S_MART | module |
| GetAppYamlError | paasng.platform.sourcectl.exceptions.GetAppYamlError | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |
| EXPECTED_WEB_PROCESS | 不适用 | `EXPECTED_WEB_PROCESS = WEB_PROCESS` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| cast_to_processes | `def cast_to_processes(obj: Dict[str, Dict[str, Any]]) -> TypeProcesses:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestGetSourcePackagePath | 无 | test_for_svn, test_for_git | 无 | 无 | Test get_source_package_path() |
| TestDownloadSourceToDir | 无 | _mocked_ctl, make_deploy_desc, test_no_patch_performed_if_process_empty, test_add_procfile | 无 | pytest.mark.usefixtures | Test download_source_to_dir() |
| TestCheckSourcePackage | 无 | test_normal, test_big_package | 无 | 无 | Test check_source_package() |
| Test__get_source_dir | 无 | test_s_mart_desc_found, test_s_mart_desc_not_found | version_info | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/workflow/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/engine/workflow/test_flow.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| time | sleep | module |
| pytest | django_db, mark, fixture, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | Mock | module |
| DeployShouldAbortError | paasng.platform.engine.exceptions.DeployShouldAbortError | 不适用 | module |
| DeployPhaseTypes | paasng.platform.engine.models.DeployPhaseTypes | 不适用 | module |
| DeployPhaseManager | paasng.platform.engine.phases_steps.phases.DeployPhaseManager | 不适用 | module |
| ConsoleStream | paasng.platform.engine.utils.output.ConsoleStream | 不适用 | module |
| DeploymentCoordinator | paasng.platform.engine.workflow.flow.DeploymentCoordinator | 不适用 | module |
| DeployProcedure | paasng.platform.engine.workflow.flow.DeployProcedure | TITLE_PREFIX | module |
| create_fake_deployment | tests.paasng.platform.engine.setup_utils.create_fake_deployment | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDeployProcedure | 无 | phases, test_normal, test_with_expected_error, test_with_unexpected_error, test_with_deployment | 无 | 无 | 不适用 |
| TestDeploymentCoordinator | 无 | test_normal, test_lock_timeout, test_release_without_deployment, test_release_with_deployment, test_release_with_wrong_deployment | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/workflow/test_messaging.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ServerSendEvent | paasng.platform.engine.workflow.messaging.ServerSendEvent | from_raw | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestServerSendEvent | 无 | test_from_raw_normal, test_from_raw_message, test_from_raw_internal, test_to_yield_str_list | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/engine/workflow/test_protections.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| gitlab.exceptions | GitlabAuthenticationError, exceptions | module |
| pytest | django_db, mark, fixture, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | object, patch | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| Product | paasng.accessories.publish.market.models.Product | 不适用 | module |
| BkPluginTag | paasng.bk_plugins.bk_plugins.models.BkPluginTag | 不适用 | module |
| ConditionNotMatched | paasng.core.core.protections.exceptions.ConditionNotMatched | 不适用 | module |
| Oauth2TokenHolder | paasng.infras.accounts.models.Oauth2TokenHolder | 不适用 | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | 不适用 | module |
| add_role_members | paasng.infras.iam.helpers.add_role_members | 不适用 | module |
| remove_user_all_roles | paasng.infras.iam.helpers.remove_user_all_roles | 不适用 | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | ADMINISTRATOR, DEVELOPER, OPERATOR | module |
| DeployConditions | paasng.platform.engine.constants.DeployConditions | value, FILL_PRODUCT_INFO, FILL_PLUGIN_TAG_INFO, NEED_TO_BIND_OAUTH_INFO, DONT_HAVE_ENOUGH_PERMISSIONS, CHECK_ENV_PROTECTION | module |
| EnvProtectionCondition | paasng.platform.engine.workflow.protections.EnvProtectionCondition | action_name | module |
| ModuleEnvDeployInspector | paasng.platform.engine.workflow.protections.ModuleEnvDeployInspector | 不适用 | module |
| PluginTagValidationCondition | paasng.platform.engine.workflow.protections.PluginTagValidationCondition | 不适用 | module |
| ProductInfoCondition | paasng.platform.engine.workflow.protections.ProductInfoCondition | 不适用 | module |
| RepoAccessCondition | paasng.platform.engine.workflow.protections.RepoAccessCondition | 不适用 | module |
| EnvRoleOperation | paasng.platform.environments.constants.EnvRoleOperation | value, DEPLOY | module |
| EnvRoleProtection | paasng.platform.environments.models.EnvRoleProtection | create, objects | module |
| GitProject | paasng.platform.sourcectl.models.GitProject | 不适用 | module |
| get_sourcectl_names | paasng.platform.sourcectl.source_types.get_sourcectl_names | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| git_client | `@pytest.fixture():` | pytest.fixture | A fixture used to mock Git repo dependency |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestProductInfoCondition | 无 | test_validate | 无 | 无 | 不适用 |
| TestPluginTagCondition | 无 | test_validate | 无 | 无 | 不适用 |
| TestEnvProtectionCondition | 无 | test_validate | 无 | 无 | 不适用 |
| TestRepoAccessCondition | 无 | test_validate | 无 | 无 | 不适用 |
| TestModuleEnvDeployInspector | 无 | test | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/environments/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/environments/test_utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | 不适用 | module |
| EnvRoleOperation | paasng.platform.environments.constants.EnvRoleOperation | value, DEPLOY | module |
| RoleNotAllowError | paasng.platform.environments.exceptions.RoleNotAllowError | 不适用 | module |
| EnvRoleProtection | paasng.platform.environments.models.EnvRoleProtection | create, objects | module |
| batch_save_protections | paasng.platform.environments.utils.batch_save_protections | 不适用 | module |
| env_role_protection_check | paasng.platform.environments.utils.env_role_protection_check | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestEnvRoleProtectionCheck | 无 | test_protection, test_batch_save_protections | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/mgrlegacy/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/mgrlegacy/cnative/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/mgrlegacy/cnative/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_random_string | django.utils.crypto.get_random_string | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | filter, objects | module |
| CNativeMigrationProcess | paasng.platform.mgrlegacy.models.CNativeMigrationProcess | create_migration_process, create_rollback_process | module |
| APP_CATEGORY | paasng.platform.modules.constants.APP_CATEGORY | value, NORMAL_APP, CNATIVE_APP | module |
| AppBuildPack | paasng.platform.modules.models.AppBuildPack | 不适用 | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | 不适用 | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | 不适用 | module |
| CLUSTER_NAME_FOR_TESTING | tests.conftest.CLUSTER_NAME_FOR_TESTING | 不适用 | module |
| create_pending_wl_apps | tests.utils.helpers.create_pending_wl_apps | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| CNATIVE_CLUSTER_NAME | 不适用 | `CNATIVE_CLUSTER_NAME = get_random_string(6)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| migration_process | `@pytest.fixture():` | pytest.fixture | 不适用 |
| rollback_process | `@pytest.fixture():` | pytest.fixture | 不适用 |
| image_name | `@pytest.fixture():` | pytest.fixture | 不适用 |
| cnb_image_name | `@pytest.fixture():` | pytest.fixture | 不适用 |
| buildpack | `@pytest.fixture():` | pytest.fixture | 不适用 |
| slugbuilder | `@pytest.fixture():` | pytest.fixture | 不适用 |
| slugrunner | `@pytest.fixture():` | pytest.fixture | 不适用 |
| cnb_builder | `@pytest.fixture():` | pytest.fixture | 不适用 |
| cnb_runner | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/mgrlegacy/cnative/test_migrate.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | object, patch | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, CLOUD_NATIVE, DEFAULT | module |
| BuildConfigMigrator | paasng.platform.mgrlegacy.cnative_migrations.build_config.BuildConfigMigrator | 不适用 | module |
| migrate_default_to_cnative | paasng.platform.mgrlegacy.migrate.migrate_default_to_cnative | 不适用 | module |
| rollback_cnative_to_default | paasng.platform.mgrlegacy.migrate.rollback_cnative_to_default | 不适用 | module |
| MIGRATE_TO_CNATIVE_CLASSES_LIST | paasng.platform.mgrlegacy.task_data.MIGRATE_TO_CNATIVE_CLASSES_LIST | 不适用 | module |
| ModuleInitializer | paasng.platform.modules.manager.ModuleInitializer | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get, objects | module |
| CLUSTER_NAME_FOR_TESTING | tests.conftest.CLUSTER_NAME_FOR_TESTING | 不适用 | module |
| CNATIVE_CLUSTER_NAME | apiserver.paasng.tests.paasng.platform.mgrlegacy.cnative.conftest.CNATIVE_CLUSTER_NAME | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestMigrateAndRollback | 无 | _init_build_config, test_migrate_and_rollback, test_migrate_failed | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/mgrlegacy/cnative/test_migrators.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, raises, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | value, CLOUD_NATIVE, DEFAULT | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | value, CUSTOM_IMAGE | module |
| ApplicationTypeMigrator | paasng.platform.mgrlegacy.cnative_migrations.application.ApplicationTypeMigrator | 不适用 | module |
| BuildConfigMigrator | paasng.platform.mgrlegacy.cnative_migrations.build_config.BuildConfigMigrator | 不适用 | module |
| ApplicationClusterMigrator | paasng.platform.mgrlegacy.cnative_migrations.cluster.ApplicationClusterMigrator | 不适用 | module |
| WlAppBackupManager | paasng.platform.mgrlegacy.cnative_migrations.wl_app.WlAppBackupManager | 不适用 | module |
| WlAppBackupMigrator | paasng.platform.mgrlegacy.cnative_migrations.wl_app.WlAppBackupMigrator | 不适用 | module |
| WlAppBackupRel | paasng.platform.mgrlegacy.models.WlAppBackupRel | get, objects | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | value, IMAGE_REGISTRY, CNATIVE_IMAGE | module |
| ModuleInitializer | paasng.platform.modules.manager.ModuleInitializer | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get, objects | module |
| Module | paasng.platform.modules.models.module.Module | create, objects, get | module |
| get_or_create_repo_obj | paasng.platform.sourcectl.docker.models.get_or_create_repo_obj | 不适用 | module |
| CLUSTER_NAME_FOR_TESTING | tests.conftest.CLUSTER_NAME_FOR_TESTING | 不适用 | module |
| CNATIVE_CLUSTER_NAME | apiserver.paasng.tests.paasng.platform.mgrlegacy.cnative.conftest.CNATIVE_CLUSTER_NAME | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestWlAppBackupMigrator | 无 | test_migrate_and_rollback | 无 | 无 | 不适用 |
| TestApplicationTypeMigrator | 无 | test_migrate_and_rollback | 无 | 无 | 不适用 |
| TestApplicationClusterMigrator | 无 | _migrate_app_type, test_migrate_and_rollback | 无 | 无 | 不适用 |
| TestBuildConfigMigrator | 无 | _init_build_config, _migrate_app_type, image_repository_module, test_migrate_and_rollback | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/mgrlegacy/cnative/test_wl_app_backup.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| WlAppBackupManager | paasng.platform.mgrlegacy.cnative_migrations.wl_app.WlAppBackupManager | 不适用 | module |
| WlAppBackupRel | paasng.platform.mgrlegacy.models.WlAppBackupRel | get, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_backup_manager | `def test_backup_manager(bk_stag_env):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/mgrlegacy/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | xdist_group, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| mock | unittest.mock | patch | module |
| store | paasng.accessories.servicehub.remote.store | 不适用 | module |
| RemoteSvcConfig | paasng.accessories.servicehub.remote.client.RemoteSvcConfig | from_json | module |
| MemoryStore | paasng.accessories.servicehub.remote.store.MemoryStore | 不适用 | module |
| get_remote_store | paasng.accessories.servicehub.remote.store.get_remote_store | 不适用 | module |
| get_migration_instance | tests.paasng.platform.mgrlegacy.utils.get_migration_instance | 不适用 | module |
| configure_regions | tests.utils.helpers.configure_regions | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| pytest_collection_modifyitems | `def pytest_collection_modifyitems(config, items):` | 无 | 不适用 |
| migration_instance_maker | `@pytest.fixture():` | pytest.fixture | 不适用 |
| svc_config | `@pytest.fixture():` | pytest.fixture | 不适用 |
| store | `@pytest.fixture():` | pytest.fixture | Mocked Store |


---


### 模块: apiserver/paasng/tests/paasng/platform/mgrlegacy/test_envvar_migration.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| EnvItem | paasng.infras.legacydb.entities.EnvItem | 不适用 | module |
| ENVIRONMENT_ID_FOR_GLOBAL | paasng.platform.engine.models.config_var.ENVIRONMENT_ID_FOR_GLOBAL | 不适用 | module |
| ConfigVar | paasng.platform.engine.models.config_var.ConfigVar | filter, objects | module |
| BaseObjectMigration | paasng.platform.mgrlegacy.app_migrations.basic.BaseObjectMigration | 不适用 | module |
| MainInfoMigration | paasng.platform.mgrlegacy.app_migrations.basic.MainInfoMigration | 不适用 | module |
| BaseEnvironmentVariableMigration | paasng.platform.mgrlegacy.app_migrations.envs_base.BaseEnvironmentVariableMigration | 不适用 | module |
| ProductMigration | paasng.platform.mgrlegacy.app_migrations.product.ProductMigration | 不适用 | module |
| BaseMigrationTest | tests.paasng.platform.mgrlegacy.test_migration.BaseMigrationTest | 不适用 | module |
| SourceControlMigration | paasng.platform.mgrlegacy.app_migrations.sourcectl.SourceControlMigration | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestBaseEnvironmentVariableMigration | tests.paasng.platform.mgrlegacy.test_migration.BaseMigrationTest | test_migrate, test_rollback | MIGRATION_CLS, PRECONDITION_MIGRATION_CLS | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/mgrlegacy/test_migration.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, usefixtures, fixture, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| List | typing.List | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| settings | django.conf.settings | 不适用 | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| DisplayOptions | paasng.accessories.publish.market.models.DisplayOptions | get, objects, filter | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | get_or_create_by_app, objects | module |
| Product | paasng.accessories.publish.market.models.Product | get, objects, filter | module |
| fetch_application_members | paasng.infras.iam.helpers.fetch_application_members | 不适用 | module |
| BaseMigration | paasng.platform.mgrlegacy.app_migrations.basic.BaseMigration | 不适用 | module |
| BaseObjectMigration | paasng.platform.mgrlegacy.app_migrations.basic.BaseObjectMigration | 不适用 | module |
| MainInfoMigration | paasng.platform.mgrlegacy.app_migrations.basic.MainInfoMigration | 不适用 | module |
| ProductMigration | paasng.platform.mgrlegacy.app_migrations.product.ProductMigration | 不适用 | module |
| MigrationFailed | paasng.platform.mgrlegacy.exceptions.MigrationFailed | 不适用 | module |
| ModuleInitializer | paasng.platform.modules.manager.ModuleInitializer | default_environments | module |
| SvnRepository | paasng.platform.sourcectl.models.SvnRepository | filter, objects | module |
| skip_if_legacy_not_configured | tests.conftest.skip_if_legacy_not_configured | 不适用 | module |
| get_legacy_app | tests.paasng.platform.mgrlegacy.utils.get_legacy_app | 不适用 | module |
| get_migration_instance | tests.paasng.platform.mgrlegacy.utils.get_migration_instance | 不适用 | module |
| global_mock | tests.paasng.platform.mgrlegacy.utils.global_mock | 不适用 | module |
| mock | tests.utils.mock | MagicMock | module |
| SourceControlMigration | paasng.platform.mgrlegacy.app_migrations.sourcectl.SourceControlMigration | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [skip_if_legacy_not_configured(), pytest.mark.django_db(databases=['default', 'workloads'])]` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseMigrationTest | 无 | migration, context, pre_migrations, _auto_migrate_and_rollback | MIGRATION_CLS | pytest.mark.usefixtures | Base class for testing migration-related functiona... |
| TestBaseMigration | BaseMigrationTest | _setup, test_set_log, test_update_ongoing, test_add_log, test_migrate_success, test_migrate_exception, test_rollback_success, test_rollback_exception | MIGRATION_CLS | 无 | 不适用 |
| TestBaseObjectMigration | BaseMigrationTest | test_migrate, test_rollback | MIGRATION_CLS | 无 | 不适用 |
| TestMainInfoMigration | BaseMigrationTest | test_migrate, test_rollback | MIGRATION_CLS, PRECONDITION_MIGRATION_CLS | 无 | 不适用 |
| TestSourceControlMigration | BaseMigrationTest | test_migrate, test_rollback | MIGRATION_CLS, PRECONDITION_MIGRATION_CLS | 无 | 不适用 |
| TestProductMigration | BaseMigrationTest | test_migrate, test_migrate_when_released_to_market, test_migrate_before_release_to_market, test_rollback | MIGRATION_CLS, PRECONDITION_MIGRATION_CLS | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/mgrlegacy/test_service_migration.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| uuid | UUID | module |
| pytest | django_db, mark, xdist_group, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | object, patch | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| RemoteServiceEngineAppAttachment | paasng.accessories.servicehub.models.RemoteServiceEngineAppAttachment | filter, objects | module |
| RemoteServiceModuleAttachment | paasng.accessories.servicehub.models.RemoteServiceModuleAttachment | filter, objects | module |
| RemotePlanObj | paasng.accessories.servicehub.remote.manager.RemotePlanObj | 不适用 | module |
| RemoteServiceObj | paasng.accessories.servicehub.remote.manager.RemoteServiceObj | 不适用 | module |
| Service | paasng.accessories.services.models.Service | 不适用 | module |
| ServiceCategory | paasng.accessories.services.models.ServiceCategory | 不适用 | module |
| AppEnvName | paasng.platform.engine.constants.AppEnvName | 不适用 | module |
| BaseRemoteServiceMigration | paasng.platform.mgrlegacy.app_migrations.service.BaseRemoteServiceMigration | 不适用 | module |
| BaseServiceMigration | paasng.platform.mgrlegacy.app_migrations.service.BaseServiceMigration | 不适用 | module |
| skip_if_legacy_not_configured | tests.conftest.skip_if_legacy_not_configured | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [skip_if_legacy_not_configured(), pytest.mark.django_db(databases=['default', 'workloads']), pytest.mark.xdist_group(name='remote-services')]` | module |
| dummy_service | 不适用 | `dummy_service = RemoteServiceObj(region=settings.DEFAULT_REGION_NAME, uuid='00000000-0000-0000-0000-000000000000', name='dummy-service', logo='', is_visible=True, plans=[RemotePlanObj(region=settings.DEFAULT_REGION_NAME, uuid='11111111-1111-1111-1111-111111111111', name='dummy-plan', description='dummy plan', is_eager=True, is_active=True, specifications={}, properties={})])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestBaseServiceMigration | 无 | test_get_service | 无 | 无 | 不适用 |
| TestBaseRemoteServiceMigration | 无 | bk_service, test_bind_service_to_default_module, test_bind_default_plan_as_fallback, test_get_engine_app_attachment, test_rollback_service_instance | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/mgrlegacy/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| uuid4 | uuid.uuid4 | 不适用 | module |
| settings | django.conf.settings | 不适用 | module |
| Tag | paasng.accessories.publish.market.models.Tag | create, objects | module |
| TagMap | paasng.accessories.publish.sync_market.models.TagMap | filter, objects, create | module |
| legacy_db | paasng.core.core.storages.sqlalchemy.legacy_db | get_scoped_session | module |
| ModuleEnvironment | paasng.platform.applications.models.ModuleEnvironment | create, objects | module |
| BaseMigration | paasng.platform.mgrlegacy.app_migrations.base.BaseMigration | 不适用 | module |
| MigrationStatus | paasng.platform.mgrlegacy.constants.MigrationStatus | value, ON_MIGRATION | module |
| MigrationContext | paasng.platform.mgrlegacy.models.MigrationContext | 不适用 | module |
| MigrationProcess | paasng.platform.mgrlegacy.models.MigrationProcess | get_or_create_migration_process_for_legacy, objects | module |
| EngineApp | paasng.platform.modules.manager.EngineApp | create, objects | module |
| ModuleInitializer | paasng.platform.modules.manager.ModuleInitializer | default_environments | module |
| mock | tests.utils.mock | patch | module |
| create_user | tests.utils.auth.create_user | 不适用 | module |
| LApplication | paasng.infras.legacydb.models.LApplication | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| global_mock | `@contextmanager:` | contextmanager | 不适用 |
| get_legacy_app | `def get_legacy_app(session, code='test'):` | 无 | 不适用 |
| get_migration_instance | `def get_migration_instance(migration_cls: Type[BaseMigration]) -> BaseMigration:` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/modules/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/modules/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| AppBuildPack | paasng.platform.modules.models.AppBuildPack | 不适用 | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | 不适用 | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| image_name | `@pytest.fixture():` | pytest.fixture | 不适用 |
| buildpack | `@pytest.fixture():` | pytest.fixture | 不适用 |
| slugbuilder | `@pytest.fixture():` | pytest.fixture | 不适用 |
| slugrunner | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/modules/test_deploy_config.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| DeployHookType | paasng.platform.modules.constants.DeployHookType | PRE_RELEASE_HOOK | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDeployConfig | 无 | command, _setup, test_add_hook, test_disable_hook, test_upsert | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/modules/test_helpers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Domain | paas_wl.infras.cluster.models.Domain | 不适用 | module |
| ExposedURLType | paasng.platform.modules.constants.ExposedURLType | SUBDOMAIN, SUBPATH | module |
| BindError | paasng.platform.modules.exceptions.BindError | 不适用 | module |
| ModuleRuntimeBinder | paasng.platform.modules.helpers.ModuleRuntimeBinder | 不适用 | module |
| ModuleRuntimeManager | paasng.platform.modules.helpers.ModuleRuntimeManager | 不适用 | module |
| get_module_clusters | paasng.platform.modules.helpers.get_module_clusters | 不适用 | module |
| get_module_prod_env_root_domains | paasng.platform.modules.helpers.get_module_prod_env_root_domains | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |
| cluster_ingress_config | tests.utils.mocks.cluster.cluster_ingress_config | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['default', 'workloads'])` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_bind_image | `@pytest.mark.parametrize(('slugbuilder_attrs', 'slugrunner_attrs', 'ok'), [(dict(name=generate_random_string(12)), dict(name=generate_random_string(16)), False), (dict(region=generate_random_string()), dict(), False), (dict(), dict(region=generate_random_string()), False), (dict(), dict(), True)]):` | pytest.mark.parametrize | 不适用 |
| test_bind_buildpack | `@pytest.mark.parametrize(('slugbuilder_attrs', 'buildpack_attrs', 'linked', 'ok'), [(dict(name=generate_random_string(12)), dict(name=generate_random_string(16)), False, False), (dict(region=generate_random_string()), dict(), False, False), (dict(), dict(region=generate_random_string()), False, False), (dict(name=generate_random_string(12)), dict(name=generate_random_string(16)), True, True), (dict(region=generate_random_string()), dict(), True, False), (dict(), dict(region=generate_random_string()), True, False), (dict(), dict(), True, True)]):` | pytest.mark.parametrize | 不适用 |
| test_get_module_clusters | `def test_get_module_clusters(bk_module):` | 无 | 不适用 |
| test_get_module_clusters_engineless | `def test_get_module_clusters_engineless(bk_module):` | 无 | 不适用 |
| test_get_module_prod_env_root_domains | `@pytest.mark.parametrize(('exposed_url_type', 'ingress_config', 'include_reserved', 'expected_domains'), [(ExposedURLType.SUBDOMAIN, {'app_root_domains': [{'name': 'foo.com'}, {'name': 'bar.com'}]}, False, [Domain('foo.com'), Domain('bar.com')]), (ExposedURLType.SUBDOMAIN, {'app_root_domains': [{'name': 'foo.com'}, {'name': 'bar.com', 'reserved': True}]}, False, [Domain('foo.com')]), (ExposedURLType.SUBDOMAIN, {'app_root_domains': [{'name': 'foo.com'}, {'name': 'bar.com', 'reserved': True}]}, True, [Domain('foo.com'), Domain('bar.com', reserved=True)]), (ExposedURLType.SUBPATH, {'sub_path_domains': [{'name': 'foo.com'}, {'name': 'bar.com'}]}, False, [Domain('foo.com'), Domain('bar.com')])]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/modules/test_manager.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| tempfile | mkdtemp | module |
| pytest | django_db, mark, xdist_group, fixture, parametrize, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| mock | unittest.mock | patch | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME, DUMMY_TEMPLATE_NAME | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| create_oauth2_client | paasng.infras.oauth2.utils.create_oauth2_client | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| ApplicationEnvironment | paasng.platform.applications.models.ApplicationEnvironment | count, objects | module |
| create_default_module | paasng.platform.applications.utils.create_default_module | 不适用 | module |
| EngineApp | paasng.platform.engine.models.EngineApp | count, objects | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | AUTHORIZED_VCS, BK_LESS_CODE, AI_AGENT | module |
| ModuleRuntimeManager | paasng.platform.modules.helpers.ModuleRuntimeManager | 不适用 | module |
| ModuleInitializer | paasng.platform.modules.manager.ModuleInitializer | 不适用 | module |
| AppBuildPack | paasng.platform.modules.models.AppBuildPack | 不适用 | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | 不适用 | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | 不适用 | module |
| Module | paasng.platform.modules.models.Module | 不适用 | module |
| ModuleSpecs | paasng.platform.modules.specs.ModuleSpecs | 不适用 | module |
| Template | paasng.platform.templates.models.Template | 不适用 | module |
| register_iam_after_create_application | tests.utils.helpers.register_iam_after_create_application | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db, pytest.mark.xdist_group(name='legacy-db')]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| raw_module | `@pytest.fixture():` | pytest.fixture | Raw application and module objects without initial... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestModuleInitializer | 无 | test_create_engine_apps, test_bind_default_services, test_bind_default_runtime, test_initialize_vcs, test_external_package | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/modules/test_protections.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, raises, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| JobStatus | paasng.platform.engine.constants.JobStatus | value, PENDING, SUCCESSFUL | module |
| Deployment | paasng.platform.engine.models.deployment.Deployment | 不适用 | module |
| OfflineOperation | paasng.platform.engine.models.offline.OfflineOperation | 不适用 | module |
| AllEnvsArchivedCondition | paasng.platform.modules.protections.AllEnvsArchivedCondition | 不适用 | module |
| ConditionNotMatched | paasng.platform.modules.protections.ConditionNotMatched | 不适用 | module |
| CustomDomainUnBoundCondition | paasng.platform.modules.protections.CustomDomainUnBoundCondition | 不适用 | module |
| NoPendingOperationsCondition | paasng.platform.modules.protections.NoPendingOperationsCondition | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestNoPendingOperationsCondition | 无 | test_match, test_pending_deployment, test_pending_offline | 无 | 无 | 不适用 |
| TestAllEnvsArchivedCondition | 无 | test_undeploy, test_deployed, test_deploy_but_archived, test_redeploy | 无 | 无 | 不适用 |
| TestCustomDomainUnBoundCondition | 无 | list_addrs_stub, test_no_domain, test_any_domain | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/modules/test_runtime_models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| nullcontext | contextlib.nullcontext | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| override_settings | django.test.override_settings | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| APP_CATEGORY | paasng.platform.modules.constants.APP_CATEGORY | value, S_MART_APP, NORMAL_APP | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | value, S_MART, AUTHORIZED_VCS | module |
| AppSlugBuilder | paasng.platform.modules.models.AppSlugBuilder | 不适用 | module |
| AppSlugRunner | paasng.platform.modules.models.AppSlugRunner | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestAppImageModel | 无 | test_filter, test_filter_full_image, test_filter_by_labels, test_select_default_runtime | 无 | pytest.mark.parametrize | 不适用 |
| TestAppSlugBuilder | 无 | test_get_buildpack_choices | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/modules/test_specs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ApplicationType | paasng.platform.applications.constants.ApplicationType | DEFAULT, ENGINELESS_APP | module |
| RuntimeType | paasng.platform.engine.constants.RuntimeType | BUILDPACK, CUSTOM_IMAGE | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | AUTHORIZED_VCS, S_MART, BK_LESS_CODE, AI_AGENT, IMAGE_REGISTRY | module |
| ModuleSpecs | paasng.platform.modules.specs.ModuleSpecs | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestModuleSpecs | 无 | test_templated_source_enabled, test_source_origin | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/modules/test_views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| reverse | django.urls.reverse | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| serializers | paasng.platform.modules.serializers | 不适用 | module |
| ModuleRuntimeBinder | paasng.platform.modules.helpers.ModuleRuntimeBinder | 不适用 | module |
| ModuleRuntimeManager | paasng.platform.modules.helpers.ModuleRuntimeManager | 不适用 | module |
| AppBuildPack | paasng.platform.modules.models.AppBuildPack | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestModuleRuntimeViewSetV2 | 无 | test_list, test_retrieve_empty, test_retrieve, test_bind, test_rebind, test_bind_multi_buildpacks | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/scene_app/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/scene_app/test_initializer.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| string | ascii_lowercase | module |
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | DEFAULT_REGION_NAME | module |
| SceneAPPInitializer | paasng.platform.scene_app.initializer.SceneAPPInitializer | 不适用 | module |
| mock | tests.utils.mock | patch | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |
| create_scene_tmpls | tests.utils.helpers.create_scene_tmpls | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestSceneAPPInitializer | 无 | _setup, test_normal | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/smart_app/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/smart_app/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |
| yaml | safe_dump | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |
| V2_APP_DESC_EXAMPLE | tests.paasng.platform.sourcectl.packages.utils.V2_APP_DESC_EXAMPLE | 不适用 | module |
| gen_tar | tests.paasng.platform.sourcectl.packages.utils.gen_tar | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| contents | `@pytest.fixture():` | pytest.fixture | The default contents for making tar file. |
| tar_path | `@pytest.fixture():` | pytest.fixture | 不适用 |
| assets_rootpath | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/smart_app/test_detector.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, raises | module |
| yaml | safe_dump, dump | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| SourcePackageStatReader | paasng.platform.smart_app.services.detector.SourcePackageStatReader | 不适用 | module |
| relative_path_of_app_desc | paasng.platform.smart_app.services.detector.relative_path_of_app_desc | 不适用 | module |
| V2_APP_DESC_EXAMPLE | tests.paasng.platform.sourcectl.packages.utils.V2_APP_DESC_EXAMPLE | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Test__relative_path_of_app_desc | 无 | test_detect | 无 | 无 | 不适用 |
| TestSourcePackageStatReader | 无 | test_get_meta_info_found_desc_file, test_get_meta_info_no_desc_file, test_invalid_file_format, test_read | desc_data, desc_data_str | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/smart_app/test_dispatch.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| hashlib | sha256 | module |
| json | dumps | module |
| re | compile, Pattern | module |
| pytest | django_db, mark, fixture, parametrize | module |
| requests | session | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| chain | itertools.chain | from_iterable | module |
| mock | unittest.mock | patch | module |
| Adapter | requests_mock.Adapter | 不适用 | module |
| SourcePackageStatReader | paasng.platform.smart_app.services.detector.SourcePackageStatReader | 不适用 | module |
| bksmart_settings | paasng.platform.smart_app.services.dispatch.bksmart_settings | get_client, registry | module |
| dispatch_cnb_image_to_registry | paasng.platform.smart_app.services.dispatch.dispatch_cnb_image_to_registry | 不适用 | module |
| dispatch_package_to_modules | paasng.platform.smart_app.services.dispatch.dispatch_package_to_modules | 不适用 | module |
| dispatch_slug_image_to_registry | paasng.platform.smart_app.services.dispatch.dispatch_slug_image_to_registry | 不适用 | module |
| SMartImageManager | paasng.platform.smart_app.services.image_mgr.SMartImageManager | 不适用 | module |
| compress_directory | paasng.platform.sourcectl.utils.compress_directory | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| uncompress_directory | paasng.platform.sourcectl.utils.uncompress_directory | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| mock_adapter | `@pytest.fixture():` | pytest.fixture | 不适用 |
| image_manifest_content | `@pytest.fixture():` | pytest.fixture | 不适用 |
| image_config_content | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_dispatch_slug_image_to_registry | `def test_dispatch_slug_image_to_registry(bk_module, bk_user, assets_rootpath, mock_adapter, image_manifest_content, image_config_content):` | 无 | 测试将 slug runner 镜像分发到 registry, 涉及多次网络请求, 要保证顺序正确。... |
| test_dispatch_cnb_image_to_registry | `def test_dispatch_cnb_image_to_registry(bk_module, bk_user, assets_rootpath, mock_adapter, image_manifest_content, image_config_content):` | 无 | 测试将 slug runner 镜像分发到 registry, 涉及多次网络请求, 要保证顺序正确。... |
| test_dispatch_package_to_modules | `@pytest.mark.parametrize(('package_path', 'dispatcher_uri'), [('cnb-image', 'paasng.platform.smart_app.services.dispatch.dispatch_cnb_image_to_registry'), ('slugrunner-image', 'paasng.platform.smart_app.services.dispatch.dispatch_slug_image_to_registry')]):` | pytest.mark.parametrize | 测试根据 s-mart 包结构选择不同的 dispatcher |


---


### 模块: apiserver/paasng/tests/paasng/platform/smart_app/test_patcher.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| tarfile | open | module |
| pytest | django_db, mark, fixture, parametrize, raises | module |
| yaml | safe_dump, dump, safe_load | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| constants | paasng.platform.declarative.constants | WEB_PROCESS | module |
| DescriptionValidationError | paasng.platform.declarative.exceptions.DescriptionValidationError | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | value, BK_LESS_CODE | module |
| SourcePackageStatReader | paasng.platform.smart_app.services.detector.SourcePackageStatReader | 不适用 | module |
| patch_smart_tarball | paasng.platform.smart_app.services.patcher.patch_smart_tarball | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| V1_APP_DESC_EXAMPLE | tests.paasng.platform.sourcectl.packages.utils.V1_APP_DESC_EXAMPLE | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |
| EXPECTED_WEB_PROCESS | 不适用 | `EXPECTED_WEB_PROCESS = constants.WEB_PROCESS` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Test__patch_smart_tarball | 无 | patched_tar, test_error_if_patch_unsupported_ver, test_add_procfile | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/smart_app/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| io | BytesIO | module |
| re | fullmatch | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| define | attrs.define | 不适用 | module |
| field | attrs.field | 不适用 | module |
| Response | requests.Response | 不适用 | module |
| BaseAdapter | requests.adapters.BaseAdapter | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MockResponse | 无 | 无 | 无 | define | 不适用 |
| MockAdapter | requests.adapters.BaseAdapter | __init__, send, close, register, _find_response | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |




#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| gitlab_repo_url | `@pytest.fixture():` | pytest.fixture | 不适用 |
| github_repo_url | `@pytest.fixture():` | pytest.fixture | 不适用 |
| gitee_repo_url | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/docker/test_models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| init_image_repo | paasng.platform.sourcectl.docker.models.init_image_repo | 不适用 | module |
| RepoBasicAuthHolder | paasng.platform.sourcectl.models.RepoBasicAuthHolder | get, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_init_image_repo | `def test_init_image_repo(bk_module):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/git/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/git/test_git_client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | fromtimestamp, datetime | module |
| pytest | fixture, parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| dedent | textwrap.dedent | 不适用 | module |
| patch | unittest.mock.patch | object | module |
| MutableURL | blue_krill.data_types.url.MutableURL | 不适用 | module |
| GitClient | paasng.platform.sourcectl.git.client.GitClient | 不适用 | module |
| GitCloneCommand | paasng.platform.sourcectl.git.client.GitCloneCommand | 不适用 | module |
| GitCommand | paasng.platform.sourcectl.git.client.GitCommand | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestGitCloneCommand | 无 | command, test_to_command, test_to_obscure_cmd | 无 | 无 | 不适用 |
| TestGitClient | 无 | client, test_checkout, test_clone, test_list_refs, test_list_remote, test_list_remote_with_warning_and_invalid, test_get_commit_info, test_err_stdout_as_exc | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/packages/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/packages/conftest.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |
| requests | session | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| MockAdapter | tests.paasng.platform.sourcectl.packages.utils.MockAdapter | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| mock_adapter | `@pytest.fixture():` | pytest.fixture | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/packages/test_client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| tarfile | open | module |
| pytest | fixture, raises, parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ExitStack | contextlib.ExitStack | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| nullcontext | blue_krill.contextlib.nullcontext | 不适用 | module |
| override_settings | django.test.utils.override_settings | 不适用 | module |
| PackageInvalidFileFormatError | paasng.platform.sourcectl.exceptions.PackageInvalidFileFormatError | 不适用 | module |
| ReadFileNotFoundError | paasng.platform.sourcectl.exceptions.ReadFileNotFoundError | 不适用 | module |
| ReadLinkFileOutsideDirectoryError | paasng.platform.sourcectl.exceptions.ReadLinkFileOutsideDirectoryError | 不适用 | module |
| BasePackageClient | paasng.platform.sourcectl.package.client.BasePackageClient | 不适用 | module |
| BinaryTarClient | paasng.platform.sourcectl.package.client.BinaryTarClient | 不适用 | module |
| GenericLocalClient | paasng.platform.sourcectl.package.client.GenericLocalClient | 不适用 | module |
| GenericRemoteClient | paasng.platform.sourcectl.package.client.GenericRemoteClient | 不适用 | module |
| TarClient | paasng.platform.sourcectl.package.client.TarClient | 不适用 | module |
| ZipClient | paasng.platform.sourcectl.package.client.ZipClient | 不适用 | module |
| upload_to_blob_store | paasng.platform.sourcectl.package.uploader.upload_to_blob_store | 不适用 | module |
| compress_directory | paasng.platform.sourcectl.utils.compress_directory | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |
| gen_tar | tests.paasng.platform.sourcectl.packages.utils.gen_tar | 不适用 | module |
| gen_zip | tests.paasng.platform.sourcectl.packages.utils.gen_zip | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestBinaryTarClient | 无 | tarball_maker, test_tarfile_like, test_not_tarfile_like, test_read_invalid_file, test_list_invalid_file | 无 | 无 | 不适用 |
| TestLocalClient | 无 | test_read_file, test_read_file_with_relative_path, test_export | 无 | pytest.mark.parametrize | 不适用 |
| TestTarClientsShouldNotReadOutside | 无 | test_read_file_should_fail, test_export_should_fail | 无 | pytest.mark.parametrize | 不适用 |
| TestZipClientsReadSymlinks | 无 | test_read_file_should_read_target_only, test_export_should_produce_no_links | 无 | 无 | 不适用 |
| TestBinaryTarClientsShouldNotReadOutside | 无 | test_read_file_should_fail, test_export_should_fail | 无 | 无 | 不适用 |
| TestGenericRemoteClient | 无 | test_http_protocol, test_blobstore_protocol | 无 | pytest.mark.parametrize | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/packages/test_controller.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| tarfile | open | module |
| pytest | django_db, mark, fixture, parametrize, raises | module |
| yaml | dump | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| nullcontext | blue_krill.contextlib.nullcontext | 不适用 | module |
| get_metadata_reader | paasng.platform.engine.configurations.source_file.get_metadata_reader | 不适用 | module |
| SourcePackageStatReader | paasng.platform.smart_app.services.detector.SourcePackageStatReader | 不适用 | module |
| PackageController | paasng.platform.sourcectl.controllers.package.PackageController | init_by_module | module |
| GetProcfileError | paasng.platform.sourcectl.exceptions.GetProcfileError | 不适用 | module |
| AlternativeVersion | paasng.platform.sourcectl.models.AlternativeVersion | 不适用 | module |
| SourcePackage | paasng.platform.sourcectl.models.SourcePackage | store, objects | module |
| SPStoragePolicy | paasng.platform.sourcectl.models.SPStoragePolicy | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |
| gen_tar | tests.paasng.platform.sourcectl.packages.utils.gen_tar | 不适用 | module |
| gen_zip | tests.paasng.platform.sourcectl.packages.utils.gen_zip | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| package_module | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestPackageRepoController | 无 | test_read_file, test_export, test_list_alternative_versions | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/packages/test_downloader.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| download_file_via_http | paasng.platform.sourcectl.package.downloader.download_file_via_http | 不适用 | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_download_file_via_http | `@pytest.mark.parametrize('content', [b'foo\n', b'bar\n', b'foo\nbar\n']):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/packages/test_prepared.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| PreparedSourcePackage | paasng.platform.smart_app.services.prepared.PreparedSourcePackage | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestPreparedSourcePackage | 无 | test_generate_storage_path | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/packages/test_uploader.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| SPStat | paasng.platform.sourcectl.models.SPStat | 不适用 | module |
| generate_storage_path | paasng.platform.sourcectl.package.uploader.generate_storage_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_generate_storage_path | `@pytest.mark.parametrize(('stat', 'package_name'), [(SPStat(name='name', version='v1', size=1, meta_info={}, sha256_signature='signature'), 'v1:signature:name'), (SPStat(name='name.tar', version='v2', size=1, meta_info={}, sha256_signature='signature'), 'v2:signature:name.tar')]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/packages/test_utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| override | django.utils.translation.override | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| get_app_description | paasng.platform.smart_app.services.app_desc.get_app_description | 不适用 | module |
| SPStat | paasng.platform.sourcectl.models.SPStat | 不适用 | module |
| gettext_lazy | paasng.utils.i18n.gettext_lazy | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get_app_description | `@pytest.mark.parametrize(('meta_info', 'is_valid', 'name_in_desc'), [({}, False, None), ({'app_name': '阿尔法'}, False, None), ({'spec_version': 2, 'app_version': '0.0.1', 'app': {'bk_app_code': 'foo', 'bk_app_name': '阿尔法', 'bk_app_name_en': 'alpha'}, 'modules': {'default': {'is_default': True, 'language': 'python'}}}, True, gettext_lazy({'zh-cn': '阿尔法', 'en': 'alpha'}))]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/packages/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | walk | module |
| zipfile | ZipFile, ZIP_DEFLATED, ZipInfo | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Union | typing.Union | 不适用 | module |
| Response | requests.Response | 不适用 | module |
| BaseAdapter | requests.adapters.BaseAdapter | 不适用 | module |
| compress_directory | paasng.platform.sourcectl.utils.compress_directory | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| ensure_parent_exists | `def ensure_parent_exists(path: Path):` | 无 | 不适用 |
| dump_contents_to_fs | `@contextmanager:` | contextmanager | a helper to dumps contents fo file-system

    :pa... |
| gen_tar | `def gen_tar(target_path, contents: Dict[str, Union[str, bytes]] | None = None, symbolic_links: Dict[str, str] | None = None):` | 无 | 不适用 |
| gen_zip | `def gen_zip(target_path, contents: Dict[str, Union[str, bytes]] | None = None, symbolic_links: Dict[str, str] | None = None):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MockAdapter | requests.adapters.BaseAdapter | __init__, send, close, register, close_fh | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/svn/test_server_config.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture, parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| refresh_sourcectl_types | paasng.platform.sourcectl.source_types.refresh_sourcectl_types | 不适用 | module |
| BkSvnServerConfig | paasng.platform.sourcectl.svn.server_config.BkSvnServerConfig | 不适用 | module |
| get_bksvn_config | paasng.platform.sourcectl.svn.server_config.get_bksvn_config | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| server_config_factory | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestBkSvnConfig | 无 | test_get_base_path | 无 | 无 | 不适用 |
| TestGetBkSvnConfig | 无 | test_single_svn, test_multi_svn | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/test_bare_git.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| threading | Thread | module |
| pytest | django_db, mark, parametrize, raises, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BaseHTTPRequestHandler | http.server.BaseHTTPRequestHandler | 不适用 | module |
| ThreadingHTTPServer | http.server.ThreadingHTTPServer | 不适用 | module |
| mock | unittest.mock | patch, object | module |
| BareGitRepoController | paasng.platform.sourcectl.controllers.bare_git.BareGitRepoController | init_by_module | module |
| ReadLinkFileOutsideDirectoryError | paasng.platform.sourcectl.exceptions.ReadLinkFileOutsideDirectoryError | 不适用 | module |
| GitCommandExecutionError | paasng.platform.sourcectl.git.client.GitCommandExecutionError | 不适用 | module |
| GitRepository | paasng.platform.sourcectl.models.GitRepository | create, objects | module |
| RepoBasicAuthHolder | paasng.platform.sourcectl.models.RepoBasicAuthHolder | create, objects | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| get_sourcectl_names | paasng.platform.sourcectl.source_types.get_sourcectl_names | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | __enter__, return_value | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestBareGitRepoController | 无 | get_fake_repo, get_fake_auth_holder, test_init_by_module, test_anonymize_url, safe_files_setup, fake_controller, test_read_files | 无 | 无 | Test BareGitRepoController |

---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/test_connector.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | patch | module |
| settings | django.conf.settings | DUMMY_TEMPLATE_NAME | module |
| ExternalGitAppRepoConnector | paasng.platform.sourcectl.connector.ExternalGitAppRepoConnector | 不适用 | module |
| IntegratedSvnAppRepoConnector | paasng.platform.sourcectl.connector.IntegratedSvnAppRepoConnector | 不适用 | module |
| get_sourcectl_types | paasng.platform.sourcectl.source_types.get_sourcectl_types | 不适用 | module |
| detect_default_blob_store | paasng.utils.blobstore.detect_default_blob_store | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestIntegratedSvnAppRepoConnector | 无 | test_normal | 无 | 无 | 不适用 |
| TestExternalGitAppRepoConnector | 无 | test_normal | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/test_dockerignore.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| tarfile | open | module |
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dedent | textwrap.dedent | 不适用 | module |
| DockerIgnore | paasng.platform.sourcectl.utils.DockerIgnore | 不适用 | module |
| compress_directory_ext | paasng.platform.sourcectl.utils.compress_directory_ext | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_compress_with_docker_ignore | `def test_compress_with_docker_ignore():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestDockerIgnore | 无 | test_parse, test_should_ignore, test_whitelist | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/test_models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, fixture, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| G | django_dynamic_fixture.G | 不适用 | module |
| Scope | paasng.infras.accounts.models.Scope | parse_from_str | module |
| PackageAlreadyExists | paasng.platform.sourcectl.exceptions.PackageAlreadyExists | 不适用 | module |
| GitProject | paasng.platform.sourcectl.models.GitProject | parse_from_path_with_namespace | module |
| GitRepository | paasng.platform.sourcectl.models.GitRepository | 不适用 | module |
| SourcePackage | paasng.platform.sourcectl.models.SourcePackage | store, objects | module |
| SPStat | paasng.platform.sourcectl.models.SPStat | 不适用 | module |
| SPStoragePolicy | paasng.platform.sourcectl.models.SPStoragePolicy | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = [pytest.mark.django_db]` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| git_project_maker | `def git_project_maker(url, sourcectl_type='dummy'):` | 无 | 不适用 |
| test_git_alias_name | `@pytest.mark.parametrize(('repo_url', 'expected'), [('https://foo.com/bar/baz/qux', 'bar/baz/qux'), ('https://foo.com/bar/baz/qux.git', 'bar/baz/qux')]):` | pytest.mark.parametrize | 不适用 |
| test_store_package | `@pytest.mark.parametrize('policy', [SPStoragePolicy(engine='foo', path='bar', url='scheme://bucket/bar', stat=SPStat(name='name', version='v1', size=1, meta_info={}, sha256_signature='signature'))]):` | pytest.mark.parametrize, pytest.mark.django_db | 不适用 |
| test_overwrite_package | `@pytest.mark.parametrize(('policy', 'raised'), [(SPStoragePolicy(engine='foo', path='bar', url='scheme://bucket/bar', stat=SPStat(name='name', version='v1', size=1, meta_info={}, sha256_signature='signature')), True), (SPStoragePolicy(engine='foo', path='bar', url='scheme://bucket/bar', stat=SPStat(name='name', version='v1', size=1, meta_info={}, sha256_signature='signature'), allow_overwrite=True), False)]):` | pytest.mark.parametrize, pytest.mark.django_db | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestGitProjectWithScope | 无 | projects, test_has_permission_for_user, test_has_permission_for_group, test_has_permission_for_project | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/test_perm.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize, usefixtures | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | object, patch | module |
| AccountFeatureFlag | paasng.infras.accounts.models.AccountFeatureFlag | set_feature, objects | module |
| UserSourceProviders | paasng.platform.sourcectl.perm.UserSourceProviders | 不适用 | module |
| render_providers | paasng.platform.sourcectl.perm.render_providers | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_render_providers | `def test_render_providers():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestUserSourceProviders | 无 | test_list_availables, test_list_module_availables | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/test_source_types.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture, raises, parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| cast | typing.cast | 不适用 | module |
| OAuth2Backend | paasng.infras.accounts.oauth.backends.OAuth2Backend | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | AUTHORIZED_VCS | module |
| ServerConfig | paasng.platform.sourcectl.source_types.ServerConfig | 不适用 | module |
| SourcectlTypeNames | paasng.platform.sourcectl.source_types.SourcectlTypeNames | 不适用 | module |
| SourceTypes | paasng.platform.sourcectl.source_types.SourceTypes | 不适用 | module |
| SourceTypeSpec | paasng.platform.sourcectl.source_types.SourceTypeSpec | 不适用 | module |
| ModuleRepoConnector | paasng.platform.sourcectl.connector.ModuleRepoConnector | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| server_config_with_region | `@pytest.fixture():` | pytest.fixture | 不适用 |
| oauth_credentials | `@pytest.fixture():` | pytest.fixture | 不适用 |
| oauth_display_info | `@pytest.fixture():` | pytest.fixture | 不适用 |
| partial_oauth_display_info | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestServerConfig | 无 | test_region, test_region_not_found_default, test_region_agonostic_error, test_region_agonostic_normal | 无 | 无 | 不适用 |
| DummyClass | 无 | 无 | 无 | 无 | 不适用 |
| DummyOAuth2Backend | paasng.infras.accounts.oauth.backends.OAuth2Backend | 无 | _default_display_info | 无 | 不适用 |
| DummySourceTypeSpec | paasng.platform.sourcectl.source_types.SourceTypeSpec | 无 | connector_class, repo_controller_class, oauth_backend_class, basic_type, _default_source_origin, _default_label, _default_display_info | 无 | 不适用 |
| GitDummySourceTypeSpec | paasng.platform.sourcectl.source_types.SourceTypeSpec | 无 | connector_class, repo_controller_class, oauth_backend_class, basic_type, _default_source_origin, _default_label, _default_display_info | 无 | 不适用 |
| TestSourceTypeSpec | 无 | test_normal, test_non_region_server_config, test_oauth_credentials, test_oauth_backend_config, test_oauth_mixin, test_partial_overwrite_display_info | 无 | 无 | 不适用 |
| TestSourceTypes | 无 | source_types, test_items, test_get_by_name, test_find_by_type, test_get_choices, test_get_choice_label | 无 | 无 | 不适用 |
| TestSourceTypeNames | 无 | source_types, test_get, test_default, test_build_name_index, test_build_type_name_index, test_build_shorter_type_name_index, test_getattr, test_filter_by_basic_type, test_validate_svn, test_validate_git | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/test_sourcectl_git.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | datetime | module |
| logging | getLogger | module |
| os | listdir | module |
| pytest | django_db, mark, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| tzoffset | dateutil.tz.tz.tzoffset | 不适用 | module |
| tzutc | dateutil.tz.tz.tzutc | 不适用 | module |
| GiteeRepoController | paasng.platform.sourcectl.controllers.gitee.GiteeRepoController | list_all_repositories | module |
| GitHubRepoController | paasng.platform.sourcectl.controllers.github.GitHubRepoController | list_all_repositories | module |
| GitlabRepoController | paasng.platform.sourcectl.controllers.gitlab.GitlabRepoController | 不适用 | module |
| AlternativeVersion | paasng.platform.sourcectl.models.AlternativeVersion | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| compress_directory | paasng.platform.sourcectl.utils.compress_directory | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| generate_temp_file | paasng.platform.sourcectl.utils.generate_temp_file | 不适用 | module |
| mock | tests.utils.mock | patch | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| mock_gitlab_client | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestGitlabRepoController | 无 | version, tarball_bytes, test_export_normal, test_get_owner_and_repo, test_list_alternative_versions, test_extract_version_info, test_extract_smart_revision, test_build_url | 无 | 无 | 不适用 |
| TestGithubRepoController | 无 | version, user_credentials, test_get_project, client, test_list_all_repositories, test_list_alternative_versions, test_extract_smart_revision, test_build_url, test_read_file | 无 | 无 | 不适用 |
| TestGiteebRepoController | 无 | version, user_credentials, test_get_project, client, test_list_all_repositories, test_list_alternative_versions, test_extract_smart_revision, test_build_url, test_read_file | 无 | 无 | 不适用 |
| TestControllerUtils | 无 | branch_data, controller, test_branch_data_to_version_normal, test_branch_data_to_version_other_timezone | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/test_sourcectl_svn.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| os | listdir, exists, path | module |
| tempfile | mktemp | module |
| pytest | django_db, mark, raises, usefixtures, fixture, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Mock | unittest.mock.Mock | 不适用 | module |
| patch | unittest.mock.patch | object | module |
| settings | django.conf.settings | DUMMY_TEMPLATE_NAME, DEFAULT_REGION_NAME | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| SvnException | svn.common.SvnException | 不适用 | module |
| add_role_members | paasng.infras.iam.helpers.add_role_members | 不适用 | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | DEVELOPER, ADMINISTRATOR | module |
| SvnRepoController | paasng.platform.sourcectl.controllers.bk_svn.SvnRepoController | 不适用 | module |
| SvnRepository | paasng.platform.sourcectl.models.SvnRepository | 不适用 | module |
| VersionInfo | paasng.platform.sourcectl.models.VersionInfo | 不适用 | module |
| RepositorySLZ | paasng.platform.sourcectl.serializers.RepositorySLZ | 不适用 | module |
| get_sourcectl_names | paasng.platform.sourcectl.source_types.get_sourcectl_names | 不适用 | module |
| get_svn_authorization_manager | paasng.platform.sourcectl.svn.admin.get_svn_authorization_manager | 不适用 | module |
| RepoProvider | paasng.platform.sourcectl.svn.client.RepoProvider | 不适用 | module |
| SvnRepositoryClient | paasng.platform.sourcectl.svn.client.SvnRepositoryClient | 不适用 | module |
| smart_repo_client | paasng.platform.sourcectl.svn.client.smart_repo_client | 不适用 | module |
| generate_temp_dir | paasng.platform.sourcectl.utils.generate_temp_dir | 不适用 | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | NORMAL | module |
| Templater | paasng.platform.templates.templater.Templater | 不适用 | module |
| mock | tests.utils.mock | patch | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| app_code | ng-unittest-app | `app_code = 'ng-unittest-app'` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestRepoProvider | 无 | test_provision | 无 | 无 | 不适用 |
| TestSvnRepositoryClientV2 | 无 | test_download_template_from_svn, svn_client, test_export_normal, test_get_latest_revison, test_package, test_list_alternative_versions, test_extract_smart_revision | 无 | 无 | 不适用 |
| TestRepositorySLZ | 无 | test_create_repo | 无 | 无 | 不适用 |
| TestSvnAuth | 无 | test_create_app, test_update_developers | 无 | mock.patch | 不适用 |
| TestRepoSvnController | 无 | controller, test_build_url_trunk, test_build_url_branch, test_build_url_tag | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/platform/sourcectl/test_validators.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark, param, xfail | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| override_settings | django.test.utils.override_settings | 不适用 | module |
| validate_image_url | paasng.platform.sourcectl.validators.validate_image_url | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_validate_image_url | `@pytest.mark.parametrize(('url', 'repo_info'), [pytest.param('127.0.0.1:5000/library/python', {'DEFAULT_REGISTRY': '127.0.0.1:5001/library/python', 'ALLOW_THIRD_PARTY_REGISTRY': False}, marks=pytest.mark.xfail), ('127.0.0.1:5000/library/python', {'DEFAULT_REGISTRY': '127.0.0.1:5000', 'ALLOW_THIRD_PARTY_REGISTRY': True})]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/platform/test_lesscode.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| MagicMock | unittest.mock.MagicMock | 不适用 | module |
| APIGatewayResponseError | bkapi_client_core.exceptions.APIGatewayResponseError | 不适用 | module |
| settings | django.conf.settings | BK_LESSCODE_URL | module |
| override_settings | django.test.utils.override_settings | 不适用 | module |
| make_bk_lesscode_client | paasng.platform.bk_lesscode.client.make_bk_lesscode_client | 不适用 | module |
| LessCodeApiError | paasng.platform.bk_lesscode.exceptions.LessCodeApiError | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| fake_good_client | `@pytest.fixture():` | pytest.fixture | Make a fake client which produce successful result |
| fake_bad_client | `@pytest.fixture():` | pytest.fixture | Make a fake client which produce failed result |
| bk_token | `@pytest.fixture():` | pytest.fixture | user login cookie value |
| bk_appid | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_app_code | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_app_name | `@pytest.fixture():` | pytest.fixture | 不适用 |
| bk_module_name | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestBkLesscode | 无 | test_call_api_succeeded, test_call_api_failed, test_get_address_succeeded, test_get_address_failed | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/test_utils/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/test_utils/es_log/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/test_utils/es_log/test_misc.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| arrow | get | module |
| pytest | fixture, parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| filter_indexes_by_time_range | paasng.utils.es_log.misc.filter_indexes_by_time_range | 不适用 | module |
| SmartTimeRange | paasng.utils.es_log.time_range.SmartTimeRange | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| indexes | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_filter_indexes_by_time_range | `@pytest.mark.parametrize(('time_range', 'expected'), [(SmartTimeRange(time_range='customized', start_time=arrow.get('2021-10-05').datetime, end_time=arrow.get('2021-10-11').datetime), []), (SmartTimeRange(time_range='customized', start_time=arrow.get('2022-10-05').datetime, end_time=arrow.get('2022-10-11').datetime), ['k8s_app_log_-2022.10.10', 'k8s_app_log_-2022.10.11']), (SmartTimeRange(time_range='customized', start_time=arrow.get('2022-10-05').datetime, end_time=arrow.get('2022-10-10').datetime), ['k8s_app_log_-2022.10.10']), (SmartTimeRange(time_range='customized', start_time=arrow.get('2022-10-05').datetime, end_time=arrow.get('2023-05-10').datetime), ['k8s_app_log_-2022.10.10', 'k8s_app_log_-2022.10.11']), (SmartTimeRange(time_range='customized', start_time=arrow.get('2022-10-05').datetime, end_time=arrow.get('2023-05-21').datetime), ['k8s_app_log_-2022.10.10', 'k8s_app_log_-2022.10.11', 'k8s_app_log_-2023.05.11']), (SmartTimeRange(time_range='customized', start_time=arrow.get('2022-10-11 02:00:00+00:00').datetime, end_time=arrow.get('2022-10-11 03:00:00+00:00').datetime), ['k8s_app_log_-2022.10.11']), (SmartTimeRange(time_range='customized', start_time=arrow.get('2022-10-11 02:00:00+03:00').datetime, end_time=arrow.get('2022-10-11 03:00:00+00:00').datetime), ['k8s_app_log_-2022.10.10', 'k8s_app_log_-2022.10.11'])]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/test_utils/es_log/test_models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | datetime | module |
| cattr | structure, unstructure | module |
| pytest | parametrize, mark | module |
| pytz | timezone | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| converters | attrs.converters | optional | module |
| define | attrs.define | 不适用 | module |
| count_filters_options | paasng.utils.es_log.misc.count_filters_options | 不适用 | module |
| flatten_structure | paasng.utils.es_log.misc.flatten_structure | 不适用 | module |
| format_timestamp | paasng.utils.es_log.misc.format_timestamp | 不适用 | module |
| FieldFilter | paasng.utils.es_log.models.FieldFilter | 不适用 | module |
| LogLine | paasng.utils.es_log.models.LogLine | 不适用 | module |
| extra_field | paasng.utils.es_log.models.extra_field | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_format_timestamp | `@pytest.mark.parametrize(('value', 'input_format', 'expected'), [(1000, 'timestamp[s]', 1000), (1000, 'timestamp[ns]', 1), (datetime.datetime(1970, 1, 1), 'datetime', 0), (datetime.datetime(1970, 1, 1).replace(tzinfo=pytz.timezone('UTC')), 'datetime', 0), (datetime.datetime(1970, 1, 1).replace(tzinfo=pytz.timezone('Asia/Shanghai')), 'datetime', -28800)]):` | pytest.mark.parametrize | 不适用 |
| test_count_filters_options | `@pytest.mark.parametrize(('logs', 'filters', 'expected'), [([{'log': 'xxx'}, {'log': 'yyy'}, {'log': 'xxx'}, {'log': 'yyy'}], {'log': FieldFilter(name='log', key='log.keyword'), 'noise': FieldFilter(name='noise', key='noise')}, [FieldFilter(name='log', key='log.keyword', options=[('xxx', '50.00%'), ('yyy', '50.00%')], total=4)]), ([{'nested': {'log': 'x'}}, {'nested': {'log': 'y'}}, {'nested': {'log': 'y'}}, {'nested': {'log': 'x'}}, {'nested': {'...': '...'}}], {'nested.log': FieldFilter(name='nested.log', key='nested.log')}, [FieldFilter(name='nested.log', key='nested.log', options=[('x', '50.00%'), ('y', '50.00%')], total=4)])]):` | pytest.mark.parametrize | 不适用 |
| test_flatten_structure | `@pytest.mark.parametrize(('structured_fields', 'parent', 'expected_output'), [({}, None, {}), ({'foo': 'bar'}, None, {'foo': 'bar'}), ({'foo': {'bar': 'baz'}}, None, {'foo.bar': 'baz'}), ({'foo': {'bar': 'baz'}}, 'parent', {'parent.foo.bar': 'baz'}), ({}, 'parent', {}), ({'foo': {'bar': 'baz'}, 'qux': 'quux'}, None, {'foo.bar': 'baz', 'qux': 'quux'}), ({'foo': {'bar': 'baz'}, 'qux': 'quux'}, 'parent', {'parent.foo.bar': 'baz', 'parent.qux': 'quux'}), ({'foo': {'bar': {'baz': 'qux'}}}, None, {'foo.bar.baz': 'qux'}), ({'foo': {'bar': {'baz': 'qux'}}}, 'parent', {'parent.foo.bar.baz': 'qux'}), ({'foo': {'bar': {'baz': 'qux', 'quux': 'corge'}}}, 'parent', {'parent.foo.bar.baz': 'qux', 'parent.foo.bar.quux': 'corge'})]):` | pytest.mark.parametrize | 不适用 |
| test_extra_field | `@pytest.mark.parametrize(('extra_fields', 'data', 'expected'), [({'plugin_code': extra_field('app_code')}, _build_extra_data({'app_code': 'foo'}), _build_expected({'plugin_code': 'foo'})), ({'plugin_code': extra_field('app_code', converter=converters.optional(str))}, _build_extra_data({'app_code': 1}), _build_expected({'plugin_code': '1'})), ({'plugin_code': extra_field('app_code', converter=converters.optional(str))}, _build_extra_data({'app_code': None}), _build_expected({'plugin_code': None})), ({'plugin_code': extra_field(lambda raw: raw['???????????'], converter=converters.optional(str))}, _build_extra_data({'???????????': 0}), _build_expected({'plugin_code': '0'}))]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/test_utils/es_log/test_time_range.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | datetime, timezone, timedelta, utcfromtimestamp, fromtimestamp | module |
| arrow | get | module |
| pytest | parametrize, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| SmartTimeRange | paasng.utils.es_log.time_range.SmartTimeRange | 不适用 | module |
| get_epoch_milliseconds | paasng.utils.es_log.time_range.get_epoch_milliseconds | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get_epoch_milliseconds | `@pytest.mark.parametrize(('dt', 'ignore_timezone', 'expected'), [(datetime.datetime(2023, 4, 20, 15, 40, 51, 997557), True, 1682005251997), (datetime.datetime(2023, 4, 20, 15, 40, 51, 997557), False, 1682005251997), (datetime.datetime(2023, 4, 20, 15, 40, 51, 997557, tzinfo=datetime.timezone(datetime.timedelta(hours=1))), True, 1682005251997), (datetime.datetime(2023, 4, 20, 15, 40, 51, 997557, tzinfo=datetime.timezone(datetime.timedelta(hours=1))), False, 1682005251997 - 3600 * 1000), (datetime.datetime(2023, 4, 20, 15, 40, 51, 997557, tzinfo=datetime.timezone(datetime.timedelta(hours=-1))), True, 1682005251997), (datetime.datetime(2023, 4, 20, 15, 40, 51, 997557, tzinfo=datetime.timezone(datetime.timedelta(hours=-1))), False, 1682005251997 + 3600 * 1000)]):` | pytest.mark.parametrize | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestSmartTimeRange | 无 | test_relative_time, test_absolute_time | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/test_utils/i18n/__init__.py







---


### 模块: apiserver/paasng/tests/paasng/test_utils/i18n/test_migrate.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| apps | django.apps.registry.apps | 不适用 | module |
| connection | django.db.connection | schema_editor | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| DeployPhase | paasng.platform.engine.models.steps.DeployPhase | 不适用 | module |
| DeployStep | paasng.platform.engine.models.steps.DeployStep | bulk_create, objects, count, values_list | module |
| copy_field | paasng.utils.i18n.migrate.copy_field | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestCopyField | 无 | test_normal, test_thousands | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/test_utils/i18n/test_serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture, parametrize, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| nullcontext | contextlib.nullcontext | 不适用 | module |
| override_settings | django.test.utils.override_settings | 不适用 | module |
| override | django.utils.translation.override | 不适用 | module |
| serializers | rest_framework.serializers | Serializer, CharField | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| I18NExtend | paasng.utils.i18n.serializers.I18NExtend | 不适用 | module |
| TranslatedCharField | paasng.utils.i18n.serializers.TranslatedCharField | 不适用 | module |
| i18n | paasng.utils.i18n.serializers.i18n | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| serializer_class | `@pytest.fixture():` | pytest.fixture | 不适用 |
| i18n_serializer_class | `@pytest.fixture():` | pytest.fixture | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestTranslatedCharField | 无 | test_validate, test_to_representation | 无 | 无 | 不适用 |
| TestI18NExtend | 无 | test_valid, test_invalid | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_basic.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, parametrize | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| first_true | paasng.utils.basic.first_true | 不适用 | module |
| unique_id_generator | paasng.utils.basic.unique_id_generator | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_first_true | `@pytest.mark.parametrize(('data', 'default', 'ret'), [([None, 'foo'], None, 'foo'), ([None, ''], None, None), ([None, ()], 'bar', 'bar')]):` | pytest.mark.parametrize | 不适用 |
| test_unique_id_generator | `def test_unique_id_generator():` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_blobstore.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| re | match | module |
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| override_settings | django.test.utils.override_settings | 不适用 | module |
| detect_default_blob_store | paasng.utils.blobstore.detect_default_blob_store | 不适用 | module |
| generate_s3cmd_conf | paasng.utils.blobstore.generate_s3cmd_conf | 不适用 | module |
| make_blob_store_env | paasng.utils.blobstore.make_blob_store_env | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| BKREPO_CONFIG | {'PROJECT': 'dummy-project', 'ENDPOINT': 'dummy://dummy.dummy', 'USERNAME': 'dummy-username', 'PASSWORD': 'dummy-password'} | `BKREPO_CONFIG = dict(PROJECT='dummy-project', ENDPOINT='dummy://dummy.dummy', USERNAME='dummy-username', PASSWORD='dummy-password')` | module |
| S3_CONFIG | {'BLOBSTORE_S3_ACCESS_KEY': 'dummy-access-key', 'BLOBSTORE_S3_SECRET_KEY': 'dummy-secret-key', 'BLOBSTORE_S3_ENDPOINT': 'dummy://dummy.com', 'BLOBSTORE_S3_REGION_NAME': 'dummy-region', 'BLOBSTORE_S3_SIG_VERSION': 's3v4'} | `S3_CONFIG = dict(BLOBSTORE_S3_ACCESS_KEY='dummy-access-key', BLOBSTORE_S3_SECRET_KEY='dummy-secret-key', BLOBSTORE_S3_ENDPOINT='dummy://dummy.com', BLOBSTORE_S3_REGION_NAME='dummy-region', BLOBSTORE_S3_SIG_VERSION='s3v4')` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_detect_default_blob_store | `@pytest.mark.parametrize(('settings', 'expected'), [(dict(**S3_CONFIG, BLOBSTORE_BKREPO_CONFIG=BKREPO_CONFIG), 'bkrepo'), (dict(**S3_CONFIG, BLOBSTORE_BKREPO_CONFIG={}), 's3')]):` | pytest.mark.parametrize | 不适用 |
| test_make_blob_store_env | `@pytest.mark.parametrize(('settings', 'expected'), [(dict(BLOBSTORE_BUCKET_APP_SOURCE='dummy-bucket', BLOBSTORE_BKREPO_CONFIG=BKREPO_CONFIG), {'BKREPO_CONF': json.dumps(dict(endpoint='dummy://dummy.dummy/generic/', project='dummy-project', bucket='dummy-bucket', user='dummy-username', password='dummy-password'))}), (dict(**S3_CONFIG, BLOBSTORE_BKREPO_CONFIG={}), {'S3CMD_CONF': generate_s3cmd_conf(endpoint='dummy://dummy.com', access_key='dummy-access-key', secret_key='dummy-secret-key', region_name='dummy-region', sig_version='s3v4')}), (dict(**S3_CONFIG, BLOBSTORE_BUCKET_APP_SOURCE='dummy-bucket', BLOBSTORE_BKREPO_CONFIG=BKREPO_CONFIG), {'BKREPO_CONF': json.dumps(dict(endpoint='dummy://dummy.dummy/generic/', project='dummy-project', bucket='dummy-bucket', user='dummy-username', password='dummy-password'))})]):` | pytest.mark.parametrize | 不适用 |
| test_make_blob_store_encrypt_env | `@pytest.mark.parametrize(('settings', 'expected'), [(dict(**S3_CONFIG, BLOBSTORE_BUCKET_APP_SOURCE='dummy-bucket', BLOBSTORE_BKREPO_CONFIG=BKREPO_CONFIG), ['BKREPO_CONF', '{\\"endpoint\\": \\"dummy://dummy\\.dummy/generic/\\", \\"project\\": \\"dummy-project\\", \\"bucket\\": \\"dummy-bucket\\", \\"user\\": \\"dummy-username\\", \\"password\\": \\"gAAAAAB.+\\"}']), (dict(**S3_CONFIG, BLOBSTORE_BKREPO_CONFIG={}), ['S3CMD_CONF', '# Setup endpoint\nhost_base = dummy\\.com\nhost_bucket = dummy\\.com\nbucket_location = dummy-region\nuse_https = False\n\n# Setup access keys\naccess_key = gAAAAAB.+\nsecret_key = gAAAAAB.+\n\n# Enable S3 v4 signature APIs\nsignature_v2 = False'])]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_camel_converter.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dict_to_camel | paasng.utils.camel_converter.dict_to_camel | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_dict_to_camel | `@pytest.mark.parametrize(('snake_case_dict', 'camel_case_dict'), [({'foo_bar': 'cc'}, {'fooBar': 'cc'}), ({'liveness': {'initial_delay_seconds': 0, 'timeout_seconds': 1}}, {'liveness': {'initialDelaySeconds': 0, 'timeoutSeconds': 1}}), ({'clusters': [{'c_name': 'BCS-01', 'server_port': '443'}, {'c_name': 'BCS-02', 'server_port': '80'}]}, {'clusters': [{'cName': 'BCS-01', 'serverPort': '443'}, {'cName': 'BCS-02', 'serverPort': '80'}]}), ({'monitoring': {'metrics': [{'process': 'web1', 'service_name': 'metric'}, {'process': 'web2', 'service_name': 'metric'}]}}, {'monitoring': {'metrics': [{'process': 'web1', 'serviceName': 'metric'}, {'process': 'web2', 'serviceName': 'metric'}]}})]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_command.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | django_db, mark, fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppProcessManager | paas_wl.bk_app.processes.managers.AppProcessManager | 不适用 | module |
| get_command_name | paas_wl.utils.command.get_command_name | 不适用 | module |
| create_wl_app | tests.paas_wl.utils.wl_app.create_wl_app | 不适用 | module |
| create_wl_release | tests.paas_wl.utils.wl_app.create_wl_release | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db(databases=['workloads'])` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestGetCommandName | 无 | _setup, test_command_name_normal, test_command_name_celery, test_commnad_name_with_slash | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_configs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture, parametrize, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| RegionAwareConfig | paasng.utils.configs.RegionAwareConfig | 不适用 | module |
| get_region_aware | paasng.utils.configs.get_region_aware | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| config_with_region | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_get_region_aware | `@pytest.mark.parametrize(('region', 'result_cls', 'expected_result'), [('r1', None, {'key': 'r1', 'value': 'r1-value'}), ('r1', FooConfig, FooConfig('r1', 'r1-value'))]):` | pytest.mark.parametrize | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestRegionAwareConfig | 无 | test_no_region, test_region, test_region_not_found, test_region_not_found_default | 无 | 无 | 不适用 |
| FooConfig | 无 | 无 | 无 | dataclass | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_datetime.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| calculate_gap_seconds_interval | paasng.utils.datetime.calculate_gap_seconds_interval | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestUtil | 无 | test_calculate_gap_seconds_interval | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_dictx.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_items | paasng.utils.dictx.get_items | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get_items | `@pytest.mark.parametrize(('obj', 'paths', 'default', 'expected'), [({'a': {'b': {'c': 1}}}, 'a.b.c', None, 1), ({'a': {'b': {'c': 1}}}, '.a.b.c', None, 1), ({'a': {'b': {'c': 1}}}, ['a', 'b', 'c'], None, 1), ({'a': {'b': {'c': None}}}, 'a.b.c', 'default', None), ({'a': {'b': {}}, 'c': 2}, 'c', 'default', 2), ({'a': {'b': {}}, 'c': 2}, 'd', 'default', 'default'), ({}, 'a', 'default', 'default'), ({'a': 1}, '', 'default', 'default'), ({'a': 1}, 'a', 'default', 1)]):` | pytest.mark.parametrize | 不适用 |
| test_get_items_exceptions | `@pytest.mark.parametrize(('obj', 'paths', 'default'), [(None, 'a.b.c', None), (None, ['a', 'b', 'c'], None), (1, 'a', 'default')]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_error_message.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark, param, xfail | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| GetClusterEgressInfoError | paasng.accessories.servicehub.remote.exceptions.GetClusterEgressInfoError | 不适用 | module |
| find_coded_error_message | paasng.utils.error_message.find_coded_error_message | 不适用 | module |
| find_innermost_exception | paasng.utils.error_message.find_innermost_exception | 不适用 | module |
| wrap_validation_error | paasng.utils.error_message.wrap_validation_error | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_find_coded_error_message | `@pytest.mark.parametrize(('exception', 'expected'), [(GetClusterEgressInfoError('Detail Message'), '错误码: 4313021, 获取集群信息失败: Detail Message。'), (DummyMsgError('AAAAA'), None), pytest.param('unexpected', '', marks=pytest.mark.xfail(raises=TypeError))]):` | pytest.mark.parametrize | 不适用 |
| a | `def a():` | 无 | 不适用 |
| b_in_a | `def b_in_a():` | 无 | 不适用 |
| b | `def b():` | 无 | 不适用 |
| c_in_b_in_a | `def c_in_b_in_a():` | 无 | 不适用 |
| c_in_b | `def c_in_b():` | 无 | 不适用 |
| test_find_innermost_exception | `@pytest.mark.parametrize(('trigger', 'expected'), [(a, DummyMsgError('A')), (b_in_a, DummyMsgError('A')), (c_in_b_in_a, DummyMsgError('A')), (b, DummyMsgError('B')), (c_in_b, DummyMsgError('B'))]):` | pytest.mark.parametrize | 不适用 |
| test_wrap_validation_error_dict | `def test_wrap_validation_error_dict():` | 无 | 不适用 |
| test_wrap_validation_error_list | `def test_wrap_validation_error_list():` | 无 | 不适用 |
| test_wrap_validation_error_str | `def test_wrap_validation_error_str():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| DummyMsgError | Exception | 无 | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_file.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| path_may_escape | paasng.utils.file.path_may_escape | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_path_may_escape | `@pytest.mark.parametrize(('input_path', 'expected'), [('/etc/passwd', True), ('../../../../app_desc.yaml', True), ('../../..', True), ('src/main.py', False), ('folder/../file.txt', False), ('folder/subfolder/../file.txt', False)]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_masked_curlify.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |
| paasng.utils.masked_curlify | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| parse_qs | urllib.parse.parse_qs | 不适用 | module |
| quote | urllib.parse.quote | 不适用 | module |
| Request | requests.Request | 不适用 | module |
| MASKED_CONTENT | paasng.utils.masked_curlify.MASKED_CONTENT | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestToCurlMasked | 无 | test_mask_query_params, test_mask_json_data, test_mask_form_data, test_mask_header_data | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pickle | PicklingError, dumps | module |
| pytest | django_db, mark, parametrize, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| define | attrs.define | 不适用 | module |
| ProviderType | bkpaas_auth.core.constants.ProviderType | BK | module |
| user_id_encoder | bkpaas_auth.core.encoder.user_id_encoder | encode | module |
| nullcontext | blue_krill.contextlib.nullcontext | 不适用 | module |
| models | django.db.models | Model | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| UserProfile | paasng.infras.accounts.models.UserProfile | get, objects | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | DEFAULT | module |
| create_application | paasng.platform.applications.utils.create_application | 不适用 | module |
| BkUserField | paasng.utils.models.BkUserField | 不适用 | module |
| OrderByField | paasng.utils.models.OrderByField | from_string | module |
| make_json_field | paasng.utils.models.make_json_field | 不适用 | module |
| make_legacy_json_field | paasng.utils.models.make_legacy_json_field | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| pytestmark | 不适用 | `pytestmark = pytest.mark.django_db` | module |
| PickleAbleField1 | 不适用 | `PickleAbleField1 = make_legacy_json_field('PickleAbleField1', Baz)` | module |
| PickleAbleField2 | 不适用 | `PickleAbleField2 = make_json_field('PickleAbleField2', Baz)` | module |
| UnPickleAbleField | 不适用 | `UnPickleAbleField = make_legacy_json_field('NotAPickleAbleField', Baz)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_make_legacy_json_field | `def test_make_legacy_json_field():` | 无 | 不适用 |
| test_make_json_field | `def test_make_json_field():` | 无 | 不适用 |
| test_pickle | `@pytest.mark.parametrize(('field', 'expected'), [(PickleAbleField1, does_not_raise()), (PickleAbleField2, does_not_raise()), (UnPickleAbleField, pytest.raises(pickle.PicklingError))]):` | pytest.mark.parametrize | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestUtils | 无 | test_bk_user_field | 无 | 无 | 不适用 |
| TestOrderByField | 无 | test_from_string, test_replacing_name | 无 | 无 | 不适用 |
| Baz | 无 | 无 | 无 | define | 不适用 |
| TestBkUserField | 无 | test_set, test_integrated | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_notification_plugins.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | object, patch | module |
| BaseComponentAPIPlugin | paasng.utils.notification_plugins.BaseComponentAPIPlugin | 不适用 | module |
| MailNotificationPlugin | paasng.utils.notification_plugins.MailNotificationPlugin | 不适用 | module |
| SMSNotificationPlugin | paasng.utils.notification_plugins.SMSNotificationPlugin | 不适用 | module |
| WeChatNotificationPlugin | paasng.utils.notification_plugins.WeChatNotificationPlugin | 不适用 | module |
| WeComNotificationPlugin | paasng.utils.notification_plugins.WeComNotificationPlugin | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestPlugins | 无 | mocked_call_api, test_mail, test_sms, test_wechat, test_wecom | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_notifier.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| DummyUserNotificationPlugin | paasng.utils.notifier.DummyUserNotificationPlugin | 不适用 | module |
| UserNotificationBackend | paasng.utils.notifier.UserNotificationBackend | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestUserNotificationBackend | 无 | test_normal | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_patternmatcher.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Pattern | paasng.utils.patternmatcher.Pattern | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_pattern | `@pytest.mark.parametrize(('pattern', 'path', 'expected'), [('**', 'file', True), ('**', 'file/', True), ('**/', 'file', False), ('**/', 'file/', True), ('**', '/', True), ('**/', '/', True), ('**', 'dir/file', True), ('**/', 'dir/file', False), ('**', 'dir/file/', True), ('**/', 'dir/file/', True), ('**/**', 'dir/file', True), ('**/**', 'dir/file/', True), ('dir/**', 'dir/file', True), ('dir/**', 'dir/file/', True), ('dir/**', 'dir/dir2/file', True), ('dir/**', 'dir/dir2/file/', True), ('**/dir2/*', 'dir/dir2/file', True), ('**/dir2/*', 'dir/dir2/file/', False), ('**/dir2/**', 'dir/dir2/dir3/file', True), ('**/dir2/**', 'dir/dir2/dir3/file/', True), ('**file', 'file', True), ('**file', 'dir/file', True), ('**/file', 'dir/file', True), ('**file', 'dir/dir/file', True), ('**/file', 'dir/dir/file', True), ('**/file*', 'dir/dir/file', True), ('**/file*', 'dir/dir/file.txt', True), ('**/file*txt', 'dir/dir/file.txt', True), ('**/file*.txt', 'dir/dir/file.txt', True), ('**/file*.txt*', 'dir/dir/file.txt', True), ('**/**/*.txt', 'dir/dir/file.txt', True), ('**/**/*.txt2', 'dir/dir/file.txt', False), ('**/*.txt', 'file.txt', True), ('**/**/*.txt', 'file.txt', True), ('a**/*.txt', 'a/file.txt', True), ('a**/*.txt', 'a/dir/file.txt', True), ('a**/*.txt', 'a/dir/dir/file.txt', True), ('a/*.txt', 'a/dir/file.txt', False), ('a/*.txt', 'a/file.txt', True), ('a/*.txt**', 'a/file.txt', True), ('a[b-d]e', 'ae', False), ('a[b-d]e', 'ace', True), ('a[b-d]e', 'aae', False), ('a[^b-d]e', 'aze', True), ('.*', '.foo', True), ('.*', 'foo', False), ('abc.def', 'abcdef', False), ('abc.def', 'abc.def', True), ('abc.def', 'abcZdef', False), ('abc?def', 'abcZdef', True), ('abc?def', 'abcdef', False), ('a\\*b', 'a*b', True), ('a\\', 'a', False), ('a\\', 'a\\', True), ('a\\\\', 'a\\', True), ('**/foo/bar', 'foo/bar', True), ('**/foo/bar', 'dir/foo/bar', True), ('**/foo/bar', 'dir/dir2/foo/bar', True), ('abc/**', 'abc', False), ('abc/**', 'abc/def', True), ('abc/**', 'abc/def/ghi', True)]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_rate_limit.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| time | sleep | module |
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| HttpRequest | django.http.HttpRequest | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| HTTP_200_OK | rest_framework.status.HTTP_200_OK | 不适用 | module |
| HTTP_429_TOO_MANY_REQUESTS | rest_framework.status.HTTP_429_TOO_MANY_REQUESTS | 不适用 | module |
| get_default_redis | paasng.core.core.storages.redisdb.get_default_redis | 不适用 | module |
| UserAction | paasng.utils.rate_limit.constants.UserAction | WATCH_PROCESS | module |
| UserActionRateLimiter | paasng.utils.rate_limit.token_bucket.UserActionRateLimiter | 不适用 | module |
| rate_limits_by_user | paasng.utils.rate_limit.fixed_window.rate_limits_by_user | 不适用 | module |
| create_user | tests.utils.auth.create_user | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_UserActionRateLimiter | `@pytest.mark.parametrize('limiter_cls', [UserActionTokenBucketRateLimiter, UserActionFixedWindowRateLimiter]):` | pytest.mark.parametrize | 不适用 |
| test_rate_limits_on_view_func | `def test_rate_limits_on_view_func():` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| io | StringIO, BytesIO | module |
| pytest | parametrize, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| nullcontext | blue_krill.contextlib.nullcontext | 不适用 | module |
| serializers | rest_framework.serializers | Serializer | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| Base64FileField | paasng.utils.serializers.Base64FileField | 不适用 | module |
| ConfigVarReservedKeyValidator | paasng.utils.serializers.ConfigVarReservedKeyValidator | 不适用 | module |
| IntegerOrCharField | paasng.utils.serializers.IntegerOrCharField | 不适用 | module |
| SafePathField | paasng.utils.serializers.SafePathField | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_config_var_reserved_key_validator | `@pytest.mark.parametrize(('protected_key_list', 'protected_prefix_list', 'key', 'expected'), [([], [], 'foo', nullcontext()), (['foo'], [], 'foo', pytest.raises(ValidationError)), (['foo_'], [], 'foo', nullcontext()), (['f00'], [], 'foo', nullcontext()), ([], ['f'], 'foo', pytest.raises(ValidationError)), ([], ['foo'], 'foo', pytest.raises(ValidationError)), ([], ['foo_'], 'foo', nullcontext())]):` | pytest.mark.parametrize | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Base64FileFieldSLZ | rest_framework.serializers.Serializer | 无 | file | 无 | 不适用 |
| TestBase64FileField | 无 | test_to_internal_value, test_to_representation | 无 | 无 | 不适用 |
| IntegerOrCharFieldSLZ | rest_framework.serializers.Serializer | 无 | port | 无 | 不适用 |
| TestIntegerOrCharField | 无 | test_to_internal_value, test_to_representation | 无 | 无 | 不适用 |
| SafePathSLZ | rest_framework.serializers.Serializer | 无 | safe_path | 无 | 不适用 |
| TestSafePathField | 无 | test_valid, test_invalid | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_text.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| BraceOnlyTemplate | paasng.utils.text.BraceOnlyTemplate | 不适用 | module |
| basic_str_format | paasng.utils.text.basic_str_format | 不适用 | module |
| calculate_percentage | paasng.utils.text.calculate_percentage | 不适用 | module |
| camel_to_snake | paasng.utils.text.camel_to_snake | 不适用 | module |
| remove_suffix | paasng.utils.text.remove_suffix | 不适用 | module |
| strip_html_tags | paasng.utils.text.strip_html_tags | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_remove_suffix | `@pytest.mark.parametrize(('input_', 'suffix', 'output'), [('foo', 'bar', 'foo'), ('foobar', 'bar', 'foo'), ('foobar', 'foobar', '')]):` | pytest.mark.parametrize | 不适用 |
| test_camel_to_snake | `@pytest.mark.parametrize(('input_', 'output'), [('BkSvnSourceTypeSpec', 'bk_svn_source_type_spec'), ('bk_svn', 'bk_svn')]):` | pytest.mark.parametrize | 不适用 |
| test_calculate_percentage | `@pytest.mark.parametrize(('x', 'y', 'decimal_places', 'expected'), [(1, 1, 2, '100.00%'), (1, 2, 2, '50.00%'), (1, 3, 2, '33.33%'), (1, 4, 2, '25.00%'), (1, 5, 2, '20.00%'), (5, 2, 2, '250.00%'), (1, 0, 2, None), (1, 1, 11, None), (1, 1, 1, '100.0%'), (1, 1, 0, '100%'), (1, 1, -1, None), (0, 1, 2, '<0.01%'), (1, 1, 10, '100.0000000000%'), (1, 1, 9, '100.000000000%'), (1, 1, 8, '100.00000000%'), (1, 1, 7, '100.0000000%'), (1, 1, 6, '100.000000%'), (1, 1, 5, '100.00000%'), (1, 1, 4, '100.0000%'), (1, 1, 3, '100.000%'), (1, 10**13, 10, '<0.0000000001%'), (1, 10**12, 9, '<0.000000001%'), (1, 10**11, 8, '<0.00000001%'), (1, 10**10, 7, '<0.0000001%'), (1, 10**9, 6, '<0.000001%'), (1, 10**8, 5, '<0.00001%'), (1, 10**7, 4, '<0.0001%'), (1, 10**6, 3, '<0.001%'), (1, 10**5, 2, '<0.01%'), (1, 10**4, 1, '<0.1%'), (1, 10**3, 0, '<1%')]):` | pytest.mark.parametrize | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestStripHTMLTags | 无 | test_normal | 无 | 无 | 不适用 |
| TestBraceOnlyTemplate | 无 | test_various_valid_patterns, test_escaped_braces, test_no_substitution_needed, test_missing_variable_raises_error | 无 | 无 | 不适用 |
| Test__basic_str_format | 无 | test_basic, test_index_access_should_fail | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_time_tools.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| timedelta | datetime.timedelta | 不适用 | module |
| get_time_delta | paasng.utils.datetime.get_time_delta | 不适用 | module |
| humanize_timedelta | paasng.utils.datetime.humanize_timedelta | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_get_time_delta | `@pytest.mark.parametrize(('input', 'expected_output'), [('5s', timedelta(seconds=5)), ('12d', timedelta(days=12))]):` | pytest.mark.parametrize | 不适用 |
| test_humanize_timedelta | `@pytest.mark.parametrize(('delta', 'expected_output'), [(timedelta(days=5, hours=2, minutes=30, seconds=15), '5d2h30m15s'), (timedelta(days=0, hours=8, minutes=45, seconds=32), '8h45m32s'), (timedelta(days=0, hours=0, minutes=25, seconds=9), '25m9s'), (timedelta(seconds=5), '5s'), (timedelta(days=1, seconds=1), '1d0h0m1s'), (timedelta(hours=1, seconds=0), '1h0m0s'), (timedelta(days=0), '0s'), (timedelta(hours=0), '0s'), (timedelta(seconds=0), '0s')]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_validators.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | parametrize, mark, raises | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ValidationError | django.core.exceptions.ValidationError | 不适用 | module |
| DnsSafeNameValidator | paasng.utils.validators.DnsSafeNameValidator | 不适用 | module |
| ReservedWordValidator | paasng.utils.validators.ReservedWordValidator | 不适用 | module |
| validate_image_repo | paasng.utils.validators.validate_image_repo | 不适用 | module |
| validate_repo_url | paasng.utils.validators.validate_repo_url | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestReservedWordValidator | 无 | test_valid_input, test_invalid_input | 无 | 无 | 不适用 |
| TestDnsSafeNameValidator | 无 | test_valid_input, test_negative_sample | 无 | 无 | 不适用 |
| Test__validate_repo_url | 无 | test_invalid_protocol, test_invalid_port, test_invalid_url, test_valid_url | 无 | 无 | 不适用 |
| Test__validate_image_repo | 无 | test_invalid_port, test_valid_repo | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/paasng/test_utils/test_view.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |
| pytest | parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| method_decorator | django.utils.decorators.method_decorator | 不适用 | module |
| ErrorDetail | rest_framework.exceptions.ErrorDetail | 不适用 | module |
| ValidationError | rest_framework.exceptions.ValidationError | 不适用 | module |
| BasePermission | rest_framework.permissions.BasePermission | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| APIRequestFactory | rest_framework.test.APIRequestFactory | 不适用 | module |
| ViewSet | rest_framework.viewsets.ViewSet | 不适用 | module |
| ERROR_CODE_NUM_HEADER | paasng.utils.views.ERROR_CODE_NUM_HEADER | 不适用 | module |
| BkStandardApiJSONRenderer | paasng.utils.views.BkStandardApiJSONRenderer | 不适用 | module |
| HookChain | paasng.utils.views.HookChain | 不适用 | module |
| action_perms | paasng.utils.views.action_perms | 不适用 | module |
| one_line_error | paasng.utils.views.one_line_error | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| test_one_line_error | `@pytest.mark.parametrize(('error', 'expected'), [(ValidationError('foo'), 'foo'), (ValidationError({'foo': [ErrorDetail('err1'), ErrorDetail('err2')]}), 'foo: err1')]):` | pytest.mark.parametrize | 不适用 |
| dummy_hook | `def dummy_hook(key, value):` | 无 | 不适用 |
| test_hook_chain | `@pytest.mark.parametrize(('hooks', 'expected'), [([dummy_hook(1, 1), dummy_hook(2, 2)], {1: 1, 2: 2}), ([dummy_hook(1, 1), dummy_hook(1, 2)], {1: 2})]):` | pytest.mark.parametrize | 不适用 |
| make_permission | `def make_permission():` | 无 | 不适用 |
| test_permission_classes | `def test_permission_classes():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TestBkStandardApiJSONRenderer | 无 | test_render | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/test_settings.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | environ | module |
| pytest | fixture, parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | dict, patch | module |
| encrypt_string | blue_krill.encrypt.utils.encrypt_string | 不适用 | module |
| LazySettings | dynaconf.LazySettings | 不适用 | module |
| NAME_FOR_SIMPLE_JWT | paasng.settings.utils.NAME_FOR_SIMPLE_JWT | 不适用 | module |
| get_database_conf | paasng.settings.utils.get_database_conf | 不适用 | module |
| get_paas_service_jwt_clients | paasng.settings.utils.get_paas_service_jwt_clients | 不适用 | module |
| get_service_remote_endpoints | paasng.settings.utils.get_service_remote_endpoints | 不适用 | module |
| is_in_celery_worker | paasng.settings.utils.is_in_celery_worker | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| settings | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_get_database_from_url | `def test_get_database_from_url(settings):` | 无 | 不适用 |
| test_get_database_for_tests | `@pytest.mark.parametrize(('for_tests', 'name'), [(False, 'foo'), (True, 'test_foo')]):` | pytest.mark.parametrize | 不适用 |
| test_get_paas_service_jwt_clients_simple | `def test_get_paas_service_jwt_clients_simple(settings):` | 无 | 不适用 |
| test_get_paas_service_jwt_clients_mixed | `def test_get_paas_service_jwt_clients_mixed(settings):` | 无 | 不适用 |
| test_get_service_remote_endpoints | `def test_get_service_remote_endpoints(settings):` | 无 | 不适用 |
| test_is_in_celery_worker | `@pytest.mark.parametrize(('argv', 'expected'), [(['celery', '-A', 'paasng', 'worker', '-l', 'info'], True), (['/usr/local/bin/celery', '-A', 'paasng', 'worker', '-l', 'info'], True), (['python', 'manage.py', 'runserver'], False)]):` | pytest.mark.parametrize | 不适用 |


---


### 模块: apiserver/paasng/tests/test_sqlalchemy_transaction.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | now, datetime | module |
| pytest | fixture, skip | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| legacy_db | paasng.core.core.storages.sqlalchemy.legacy_db | get_scoped_session | module |
| check_legacy_enabled | tests.conftest.check_legacy_enabled | 不适用 | module |
| adaptive_lapplication_fields | tests.utils.helpers.adaptive_lapplication_fields | 不适用 | module |
| configure_regions | tests.utils.helpers.configure_regions | 不适用 | module |
| LApplication | paasng.infras.legacydb.models.LApplication | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| legacy_app | `@pytest.fixture():` | pytest.fixture | 不适用 |
| test_create_legacy_app_1 | `def test_create_legacy_app_1(legacy_app):` | 无 | 不适用 |
| test_create_legacy_app_2 | `def test_create_legacy_app_2(legacy_app):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/utils/__init__.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| mock | unittest.mock | 不适用 | module |





---


### 模块: apiserver/paasng/tests/utils/api.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Response | requests.Response | 不适用 | module |
| JSONEncoder | rest_framework.utils.encoders.JSONEncoder | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| mock_json_response | `def mock_json_response(data, status_code=200):` | 无 | Generates a mocked response, usually used for requ... |


---


### 模块: apiserver/paasng/tests/utils/auth.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| LoginToken | bkpaas_auth.core.token.LoginToken | 不适用 | module |
| User | bkpaas_auth.models.User | 不适用 | module |
| settings | django.conf.settings | USER_TYPE | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| create_user | `def create_user(username: Optional[str] = None):` | 无 | 不适用 |


---


### 模块: apiserver/paasng/tests/utils/cluster.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| atexit | register | module |
| cattr | structure | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| settings | django.conf.settings | DEFAULT_REGION_NAME, FOR_TESTS_CLUSTER_CONFIG | module |
| get_random_string | django.utils.crypto.get_random_string | 不适用 | module |
| FileLock | filelock.FileLock | 不适用 | module |
| ClusterFeatureFlag | paas_wl.infras.cluster.constants.ClusterFeatureFlag | get_default_flags_by_cluster_type | module |
| ClusterType | paas_wl.infras.cluster.constants.ClusterType | NORMAL | module |
| APIServer | paas_wl.infras.cluster.models.APIServer | 不适用 | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | 不适用 | module |
| IngressConfig | paas_wl.infras.cluster.models.IngressConfig | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| CLUSTER_NAME_FOR_TESTING | 不适用 | `CLUSTER_NAME_FOR_TESTING = _generate_cluster_name()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| build_default_cluster | `def build_default_cluster():` | 无 | Build a default cluster using configurations in th... |


---


### 模块: apiserver/paasng/tests/utils/encrypt_cmd_base.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| pytest | fixture, parametrize, mark | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Tuple | typing.Tuple | 不适用 | module |
| EncryptField | blue_krill.models.fields.EncryptField | 不适用 | module |
| call_command | django.core.management.call_command | 不适用 | module |
| override_settings | django.test.override_settings | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| generate_encrypted_instance | `def generate_encrypted_instance(model_class):` | 无 | 创建一个加密模型，并生成加密字段 |
| assert_fields_encryped | `def assert_fields_encryped(pk, model_class, unencryped_field_dict, encrypt_header):` | 无 | 
    断言加密字段是否加密算法加密,且加解密成功
    :param pk: 实例主键
   ... |
| get_encrypt_header | `def get_encrypt_header(encrypt_type):` | 无 | 
    获取加密算法对应的加密头
    :param encrypt_type: 加密算法类型
... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseTestEnctrypMigrationCmd | 无 | generate_legacy_encrypted_instances, test_migration_command | 无 | 无 | 不适用 |

---


### 模块: apiserver/paasng/tests/utils/helpers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| copy | deepcopy | module |
| datetime | now, datetime | module |
| random | SystemRandom | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ExitStack | contextlib.ExitStack | 不适用 | module |
| contextmanager | contextlib.contextmanager | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| ContextManager | typing.ContextManager | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| mock | unittest.mock | patch | module |
| settings | django.conf.settings | DUMMY_TEMPLATE_NAME, DEFAULT_REGION_NAME, REGION_CONFIGS, DEFAULT_REGION_TEMPLATE, BASE_DIR | module |
| override_settings | django.test.utils.override_settings | 不适用 | module |
| G | django_dynamic_fixture.G | 不适用 | module |
| CreatedAppInfo | paas_wl.bk_app.applications.api.CreatedAppInfo | 不适用 | module |
| WlAppType | paas_wl.bk_app.applications.constants.WlAppType | 不适用 | module |
| ProductSourceUrlType | paasng.accessories.publish.market.constant.ProductSourceUrlType | value, ENGINE_PROD_ENV | module |
| MarketConfig | paasng.accessories.publish.market.models.MarketConfig | create, objects | module |
| filter_field_values | paasng.core.core.storages.sqlalchemy.filter_field_values | 不适用 | module |
| has_column | paasng.core.core.storages.sqlalchemy.has_column | 不适用 | module |
| legacy_db | paasng.core.core.storages.sqlalchemy.legacy_db | get_scoped_session | module |
| load_regions_from_settings | paasng.core.region.states.load_regions_from_settings | 不适用 | module |
| create_oauth2_client | paasng.infras.oauth2.utils.create_oauth2_client | 不适用 | module |
| ApplicationType | paasng.platform.applications.constants.ApplicationType | ENGINELESS_APP, CLOUD_NATIVE | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| post_create_application | paasng.platform.applications.signals.post_create_application | send | module |
| create_default_module | paasng.platform.applications.utils.create_default_module | 不适用 | module |
| initialize_simple | paasng.platform.bkapp_model.services.initialize_simple | 不适用 | module |
| SourceOrigin | paasng.platform.modules.constants.SourceOrigin | IMAGE_REGISTRY, CNATIVE_IMAGE, S_MART, AUTHORIZED_VCS | module |
| setup_module_log_model | paasng.platform.modules.handlers.setup_module_log_model | 不适用 | module |
| ModuleInitializer | paasng.platform.modules.manager.ModuleInitializer | 不适用 | module |
| BuildConfig | paasng.platform.modules.models.BuildConfig | get_or_create_by_module, objects | module |
| ModuleSpecs | paasng.platform.modules.specs.ModuleSpecs | 不适用 | module |
| get_sourcectl_types | paasng.platform.sourcectl.source_types.get_sourcectl_types | 不适用 | module |
| RegionAwareConfig | paasng.utils.configs.RegionAwareConfig | 不适用 | module |
| create_user | apiserver.paasng.tests.utils.auth.create_user | 不适用 | module |
| LApplication | paasng.infras.legacydb.models.LApplication | 不适用 | module |
| LApplicationTag | paasng.infras.legacydb.models.LApplicationTag | 不适用 | module |
| update_metadata_by_env | paas_wl.bk_app.applications.api.update_metadata_by_env | 不适用 | module |
| WlApp | paas_wl.bk_app.applications.models.WlApp | filter, objects, create | module |
| TemplateType | paasng.platform.templates.constants.TemplateType | SCENE | module |
| Template | paasng.platform.templates.models.Template | get_or_create, objects | module |
| NEVER_EXPIRE_DAYS | paasng.infras.iam.constants.NEVER_EXPIRE_DAYS | 不适用 | module |
| ApplicationGradeManager | paasng.infras.iam.members.models.ApplicationGradeManager | create, objects | module |
| ApplicationUserGroup | paasng.infras.iam.members.models.ApplicationUserGroup | bulk_create, objects | module |
| get_username_by_bkpaas_user_id | paasng.utils.basic.get_username_by_bkpaas_user_id | 不适用 | module |
| StubBKIAMClient | tests.utils.mocks.iam.StubBKIAMClient | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| DFT_RANDOM_CHARACTER_SET | abcdefghijklmnopqrstuvwxyz0123456789 | `DFT_RANDOM_CHARACTER_SET = 'abcdefghijklmnopqrstuvwxyz0123456789'` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| initialize_application | `def initialize_application(application, *args, **kwargs):` | 无 | Initialize an application |
| initialize_module | `def initialize_module(module, repo_type=None, repo_url='', additional_modules=None):` | 无 | Mocked function for initializing new module. |
| create_app | `def create_app(owner_username: Optional[str] = None, additional_modules: Optional[List] = None, repo_type: str = '', region: Optional[str] = None, force_info: Optional[dict] = None):` | 无 | Create a simple application, for testing purpose o... |
| create_legacy_application | `def create_legacy_application(code: Optional[str] = None):` | 无 | Create a simple legacy application, for testing pu... |
| adaptive_lapplication_fields | `def adaptive_lapplication_fields(field_values: Dict[str, Any]) -> Dict[str, Any]:` | 无 | Update a pair of LApplication field values, make i... |
| adaptive_lapplicationtag_fields | `def adaptive_lapplicationtag_fields(field_values: Dict[str, Any]) -> Dict[str, Any]:` | 无 | Update a pair of LApplicationTag field values, mak... |
| override_region_configs | `@contextmanager:` | contextmanager | Override region configs during testing |
| configure_regions | `@contextmanager:` | contextmanager | Configure multi regions with default template |
| generate_random_string | `def generate_random_string(length=30, chars=DFT_RANDOM_CHARACTER_SET):` | 无 | Generates a non-guessable OAuth token

    OAuth (... |
| create_pending_wl_apps | `def create_pending_wl_apps(bk_app: Application, cluster_name: str):` | 无 | Create WlApp objects of the given application in w... |
| create_scene_tmpls | `def create_scene_tmpls():` | 无 | 创建单元测试用的场景 SaaS 模板 |
| create_cnative_app | `def create_cnative_app(owner_username: Optional[str] = None, repo_type: str = '', region: Optional[str] = None, force_info: Optional[dict] = None, cluster_name: Optional[str] = None):` | 无 | Create a cloud-native application, for testing pur... |
| register_iam_after_create_application | `def register_iam_after_create_application(application: Application):` | 无 | 
    默认为每个新建的蓝鲸应用创建三个用户组（管理者，开发者，运营者），以及该应用对应的分级管理... |


---


### 模块: apiserver/paasng/tests/utils/mocks/__init__.py







---


### 模块: apiserver/paasng/tests/utils/mocks/bkmonitor.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| random | choice, randint | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Mock | unittest.mock.Mock | 不适用 | module |
| BkMonitorClient | paasng.infras.bkmonitorv3.client.BkMonitorClient | 不适用 | module |
| QueryAlarmStrategiesParams | paasng.infras.bkmonitorv3.params.QueryAlarmStrategiesParams | 不适用 | module |
| QueryAlertsParams | paasng.infras.bkmonitorv3.params.QueryAlertsParams | 不适用 | module |
| Application | paasng.platform.applications.models.Application | 不适用 | module |
| generate_random_string | tests.utils.helpers.generate_random_string | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_fake_alerts | `def get_fake_alerts(start_time: int, end_time: int) -> List:` | 无 | 不适用 |
| get_fake_alarm_strategies | `def get_fake_alarm_strategies() -> Dict:` | 无 | 不适用 |
| get_fake_space_biz_id | `def get_fake_space_biz_id(app_codes: List[str]) -> List[Dict]:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| StubBKMonitorClient | paasng.infras.bkmonitorv3.client.BkMonitorClient | query_alerts, query_space_biz_id, query_alarm_strategies | 无 | 无 | 蓝鲸监控提供的API，仅供单元测试使用 |

---


### 模块: apiserver/paasng/tests/utils/mocks/cluster.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| cattr | unstructure, structure | module |
| pytest | fixture | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| mock | unittest.mock | object, patch | module |
| WlApp | paas_wl.bk_app.applications.models.app.WlApp | DoesNotExist | module |
| Cluster | paas_wl.infras.cluster.models.Cluster | get, objects | module |
| IngressConfig | paas_wl.infras.cluster.models.IngressConfig | 不适用 | module |
| EnvClusterService | paas_wl.infras.cluster.shim.EnvClusterService | get_cluster_name | module |
| CLUSTER_NAME_FOR_TESTING | tests.conftest.CLUSTER_NAME_FOR_TESTING | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| cluster_ingress_config | `@contextmanager:` | contextmanager | Update the cluster ingress config during the conte... |


---


### 模块: apiserver/paasng/tests/utils/mocks/iam.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| get_user_by_user_id | bkpaas_auth.get_user_by_user_id | 不适用 | module |
| APP_DEFAULT_ROLES | paasng.infras.iam.constants.APP_DEFAULT_ROLES | 不适用 | module |
| ApplicationGradeManager | paasng.infras.iam.members.models.ApplicationGradeManager | all, objects, get | module |
| ApplicationUserGroup | paasng.infras.iam.members.models.ApplicationUserGroup | all, objects, get | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | ADMINISTRATOR | module |
| create_user | tests.utils.auth.create_user | 不适用 | module |
| ApplicationMembership | paasng.platform.applications.models.ApplicationMembership | filter, objects, create | module |
| Application | paasng.platform.applications.models.Application | get, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| StubBKIAMClient | 无 | create_grade_managers, fetch_grade_manager_members, add_grade_manager_members, delete_grade_manager, delete_grade_manager_members, create_builtin_user_groups, delete_user_groups, fetch_user_group_members, add_user_group_members, delete_user_group_members, grant_user_group_policies, _get_app_by_grade_manager_id, _get_group_and_app_by_user_group_id | 无 | 无 | bk-iam 通过 APIGW 提供的 API（仅供单元测试使用） |

---


### 模块: apiserver/paasng/tests/utils/mocks/permissions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Q | django.db.models.Q | 不适用 | module |
| create_user | tests.utils.auth.create_user | 不适用 | module |
| ApplicationMembership | paasng.platform.applications.models.ApplicationMembership | filter, objects | module |
| ApplicationRole | paasng.platform.applications.constants.ApplicationRole | ADMINISTRATOR, DEVELOPER | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| StubApplicationPermission | 无 | can_view_basic_info, can_edit_basic_info, can_delete_application, can_manage_members, can_manage_access_control, can_manage_app_market, can_data_statistics, can_basic_develop, can_manage_cloud_api, can_view_alert_records, can_edit_alert_policy, can_manage_addons_services, can_manage_env_protection, can_manage_module, gen_user_app_filters, gen_develop_app_filters | 无 | 无 | 应用权限（单元测试用） |

---


### 模块: apiserver/paasng/tests/utils/mocks/poll_task.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| time | time | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PollingMetadata | blue_krill.async_utils.poll_task.PollingMetadata | 不适用 | module |
| PollingResult | blue_krill.async_utils.poll_task.PollingResult | doing | module |
| TaskPoller | blue_krill.async_utils.poll_task.TaskPoller | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| FakeTaskPoller | blue_krill.async_utils.poll_task.TaskPoller | query, create | 无 | 无 | A task poller for testing |

---


### 模块: apiserver/paasng/tests/utils/testing.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Response | rest_framework.response.Response | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_response_json | `def get_response_json(response):` | 无 | 不适用 |


---


### 模块: operator/scripts/update_helm_chart.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| argparse | ArgumentParser | module |
| difflib | unified_diff | module |
| os | exists, path, remove | module |
| shutil | rmtree | module |
| yaml | load, SafeLoader, dump | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| namedtuple | collections.namedtuple | 不适用 | module |
| path | os.path | isfile, isdir | module |
| walk | os.walk | 不适用 | module |
| Path | pathlib.Path | 不适用 | module |
| dedent | textwrap.dedent | 不适用 | module |
| indent | textwrap.indent | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| TMPL_DIR | templates | `TMPL_DIR = 'templates'` | module |
| filepath_conf | {'_helpers.tpl': ['_helpers.tpl'], 'crds/paas.bk.tencent.com_bkapps.tpl': ['bkapp-crd.yaml'], 'crds/paas.bk.tencent.com_domaingroupmappings.yaml': ['domaingroupmapping-crd.yaml'], 'crds/paas.bk.tencent.com_projectconfigs.yaml': ['projectconfig-crd.yaml'], 'controller/deployment.yaml': ['deployment.yaml'], 'controller/config.yaml': ['manager-config.yaml'], 'controller/service.yaml': ['metrics-service.yaml'], 'controller/metrics-monitor.yaml': ['metrics-monitor.yaml'], 'controller/leader-election-rbac.yaml': ['leader-election-rbac.yaml'], 'controller/manager-rbac.yaml': ['manager-rbac.yaml'], 'controller/metrics-reader-rbac.yaml': ['metrics-reader-rbac.yaml'], 'controller/proxy-rbac.yaml': ['proxy-rbac.yaml'], 'webhooks/mutating-webhook.tpl': ['mutating-webhook-configuration.yaml'], 'webhooks/validating-webhook.tpl': ['validating-webhook-configuration.yaml'], 'webhooks/webhook-cert-secret.tpl': ['webhook-cert-secret.yaml'], 'webhooks/webhook-service.yaml': ['webhook-service.yaml'], 'certificate/selfsigned-issuer.yaml': ['selfsigned-issuer.yaml'], 'certificate/serving-cert.yaml': ['serving-cert.yaml'], 'certificate/certificate.yaml': ['certificate.yaml']} | `filepath_conf = {'_helpers.tpl': ['_helpers.tpl'], 'crds/paas.bk.tencent.com_bkapps.tpl': ['bkapp-crd.yaml'], 'crds/paas.bk.tencent.com_domaingroupmappings.yaml': ['domaingroupmapping-crd.yaml'], 'crds/paas.bk.tencent.com_projectconfigs.yaml': ['projectconfig-crd.yaml'], 'controller/deployment.yaml': ['deployment.yaml'], 'controller/config.yaml': ['manager-config.yaml'], 'controller/service.yaml': ['metrics-service.yaml'], 'controller/metrics-monitor.yaml': ['metrics-monitor.yaml'], 'controller/leader-election-rbac.yaml': ['leader-election-rbac.yaml'], 'controller/manager-rbac.yaml': ['manager-rbac.yaml'], 'controller/metrics-reader-rbac.yaml': ['metrics-reader-rbac.yaml'], 'controller/proxy-rbac.yaml': ['proxy-rbac.yaml'], 'webhooks/mutating-webhook.tpl': ['mutating-webhook-configuration.yaml'], 'webhooks/validating-webhook.tpl': ['validating-webhook-configuration.yaml'], 'webhooks/webhook-cert-secret.tpl': ['webhook-cert-secret.yaml'], 'webhooks/webhook-service.yaml': ['webhook-service.yaml'], 'certificate/selfsigned-issuer.yaml': ['selfsigned-issuer.yaml'], 'certificate/serving-cert.yaml': ['serving-cert.yaml'], 'certificate/certificate.yaml': ['certificate.yaml']}` | module |
| content_patch_conf | {'deployment.yaml': [('', ''), ('', ''), ('', ''), ('.Values.controllerManager.manager.resources', '.Values.resources'), ('', ''), ('.Values.controllerManager.replicas', '.Values.replicaCount'), ('secretName: webhook-server-cert', 'secretName: bkpaas-webhook-server-cert'), ('- --config=controller_manager_config.yaml', '- --config=controller_manager_config.yaml\n        - -zap-devel={{ .Values.controller.zapOpts.zapDevel }}')], 'serving-cert.yaml': [('secretName: webhook-server-cert', 'secretName: bkpaas-webhook-server-cert'), ('{{ include "bkpaas-app-operator.fullname" . }}-webhook-service.{{ .Release.Namespace }}.svc', 'bkpaas-app-operator-webhook-service.{{ .Release.Namespace }}.svc'), ('{{ include "bkpaas-app-operator.fullname" . }}-webhook-service.{{ .Release.Namespace }}.svc.{{ .Values.kubernetesClusterDomain }}', 'bkpaas-app-operator-webhook-service.{{ .Release.Namespace }}.svc.{{ .Values.kubernetesClusterDomain }}')], 'manager-config.yaml': [('.Values.managerConfig.controllerManagerConfigYaml', '.Values.controller'), ('', ''), ('', ''), ('.Values.controller.resLimits', '.Values.resLimits'), ('.Values.controller.resRequests', '.Values.resRequests'), ('.Values.controller.autoscaling', '.Values.autoscaling'), ('.Values.controller.maxProcesses', '.Values.maxProcesses'), ('.Values.controller.platform', '.Values.platformConfig')], 'validating-webhook-configuration.yaml': [('', ''), ('', ''), ('{{ include "bkpaas-app-operator.fullname" . }}-webhook-service', 'bkpaas-app-operator-webhook-service')], 'mutating-webhook-configuration.yaml': [('', ''), ('', ''), ('{{ include "bkpaas-app-operator.fullname" . }}-webhook-service', 'bkpaas-app-operator-webhook-service')], 'webhook-service.yaml': [('{{ include "bkpaas-app-operator.fullname" . }}-webhook-service', 'bkpaas-app-operator-webhook-service')], 'bkapp-crd.yaml': [('controller-gen.kubebuilder.io/version: v0.14.0', 'controller-gen.kubebuilder.io/version: v0.14.0\n    helm.sh/resource-policy: keep'), ('', ''), ('', '')], 'domaingroupmapping-crd.yaml': [('controller-gen.kubebuilder.io/version: v0.14.0', 'controller-gen.kubebuilder.io/version: v0.14.0\n    helm.sh/resource-policy: keep')], 'projectconfig-crd.yaml': [('controller-gen.kubebuilder.io/version: v0.14.0', 'controller-gen.kubebuilder.io/version: v0.14.0\n    helm.sh/resource-policy: keep')]} | `content_patch_conf = {'deployment.yaml': [(wrap_multiline_str(8, '\n                image: {{ .Values.controllerManager.kubeRbacProxy.image.repository }}:{{ .Values.controllerManager.kubeRbacProxy.image.tag | default .Chart.AppVersion }}\n                '), wrap_multiline_str(8, '\n                image: {{ include "bkpaas-app-operator.proxyImage" . }}\n                imagePullPolicy: {{ .Values.image.pullPolicy }}\n                ')), (wrap_multiline_str(8, '\n                image: {{ .Values.controllerManager.manager.image.repository }}:{{ .Values.controllerManager.manager.image.tag | default .Chart.AppVersion }}\n                '), wrap_multiline_str(8, '\n                image: {{ include "bkpaas-app-operator.image" . }}\n                imagePullPolicy: {{ .Values.image.pullPolicy }}\n                ')), (wrap_multiline_str(8, '\n                resources: {{- toYaml .Values.controllerManager.kubeRbacProxy.resources | nindent 10 }}\n                '), wrap_multiline_str(8, '\n                resources:\n                  limits:\n                    cpu: 500m\n                    memory: 512Mi\n                  requests:\n                    cpu: 5m\n                    memory: 64Mi\n                ')), ('.Values.controllerManager.manager.resources', '.Values.resources'), (wrap_multiline_str(6, '\n                imagePullSecrets:\n                - name: {{ include "bkpaas-app-operator.fullname" . }}-docker-registry\n                '), wrap_multiline_str(6, '\n                {{- with .Values.imagePullSecrets }}\n                imagePullSecrets:\n                  {{- toYaml . | nindent 8 }}\n                {{- end }}\n                ')), ('.Values.controllerManager.replicas', '.Values.replicaCount'), ('secretName: webhook-server-cert', 'secretName: bkpaas-webhook-server-cert'), ('- --config=controller_manager_config.yaml', '- --config=controller_manager_config.yaml\n        - -zap-devel={{ .Values.controller.zapOpts.zapDevel }}')], 'serving-cert.yaml': [('secretName: webhook-server-cert', 'secretName: bkpaas-webhook-server-cert'), ('{{ include "bkpaas-app-operator.fullname" . }}-webhook-service.{{ .Release.Namespace }}.svc', 'bkpaas-app-operator-webhook-service.{{ .Release.Namespace }}.svc'), ('{{ include "bkpaas-app-operator.fullname" . }}-webhook-service.{{ .Release.Namespace }}.svc.{{ .Values.kubernetesClusterDomain }}', 'bkpaas-app-operator-webhook-service.{{ .Release.Namespace }}.svc.{{ .Values.kubernetesClusterDomain }}')], 'manager-config.yaml': [('.Values.managerConfig.controllerManagerConfigYaml', '.Values.controller'), (wrap_multiline_str(4, '\n                ingressPlugin:\n                  accessControl:\n                    redisConfigKey: {{ .Values.controller.ingressPlugin.accessControl.redisConfigKey | quote }}\n                  paasAnalysis:\n                    enabled: {{ .Values.controller.ingressPlugin.paasAnalysis.enabled }}\n                '), wrap_multiline_str(4, '\n                {{- if or .Values.accessControl.enabled .Values.paasAnalysis.enabled }}\n                ingressPlugin:\n                  {{- if .Values.accessControl.enabled }}\n                  accessControl:\n                    redisConfigKey: {{ .Values.accessControl.redisConfigKey }}\n                  {{- end }}\n                  {{- if .Values.paasAnalysis.enabled }}\n                  paasAnalysis:\n                    enabled: {{ .Values.paasAnalysis.enabled }}\n                  {{- end }}\n                {{- else }}\n                ingressPlugin: {}\n                {{- end }}\n                ')), (wrap_multiline_str(6, '\n                ingressClassName: {{ .Values.controller.platform.ingressClassName | quote }}\n                '), wrap_multiline_str(6, '\n                ingressClassName: {{ .Values.controller.platform.ingressClassName | quote }}\n                {{- if .Values.controller.platform.customDomainIngressClassName }}\n                customDomainIngressClassName: {{ .Values.controller.platform.customDomainIngressClassName | quote }}\n                {{- end }}\n                ')), ('.Values.controller.resLimits', '.Values.resLimits'), ('.Values.controller.resRequests', '.Values.resRequests'), ('.Values.controller.autoscaling', '.Values.autoscaling'), ('.Values.controller.maxProcesses', '.Values.maxProcesses'), ('.Values.controller.platform', '.Values.platformConfig')], 'validating-webhook-configuration.yaml': [(wrap_multiline_str(2, '\n                annotations:\n                  cert-manager.io/inject-ca-from: {{ .Release.Namespace }}/{{ include "bkpaas-app-operator.fullname" . }}-serving-cert\n                '), wrap_multiline_str(2, '\n                {{- if .Values.cert.managerEnabled }}\n                annotations:\n                  cert-manager.io/inject-ca-from: {{ .Release.Namespace }}/{{ include "bkpaas-app-operator.fullname" . }}-serving-cert\n                {{- end }}\n                ')), (wrap_multiline_str(2, '\n                clientConfig:\n                '), wrap_multiline_str(2, '\n                clientConfig:\n                  {{- if not .Values.cert.managerEnabled }}\n                  caBundle: {{ include "bkpaas-app-operator.webhookCaBundle" (dict "cert" .Values.cert "genCa" .ca) }}\n                  {{- end }}\n                ')), ('{{ include "bkpaas-app-operator.fullname" . }}-webhook-service', 'bkpaas-app-operator-webhook-service')], 'mutating-webhook-configuration.yaml': [(wrap_multiline_str(2, '\n                annotations:\n                  cert-manager.io/inject-ca-from: {{ .Release.Namespace }}/{{ include "bkpaas-app-operator.fullname" . }}-serving-cert\n                '), wrap_multiline_str(2, '\n                {{- if .Values.cert.managerEnabled }}\n                annotations:\n                  cert-manager.io/inject-ca-from: {{ .Release.Namespace }}/{{ include "bkpaas-app-operator.fullname" . }}-serving-cert\n                {{- end }}\n                ')), (wrap_multiline_str(2, '\n                clientConfig:\n                '), wrap_multiline_str(2, '\n                clientConfig:\n                  {{- if not .Values.cert.managerEnabled }}\n                  caBundle: {{ include "bkpaas-app-operator.webhookCaBundle" (dict "cert" .Values.cert "genCa" .ca) }}\n                  {{- end }}\n                ')), ('{{ include "bkpaas-app-operator.fullname" . }}-webhook-service', 'bkpaas-app-operator-webhook-service')], 'webhook-service.yaml': [('{{ include "bkpaas-app-operator.fullname" . }}-webhook-service', 'bkpaas-app-operator-webhook-service')], 'bkapp-crd.yaml': [('controller-gen.kubebuilder.io/version: v0.14.0', 'controller-gen.kubebuilder.io/version: v0.14.0\n    helm.sh/resource-policy: keep'), (wrap_multiline_str(4, '\n                cert-manager.io/inject-ca-from: \'{{ .Release.Namespace }}/{{ include "bkpaas-app-operator.fullname" . }}-serving-cert\'\n                '), wrap_multiline_str(4, '\n                {{- if .Values.cert.managerEnabled }}\n                cert-manager.io/inject-ca-from: \'{{ .Release.Namespace }}/{{ include "bkpaas-app-operator.fullname" . }}-serving-cert\'\n                {{- end }}\n                ')), (wrap_multiline_str(6, '\n                clientConfig:\n                '), wrap_multiline_str(6, '\n                clientConfig:\n                  {{- if not .Values.cert.managerEnabled }}\n                  caBundle: {{ include "bkpaas-app-operator.webhookCaBundle" (dict "cert" .Values.cert "genCa" .ca) }}\n                  {{- end }}\n                '))], 'domaingroupmapping-crd.yaml': [('controller-gen.kubebuilder.io/version: v0.14.0', 'controller-gen.kubebuilder.io/version: v0.14.0\n    helm.sh/resource-policy: keep')], 'projectconfig-crd.yaml': [('controller-gen.kubebuilder.io/version: v0.14.0', 'controller-gen.kubebuilder.io/version: v0.14.0\n    helm.sh/resource-policy: keep')]}` | module |
| WrapContent | 不适用 | `WrapContent = namedtuple('WrapContent', 'front, back')` | module |
| content_wrap_conf | 不适用 | `content_wrap_conf = {'_helpers.tpl': WrapContent('', '\n{{/*\nImage Tag\n*/}}\n{{- define "bkpaas-app-operator.image" -}}\n{{ include "common.images.image" (dict "imageRoot" .Values.image "global" .Values.global) }}\n{{- end -}}\n\n{{/*\nProxy Image Tag\n*/}}\n{{- define "bkpaas-app-operator.proxyImage" -}}\n{{ include "common.images.image" (dict "imageRoot" .Values.proxyImage "global" .Values.global) }}\n{{- end -}}\n\n{{/*\nWebhook Cert\n*/}}\n{{- define "bkpaas-app-operator.webhookCert" -}}\n{{- if .cert.autoGenerate }}\n{{- .genCert.Cert | b64enc | quote }}\n{{- else }}\n{{- .cert.webhookCert | required "cert.webhookCert is required" }}\n{{- end }}\n{{- end -}}\n\n{{/*\nWebhook Key\n*/}}\n{{- define "bkpaas-app-operator.webhookKey" -}}\n{{- if .cert.autoGenerate }}\n{{- .genCert.Key | b64enc | quote }}\n{{- else }}\n{{- .cert.webhookKey | required "cert.webhookKey is required" }}\n{{- end }}\n{{- end -}}\n\n{{/*\nWebhook CaBundle\n*/}}\n{{- define "bkpaas-app-operator.webhookCaBundle" -}}\n{{- if .cert.autoGenerate }}\n{{- .genCa.Cert | b64enc | quote }}\n{{- else }}\n{{- .cert.webhookCaBundle | required "cert.webhookCaBundle is required" }}\n{{- end }}\n{{- end -}}\n'), 'selfsigned-issuer.yaml': WrapContent('{{- if .Values.cert.managerEnabled }}\n', '{{- end }}\n'), 'serving-cert.yaml': WrapContent('{{- if .Values.cert.managerEnabled }}\n', '{{- end }}\n'), 'certificate.yaml': WrapContent('', '\n{{- $dnsNames := list ( printf "bkpaas-app-operator-webhook-service.%s.svc" .Release.Namespace ) ( printf "bkpaas-app-operator-webhook-service.%s.svc.%s" .Release.Namespace .Values.kubernetesClusterDomain ) -}}\n{{- $ca := genCA "bkpaas-app-operator-ca" 3650 -}}\n{{- $cert := genSignedCert "bkpaas-app-operator-ca" nil $dnsNames 3650 $ca -}}\n---\n{{ include "bkpaas-app-operator.webhookCertSecret" (dict "Chart" .Chart "Release" .Release "Values" .Values "cert" $cert "ca" $ca) }}\n---\n{{ include "bkpaas-app-operator.mutatingWebhook" (dict "Chart" .Chart "Release" .Release "Values" .Values "cert" $cert "ca" $ca) }}\n---\n{{ include "bkpaas-app-operator.validatingWebhook" (dict "Chart" .Chart "Release" .Release "Values" .Values "cert" $cert "ca" $ca) }}\n---\n{{ include "bkpaas-app-operator.bkappCRD" (dict "Chart" .Chart "Release" .Release "Values" .Values "cert" $cert "ca" $ca) }}\n        '.lstrip()), 'bkapp-crd.yaml': WrapContent('{{ define "bkpaas-app-operator.bkappCRD" -}}\n', '{{- end -}}\n'), 'webhook-cert-secret.yaml': WrapContent('', '\n{{ define "bkpaas-app-operator.webhookCertSecret" -}}\n{{- if not .Values.cert.managerEnabled }}\napiVersion: v1\nkind: Secret\nmetadata:\n  name: bkpaas-webhook-server-cert\n  namespace: {{ .Release.Namespace }}\ntype: kubernetes.io/tls\ndata:\n  ca.crt: {{ include "bkpaas-app-operator.webhookCaBundle" (dict "cert" .Values.cert "genCa" .ca) }}\n  tls.crt: {{ include "bkpaas-app-operator.webhookCert" (dict "cert" .Values.cert "genCert" .cert) }}\n  tls.key: {{ include "bkpaas-app-operator.webhookKey" (dict "cert" .Values.cert "genCert" .cert) }}\n{{- end }}\n{{- end -}}\n'.lstrip()), 'mutating-webhook-configuration.yaml': WrapContent('{{ define "bkpaas-app-operator.mutatingWebhook" -}}\n', '{{- end -}}\n'), 'validating-webhook-configuration.yaml': WrapContent('{{ define "bkpaas-app-operator.validatingWebhook" -}}\n', '{{- end -}}\n'), 'metrics-monitor.yaml': WrapContent('', '\n{{- if .Values.serviceMonitor.enabled }}\n---\napiVersion: monitoring.coreos.com/v1\nkind: ServiceMonitor\nmetadata:\n  name: {{ include "bkpaas-app-operator.fullname" . }}-controller-manager-metrics-monitor\n  labels:\n    control-plane: controller-manager\n  {{- include "bkpaas-app-operator.labels" . | nindent 4 }}\nspec:\n  endpoints:\n  - bearerTokenFile: /var/run/secrets/kubernetes.io/serviceaccount/token\n    path: /metrics\n    port: https\n    scheme: https\n    tlsConfig:\n      insecureSkipVerify: true\n  selector:\n    matchLabels:\n      control-plane: controller-manager\n{{- end -}}\n'.lstrip())}` | module |
| parser | 不适用 | `parser = argparse.ArgumentParser()` | module, if |
| args | 不适用 | `args = parser.parse_args()` | module, if |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| wrap_multiline_str | `def wrap_multiline_str(space_num: int, m_string: str) -> str:` | 无 | 对多行字符串做处理，避免格式化时候丢失缩进 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| HelmChartUpdater | 无 | __init__, update, _check_target_chart, _patch_chart_file_contents, _wrap_chart_file_contents, _remove_useless_newline, _replace_chart_yaml_files, _check_left_files, _patch_values_file, _diff_values, _clean_workspace, _print_dividing_line | 无 | 无 | 不适用 |

---


### 模块: svc-bkrepo/manage.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | setdefault, environ | module |
| sys | argv | module |
| django | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| execute_from_command_line | django.core.management.execute_from_command_line | 不适用 | module |





---


### 模块: svc-bkrepo/svc_bk_repo/__init__.py







---


### 模块: svc-bkrepo/svc_bk_repo/middleware.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | STATIC_URL, REMOTE_STATIC_URL | module |
| get_token | django.middleware.csrf.get_token | 不适用 | module |
| Service | paas_service.models.Service | first, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| context_processors | `def context_processors(request) -> Dict:` | 无 | 不适用 |


---


### 模块: svc-bkrepo/svc_bk_repo/monitoring/__init__.py







---


### 模块: svc-bkrepo/svc_bk_repo/monitoring/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |
| start_scheduler | svc-bkrepo.svc_bk_repo.monitoring.jobs.start_scheduler | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MonitoringConfig | django.apps.AppConfig | ready | name | 无 | 不适用 |

---


### 模块: svc-bkrepo/svc_bk_repo/monitoring/jobs.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| atexit | register | module |
| errno | ESRCH, EPERM | module |
| functools | lru_cache | module |
| logging | getLogger | module |
| os | kill, getpid | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| BackgroundScheduler | apscheduler.schedulers.background.BackgroundScheduler | 不适用 | module |
| settings | django.conf.settings | BKREPO_COLLECT_INTERVAL_MINUTES | module |
| FileLock | filelock.FileLock | 不适用 | module |
| Plan | paas_service.models.Plan | get, objects | module |
| ServiceInstance | paas_service.models.ServiceInstance | all, objects | module |
| RepoQuotaStatistics | svc_bk_repo.monitoring.models.RepoQuotaStatistics | update_or_create, objects | module |
| BKGenericRepoManager | svc_bk_repo.vendor.helper.BKGenericRepoManager | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| scheduler | 不适用 | `scheduler = Scheduler()` | module |
| SCHEDULER_LOCK_FILE | scheduler.lock | `SCHEDULER_LOCK_FILE = 'scheduler.lock'` | module |
| SCHEDULER_PID_FILE | scheduler.pid | `SCHEDULER_PID_FILE = 'scheduler.pid'` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| process_exists | `def process_exists(pid: int):` | 无 | Check whether pid exists in the current process ta... |
| start_scheduler | `def start_scheduler():` | 无 | 不适用 |
| clear_lock | `def clear_lock():` | 无 | 不适用 |
| get_repo_manager | `@functools.lru_cache():` | functools.lru_cache | 不适用 |
| update_bkrepo_quota_statistics | `@scheduler.scheduled_job('interval', minutes=settings.BKREPO_COLLECT_INTERVAL_MINUTES):` | scheduler.scheduled_job | Update bkrepo quota statistics periodically |


---


### 模块: svc-bkrepo/svc_bk_repo/monitoring/metrics.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| datetime | now, datetime | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| CollectorRegistry | prometheus_client.core.CollectorRegistry | 不适用 | module |
| GaugeMetricFamily | prometheus_client.core.GaugeMetricFamily | 不适用 | module |
| RepoQuotaStatistics | svc_bk_repo.monitoring.models.RepoQuotaStatistics | all, objects | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| global_registry | 不适用 | `global_registry = CollectorRegistry()` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKRepoMetricsCollector | 无 | collect | 无 | 无 | 不适用 |

---


### 模块: svc-bkrepo/svc_bk_repo/monitoring/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.db.models.deletion | CASCADE, deletion, models, db | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, IntegerField, DateTimeField, ForeignKey | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: svc-bkrepo/svc_bk_repo/monitoring/migrations/0002_auto_20221026_0221.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, AlterField | module |
| models | django.db.models | BigIntegerField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: svc-bkrepo/svc_bk_repo/monitoring/migrations/__init__.py







---


### 模块: svc-bkrepo/svc_bk_repo/monitoring/models.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| models | django.db.models | Model, ForeignKey, CASCADE, CharField, BigIntegerField, DateTimeField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RepoQuotaStatistics | django.db.models.Model | quota_used_rate | instance, repo_name, max_size, used, updated | 无 | 不适用 |

---


### 模块: svc-bkrepo/svc_bk_repo/settings/__init__.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | INFO, ERROR | module |
| os | getenv | module |
| environ | Env | module |
| pymysql | install_as_MySQLdb | module |
| sentry_sdk | init | module |
| urllib3 | ssl_, util | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| DatabaseFeatures | django.db.backends.mysql.features.DatabaseFeatures | 不适用 | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| DjangoIntegration | sentry_sdk.integrations.django.DjangoIntegration | 不适用 | module |
| LoggingIntegration | sentry_sdk.integrations.logging.LoggingIntegration | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| env | 不适用 | `env = environ.Env(DEBUG=(bool, False))` | module |
| BASE_DIR | 不适用 | `BASE_DIR = Path(__file__).parents[2].absolute()` | module |
| SECRET_KEY | 不适用 | `SECRET_KEY = env.str('SECRET_KEY', default='ot08tcs_&u(&fb~bgny!6+(b07ch*@nj')` | module |
| DEBUG | 不适用 | `DEBUG = env('DEBUG')` | module |
| ALLOWED_HOSTS | ['*'] | `ALLOWED_HOSTS = ['*']` | module |
| INSTALLED_APPS | ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'paas_service', 'svc_bk_repo.vendor', 'bkpaas_auth', 'svc_bk_repo.monitoring'] | `INSTALLED_APPS = ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'paas_service', 'svc_bk_repo.vendor', 'bkpaas_auth', 'svc_bk_repo.monitoring']` | module |
| MIDDLEWARE | ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'bkpaas_auth.middlewares.CookieLoginMiddleware', 'paas_service.auth.middleware.VerifiedClientMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware'] | `MIDDLEWARE = ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'bkpaas_auth.middlewares.CookieLoginMiddleware', 'paas_service.auth.middleware.VerifiedClientMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware']` | module |
| STATIC_URL | /static/ | `STATIC_URL = '/static/'` | module |
| REMOTE_STATIC_URL | /static/ | `REMOTE_STATIC_URL = '/static/'` | module |
| STATIC_ROOT | staticfiles | `STATIC_ROOT = 'staticfiles'` | module |
| STATICFILES_DIRS | [''] | `STATICFILES_DIRS = [str(BASE_DIR / 'static')]` | module |
| ROOT_URLCONF | svc_bk_repo.urls | `ROOT_URLCONF = 'svc_bk_repo.urls'` | module |
| TEMPLATES | [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [''], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages', 'svc_bk_repo.middleware.context_processors']}}] | `TEMPLATES = [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [str(BASE_DIR / 'svc_bk_repo/templates')], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages', 'svc_bk_repo.middleware.context_processors']}}]` | module |
| WSGI_APPLICATION | svc_bk_repo.wsgi.application | `WSGI_APPLICATION = 'svc_bk_repo.wsgi.application'` | module |
| DATABASES | 不适用 | `DATABASES = {'default': {'ENGINE': 'django.db.backends.mysql', 'NAME': env('MYSQL_NAME', default='svc_bkrepo'), 'USER': env('MYSQL_USER', default='svc_bkrepo'), 'PASSWORD': env('MYSQL_PASSWORD', default='blueking'), 'HOST': env('MYSQL_HOST', default='127.0.0.1'), 'PORT': env('MYSQL_PORT', default='3306'), 'OPTIONS': env.json('MYSQL_OPTIONS', default={})}}` | module, if |
| AUTH_PASSWORD_VALIDATORS | [{'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'}, {'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator'}, {'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator'}, {'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator'}] | `AUTH_PASSWORD_VALIDATORS = [{'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'}, {'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator'}, {'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator'}, {'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator'}]` | module |
| LANGUAGE_CODE | zh-cn | `LANGUAGE_CODE = 'zh-cn'` | module |
| LANGUAGES | [('zh-cn', '简体中文'), ('en', 'English')] | `LANGUAGES = [('zh-cn', '简体中文'), ('en', 'English')]` | module |
| TIME_ZONE | UTC | `TIME_ZONE = 'UTC'` | module |
| USE_I18N | True | `USE_I18N = True` | module |
| USE_L10N | True | `USE_L10N = True` | module |
| USE_TZ | True | `USE_TZ = True` | module |
| LOGGING_LEVEL | DEBUG | `LOGGING_LEVEL = 'DEBUG'` | module |
| LOGGING | 不适用 | `LOGGING = get_logging_config(LOGGING_LEVEL)` | module |
| BKKRILL_ENCRYPT_SECRET_KEY | 不适用 | `BKKRILL_ENCRYPT_SECRET_KEY = env.str('BKKRILL_ENCRYPT_SECRET_KEY', default='U2ViQ1dRc0FiSU9jaFBhd0p0emhZQmhxRHpDdGdxU1k=').encode()` | module |
| METRIC_CLIENT_TOKEN_DICT | 不适用 | `METRIC_CLIENT_TOKEN_DICT = {'monitoring': env.str('METRIC_CLIENT_TOKEN', '2892bd51-9a21-29f2-be21-ab6278108317')}` | module |
| BKREPO_COLLECT_INTERVAL_MINUTES | 不适用 | `BKREPO_COLLECT_INTERVAL_MINUTES = env.int('BKREPO_COLLECT_INTERVAL_MINUTES', default=30)` | module |
| SENTRY_DSN | 不适用 | `SENTRY_DSN = env.str('SENTRY_DSN', default='')` | module |
| sentry_logging | 不适用 | `sentry_logging = LoggingIntegration(level=logging.INFO, event_level=logging.ERROR)` | module |
| PAAS_SERVICE_PROVIDER_CLS | svc_bk_repo.vendor.provider.Provider | `PAAS_SERVICE_PROVIDER_CLS = 'svc_bk_repo.vendor.provider.Provider'` | module |
| PAAS_SERVICE_SVC_INSTANCE_RENDER_FUNC | svc_bk_repo.vendor.render.render_instance_data | `PAAS_SERVICE_SVC_INSTANCE_RENDER_FUNC = 'svc_bk_repo.vendor.render.render_instance_data'` | module |
| PAAS_SERVICE_JWT_CLIENTS | 不适用 | `PAAS_SERVICE_JWT_CLIENTS = [{'iss': 'paas-v3', 'key': env.str('PAAS_SERVICE_JWT_CLIENTS_KEY'), 'algorithm': 'HS256'}]` | module |
| ENABLE_ADMIN | 不适用 | `ENABLE_ADMIN = env.bool('ENABLE_ADMIN', False)` | module |
| DEVELOPER_CENTER_APP_URL_TEMPLATE | http://your-paas3.0-host/developer-center/apps/{app_code}/{module}/summary | `DEVELOPER_CENTER_APP_URL_TEMPLATE = 'http://your-paas3.0-host/developer-center/apps/{app_code}/{module}/summary'` | module |
| BKREPO_DEFAULT_QUOTA | 不适用 | `BKREPO_DEFAULT_QUOTA = env.int('BKREPO_DEFAULT_QUOTA', None)` | module |
| EXTEND_CONFIG_MAX_SIZE_ALLOWED | 10737418240 | `EXTEND_CONFIG_MAX_SIZE_ALLOWED = 2**30 * 10` | module |
| EXTEND_CONFIG_EXTRA_SIZE_BYTES | 1073741824 | `EXTEND_CONFIG_EXTRA_SIZE_BYTES = 2**30` | module |
| BKAUTH_DEFAULT_PROVIDER_TYPE | 不适用 | `BKAUTH_DEFAULT_PROVIDER_TYPE = env('BKAUTH_DEFAULT_PROVIDER_TYPE', default='BK')` | module |
| BKAUTH_BACKEND_TYPE | 不适用 | `BKAUTH_BACKEND_TYPE = env('BKAUTH_BACKEND_TYPE', default='bk_token')` | module |
| LOGIN_URL | 不适用 | `LOGIN_URL = env.str('BK_LOGIN_API_URL', default='http://paasee.blueking-fake.com/login')` | module |
| BKAUTH_USER_COOKIE_VERIFY_URL | 不适用 | `BKAUTH_USER_COOKIE_VERIFY_URL = LOGIN_URL + env.str('BK_LOGIN_VERIFY_API_PATH', default='/api/v3/is_login/')` | module |
| AUTHENTICATION_BACKENDS | ['bkpaas_auth.backends.DjangoAuthUserCompatibleBackend'] | `AUTHENTICATION_BACKENDS = ['bkpaas_auth.backends.DjangoAuthUserCompatibleBackend']` | module |
| BK_CRYPTO_TYPE | 不适用 | `BK_CRYPTO_TYPE = env.str('BK_CRYPTO_TYPE', default='CLASSIC')` | module |
| ENCRYPT_CIPHER_TYPE | 不适用 | `ENCRYPT_CIPHER_TYPE = 'SM4CTR' if BK_CRYPTO_TYPE == 'SHANGMI' else 'FernetCipher'` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_logging_config | `def get_logging_config(log_level='DEBUG'):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PatchFeatures | 无 | minimum_database_version | 无 | 无 | Patched Django Features |

---


### 模块: svc-bkrepo/svc_bk_repo/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| admin | django.contrib.admin | urls, site | module |
| include | django.urls.include | 不适用 | module |
| re_path | django.urls.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^', include('paas_service.urls')), re_path('^', include('svc_bk_repo.vendor.urls')), re_path('^admin/', admin.site.urls)]` | module |



---


### 模块: svc-bkrepo/svc_bk_repo/vendor/__init__.py




#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| default_app_config | svc_bk_repo.vendor.apps.VendorConfig | `default_app_config = 'svc_bk_repo.vendor.apps.VendorConfig'` | module |



---


### 模块: svc-bkrepo/svc_bk_repo/vendor/actions.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| math | isinf | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ExtendQuotaMaxSizeExceeded | svc_bk_repo.vendor.exceptions.ExtendQuotaMaxSizeExceeded | 不适用 | module |
| ExtendQuotaUsageTooLow | svc_bk_repo.vendor.exceptions.ExtendQuotaUsageTooLow | 不适用 | module |
| NoNeedToExtendQuota | svc_bk_repo.vendor.exceptions.NoNeedToExtendQuota | 不适用 | module |
| BKGenericRepoManager | svc_bk_repo.vendor.provider.BKGenericRepoManager | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| extend_quota | `def extend_quota(manager: BKGenericRepoManager, bucket: str, extra_size_bytes: int, max_allowed_bytes: int, required_usage_rate: int = None) -> int:` | 无 | 
    :param extra_size_bytes: extra bytes to be ex... |


---


### 模块: svc-bkrepo/svc_bk_repo/vendor/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| VendorConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: svc-bkrepo/svc_bk_repo/vendor/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RequestError | Exception | __init__ | 无 | 无 | 服务请求异常 |
| BaseActionError | Exception | 无 | 无 | 无 | Base Exception for Action Error |
| NoNeedToExtendQuota | Exception | 无 | 无 | 无 | An exception is thrown when there is no need to co... |
| ExtendQuotaUsageTooLow | BaseActionError | 无 | 无 | 无 | An exception that is thrown when the usage rate is... |
| ExtendQuotaMaxSizeExceeded | BaseActionError | 无 | 无 | 无 | An exception is thrown when the configuration size... |

---


### 模块: svc-bkrepo/svc_bk_repo/vendor/helper.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| math | inf | module |
| curlify | to_curl | module |
| requests | Response, Session, session | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| HTTPBasicAuth | requests.auth.HTTPBasicAuth | 不适用 | module |
| urljoin | six.moves.urllib_parse.urljoin | 不适用 | module |
| RequestError | svc_bk_repo.vendor.exceptions.RequestError | 不适用 | module |
| RepoQuota | svc_bk_repo.vendor.models.RepoQuota | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKGenericRepoManager | 无 | __init__, get_client, create_user, update_user, delete_user, create_repo, delete_repo, get_repo_quota, update_repo_quota | 无 | 无 | 蓝鲸通用二进制仓库. |

---


### 模块: svc-bkrepo/svc_bk_repo/vendor/management/__init__.py







---


### 模块: svc-bkrepo/svc_bk_repo/vendor/management/commands/__init__.py







---


### 模块: svc-bkrepo/svc_bk_repo/vendor/migrations/0001_initial.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |
| settings | django.conf.settings | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| load_data | `def load_data(apps, schema_editor):` | 无 | 
    修改默认服务的中文名称
     |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: svc-bkrepo/svc_bk_repo/vendor/migrations/__init__.py







---


### 模块: svc-bkrepo/svc_bk_repo/vendor/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| math | isinf | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Union | typing.Union | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| RepoQuota | 无 | __post_init__ | 无 | dataclass | 不适用 |

---


### 模块: svc-bkrepo/svc_bk_repo/vendor/provider.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Enum | enum.Enum | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| settings | django.conf.settings | BKREPO_DEFAULT_QUOTA | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| BaseProvider | paas_service.base_vendor.BaseProvider | 不适用 | module |
| InstanceData | paas_service.base_vendor.InstanceData | 不适用 | module |
| gen_unique_id | paas_service.utils.gen_unique_id | 不适用 | module |
| generate_password | paas_service.utils.generate_password | 不适用 | module |
| BKGenericRepoManager | svc_bk_repo.vendor.helper.BKGenericRepoManager | 不适用 | module |
| RequestError | svc_bk_repo.vendor.helper.RequestError | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BKRepoErrorCode | str, enum.Enum | 无 | REPO_EXISTS | 无 | 不适用 |
| Provider | paas_service.base_vendor.BaseProvider | manager, create, delete, patch | SERVICE_NAME | dataclass | 不适用 |

---


### 模块: svc-bkrepo/svc_bk_repo/vendor/render.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | ENABLE_ADMIN | module |
| HttpRequest | django.http.request.HttpRequest | 不适用 | module |
| sign_instance_token | paas_service.auth.sign_instance_token | 不适用 | module |
| InstanceDataRepresenter | paas_service.models.InstanceDataRepresenter | 不适用 | module |
| ServiceInstance | paas_service.models.ServiceInstance | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| ABBREVS | ((1125899906842624, 'PB'), (1099511627776, 'TB'), (1073741824, 'GB'), (1048576, 'MB'), (1024, 'KB'), (1, 'bytes')) | `ABBREVS = ((1 << 50, 'PB'), (1 << 40, 'TB'), (1 << 30, 'GB'), (1 << 20, 'MB'), (1 << 10, 'KB'), (1, 'bytes'))` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| humanize_bytes | `def humanize_bytes(bytevalue: int, precision=2):` | 无 | 不适用 |
| render_instance_data | `def render_instance_data(request: HttpRequest, instance: ServiceInstance) -> Dict:` | 无 | Customized render function for rendering service i... |


---


### 模块: svc-bkrepo/svc_bk_repo/vendor/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ServiceInstance | paas_service.models.ServiceInstance | 不适用 | module |
| serializers | rest_framework.serializers | ModelSerializer | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ServiceInstanceForManageSLZ | rest_framework.serializers.ModelSerializer | to_representation | 无 | 无 | 不适用 |

---


### 模块: svc-bkrepo/svc_bk_repo/vendor/templatetags/__init__.py







---


### 模块: svc-bkrepo/svc_bk_repo/vendor/templatetags/tools.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| template | django.template | Library | module |
| humanize_bytes | svc_bk_repo.vendor.render.humanize_bytes | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| register | 不适用 | `register = template.Library()` | module |



---


### 模块: svc-bkrepo/svc_bk_repo/vendor/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | django.urls.re_path | 不适用 | module |
| views | svc_bk_repo.vendor.views | as_view, HealthzView, BKRepoIndexView, BKRepoManageView | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('healthz/$', views.HealthzView.as_view()), re_path('web/instances/(?P<instance_id>[^/]+)/$', views.BKRepoIndexView.as_view(), name='instance.index'), re_path('web/instances/(?P<instance_id>[^/]+)/(?P<bucket>[^/]+)/$', views.BKRepoManageView.as_view(), name='instance.manage')]` | module |



---


### 模块: svc-bkrepo/svc_bk_repo/vendor/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | EXTEND_CONFIG_EXTRA_SIZE_BYTES, EXTEND_CONFIG_MAX_SIZE_ALLOWED | module |
| get_token | django.middleware.csrf.get_token | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| method_decorator | django.utils.decorators.method_decorator | 不适用 | module |
| TemplateView | django.views.generic.TemplateView | 不适用 | module |
| instance_authorized_require | paas_service.auth.decorator.instance_authorized_require | 不适用 | module |
| ServiceInstance | paas_service.models.ServiceInstance | 不适用 | module |
| get_paas_app_info | paas_service.utils.get_paas_app_info | 不适用 | module |
| status | rest_framework.status | HTTP_400_BAD_REQUEST | module |
| IsAuthenticated | rest_framework.permissions.IsAuthenticated | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| APIView | rest_framework.views.APIView | 不适用 | module |
| extend_quota | svc_bk_repo.vendor.actions.extend_quota | 不适用 | module |
| ExtendQuotaMaxSizeExceeded | svc_bk_repo.vendor.exceptions.ExtendQuotaMaxSizeExceeded | 不适用 | module |
| ExtendQuotaUsageTooLow | svc_bk_repo.vendor.exceptions.ExtendQuotaUsageTooLow | 不适用 | module |
| NoNeedToExtendQuota | svc_bk_repo.vendor.exceptions.NoNeedToExtendQuota | 不适用 | module |
| BKGenericRepoManager | svc_bk_repo.vendor.helper.BKGenericRepoManager | 不适用 | module |
| humanize_bytes | svc_bk_repo.vendor.render.humanize_bytes | 不适用 | module |
| ServiceInstanceForManageSLZ | svc_bk_repo.vendor.serializers.ServiceInstanceForManageSLZ | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| HealthzView | rest_framework.views.APIView | get | 无 | 无 | 不适用 |
| BKRepoIndexView | django.views.generic.TemplateView | get_context_data | permission_classes, template_name, name | method_decorator | 不适用 |
| BKRepoManageView | rest_framework.views.APIView | patch | 无 | 无 | 不适用 |

---


### 模块: svc-bkrepo/svc_bk_repo/wsgi.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | setdefault, environ | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PrometheusExposeHandler | blue_krill.monitoring.prometheus.django_utils.PrometheusExposeHandler | 不适用 | module |
| get_wsgi_application | django.core.wsgi.get_wsgi_application | 不适用 | module |
| REGISTRY | prometheus_client.REGISTRY | 不适用 | module |
| global_registry | svc_bk_repo.monitoring.metrics.global_registry | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| application | 不适用 | `application = PrometheusExposeHandler(get_wsgi_application(), extra_registries=[REGISTRY, global_registry])` | module |



---


### 模块: svc-mysql/manage.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | setdefault, environ | module |
| sys | argv | module |
| django | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| execute_from_command_line | django.core.management.execute_from_command_line | 不适用 | module |





---


### 模块: svc-mysql/svc_mysql/__init__.py







---


### 模块: svc-mysql/svc_mysql/middleware.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | 不适用 | module |
| get_token | django.middleware.csrf.get_token | 不适用 | module |
| Service | paas_service.models.Service | first, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| context_processors | `def context_processors(request) -> Dict:` | 无 | 不适用 |


---


### 模块: svc-mysql/svc_mysql/settings/__init__.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | INFO, ERROR | module |
| os | getenv | module |
| environ | Env | module |
| pymysql | install_as_MySQLdb | module |
| sentry_sdk | init | module |
| urllib3 | ssl_, util | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| DatabaseFeatures | django.db.backends.mysql.features.DatabaseFeatures | 不适用 | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| DjangoIntegration | sentry_sdk.integrations.django.DjangoIntegration | 不适用 | module |
| LoggingIntegration | sentry_sdk.integrations.logging.LoggingIntegration | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| env | 不适用 | `env = environ.Env(DEBUG=(bool, False))` | module |
| BASE_DIR | 不适用 | `BASE_DIR = Path(__file__).parents[2].absolute()` | module |
| SECRET_KEY | 不适用 | `SECRET_KEY = env.str('SECRET_KEY', default='_1k2_z@u+dystbt#l&~87yfqb_tn*!4z')` | module |
| DEBUG | 不适用 | `DEBUG = env('DEBUG')` | module |
| ALLOWED_HOSTS | ['*'] | `ALLOWED_HOSTS = ['*']` | module |
| INSTALLED_APPS | ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'paas_service', 'svc_mysql.vendor'] | `INSTALLED_APPS = ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'paas_service', 'svc_mysql.vendor']` | module |
| MIDDLEWARE | ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'paas_service.auth.middleware.VerifiedClientMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware'] | `MIDDLEWARE = ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'paas_service.auth.middleware.VerifiedClientMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware']` | module |
| STATIC_URL | /static/ | `STATIC_URL = '/static/'` | module |
| STATIC_ROOT | staticfiles | `STATIC_ROOT = 'staticfiles'` | module |
| STATICFILES_DIRS | [''] | `STATICFILES_DIRS = [str(BASE_DIR / 'static')]` | module |
| ROOT_URLCONF | svc_mysql.urls | `ROOT_URLCONF = 'svc_mysql.urls'` | module |
| TEMPLATES | [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [''], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages', 'svc_mysql.middleware.context_processors']}}] | `TEMPLATES = [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [str(BASE_DIR / 'svc_mysql/templates')], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages', 'svc_mysql.middleware.context_processors']}}]` | module |
| WSGI_APPLICATION | svc_mysql.wsgi.application | `WSGI_APPLICATION = 'svc_mysql.wsgi.application'` | module |
| DATABASES | 不适用 | `DATABASES = {'default': {'ENGINE': 'django.db.backends.mysql', 'NAME': env('MYSQL_NAME', default='svc_mysql'), 'USER': env('MYSQL_USER', default='svc_mysql'), 'PASSWORD': env('MYSQL_PASSWORD', default='blueking'), 'HOST': env('MYSQL_HOST', default='127.0.0.1'), 'PORT': env('MYSQL_PORT', default='3306'), 'OPTIONS': env.json('MYSQL_OPTIONS', default={})}}` | module, if |
| AUTH_PASSWORD_VALIDATORS | [{'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'}, {'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator'}, {'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator'}, {'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator'}] | `AUTH_PASSWORD_VALIDATORS = [{'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'}, {'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator'}, {'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator'}, {'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator'}]` | module |
| LANGUAGE_CODE | zh-cn | `LANGUAGE_CODE = 'zh-cn'` | module |
| LANGUAGES | [('zh-cn', '简体中文'), ('en', 'English')] | `LANGUAGES = [('zh-cn', '简体中文'), ('en', 'English')]` | module |
| TIME_ZONE | UTC | `TIME_ZONE = 'UTC'` | module |
| USE_I18N | True | `USE_I18N = True` | module |
| USE_L10N | True | `USE_L10N = True` | module |
| USE_TZ | True | `USE_TZ = True` | module |
| LOGGING_LEVEL | DEBUG | `LOGGING_LEVEL = 'DEBUG'` | module |
| LOGGING | 不适用 | `LOGGING = get_logging_config(LOGGING_LEVEL)` | module |
| BKKRILL_ENCRYPT_SECRET_KEY | 不适用 | `BKKRILL_ENCRYPT_SECRET_KEY = env.str('BKKRILL_ENCRYPT_SECRET_KEY', default='Q3NyY0V3cFpTUlVNbHp3RUZMYWtXaEdOdXp3eWZNSkc=').encode()` | module |
| METRIC_CLIENT_TOKEN_DICT | 不适用 | `METRIC_CLIENT_TOKEN_DICT = {'monitoring': env.str('METRIC_CLIENT_TOKEN', '5c1e7f0e-7705-25b4-50e4-177856bed126')}` | module |
| SENTRY_DSN | 不适用 | `SENTRY_DSN = env.str('SENTRY_DSN', default='')` | module |
| sentry_logging | 不适用 | `sentry_logging = LoggingIntegration(level=logging.INFO, event_level=logging.ERROR)` | module |
| PAAS_SERVICE_PROVIDER_CLS | svc_mysql.vendor.provider.Provider | `PAAS_SERVICE_PROVIDER_CLS = 'svc_mysql.vendor.provider.Provider'` | module |
| PAAS_SERVICE_SVC_INSTANCE_RENDER_FUNC | svc_mysql.vendor.render.render_instance_data | `PAAS_SERVICE_SVC_INSTANCE_RENDER_FUNC = 'svc_mysql.vendor.render.render_instance_data'` | module |
| PAAS_SERVICE_JWT_CLIENTS | 不适用 | `PAAS_SERVICE_JWT_CLIENTS = [{'iss': 'paas-v3', 'key': env.str('PAAS_SERVICE_JWT_CLIENTS_KEY'), 'algorithm': 'HS256'}]` | module |
| ENABLE_ADMIN | False | `ENABLE_ADMIN = False` | module |
| DEVELOPER_CENTER_APP_URL_TEMPLATE | http://your-paas3.0-host/developer-center/apps/{app_code}/{module}/summary | `DEVELOPER_CENTER_APP_URL_TEMPLATE = 'http://your-paas3.0-host/developer-center/apps/{app_code}/{module}/summary'` | module |
| BK_CRYPTO_TYPE | 不适用 | `BK_CRYPTO_TYPE = env.str('BK_CRYPTO_TYPE', default='CLASSIC')` | module |
| ENCRYPT_CIPHER_TYPE | 不适用 | `ENCRYPT_CIPHER_TYPE = 'SM4CTR' if BK_CRYPTO_TYPE == 'SHANGMI' else 'FernetCipher'` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_logging_config | `def get_logging_config(log_level='DEBUG'):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PatchFeatures | 无 | minimum_database_version | 无 | 无 | Patched Django Features |

---


### 模块: svc-mysql/svc_mysql/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| admin | django.contrib.admin | urls, site | module |
| include | django.urls.include | 不适用 | module |
| re_path | django.urls.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^', include('paas_service.urls')), re_path('^', include('svc_mysql.vendor.urls')), re_path('^admin/', admin.site.urls)]` | module |



---


### 模块: svc-mysql/svc_mysql/vendor/__init__.py




#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| default_app_config | svc_mysql.vendor.apps.VendorConfig | `default_app_config = 'svc_mysql.vendor.apps.VendorConfig'` | module |



---


### 模块: svc-mysql/svc_mysql/vendor/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| VendorConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: svc-mysql/svc_mysql/vendor/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IntEnum | enum.IntEnum | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| CREATE_USER_FMT | create user `{db_user}`@`{auth_ip}` identified by '{db_password}'; | `CREATE_USER_FMT = "create user `{db_user}`@`{auth_ip}` identified by '{db_password}';"` | module |
| GRANT_SQL_FMT | grant {privileges} on `{db_name}`.* to `{db_user}`@`{auth_ip}`; | `GRANT_SQL_FMT = 'grant {privileges} on `{db_name}`.* to `{db_user}`@`{auth_ip}`;'` | module |
| REVOKE_SQL_FMT | revoke {privileges} on `{db_name}`.* from `{db_user}`@{auth_ip}; | `REVOKE_SQL_FMT = 'revoke {privileges} on `{db_name}`.* from `{db_user}`@{auth_ip};'` | module |
| DEFAULT_PRIVILEGES | select,insert,update,delete,create,alter,drop,execute,index,references,create temporary tables,create view,show view,create routine,alter routine | `DEFAULT_PRIVILEGES = 'select,insert,update,delete,create,alter,drop,execute,index,references,create temporary tables,create view,show view,create routine,alter routine'` | module |
| READ_ONLY_PRIVILEGES | select,show view | `READ_ONLY_PRIVILEGES = 'select,show view'` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MySQLAuthTypeEnum | enum.IntEnum | 无 | GRANT, REVOKE | 无 | 不适用 |

---


### 模块: svc-mysql/svc_mysql/vendor/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MySQLException | Exception | 无 | 无 | 无 | MySQL 相关异常 |
| MySQLExecuteFailed | MySQLException | 无 | 无 | 无 | 执行 SQL 失败 |

---


### 模块: svc-mysql/svc_mysql/vendor/helper.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| BaseDatabaseWrapper | django.db.backends.base.base.BaseDatabaseWrapper | 不适用 | module |
| DEFAULT_DB_ALIAS | django.db.utils.DEFAULT_DB_ALIAS | 不适用 | module |
| ConnectionHandler | django.db.utils.ConnectionHandler | 不适用 | module |
| DatabaseError | django.db.utils.DatabaseError | 不适用 | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| get_node_ip | paas_service.utils.get_node_ip | 不适用 | module |
| constants | svc_mysql.vendor.constants | DEFAULT_PRIVILEGES, format, CREATE_USER_FMT, GRANT_SQL_FMT | module |
| MySQLException | svc_mysql.vendor.exceptions.MySQLException | 不适用 | module |
| MySQLExecuteFailed | svc_mysql.vendor.exceptions.MySQLExecuteFailed | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MySQLEngine | 无 | __post_init__, handler, db, execute, wrap_database_errors | 无 | dataclass | 不适用 |
| MySQLAuthorizer | MySQLEngine | __post_init__, grant_db | 无 | dataclass | 不适用 |

---


### 模块: svc-mysql/svc_mysql/vendor/management/__init__.py







---


### 模块: svc-mysql/svc_mysql/vendor/management/commands/__init__.py







---


### 模块: svc-mysql/svc_mysql/vendor/management/commands/reset_ins_config.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| ServiceInstance | paas_service.models.ServiceInstance | all, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: svc-mysql/svc_mysql/vendor/migrations/__init__.py







---


### 模块: svc-mysql/svc_mysql/vendor/provider.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| BaseProvider | paas_service.base_vendor.BaseProvider | 不适用 | module |
| InstanceData | paas_service.base_vendor.InstanceData | 不适用 | module |
| WRItemList | paas_service.utils.WRItemList | from_json | module |
| generate_password | paas_service.utils.generate_password | 不适用 | module |
| MySQLAuthorizer | svc_mysql.vendor.helper.MySQLAuthorizer | 不适用 | module |
| MySQLEngine | svc_mysql.vendor.helper.MySQLEngine | 不适用 | module |
| TLSCertificateManager | svc_mysql.vendor.tls.TLSCertificateManager | 不适用 | module |
| gen_addons_cert_mount_path | svc_mysql.vendor.utils.gen_addons_cert_mount_path | 不适用 | module |
| gen_unique_id | svc_mysql.vendor.utils.gen_unique_id | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Server | 无 | 无 | 无 | dataclass | 不适用 |
| Provider | paas_service.base_vendor.BaseProvider | __post_init__, pick_server, create, delete, patch | 无 | dataclass | 使用 mysql client 管理用户和数据库 |

---


### 模块: svc-mysql/svc_mysql/vendor/render.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | ENABLE_ADMIN | module |
| HttpRequest | django.http.request.HttpRequest | 不适用 | module |
| sign_instance_token | paas_service.auth.sign_instance_token | 不适用 | module |
| InstanceDataRepresenter | paas_service.models.InstanceDataRepresenter | 不适用 | module |
| ServiceInstance | paas_service.models.ServiceInstance | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| render_instance_data | `def render_instance_data(request: HttpRequest, instance: ServiceInstance) -> Dict:` | 无 | Customized render function for rendering service i... |


---


### 模块: svc-mysql/svc_mysql/vendor/serializers.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ServiceInstance | paas_service.models.ServiceInstance | 不适用 | module |
| serializers | rest_framework.serializers | ModelSerializer | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ServiceInstanceForManageSLZ | rest_framework.serializers.ModelSerializer | to_representation | 无 | 无 | 不适用 |

---


### 模块: svc-mysql/svc_mysql/vendor/templatetags/__init__.py







---


### 模块: svc-mysql/svc_mysql/vendor/templatetags/render_app_url.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| template | django.template | Library | module |
| settings | django.conf.settings | format, DEVELOPER_CENTER_APP_URL_TEMPLATE | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| register | 不适用 | `register = template.Library()` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| render_app_url | `@register.filter(name='to_v3_url'):` | register.filter | 不适用 |


---


### 模块: svc-mysql/svc_mysql/vendor/tls.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| base64 | b64decode | module |
| os | remove, chmod | module |
| tempfile | NamedTemporaryFile | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TLSCertificateManager | 无 | __init__, __enter__, __exit__, get_django_ssl_options, _write_to_tmp_file | 无 | 无 | TLS 证书管理器 |

---


### 模块: svc-mysql/svc_mysql/vendor/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | django.urls.re_path | 不适用 | module |
| views | svc_mysql.vendor.views | as_view, HealthzView, MySQLIndexView | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('healthz/', views.HealthzView.as_view()), re_path('web/instances/(?P<instance_id>[^/]*)/$', views.MySQLIndexView.as_view(), name='instance.index')]` | module |



---


### 模块: svc-mysql/svc_mysql/vendor/utils.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| transaction | django.db.transaction | atomic | module |
| ResourceId | paas_service.models.ResourceId | create, objects | module |
| Base36Handler | paas_service.utils.Base36Handler | encode | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| gen_unique_id | `def gen_unique_id(name: str, namespace: str = 'default', max_length: int = 16, divide_char: str = '-'):` | 无 | Generate an unique id via given name |
| gen_addons_cert_mount_path | `def gen_addons_cert_mount_path(provider_name: str, cert_name: str) -> str:` | 无 | 生成蓝鲸应用挂载增强服务 ssl 证书的路径
    重要：不要随意调整该路径，可能会导致证书无法正... |


---


### 模块: svc-mysql/svc_mysql/vendor/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| method_decorator | django.utils.decorators.method_decorator | 不适用 | module |
| TemplateView | django.views.generic.TemplateView | 不适用 | module |
| instance_authorized_require | paas_service.auth.decorator.instance_authorized_require | 不适用 | module |
| ServiceInstance | paas_service.models.ServiceInstance | 不适用 | module |
| get_paas_app_info | paas_service.utils.get_paas_app_info | 不适用 | module |
| Response | rest_framework.response.Response | 不适用 | module |
| APIView | rest_framework.views.APIView | 不适用 | module |
| ServiceInstanceForManageSLZ | svc_mysql.vendor.serializers.ServiceInstanceForManageSLZ | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| HealthzView | rest_framework.views.APIView | get | 无 | 无 | 不适用 |
| MySQLIndexView | django.views.generic.TemplateView | get, get_context_data | template_name, name | 无 | 不适用 |

---


### 模块: svc-mysql/svc_mysql/wsgi.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | setdefault, environ | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PrometheusExposeHandler | blue_krill.monitoring.prometheus.django_utils.PrometheusExposeHandler | 不适用 | module |
| get_wsgi_application | django.core.wsgi.get_wsgi_application | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| application | 不适用 | `application = PrometheusExposeHandler(get_wsgi_application())` | module |



---


### 模块: svc-otel/manage.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | setdefault, environ | module |
| sys | argv | module |
| django | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| execute_from_command_line | django.core.management.execute_from_command_line | 不适用 | module |





---


### 模块: svc-otel/svc_otel/__init__.py







---


### 模块: svc-otel/svc_otel/bkmonitorv3/__init__.py







---


### 模块: svc-otel/svc_otel/bkmonitorv3/backend/__init__.py







---


### 模块: svc-otel/svc_otel/bkmonitorv3/backend/apigw.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| APIGatewayClient | bkapi_client_core.apigateway.APIGatewayClient | 不适用 | module |
| Operation | bkapi_client_core.apigateway.Operation | 不适用 | module |
| OperationGroup | bkapi_client_core.apigateway.OperationGroup | 不适用 | module |
| bind_property | bkapi_client_core.apigateway.bind_property | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Group | bkapi_client_core.apigateway.OperationGroup | 无 | create_apm_application, apm_create_application, metadata_create_space, metadata_update_space, metadata_get_space_detail, search_alert | 无 | 不适用 |
| Client | bkapi_client_core.apigateway.APIGatewayClient | 无 | _api_name, api | 无 | bkmonitorv3
    监控平台v3上云版本
     |

---


### 模块: svc-otel/svc_otel/bkmonitorv3/backend/esb.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ESBClient | bkapi_client_core.esb.ESBClient | 不适用 | module |
| Operation | bkapi_client_core.esb.Operation | 不适用 | module |
| OperationGroup | bkapi_client_core.esb.OperationGroup | 不适用 | module |
| bind_property | bkapi_client_core.esb.bind_property | 不适用 | module |
| generic_type_partial | bkapi_client_core.esb.generic_type_partial | 不适用 | module |
| get_client_by_username | bkapi_client_core.esb.django_helper.get_client_by_username | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| get_client_by_username | 不适用 | `get_client_by_username = _partial(Client, _get_client_by_username)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MonitorV3Group | bkapi_client_core.esb.OperationGroup | 无 | apm_create_application, metadata_create_space, metadata_get_space_detail | 无 | 不适用 |
| Client | bkapi_client_core.esb.ESBClient | 无 | monitor_v3 | 无 | ESB Components |

---


### 模块: svc-otel/svc_otel/bkmonitorv3/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| APIGatewayResponseError | bkapi_client_core.exceptions.APIGatewayResponseError | 不适用 | module |
| settings | django.conf.settings | ENABLE_BK_MONITOR_APIGW, BK_API_URL_TMPL, APIGW_ENVIRONMENT, BK_APP_CODE, BK_APP_SECRET | module |
| Client | svc_otel.bkmonitorv3.backend.apigw.Client | 不适用 | module |
| get_client_by_username | svc_otel.bkmonitorv3.backend.esb.get_client_by_username | 不适用 | module |
| BkMonitorApiError | svc_otel.bkmonitorv3.exceptions.BkMonitorApiError | 不适用 | module |
| BkMonitorGatewayServiceError | svc_otel.bkmonitorv3.exceptions.BkMonitorGatewayServiceError | 不适用 | module |
| Protocol | typing_extensions.Protocol | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| make_bk_monitor_client | `def make_bk_monitor_client() -> BkMonitorClient:` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkMonitorBackend | typing_extensions.Protocol | create_apm_application | 无 | 无 | Describes protocols of calling API service |
| BkMonitorClient | 无 | __init__, create_apm | 无 | 无 | API provided by BK Monitor

    :param backend: cl... |

---


### 模块: svc-otel/svc_otel/bkmonitorv3/exceptions.py






#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BkMonitorGatewayServiceError | Exception | __init__ | 无 | 无 | This error indicates that there's something wrong ... |
| BkMonitorApiError | BkMonitorGatewayServiceError | 无 | 无 | 无 | When calling the bk_monitor api, bk_monitor return... |
| BkMonitorSpaceDoesNotExist | BkMonitorApiError | 无 | 无 | 无 | The namespace applied to BK Monitoring does not ex... |

---


### 模块: svc-otel/svc_otel/middleware.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | 不适用 | module |
| get_token | django.middleware.csrf.get_token | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| context_processors | `def context_processors(request) -> Dict:` | 无 | 不适用 |


---


### 模块: svc-otel/svc_otel/settings/__init__.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | INFO, ERROR | module |
| os | getenv | module |
| environ | Env | module |
| pymysql | install_as_MySQLdb | module |
| sentry_sdk | init | module |
| urllib3 | ssl_, util | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Path | pathlib.Path | 不适用 | module |
| DatabaseFeatures | django.db.backends.mysql.features.DatabaseFeatures | 不适用 | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| DjangoIntegration | sentry_sdk.integrations.django.DjangoIntegration | 不适用 | module |
| LoggingIntegration | sentry_sdk.integrations.logging.LoggingIntegration | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| env | 不适用 | `env = environ.Env(DEBUG=(bool, False))` | module |
| DEFAULT_AUTO_FIELD | django.db.models.AutoField | `DEFAULT_AUTO_FIELD = 'django.db.models.AutoField'` | module |
| BASE_DIR | 不适用 | `BASE_DIR = Path(__file__).parents[2].absolute()` | module |
| SECRET_KEY | 不适用 | `SECRET_KEY = env.str('SECRET_KEY', default='c6h~oz+!%4b%br^8ekz&s7zt$(athjh_')` | module |
| DEBUG | 不适用 | `DEBUG = env('DEBUG')` | module |
| ALLOWED_HOSTS | ['*'] | `ALLOWED_HOSTS = ['*']` | module |
| INSTALLED_APPS | ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'paas_service', 'svc_otel.vendor'] | `INSTALLED_APPS = ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'paas_service', 'svc_otel.vendor']` | module |
| MIDDLEWARE | ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'paas_service.auth.middleware.VerifiedClientMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware'] | `MIDDLEWARE = ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'paas_service.auth.middleware.VerifiedClientMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware']` | module |
| STATIC_URL | /static/ | `STATIC_URL = '/static/'` | module |
| STATIC_ROOT | staticfiles | `STATIC_ROOT = 'staticfiles'` | module |
| STATICFILES_DIRS | [''] | `STATICFILES_DIRS = [str(BASE_DIR / 'static')]` | module |
| ROOT_URLCONF | svc_otel.urls | `ROOT_URLCONF = 'svc_otel.urls'` | module |
| TEMPLATES | [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [''], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages', 'svc_otel.middleware.context_processors']}}] | `TEMPLATES = [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [str(BASE_DIR / 'svc_otel/templates')], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages', 'svc_otel.middleware.context_processors']}}]` | module |
| WSGI_APPLICATION | svc_otel.wsgi.application | `WSGI_APPLICATION = 'svc_otel.wsgi.application'` | module |
| DATABASES | 不适用 | `DATABASES = {'default': {'ENGINE': 'django.db.backends.mysql', 'NAME': env('MYSQL_NAME', default='svc_bkrepo'), 'USER': env('MYSQL_USER', default='svc_bkrepo'), 'PASSWORD': env('MYSQL_PASSWORD', default='blueking'), 'HOST': env('MYSQL_HOST', default='127.0.0.1'), 'PORT': env('MYSQL_PORT', default='3306'), 'OPTIONS': env.json('MYSQL_OPTIONS', default={})}}` | module, if |
| AUTH_PASSWORD_VALIDATORS | [{'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'}, {'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator'}, {'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator'}, {'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator'}] | `AUTH_PASSWORD_VALIDATORS = [{'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'}, {'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator'}, {'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator'}, {'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator'}]` | module |
| LANGUAGE_CODE | zh-cn | `LANGUAGE_CODE = 'zh-cn'` | module |
| LANGUAGES | [('zh-cn', '简体中文'), ('en', 'English')] | `LANGUAGES = [('zh-cn', '简体中文'), ('en', 'English')]` | module |
| TIME_ZONE | UTC | `TIME_ZONE = 'UTC'` | module |
| USE_I18N | True | `USE_I18N = True` | module |
| USE_L10N | True | `USE_L10N = True` | module |
| USE_TZ | True | `USE_TZ = True` | module |
| LOGGING_LEVEL | DEBUG | `LOGGING_LEVEL = 'DEBUG'` | module |
| LOGGING | 不适用 | `LOGGING = get_logging_config(LOGGING_LEVEL)` | module |
| BKKRILL_ENCRYPT_SECRET_KEY | 不适用 | `BKKRILL_ENCRYPT_SECRET_KEY = env.str('BKKRILL_ENCRYPT_SECRET_KEY', default='').encode() or 'b1ZPY1FDTXV1WGpGb0x2cmJKdlVLQW5OdnJBb2FscVY='.encode()` | module |
| METRIC_CLIENT_TOKEN_DICT | 不适用 | `METRIC_CLIENT_TOKEN_DICT = {'monitoring': env.str('METRIC_CLIENT_TOKEN', 'f7b58586-5e20-f189-7cf5-a020524cda3e')}` | module |
| SENTRY_DSN | 不适用 | `SENTRY_DSN = env.str('SENTRY_DSN', default='')` | module |
| sentry_logging | 不适用 | `sentry_logging = LoggingIntegration(level=logging.INFO, event_level=logging.ERROR)` | module |
| PAAS_SERVICE_PROVIDER_CLS | svc_otel.vendor.provider.Provider | `PAAS_SERVICE_PROVIDER_CLS = 'svc_otel.vendor.provider.Provider'` | module |
| PAAS_SERVICE_SVC_INSTANCE_RENDER_FUNC | svc_otel.vendor.render.render_instance_data | `PAAS_SERVICE_SVC_INSTANCE_RENDER_FUNC = 'svc_otel.vendor.render.render_instance_data'` | module |
| PAAS_SERVICE_JWT_CLIENTS | 不适用 | `PAAS_SERVICE_JWT_CLIENTS = [{'iss': 'paas-v3', 'key': env.str('PAAS_SERVICE_JWT_CLIENTS_KEY'), 'algorithm': 'HS256'}]` | module |
| ENABLE_ADMIN | True | `ENABLE_ADMIN = True` | module |
| DEVELOPER_CENTER_APP_URL_TEMPLATE | http://your-paas3.0-host/developer-center/apps/{app_code}/{module}/summary | `DEVELOPER_CENTER_APP_URL_TEMPLATE = 'http://your-paas3.0-host/developer-center/apps/{app_code}/{module}/summary'` | module |
| BK_OTEL_GRPC_URL | 不适用 | `BK_OTEL_GRPC_URL = env('BK_OTEL_GRPC_URL', default='')` | module |
| BK_APP_CODE | 不适用 | `BK_APP_CODE = env('BK_APP_CODE', default='bk_paas3')` | module |
| BK_APP_SECRET | 不适用 | `BK_APP_SECRET = env('BK_APP_SECRET', default='')` | module |
| BK_COMPONENT_API_URL | 不适用 | `BK_COMPONENT_API_URL = env('BK_COMPONENT_API_URL', default='')` | module |
| BK_API_URL_TMPL | 不适用 | `BK_API_URL_TMPL = env('BK_API_URL_TMPL', default='')` | module |
| APIGW_ENVIRONMENT | 不适用 | `APIGW_ENVIRONMENT = env('APIGW_ENVIRONMENT', default='prod')` | module |
| ENABLE_BK_MONITOR_APIGW | 不适用 | `ENABLE_BK_MONITOR_APIGW = env.bool('ENABLE_BK_MONITOR_APIGW', default=True)` | module |
| BK_MONITORV3_URL | 不适用 | `BK_MONITORV3_URL = env('BK_MONITORV3_URL', default='')` | module |
| BK_CRYPTO_TYPE | 不适用 | `BK_CRYPTO_TYPE = env.str('BK_CRYPTO_TYPE', default='CLASSIC')` | module |
| ENCRYPT_CIPHER_TYPE | 不适用 | `ENCRYPT_CIPHER_TYPE = 'SM4CTR' if BK_CRYPTO_TYPE == 'SHANGMI' else 'FernetCipher'` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| get_logging_config | `def get_logging_config(log_level='DEBUG'):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PatchFeatures | 无 | minimum_database_version | 无 | 无 | Patched Django Features |

---


### 模块: svc-otel/svc_otel/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| admin | django.contrib.admin | urls, site | module |
| include | django.urls.include | 不适用 | module |
| re_path | django.urls.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^', include('paas_service.urls')), re_path('^', include('svc_otel.vendor.urls')), re_path('^admin/', admin.site.urls)]` | module |



---


### 模块: svc-otel/svc_otel/vendor/__init__.py




#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| default_app_config | svc_otel.vendor.apps.VendorConfig | `default_app_config = 'svc_otel.vendor.apps.VendorConfig'` | module |



---


### 模块: svc-otel/svc_otel/vendor/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| VendorConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: svc-otel/svc_otel/vendor/management/__init__.py







---


### 模块: svc-otel/svc_otel/vendor/management/commands/__init__.py







---


### 模块: svc-otel/svc_otel/vendor/migrations/0001_initial.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, CharField, BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: svc-otel/svc_otel/vendor/migrations/__init__.py







---


### 模块: svc-otel/svc_otel/vendor/models.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| models | django.db.models | CharField, BooleanField | module |
| AuditedModel | paas_service.models.AuditedModel | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ApmData | paas_service.models.AuditedModel | __str__ | bk_app_code, env, app_name, data_token, is_delete | 无 | 不适用 |

---


### 模块: svc-otel/svc_otel/vendor/monitoring.py







---


### 模块: svc-otel/svc_otel/vendor/provider.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | BK_OTEL_GRPC_URL | module |
| BaseProvider | paas_service.base_vendor.BaseProvider | 不适用 | module |
| InstanceData | paas_service.base_vendor.InstanceData | 不适用 | module |
| gen_unique_id | paas_service.utils.gen_unique_id | 不适用 | module |
| make_bk_monitor_client | svc_otel.bkmonitorv3.client.make_bk_monitor_client | 不适用 | module |
| ApmData | svc_otel.vendor.models.ApmData | filter, objects, get, update_or_create | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Provider | paas_service.base_vendor.BaseProvider | _apply_data_token, create, delete, patch | SERVICE_NAME | dataclass | 不适用 |

---


### 模块: svc-otel/svc_otel/vendor/render.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | ENABLE_ADMIN, BK_MONITORV3_URL | module |
| HttpRequest | django.http.request.HttpRequest | 不适用 | module |
| InstanceDataRepresenter | paas_service.models.InstanceDataRepresenter | 不适用 | module |
| ServiceInstance | paas_service.models.ServiceInstance | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| render_instance_data | `def render_instance_data(request: HttpRequest, instance: ServiceInstance) -> Dict:` | 无 | Customized render function for rendering service i... |


---


### 模块: svc-otel/svc_otel/vendor/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | django.urls.re_path | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('healthz/', views.HealthzView.as_view())]` | module |



---


### 模块: svc-otel/svc_otel/vendor/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Response | rest_framework.response.Response | 不适用 | module |
| APIView | rest_framework.views.APIView | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| HealthzView | rest_framework.views.APIView | get | 无 | 无 | 不适用 |

---


### 模块: svc-otel/svc_otel/wsgi.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | setdefault, environ | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| PrometheusExposeHandler | blue_krill.monitoring.prometheus.django_utils.PrometheusExposeHandler | 不适用 | module |
| get_wsgi_application | django.core.wsgi.get_wsgi_application | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| application | 不适用 | `application = PrometheusExposeHandler(get_wsgi_application())` | module |



---


### 模块: svc-rabbitmq/manage.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | setdefault, environ | module |
| sys | argv | module |
| django | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| execute_from_command_line | django.core.management.execute_from_command_line | 不适用 | module |





---


### 模块: svc-rabbitmq/monitor/__init__.py







---


### 模块: svc-rabbitmq/monitor/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| MonitorConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: svc-rabbitmq/monitor/migrations/__init__.py







---


### 模块: svc-rabbitmq/monitor/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | django.urls.re_path | 不适用 | module |
| AuthenticatedMetricsView | svc-rabbitmq.monitor.views.AuthenticatedMetricsView | as_view | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('metrics', AuthenticatedMetricsView.as_view())]` | module |



---


### 模块: svc-rabbitmq/monitor/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| prometheus_client | REGISTRY, generate_latest, CONTENT_TYPE_LATEST | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | get, METRIC_CLIENT_TOKEN_DICT | module |
| HttpResponse | django.http.HttpResponse | 不适用 | module |
| HttpResponseForbidden | django.http.HttpResponseForbidden | 不适用 | module |
| View | django.views.View | 不适用 | module |
| CollectorRegistry | prometheus_client.registry.CollectorRegistry | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AuthenticatedMetricsView | django.views.View | registry, get | key_username, key_password | 无 | 不适用 |
| CollectorMetricsView | AuthenticatedMetricsView | get_collectors, registry | 无 | 无 | 不适用 |

---


### 模块: svc-rabbitmq/svc_rabbitmq/__init__.py







---


### 模块: svc-rabbitmq/svc_rabbitmq/log.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | NullHandler, NOTSET | module |





#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| NullHandler | logging.NullHandler | __init__ | 无 | 无 | 不适用 |

---


### 模块: svc-rabbitmq/svc_rabbitmq/middleware.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | 不适用 | module |
| get_token | django.middleware.csrf.get_token | 不适用 | module |
| Service | paas_service.models.Service | first, objects | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| context_processors | `def context_processors(request) -> Dict:` | 无 | 不适用 |


---


### 模块: svc-rabbitmq/svc_rabbitmq/settings/__init__.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | dirname, path, abspath, join | module |
| environ | Env | module |
| pymysql | install_as_MySQLdb | module |
| urllib3 | ssl_, util | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| DatabaseFeatures | django.db.backends.mysql.features.DatabaseFeatures | 不适用 | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| env | 不适用 | `env = environ.Env()` | module |
| BASE_DIR | 不适用 | `BASE_DIR = os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))` | module |
| SECRET_KEY | 不适用 | `SECRET_KEY = env.str('SECRET_KEY', 't4kiak&jPl0!bvHNEyxmJSsO4DEpqH9Z')` | module |
| DEBUG | 不适用 | `DEBUG = env.bool('DEBUG', False)` | module |
| ALLOWED_HOSTS | 不适用 | `ALLOWED_HOSTS = env.list('ALLOWED_HOSTS', default=['*'])` | module |
| INSTALLED_APPS | ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'paas_service', 'vendor', 'tasks', 'monitor'] | `INSTALLED_APPS = ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'paas_service', 'vendor', 'tasks', 'monitor']` | module |
| SENTRY_DSN | 不适用 | `SENTRY_DSN = env.str('SENTRY_DSN', '')` | module |
| RAVEN_CONFIG | 不适用 | `RAVEN_CONFIG = {'dsn': SENTRY_DSN}` | module, if |
| MIDDLEWARE | ['whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'paas_service.auth.middleware.VerifiedClientMiddleware'] | `MIDDLEWARE = ['whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'paas_service.auth.middleware.VerifiedClientMiddleware']` | module |
| STATICFILES_STORAGE | whitenoise.storage.CompressedManifestStaticFilesStorage | `STATICFILES_STORAGE = 'whitenoise.storage.CompressedManifestStaticFilesStorage'` | module |
| ROOT_URLCONF | svc_rabbitmq.urls | `ROOT_URLCONF = 'svc_rabbitmq.urls'` | module |
| TEMPLATES | 不适用 | `TEMPLATES = [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [os.path.join(BASE_DIR, 'templates')], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages', 'svc_rabbitmq.middleware.context_processors']}}]` | module |
| WSGI_APPLICATION | svc_rabbitmq.wsgi.application | `WSGI_APPLICATION = 'svc_rabbitmq.wsgi.application'` | module |
| DATABASES | 不适用 | `DATABASES = {'default': {'ENGINE': 'django.db.backends.mysql', 'NAME': env.str('MYSQL_NAME', 'service_rabbitmq'), 'USER': env.str('MYSQL_USER', 'service_rabbitmq'), 'PASSWORD': env.str('MYSQL_PASSWORD'), 'HOST': env.str('MYSQL_HOST', 'localhost'), 'PORT': env.str('MYSQL_PORT', '3306'), 'OPTIONS': env.json('MYSQL_OPTIONS', {})}}` | module |
| AUTH_PASSWORD_VALIDATORS | [{'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'}, {'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator'}, {'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator'}, {'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator'}] | `AUTH_PASSWORD_VALIDATORS = [{'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'}, {'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator'}, {'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator'}, {'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator'}]` | module |
| DEFAULT_AUTO_FIELD | django.db.models.AutoField | `DEFAULT_AUTO_FIELD = 'django.db.models.AutoField'` | module |
| LANGUAGE_CODE | zh-cn | `LANGUAGE_CODE = 'zh-cn'` | module |
| LANGUAGES | [('zh-cn', '简体中文'), ('en', 'English')] | `LANGUAGES = [('zh-cn', '简体中文'), ('en', 'English')]` | module |
| TIME_ZONE | 不适用 | `TIME_ZONE = env.str('TIME_ZONE', 'UTC')` | module |
| USE_I18N | True | `USE_I18N = True` | module |
| USE_L10N | True | `USE_L10N = True` | module |
| USE_TZ | True | `USE_TZ = True` | module |
| LOG_LEVEL | 不适用 | `LOG_LEVEL = env.str('LOG_LEVEL', 'INFO')` | module |
| LOG_FILE | 不适用 | `LOG_FILE = env.str('LOG_FILE', '')` | module |
| LOG_NULL_HANDLER | svc_rabbitmq.log.NullHandler | `LOG_NULL_HANDLER = 'svc_rabbitmq.log.NullHandler'` | module |
| LOGGING | 不适用 | `LOGGING = {'version': 1, 'disable_existing_loggers': True, 'formatters': {'verbose': {'format': '%(name)s %(levelname)s [%(asctime)s] %(name)s(ln:%(lineno)d): %(message)s', 'datefmt': '%Y-%m-%d %H:%M:%S'}, 'simple': {'format': '%(levelname)s %(message)s'}}, 'handlers': {'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler', 'formatter': 'verbose'}, 'sentry': {'level': 'ERROR', 'class': 'raven.handlers.logging.SentryHandler' if SENTRY_DSN else LOG_NULL_HANDLER, 'dsn': SENTRY_DSN}, 'file': {'level': 'DEBUG', 'class': 'logging.handlers.WatchedFileHandler' if LOG_FILE else LOG_NULL_HANDLER, 'formatter': 'verbose', 'filename': LOG_FILE}}, 'loggers': {logger_name: {'handlers': ['console', 'file', 'sentry'], 'level': LOG_LEVEL, 'propagate': False} for logger_name in ['root', 'django.request', 'django.server', 'svc_rabbitmq', 'vendor', 'paas_service', 'tasks']}}` | module |
| STATIC_URL | /static/ | `STATIC_URL = '/static/'` | module |
| STATIC_ROOT | 不适用 | `STATIC_ROOT = os.path.join(BASE_DIR, 'static_files')` | module |
| STATICFILES_DIRS | [] | `STATICFILES_DIRS = []` | module |
| BKKRILL_ENCRYPT_SECRET_KEY | 不适用 | `BKKRILL_ENCRYPT_SECRET_KEY = env.bytes('BKKRILL_ENCRYPT_SECRET_KEY')` | module |
| METRIC_CLIENT_TOKEN_DICT | 不适用 | `METRIC_CLIENT_TOKEN_DICT = {env.str('MONITOR_METRIC_CLIENT', 'monitoring'): env.str('MONITOR_METRIC_TOKEN', '')}` | module |
| PAAS_SERVICE_PROVIDER_CLS | vendor.provider.Provider | `PAAS_SERVICE_PROVIDER_CLS = 'vendor.provider.Provider'` | module |
| PAAS_SERVICE_JWT_CLIENTS | 不适用 | `PAAS_SERVICE_JWT_CLIENTS = [{'iss': env.str('PAAS_SERVICE_JWT_CLIENTS_ISS', 'paas-v3'), 'key': env.str('PAAS_SERVICE_JWT_CLIENTS_KEY'), 'algorithm': env.str('PAAS_SERVICE_JWT_CLIENTS_ALGORITHM', 'HS256')}]` | module |
| PAAS_SERVICE_SVC_INSTANCE_RENDER_FUNC | vendor.render.render_instance_data | `PAAS_SERVICE_SVC_INSTANCE_RENDER_FUNC = 'vendor.render.render_instance_data'` | module |
| INSTANCE_APP_NAME_MAX_LENGTH | 不适用 | `INSTANCE_APP_NAME_MAX_LENGTH = env.int('INSTANCE_APP_NAME_MAX_LENGTH', 16)` | module |
| INSTANCE_BILL_ID_MAX_LENGTH | 不适用 | `INSTANCE_BILL_ID_MAX_LENGTH = env.int('INSTANCE_BILL_ID_MAX_LENGTH', 4)` | module |
| INSTANCE_DEFAULT_PREFIX | 不适用 | `INSTANCE_DEFAULT_PREFIX = env.str('INSTANCE_DEFAULT_PREFIX', 'app')` | module |
| RABBITMQ_DEFAULT_USER_TAGS | 不适用 | `RABBITMQ_DEFAULT_USER_TAGS = env.str('RABBITMQ_DEFAULT_USER_TAGS', 'management')` | module |
| RABBITMQ_DEFAULT_USER_CONFIGURE_PERMISSIONS | 不适用 | `RABBITMQ_DEFAULT_USER_CONFIGURE_PERMISSIONS = env.str('RABBITMQ_DEFAULT_USER_CONFIGURE_PERMISSIONS', '.*')` | module |
| RABBITMQ_DEFAULT_USER_WRITE_PERMISSIONS | 不适用 | `RABBITMQ_DEFAULT_USER_WRITE_PERMISSIONS = env.str('RABBITMQ_DEFAULT_USER_WRITE_PERMISSIONS', '.*')` | module |
| RABBITMQ_DEFAULT_USER_READ_PERMISSIONS | 不适用 | `RABBITMQ_DEFAULT_USER_READ_PERMISSIONS = env.str('RABBITMQ_DEFAULT_USER_READ_PERMISSIONS', '.*')` | module |
| RABBITMQ_DEFAULT_DEAD_LETTER_ROUTING_KEY | 不适用 | `RABBITMQ_DEFAULT_DEAD_LETTER_ROUTING_KEY = env.str('RABBITMQ_DEFAULT_DEAD_LETTER_ROUTING_KEY', '')` | module |
| RABBITMQ_DEFAULT_DEAD_LETTER_EXCHANGE | 不适用 | `RABBITMQ_DEFAULT_DEAD_LETTER_EXCHANGE = env.str('RABBITMQ_DEFAULT_DEAD_LETTER_EXCHANGE', 'dlx.exchange')` | module |
| RABBITMQ_DEFAULT_DEAD_LETTER_EXCHANGE_TYPE | 不适用 | `RABBITMQ_DEFAULT_DEAD_LETTER_EXCHANGE_TYPE = env.str('RABBITMQ_DEFAULT_DEAD_LETTER_EXCHANGE_TYPE', 'direct')` | module |
| RABBITMQ_DEFAULT_DEAD_LETTER_EXCHANGE_DURABLE | 不适用 | `RABBITMQ_DEFAULT_DEAD_LETTER_EXCHANGE_DURABLE = env.bool('RABBITMQ_DEFAULT_DEAD_LETTER_EXCHANGE_DURABLE', False)` | module |
| RABBITMQ_DEFAULT_DEAD_LETTER_QUEUE | 不适用 | `RABBITMQ_DEFAULT_DEAD_LETTER_QUEUE = env.str('RABBITMQ_DEFAULT_DEAD_LETTER_QUEUE', 'dlx.queue')` | module |
| RABBITMQ_DEFAULT_DEAD_LETTER_QUEUE_DURABLE | 不适用 | `RABBITMQ_DEFAULT_DEAD_LETTER_QUEUE_DURABLE = env.bool('RABBITMQ_DEFAULT_DEAD_LETTER_QUEUE_DURABLE', False)` | module |
| RABBITMQ_MANAGEMENT_API_CACHE_SECONDS | 不适用 | `RABBITMQ_MANAGEMENT_API_CACHE_SECONDS = env.int('RABBITMQ_MANAGEMENT_API_CACHE_SECONDS', 3)` | module |
| MODEL_TAG_CLUSTER | cluster | `MODEL_TAG_CLUSTER = 'cluster'` | module |
| CACHES | 不适用 | `CACHES = {'database': {'BACKEND': 'django.core.cache.backends.db.DatabaseCache', 'LOCATION': env.str('CACHE_TABLE_NAME', 'cache_table')}}` | module |
| CRON_TASK_CHECK_INTERVAL | 不适用 | `CRON_TASK_CHECK_INTERVAL = env.int('CRON_TASK_CHECK_INTERVAL', 10)` | module |
| RABBITMQ_CLUSTER_ALIVE_CHECK_INTERVAL | 不适用 | `RABBITMQ_CLUSTER_ALIVE_CHECK_INTERVAL = env.int('RABBITMQ_CLUSTER_ALIVE_CHECK_INTERVAL', 5)` | module |
| RABBITMQ_INSTANCE_ALIVE_CHECK_INTERVAL | 不适用 | `RABBITMQ_INSTANCE_ALIVE_CHECK_INTERVAL = env.int('RABBITMQ_INSTANCE_ALIVE_CHECK_INTERVAL', 5)` | module |
| RABBITMQ_INSTANCE_VHOST_CHECK_INTERVAL | 不适用 | `RABBITMQ_INSTANCE_VHOST_CHECK_INTERVAL = env.int('RABBITMQ_INSTANCE_VHOST_CHECK_INTERVAL', 5)` | module |
| RABBITMQ_INSTANCE_QUEUE_CHECK_INTERVAL | 不适用 | `RABBITMQ_INSTANCE_QUEUE_CHECK_INTERVAL = env.int('RABBITMQ_INSTANCE_QUEUE_CHECK_INTERVAL', 5)` | module |
| RABBITMQ_CONNECTION_RECOVERY_INTERVAL | 不适用 | `RABBITMQ_CONNECTION_RECOVERY_INTERVAL = env.int('RABBITMQ_CONNECTION_RECOVERY_INTERVAL', 60)` | module |
| RABBITMQ_CONNECTION_RECOVERY_MAX_IDLE | 不适用 | `RABBITMQ_CONNECTION_RECOVERY_MAX_IDLE = env.int('RABBITMQ_CONNECTION_RECOVERY_MAX_IDLE', 7200)` | module |
| MAX_TASK_WORKERS | 不适用 | `MAX_TASK_WORKERS = env.int('MAX_TASK_WORKERS', 2)` | module |
| MAX_TASK_PRE_WORKER | 不适用 | `MAX_TASK_PRE_WORKER = env.int('MAX_TASK_PRE_WORKER', 100)` | module |
| SESSION_ENGINE | django.contrib.sessions.backends.cache | `SESSION_ENGINE = 'django.contrib.sessions.backends.cache'` | module |
| SESSION_CACHE_ALIAS | default | `SESSION_CACHE_ALIAS = 'default'` | module |
| SCHEDULER_ENABLED | 不适用 | `SCHEDULER_ENABLED = env.bool('SCHEDULER_ENABLED', False)` | module |
| FEATURE_FLAG_ENABLE_ADMIN | 不适用 | `FEATURE_FLAG_ENABLE_ADMIN = env.bool('FEATURE_FLAG_ENABLE_ADMIN', False)` | module |
| REMOTE_LOGO_URL | 不适用 | `REMOTE_LOGO_URL = env.str('REMOTE_LOGO_URL', '')` | module |
| INSTANCE_DEFAULT_CLUSTER_ID | 不适用 | `INSTANCE_DEFAULT_CLUSTER_ID = env.int('INSTANCE_DEFAULT_CLUSTER_ID', 0)` | module |
| BK_CRYPTO_TYPE | 不适用 | `BK_CRYPTO_TYPE = env.str('BK_CRYPTO_TYPE', default='CLASSIC')` | module |
| ENCRYPT_CIPHER_TYPE | 不适用 | `ENCRYPT_CIPHER_TYPE = 'SM4CTR' if BK_CRYPTO_TYPE == 'SHANGMI' else 'FernetCipher'` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PatchFeatures | 无 | minimum_database_version | 无 | 无 | Patched Django Features |

---


### 模块: svc-rabbitmq/svc_rabbitmq/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| admin | django.contrib.admin | urls, site | module |
| include | django.urls.include | 不适用 | module |
| re_path | django.urls.re_path | 不适用 | module |
| RedirectView | django.views.generic.base.RedirectView | as_view | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('^', include('paas_service.urls')), re_path('^', include('vendor.urls')), re_path('^', include('monitor.urls')), re_path('^admin/', admin.site.urls), re_path('^accounts/login/', RedirectView.as_view(url='/'))]` | module |



---


### 模块: svc-rabbitmq/svc_rabbitmq/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| functools | wraps | module |
| logging | getLogger | module |



#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| allow_fail | `def allow_fail(func):` | 无 | 不适用 |


---


### 模块: svc-rabbitmq/svc_rabbitmq/wsgi.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| os | setdefault, environ | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | STATIC_ROOT | module |
| get_wsgi_application | django.core.wsgi.get_wsgi_application | 不适用 | module |
| WhiteNoise | whitenoise.WhiteNoise | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| application | 不适用 | `application = WhiteNoise(get_wsgi_application(), root=settings.STATIC_ROOT)` | module |



---


### 模块: svc-rabbitmq/tasks/__init__.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| default_app_config | tasks.AppConfig | `default_app_config = 'tasks.AppConfig'` | module |
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| AppConfig | BaseAppConfig | call_ready, ready | name | 无 | 不适用 |

---


### 模块: svc-rabbitmq/tasks/admin.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| admin | django.contrib.admin | ModelAdmin, register, site | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CronTaskAdmin | django.contrib.admin.ModelAdmin | 无 | search_fields, list_filter, list_display, readonly_fields, fieldsets | 无 | 不适用 |

---


### 模块: svc-rabbitmq/tasks/helper.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| timedelta | datetime.timedelta | 不适用 | module |
| Scheduler | svc-rabbitmq.tasks.scheduler.Scheduler | get | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| CallableWrapper | 无 | __init__, _wrap, __call__ | 无 | 无 | 不适用 |
| Task | 无 | __init__, apply, __call__, apply_async, cron_task, get_cron_result, register_cron_task | 无 | 无 | 不适用 |

---


### 模块: svc-rabbitmq/tasks/management/__init__.py







---


### 模块: svc-rabbitmq/tasks/management/commands/__init__.py







---


### 模块: svc-rabbitmq/tasks/management/commands/worker.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| random | randint | module |
| signal | signal, SIGTERM, SIGINT | module |
| socket | gethostname | module |
| typing | TYPE_CHECKING | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Event | multiprocessing.Event | 不适用 | module |
| Process | multiprocessing.Process | 不适用 | module |
| sleep | time.sleep | 不适用 | module |
| settings | django.conf.settings | TASK_LEADER_KEY, TASK_LEADER_TTL | module |
| cache | django.core.cache.cache | get_or_set | module |
| gettext_lazy | django.utils.translation.gettext_lazy | 不适用 | module |
| get_broker | django_q.brokers.get_broker | 不适用 | module |
| Cluster | django_q.cluster.Cluster | 不适用 | module |
| Sentinel | django_q.cluster.Sentinel | 不适用 | module |
| scheduler | django_q.cluster.scheduler | 不适用 | module |
| Conf | django_q.conf.Conf | TIMEOUT, SCHEDULER, GUARD_CYCLE | module |
| qcluster | django_q.management.commands.qcluster | Command | module |
| Stat | django_q.status.Stat | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Sentinel | QSentinel | __init__, schedule, guard | 无 | 无 | 不适用 |
| Cluster | QCluster | __init__, pid, start | 无 | 无 | 不适用 |
| Command | django_q.management.commands.qcluster.Command | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: svc-rabbitmq/tasks/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| django.utils.timezone | now, timezone, utils | module |
| picklefield.fields | PickledObjectField, fields | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| unicode_literals | __future__.unicode_literals | 不适用 | module |
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, CharField, DurationField, DateTimeField, BooleanField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: svc-rabbitmq/tasks/migrations/__init__.py







---


### 模块: svc-rabbitmq/tasks/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| traceback | format_exception | module |
| typing | TYPE_CHECKING | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| caches | django.core.cache.caches | 不适用 | module |
| models | django.db.models | Manager, Model, CharField, DurationField, DateTimeField, BooleanField | module |
| atomic | django.db.transaction.atomic | 不适用 | module |
| Signal | django.dispatch.Signal | 不适用 | module |
| now | django.utils.timezone.now | 不适用 | module |
| PickledObjectField | picklefield.fields.PickledObjectField | 不适用 | module |
| timedelta | datetime.timedelta | 不适用 | module |
| LocMemCache | django.core.cache.backends.locmem.LocMemCache | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| sig_task_pre_call | 不适用 | `sig_task_pre_call = Signal()` | module |
| sig_task_post_call | 不适用 | `sig_task_post_call = Signal()` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TaskExecuteException | Exception | 无 | 无 | 无 | Task failed when executing |
| CronTaskContext | 无 | __init__, __enter__, __exit__, call | 无 | 无 | 不适用 |
| CronTaskResult | 无 | __call__ | 无 | dataclass | 不适用 |
| CachedCronTaskResult | 无 | cache, flush, __post_init__, __call__ | cache_name | dataclass | 不适用 |
| CronTaskManager | django.db.models.Manager | prepared_tasks | 无 | 无 | 不适用 |
| CronTask | django.db.models.Model | __str__, result, apply, forward, do | name, interval, next_run_time, last_run_time, enabled, callable, get_result, pre_call, post_call, objects | 无 | 不适用 |

---


### 模块: svc-rabbitmq/tasks/monitor.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| time | time | module |
| typing | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| REGISTRY | prometheus_client.REGISTRY | register | module |
| Gauge | prometheus_client.Gauge | 不适用 | module |
| GaugeMetricFamily | prometheus_client.core.GaugeMetricFamily | 不适用 | module |
| Scheduler | svc-rabbitmq.tasks.scheduler.Scheduler | get | module |
| CheckClusterAlive | svc-rabbitmq.tasks.tasks.CheckClusterAlive | as_label_keys, Result | module |
| CheckInstanceAlive | svc-rabbitmq.tasks.tasks.CheckInstanceAlive | as_label_keys, Result | module |
| CheckInstanceDLXQueueStatus | svc-rabbitmq.tasks.tasks.CheckInstanceDLXQueueStatus | as_label_keys, Result | module |
| CheckInstanceLimits | svc-rabbitmq.tasks.tasks.CheckInstanceLimits | as_label_keys, Result | module |
| CheckInstanceQueueStatus | svc-rabbitmq.tasks.tasks.CheckInstanceQueueStatus | as_label_keys, Result | module |
| CronCheckInstanceConnectionStatus | svc-rabbitmq.tasks.tasks.CronCheckInstanceConnectionStatus | as_label_keys, ConnectionStatus | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| worker_stats_collector | `@FunctionCollector:` | FunctionCollector | 不适用 |
| rabbit_cluster_collector | `@FunctionCollector:` | FunctionCollector | 不适用 |
| instance_alive_collector | `@FunctionCollector:` | FunctionCollector | 不适用 |
| instance_queue_collector | `@FunctionCollector:` | FunctionCollector | 不适用 |
| instance_dlx_queue_collector | `@FunctionCollector:` | FunctionCollector | 不适用 |
| instance_connections_collector | `@FunctionCollector:` | FunctionCollector | 不适用 |
| instance_limit_policy_collector | `@FunctionCollector:` | FunctionCollector | 不适用 |
| ready | `def ready():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| FunctionCollector | 无 | __init__, collect | collect_duration_metric | 无 | 不适用 |

---


### 模块: svc-rabbitmq/tasks/scheduler.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| atexit | register | module |
| logging | getLogger | module |
| os | kill, getpid | module |
| signal | SIGTERM | module |
| threading | Thread, Condition | module |
| typing | TYPE_CHECKING | module |
| queue | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| pool | multiprocessing.pool | Pool, ThreadPool | module |
| uuid4 | uuid.uuid4 | 不适用 | module |
| db | django.db | 不适用 | module |
| settings | django.conf.settings | MAX_TASK_WORKERS, MAX_TASK_PRE_WORKER, CRON_TASK_CHECK_INTERVAL, SCHEDULER_ENABLED | module |
| CronTask | svc-rabbitmq.tasks.models.CronTask | prepared_tasks, objects | module |
| sig_task_post_call | svc-rabbitmq.tasks.models.sig_task_post_call | connect | module |
| sig_task_pre_call | svc-rabbitmq.tasks.models.sig_task_pre_call | connect | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| process_pool_creator | `def process_pool_creator() -> 'pool.Pool':` | 无 | 不适用 |
| threading_pool_creator | `def threading_pool_creator() -> 'pool.ThreadPool':` | 无 | 不适用 |
| start_threading_scheduler | `def start_threading_scheduler():` | 无 | 不适用 |
| ready | `def ready():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| SchedulerMonitor | threading.Thread | __init__, _wait_done_signal, stats, handle_cron_tasks, run | 无 | 无 | 不适用 |
| Scheduler | 无 | stop_global, get, init, __init__, pid, stats, call, start, stop | _global | 无 | 不适用 |

---


### 模块: svc-rabbitmq/tasks/tasks.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| typing | 不适用 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Counter | collections.Counter | 不适用 | module |
| defaultdict | collections.defaultdict | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| UUID | uuid.UUID | 不适用 | module |
| settings | django.conf.settings | RABBITMQ_DEFAULT_DEAD_LETTER_QUEUE, RABBITMQ_CONNECTION_RECOVERY_INTERVAL, RABBITMQ_CLUSTER_ALIVE_CHECK_INTERVAL, RABBITMQ_INSTANCE_ALIVE_CHECK_INTERVAL, RABBITMQ_INSTANCE_QUEUE_CHECK_INTERVAL, RABBITMQ_INSTANCE_VHOST_CHECK_INTERVAL | module |
| call_command | django.core.management.call_command | 不适用 | module |
| ServiceInstance | paas_service.models.ServiceInstance | filter, objects | module |
| Client | vendor.client.Client | from_cluster | module |
| ResourceNotFound | vendor.exceptions.ResourceNotFound | 不适用 | module |
| InstanceHelper | vendor.helper.InstanceHelper | 不适用 | module |
| Cluster | vendor.models.Cluster | filter, objects, get | module |
| Task | svc-rabbitmq.tasks.helper.Task | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| inf | 不适用 | `inf = float('+inf')` | module |
| cluster_alive | 不适用 | `cluster_alive = CronCheckClustersAlive('clusters_alive', interval=settings.RABBITMQ_CLUSTER_ALIVE_CHECK_INTERVAL)` | module |
| instance_alive | 不适用 | `instance_alive = CronCheckInstancesAlive('instances_alive', interval=settings.RABBITMQ_INSTANCE_ALIVE_CHECK_INTERVAL)` | module |
| instance_queue | 不适用 | `instance_queue = CronCheckInstancesQueueStatus('instances_queue', interval=settings.RABBITMQ_INSTANCE_QUEUE_CHECK_INTERVAL)` | module |
| instance_dlx_queue | 不适用 | `instance_dlx_queue = CronCheckInstanceDLXQueueStatus('instances_dlx_queue', interval=settings.RABBITMQ_INSTANCE_QUEUE_CHECK_INTERVAL)` | module |
| connection_status | 不适用 | `connection_status = CronCheckInstanceConnectionStatus('connection_status', interval=settings.RABBITMQ_INSTANCE_VHOST_CHECK_INTERVAL)` | module |
| instance_limits | 不适用 | `instance_limits = CronCheckInstanceLimits('instance_limits', interval=settings.RABBITMQ_INSTANCE_VHOST_CHECK_INTERVAL)` | module |
| connection_recovery | 不适用 | `connection_recovery = ConnectionRecovery('connection_recovery', interval=settings.RABBITMQ_CONNECTION_RECOVERY_INTERVAL)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| ready | `def ready():` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ClusterResult | 无 | as_label_values, as_label_keys | 无 | dataclass | 不适用 |
| InstanceResult | ClusterResult | as_label_values, as_label_keys | 无 | dataclass | 不适用 |
| CronCheckClustersAlive | svc-rabbitmq.tasks.helper.Task | apply | 无 | 无 | 不适用 |
| CheckClusterAlive | svc-rabbitmq.tasks.helper.Task | apply | 无 | 无 | 不适用 |
| CheckInstanceAlive | svc-rabbitmq.tasks.helper.Task | apply | 无 | 无 | 不适用 |
| CheckInstancesCronTask | svc-rabbitmq.tasks.helper.Task | apply | 无 | 无 | 不适用 |
| CronCheckInstancesAlive | CheckInstancesCronTask | 无 | task, name | 无 | 不适用 |
| Healthz | svc-rabbitmq.tasks.helper.Task | apply | 无 | 无 | 不适用 |
| CheckQueueStatusMixin | 无 | get_queue_attribute, get_queue_status | 无 | 无 | 不适用 |
| CheckInstanceQueueStatus | CheckQueueStatusMixin, svc-rabbitmq.tasks.helper.Task | apply | 无 | 无 | 不适用 |
| CronCheckInstancesQueueStatus | CheckInstancesCronTask | 无 | task, name | 无 | 不适用 |
| CheckInstanceDLXQueueStatus | CheckQueueStatusMixin, svc-rabbitmq.tasks.helper.Task | apply | 无 | 无 | 不适用 |
| CronCheckInstanceDLXQueueStatus | CheckInstancesCronTask | 无 | task, name | 无 | 不适用 |
| CheckClusterConnectionStatus | svc-rabbitmq.tasks.helper.Task | apply | 无 | 无 | 不适用 |
| CronCheckInstanceConnectionStatus | svc-rabbitmq.tasks.helper.Task | apply | 无 | 无 | 不适用 |
| CheckInstanceLimits | svc-rabbitmq.tasks.helper.Task | apply | 无 | 无 | 不适用 |
| CronCheckInstanceLimits | CheckInstancesCronTask | 无 | task, name | 无 | 不适用 |
| ConnectionRecovery | svc-rabbitmq.tasks.helper.Task | apply | duration, delay | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/__init__.py







---


### 模块: svc-rabbitmq/vendor/admin.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| admin | django.contrib.admin | ModelAdmin, register, site | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TagAdmin | django.contrib.admin.ModelAdmin | 无 | search_fields, list_filter, list_display | 无 | 不适用 |
| ClusterAdmin | django.contrib.admin.ModelAdmin | 无 | search_fields, list_filter, list_display | 无 | 不适用 |
| UserPolicyAdmin | django.contrib.admin.ModelAdmin | 无 | search_fields, list_filter, list_display | 无 | 不适用 |
| LimitPolicyAdmin | django.contrib.admin.ModelAdmin | 无 | search_fields, list_filter, list_display | 无 | 不适用 |
| InstanceBillAdmin | django.contrib.admin.ModelAdmin | 无 | search_fields, list_filter, list_display | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/apps.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| AppConfig | django.apps.AppConfig | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| VendorConfig | django.apps.AppConfig | 无 | name | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/client.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |
| typing | TYPE_CHECKING | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| partial | functools.partial | 不适用 | module |
| urlencode | urllib.parse.urlencode | 不适用 | module |
| urljoin | urllib.parse.urljoin | 不适用 | module |
| quote | amqpstorm.compatibility.quote | 不适用 | module |
| ManagementHandler | amqpstorm.management.base.ManagementHandler | 不适用 | module |
| Basic | amqpstorm.management.basic.Basic | 不适用 | module |
| Channel | amqpstorm.management.channel.Channel | 不适用 | module |
| Connection | amqpstorm.management.connection.Connection | 不适用 | module |
| Exchange | amqpstorm.management.exchange.Exchange | 不适用 | module |
| HealthChecks | amqpstorm.management.healthchecks.HealthChecks | 不适用 | module |
| HTTPClient | amqpstorm.management.http_client.HTTPClient | 不适用 | module |
| Queue | amqpstorm.management.queue.Queue | 不适用 | module |
| User | amqpstorm.management.user.User | 不适用 | module |
| VirtualHost | amqpstorm.management.virtual_host.VirtualHost | 不适用 | module |
| settings | django.conf.settings | RABBITMQ_MANAGEMENT_API_CACHE_SECONDS | module |
| caches | django.core.cache.caches | 不适用 | module |
| HTTPError | requests.HTTPError | 不适用 | module |
| APIError | svc-rabbitmq.vendor.exceptions.APIError | 不适用 | module |
| ResourceNotFound | svc-rabbitmq.vendor.exceptions.ResourceNotFound | 不适用 | module |
| BaseCache | django.core.cache.BaseCache | 不适用 | module |
| Cluster | svc-rabbitmq.vendor.clusters.Cluster | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| quote | 不适用 | `quote = partial(amqp_quote, safe='')` | module |
| Client | 不适用 | `Client = ManagementClient` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| API | amqpstorm.management.http_client.HTTPClient | request, _request, _check_for_errors, partial | Exceptions | 无 | 不适用 |
| DefinitionsHandler | amqpstorm.management.base.ManagementHandler | _get_path, export, load | path | 无 | 不适用 |
| PolicyHandler | amqpstorm.management.base.ManagementHandler | list, get, delete | 无 | 无 | 不适用 |
| UserPolicyHandler | PolicyHandler | create | path | 无 | 不适用 |
| LimitPolicyHandler | PolicyHandler | create | path | 无 | 不适用 |
| ConnectionHandler | amqpstorm.management.connection.Connection | channels | API_CONNECTION_CHANNELS | 无 | 不适用 |
| FederationHandler | amqpstorm.management.base.ManagementHandler | set_upstream, delete_upstream, list_upstream, list_status | 无 | 无 | 不适用 |
| ManagementClient | 无 | from_cluster, __init__, alive, top | 无 | 无 | details https://rawcdn.githack.com/rabbitmq/rabbit... |
| CacheClient | ManagementClient | __init__, disable_cache | 无 | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/clusters.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |
| Field | pydantic.Field | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Cluster | pydantic.BaseModel | 无 | 无 | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/command.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| hashlib | sha1 | module |
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| TYPE_CHECKING | typing.TYPE_CHECKING | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| Set | typing.Set | 不适用 | module |
| cast | typing.cast | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| ServiceInstance | paas_service.models.ServiceInstance | filter, objects | module |
| Client | vendor.client.Client | from_cluster | module |
| InstanceHelper | vendor.helper.InstanceHelper | 不适用 | module |
| Cluster | vendor.models.Cluster | get, objects | module |
| CommandParser | django.core.management.base.CommandParser | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ClusterBaseCommand | django.core.management.base.BaseCommand | add_arguments, get_cluster, get_client_by_cluster | 无 | 无 | 不适用 |
| InstancesBasedCommand | ClusterBaseCommand | add_arguments, get_vhost_set, get_instances | 无 | 无 | 不适用 |
| FederationBaseCommand | ClusterBaseCommand | add_arguments, get_available_vhosts, get_username, get_password | 无 | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/constants.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| IntEnum | enum.IntEnum | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| LinkType | enum.IntEnum | 无 | empty, proxy, inherit | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/definitions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| datetime | datetime.datetime | utcnow | module |
| timedelta | datetime.timedelta | 不适用 | module |
| Optional | typing.Optional | 不适用 | module |
| BaseFancyModel | svc-rabbitmq.vendor.utils.BaseFancyModel | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| StatsRate | svc-rabbitmq.vendor.utils.BaseFancyModel | 无 | 无 | 无 | 不适用 |
| ChannelMessageStats | svc-rabbitmq.vendor.utils.BaseFancyModel | 无 | 无 | 无 | 不适用 |
| ChannelConnectionDetails | svc-rabbitmq.vendor.utils.BaseFancyModel | 无 | 无 | 无 | 不适用 |
| Channel | svc-rabbitmq.vendor.utils.BaseFancyModel | is_consumer, is_idle | 无 | 无 | 不适用 |
| Connection | svc-rabbitmq.vendor.utils.BaseFancyModel | is_busy, __str__ | 无 | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/exceptions.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| ApiError | amqpstorm.management.exception.ApiError | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| APIError | amqpstorm.management.exception.ApiError | __init__, code, message, reason | 无 | 无 | 不适用 |
| ResourceNotFound | APIError | 无 | 无 | 无 | code 404 |

---


### 模块: svc-rabbitmq/vendor/helper.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads | module |
| logging | getLogger | module |
| random | randint | module |
| typing | TYPE_CHECKING | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| namedtuple | collections.namedtuple | 不适用 | module |
| dataclass | dataclasses.dataclass | 不适用 | module |
| attrgetter | operator.attrgetter | 不适用 | module |
| settings | django.conf.settings | INSTANCE_DEFAULT_CLUSTER_ID | module |
| ObjectDoesNotExist | django.core.exceptions.ObjectDoesNotExist | 不适用 | module |
| InstanceData | paas_service.base_vendor.InstanceData | 不适用 | module |
| ServiceInstance | paas_service.models.ServiceInstance | get, objects | module |
| Client | svc-rabbitmq.vendor.client.Client | from_cluster | module |
| Cluster | svc-rabbitmq.vendor.models.Cluster | get, objects | module |
| InstanceBill | svc-rabbitmq.vendor.models.InstanceBill | get_or_create, objects | module |
| Tag | svc-rabbitmq.vendor.models.Tag | 不适用 | module |
| QuerySet | django.db.models.QuerySet | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |
| Assessment | 不适用 | `Assessment = namedtuple('Assessment', ['score', 'cluster'])` | module |
| DefaultClusterStrategy | 不适用 | `DefaultClusterStrategy = ClusterRandomStrategy` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| TaggedModelHelper | 无 | as_dict, clear, set, get, delete | 无 | dataclass | 不适用 |
| ClusterSelectStrategy | 无 | assess | 无 | dataclass | 不适用 |
| ClusterRandomStrategy | ClusterSelectStrategy | assess | 无 | 无 | 随机选择 |
| ClusterSelector | 无 | assess, one | 无 | dataclass | 不适用 |
| InstanceHelper | 无 | create_instance_data, get_instance, from_db, get_credentials, get_cluster_id, get_cluster, get_bill, get_client | 无 | dataclass | 不适用 |
| Version | 无 | __init__, __eq__, __ne__, __ge__, __gt__, __le__, __lt__ | 无 | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/management/__init__.py







---


### 模块: svc-rabbitmq/vendor/management/commands/__init__.py







---


### 模块: svc-rabbitmq/vendor/management/commands/check_federation.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| defaultdict | collections.defaultdict | 不适用 | module |
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Client | vendor.client.Client | from_cluster | module |
| FederationBaseCommand | vendor.command.FederationBaseCommand | 不适用 | module |
| Cluster | vendor.models.Cluster | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | vendor.command.FederationBaseCommand | _get_connections, get_upstream_connections, get_cluster_connections, check_federation_upstream_status, check_vhost, handle | 无 | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/management/commands/consumer.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| time | sleep | module |
| typing | TYPE_CHECKING | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Connection | amqpstorm.Connection | 不适用 | module |
| Message | amqpstorm.Message | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| now | django.utils.timezone.now | 不适用 | module |
| CommandParser | django.core.management.base.CommandParser | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, consume, handle | help | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/management/commands/create_federation.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| settings | django.conf.settings | RABBITMQ_DEFAULT_USER_TAGS | module |
| Client | vendor.client.Client | from_cluster | module |
| FederationBaseCommand | vendor.command.FederationBaseCommand | 不适用 | module |
| ResourceNotFound | vendor.exceptions.ResourceNotFound | 不适用 | module |
| Cluster | vendor.models.Cluster | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| VhostNotAliveError | Exception | 无 | 无 | 无 | 不适用 |
| VhostNotFound | Exception | 无 | 无 | 无 | 不适用 |
| Command | vendor.command.FederationBaseCommand | add_arguments, test_vhost, set_upstream, handle | 无 | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/management/commands/delete_federation.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Client | vendor.client.Client | from_cluster | module |
| FederationBaseCommand | vendor.command.FederationBaseCommand | 不适用 | module |
| Cluster | vendor.models.Cluster | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | vendor.command.FederationBaseCommand | delete_upstream, handle | 无 | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/management/commands/evict_connections.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| time | time, sleep | module |
| typing | TYPE_CHECKING, List | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| timedelta | datetime.timedelta | 不适用 | module |
| Client | vendor.client.Client | 不适用 | module |
| InstancesBasedCommand | vendor.command.InstancesBasedCommand | 不适用 | module |
| Channel | vendor.definitions.Channel | 不适用 | module |
| Connection | vendor.definitions.Connection | 不适用 | module |
| CommandParser | django.core.management.base.CommandParser | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | vendor.command.InstancesBasedCommand | add_arguments, has_consumer_channel, consumer_channels_idle, handle_consumer, close_connection, run_once, run, handle | help | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/management/commands/producer.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| time | sleep | module |
| typing | TYPE_CHECKING | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Connection | amqpstorm.Connection | 不适用 | module |
| Message | amqpstorm.Message | create | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| Context | django.template.Context | 不适用 | module |
| Template | django.template.Template | 不适用 | module |
| now | django.utils.timezone.now | 不适用 | module |
| Channel | amqpstorm.Channel | 不适用 | module |
| CommandParser | django.core.management.base.CommandParser | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| PublishFailed | Exception | 无 | 无 | 无 | 不适用 |
| Command | django.core.management.base.BaseCommand | add_arguments, publish, handle | help | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/management/commands/recovery_connections.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |
| time | sleep | module |
| typing | TYPE_CHECKING | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| datetime | datetime.datetime | fromtimestamp, utcnow | module |
| timedelta | datetime.timedelta | 不适用 | module |
| itemgetter | operator.itemgetter | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| parse_datetime | django.utils.dateparse.parse_datetime | 不适用 | module |
| ServiceInstance | paas_service.models.ServiceInstance | filter, objects | module |
| Client | vendor.client.Client | from_cluster | module |
| InstanceHelper | vendor.helper.InstanceHelper | 不适用 | module |
| Cluster | vendor.models.Cluster | get, objects | module |
| ArgumentParser | django.core.management.base.ArgumentParser | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| output | `def output(msg):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, get_vhost_set, get_client_by_cluster, connection_match_filters, convert_connected_at, is_new_connection, connection_is_idle, channel_is_activated, connection_channels_are_idle, handle | 无 | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/management/commands/recovery_instances.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Set | typing.Set | 不适用 | module |
| CommandParser | django.core.management.base.CommandParser | 不适用 | module |
| get_provider_cls | paas_service.base_vendor.get_provider_cls | 不适用 | module |
| ServiceInstance | paas_service.models.ServiceInstance | all, objects | module |
| InstancesBasedCommand | vendor.command.InstancesBasedCommand | 不适用 | module |
| InstanceHelper | vendor.helper.InstanceHelper | 不适用 | module |
| Cluster | vendor.models.Cluster | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | vendor.command.InstancesBasedCommand | add_arguments, recovery_instance, handle | help | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/management/commands/reset_ins_config.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Optional | typing.Optional | 不适用 | module |
| BaseCommand | django.core.management.base.BaseCommand | 不适用 | module |
| ServiceInstance | paas_service.models.ServiceInstance | all, objects | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | django.core.management.base.BaseCommand | add_arguments, handle | help | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/management/commands/sync_user_policies.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| time | sleep | module |
| typing | TYPE_CHECKING | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Any | typing.Any | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| Iterable | typing.Iterable | 不适用 | module |
| Text | typing.Text | 不适用 | module |
| InstancesBasedCommand | vendor.command.InstancesBasedCommand | 不适用 | module |
| UserPolicy | vendor.models.UserPolicy | all, objects | module |
| Client | vendor.client.Client | 不适用 | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Command | vendor.command.InstancesBasedCommand | add_arguments, get_policies, patch_policies, delete_policies, compare_policies, handle | help | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/migrations/0001_initial.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| blue_krill.models.fields | EncryptField, fields, models | module |
| django.db.models.deletion | CASCADE, deletion, models, db | module |
| jsonfield.fields | JSONField, fields | module |
| uuid | uuid4 | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| unicode_literals | __future__.unicode_literals | 不适用 | module |
| migrations | django.db.migrations | Migration, CreateModel | module |
| models | django.db.models | AutoField, DateTimeField, CharField, IntegerField, TextField, BooleanField, ForeignKey, UUIDField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | initial, dependencies, operations | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/migrations/0002_auto_20191023_0644.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| unicode_literals | __future__.unicode_literals | 不适用 | module |
| migrations | django.db.migrations | Migration, AddField | module |
| models | django.db.models | IntegerField | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/migrations/0003_migrate_cluster_to_plan_config.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | dumps | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| migrations | django.db.migrations | Migration, RunPython | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| migrate_cluster_to_plan | `def migrate_cluster_to_plan(apps, schema_editor):` | 无 | 
    将 RabbitMQ 集群配置从 Cluster Django Model 迁移到 Pla... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Migration | django.db.migrations.Migration | 无 | dependencies, operations | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/migrations/__init__.py







---


### 模块: svc-rabbitmq/vendor/models.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| json | loads, dumps | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| contextmanager | contextlib.contextmanager | 不适用 | module |
| deepcopy | copy.deepcopy | 不适用 | module |
| Enum | enum.Enum | 不适用 | module |
| Callable | typing.Callable | 不适用 | module |
| EncryptField | blue_krill.models.fields.EncryptField | 不适用 | module |
| models | django.db.models | CharField, IntegerField, TextField, BooleanField, ForeignKey, CASCADE | module |
| cached_property | django.utils.functional.cached_property | 不适用 | module |
| JSONField | jsonfield.JSONField | 不适用 | module |
| AuditedModel | paas_service.models.AuditedModel | 不适用 | module |
| UuidAuditedModel | paas_service.models.UuidAuditedModel | 不适用 | module |
| LinkType | svc-rabbitmq.vendor.constants.LinkType | value, empty, inherit | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| Tag | paas_service.models.AuditedModel | 无 | key, value | 无 | 不适用 |
| Cluster | paas_service.models.AuditedModel | __str__ | name, host, port, management_api, admin, password, version, enable, extra | 无 | 不适用 |
| ClusterTag | Tag | 无 | instance | 无 | 集群标签，用于分配和分组 |
| LinkableModel | paas_service.models.AuditedModel | resolve_extend, resolved | link_type, linked | 无 | 不适用 |
| PolicyTarget | enum.Enum | 无 | all, exchanges, queues | 无 | 不适用 |
| UserPolicy | LinkableModel | cluster, resolve_extend, dict, __str__ | name, enable, pattern, apply_to, priority, definitions, cluster_id | 无 | 集群下创建 vhost 默认策略，和具体 vhost 无关 |
| UserPolicyTag | Tag | 无 | instance | 无 | 表示绑定关系 |
| LimitType | enum.Enum | 无 | max_connections, max_queues | 无 | 不适用 |
| LimitPolicy | LinkableModel | cluster, __str__ | name, enable, limit, value, cluster_id | 无 | 集群下创建 vhost 限制机制，和具体 vhost 无关 |
| LimitPolicyTag | Tag | 无 | instance | 无 | 表示绑定关系 |
| InstanceBill | paas_service.models.UuidAuditedModel | get_context, set_context, log_context | name, action, context | 无 | 实例单据，保存申请上下文，方便重入 |

---


### 模块: svc-rabbitmq/vendor/monitoring.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| GaugeMetricFamily | prometheus_client.core.GaugeMetricFamily | 不适用 | module |
| Client | vendor.client.Client | from_cluster | module |




#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ClusterMinimalMetricsCollector | 无 | __init__, collect_overview_object_totals, collect_overview_queue_totals, collect_overview_message_stats, collect_overview, collect_node_mem, collect_node_disk, collect_node_fd, collect_node_socket, collect_node_proc, collect_node_basic, collect_nodes, collect | 无 | 无 | 收集集群最核心的指标 |

---


### 模块: svc-rabbitmq/vendor/provider.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| dataclass | dataclasses.dataclass | 不适用 | module |
| field | dataclasses.field | 不适用 | module |
| Dict | typing.Dict | 不适用 | module |
| List | typing.List | 不适用 | module |
| Type | typing.Type | 不适用 | module |
| settings | django.conf.settings | RABBITMQ_DEFAULT_DEAD_LETTER_EXCHANGE, RABBITMQ_DEFAULT_DEAD_LETTER_EXCHANGE_TYPE, RABBITMQ_DEFAULT_DEAD_LETTER_EXCHANGE_DURABLE, RABBITMQ_DEFAULT_DEAD_LETTER_QUEUE, RABBITMQ_DEFAULT_DEAD_LETTER_QUEUE_DURABLE, RABBITMQ_DEFAULT_DEAD_LETTER_ROUTING_KEY, RABBITMQ_DEFAULT_USER_CONFIGURE_PERMISSIONS, RABBITMQ_DEFAULT_USER_WRITE_PERMISSIONS, RABBITMQ_DEFAULT_USER_READ_PERMISSIONS, INSTANCE_DEFAULT_PREFIX, INSTANCE_APP_NAME_MAX_LENGTH, INSTANCE_BILL_ID_MAX_LENGTH, RABBITMQ_DEFAULT_USER_TAGS | module |
| ArgumentInvalidError | paas_service.base_vendor.ArgumentInvalidError | 不适用 | module |
| BaseProvider | paas_service.base_vendor.BaseProvider | 不适用 | module |
| InstanceData | paas_service.base_vendor.InstanceData | 不适用 | module |
| WRItemList | paas_service.utils.WRItemList | from_json | module |
| Client | svc-rabbitmq.vendor.client.Client | from_cluster | module |
| Cluster | svc-rabbitmq.vendor.clusters.Cluster | 不适用 | module |
| InstanceHelper | svc-rabbitmq.vendor.helper.InstanceHelper | 不适用 | module |
| Version | svc-rabbitmq.vendor.helper.Version | 不适用 | module |
| InstanceBill | svc-rabbitmq.vendor.models.InstanceBill | create, objects | module |
| LimitPolicy | svc-rabbitmq.vendor.models.LimitPolicy | filter, objects | module |
| UserPolicy | svc-rabbitmq.vendor.models.UserPolicy | filter, objects | module |
| gen_addons_cert_mount_path | svc-rabbitmq.vendor.utils.gen_addons_cert_mount_path | 不适用 | module |
| generate_password | svc-rabbitmq.vendor.utils.generate_password | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |


#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ProviderPlugin | 无 | on_create, on_delete, on_patch | 无 | dataclass | 不适用 |
| UserPolicyProviderPlugin | ProviderPlugin | on_create | 无 | 无 | 用户策略插件 |
| LimitPolicyProviderPlugin | ProviderPlugin | on_create | min_version | 无 | 限制策略插件 >= 3.7.0 |
| DeadLetterRoutingProviderPlugin | ProviderPlugin | on_create | min_version | 无 | 配置全局死信路由，生效需要策略配合 >= 2.8.0 |
| AdminAutoPermission | ProviderPlugin | on_create | 无 | 无 | 自动加上管理员权限 |
| Provider | paas_service.base_vendor.BaseProvider | make_instance_name, pick_cluster, create_instance, create, delete_instance, delete, patch | 无 | dataclass | 不适用 |

---


### 模块: svc-rabbitmq/vendor/render.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| Dict | typing.Dict | 不适用 | module |
| settings | django.conf.settings | FEATURE_FLAG_ENABLE_ADMIN | module |
| HttpRequest | django.http.request.HttpRequest | 不适用 | module |
| sign_instance_token | paas_service.auth.sign_instance_token | 不适用 | module |
| InstanceDataRepresenter | paas_service.models.InstanceDataRepresenter | 不适用 | module |
| ServiceInstance | paas_service.models.ServiceInstance | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| render_instance_data | `def render_instance_data(request: HttpRequest, instance: ServiceInstance) -> Dict:` | 无 | Customized render function for rendering Redis ins... |


---


### 模块: svc-rabbitmq/vendor/urls.py


#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| re_path | django.urls.re_path | 不适用 | module |
| views | vendor.views | healthz, as_view, ClusterMinimalMetricsView | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| urlpatterns | 不适用 | `urlpatterns = [re_path('healthz/', views.healthz), re_path('cluster/(?P<cluster_id>\\d+)/metrics', views.ClusterMinimalMetricsView.as_view())]` | module |



---


### 模块: svc-rabbitmq/vendor/utils.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| random | choice, shuffle | module |
| string | ascii_letters, digits | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| MutableMapping | collections.abc.MutableMapping | 不适用 | module |
| BaseModel | pydantic.BaseModel | 不适用 | module |



#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| generate_password | `def generate_password(length=10):` | 无 | 
    随机生成DB密码

    # 生成至少 大小写数字, 且包含至少一位数字的密码
     |
| gen_addons_cert_mount_path | `def gen_addons_cert_mount_path(provider_name: str, cert_name: str) -> str:` | 无 | 生成蓝鲸应用挂载增强服务 ssl 证书的路径
    重要：不要随意调整该路径，可能会导致证书无法正... |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| BaseFancyModel | pydantic.BaseModel, collections.abc.MutableMapping | __getitem__, __setitem__, __delitem__, __iter__, __len__ | 无 | 无 | 不适用 |

---


### 模块: svc-rabbitmq/vendor/views.py

#### 导入的模块

| 模块路径 | 访问的属性 | 代码块 |
|---------|-----------|-------|
| logging | getLogger | module |

#### 导入的符号

| 符号名 | 来自模块 | 访问的属性 | 代码块 |
|--------|---------|-----------|-------|
| JsonResponse | django.http.response.JsonResponse | 不适用 | module |
| get_object_or_404 | django.shortcuts.get_object_or_404 | 不适用 | module |
| CollectorMetricsView | monitor.views.CollectorMetricsView | 不适用 | module |
| Cluster | vendor.models.Cluster | 不适用 | module |
| ClusterMinimalMetricsCollector | svc-rabbitmq.vendor.monitoring.ClusterMinimalMetricsCollector | 不适用 | module |


#### 模块变量

| 变量名 | 值 | 语句 | 代码块 |
|--------|---|------|-------|
| logger | 不适用 | `logger = logging.getLogger(__name__)` | module |

#### 函数

| 函数名 | 签名 | 装饰器 | 文档字符串 |
|--------|------|--------|----------|
| healthz | `def healthz(request):` | 无 | 不适用 |

#### 类

| 类名 | 基类 | 方法 | 属性 | 装饰器 | 文档字符串 |
|------|------|------|------|--------|----------|
| ClusterMinimalMetricsView | monitor.views.CollectorMetricsView | get_collectors | 无 | 无 | 不适用 |

---

